(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function qo(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Af(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var n=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var a=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return r[i]}})}),n}var ry={exports:{}},xh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function t3(){if(bS)return xh;bS=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:o}}return xh.Fragment=e,xh.jsx=n,xh.jsxs=n,xh}var vS;function n3(){return vS||(vS=1,ry.exports=t3()),ry.exports}var oe=n3(),iy={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function r3(){if(_S)return It;_S=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),E=Symbol.iterator;function A(z){return z===null||typeof z!="object"?null:(z=E&&z[E]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function B(z,P,b){this.props=z,this.context=P,this.refs=O,this.updater=b||T}B.prototype.isReactComponent={},B.prototype.setState=function(z,P){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,P,"setState")},B.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function K(){}K.prototype=B.prototype;function $(z,P,b){this.props=z,this.context=P,this.refs=O,this.updater=b||T}var G=$.prototype=new K;G.constructor=$,N(G,B.prototype),G.isPureReactComponent=!0;var re=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function Q(z,P,b,_,L,Z){return b=Z.ref,{$$typeof:r,type:z,key:P,ref:b!==void 0?b:null,props:Z}}function q(z,P){return Q(z.type,P,void 0,void 0,void 0,z.props)}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function U(z){var P={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(b){return P[b]})}var W=/\/+/g;function F(z,P){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):P.toString(36)}function S(){}function w(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(S,S):(z.status="pending",z.then(function(P){z.status==="pending"&&(z.status="fulfilled",z.value=P)},function(P){z.status==="pending"&&(z.status="rejected",z.reason=P)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function I(z,P,b,_,L){var Z=typeof z;(Z==="undefined"||Z==="boolean")&&(z=null);var ne=!1;if(z===null)ne=!0;else switch(Z){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(z.$$typeof){case r:case e:ne=!0;break;case g:return ne=z._init,I(ne(z._payload),P,b,_,L)}}if(ne)return L=L(z),ne=_===""?"."+F(z,0):_,re(L)?(b="",ne!=null&&(b=ne.replace(W,"$&/")+"/"),I(L,P,b,"",function(De){return De})):L!=null&&(M(L)&&(L=q(L,b+(L.key==null||z&&z.key===L.key?"":(""+L.key).replace(W,"$&/")+"/")+ne)),P.push(L)),1;ne=0;var de=_===""?".":_+":";if(re(z))for(var Ie=0;Ie<z.length;Ie++)_=z[Ie],Z=de+F(_,Ie),ne+=I(_,P,b,Z,L);else if(Ie=A(z),typeof Ie=="function")for(z=Ie.call(z),Ie=0;!(_=z.next()).done;)_=_.value,Z=de+F(_,Ie++),ne+=I(_,P,b,Z,L);else if(Z==="object"){if(typeof z.then=="function")return I(w(z),P,b,_,L);throw P=String(z),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ne}function C(z,P,b){if(z==null)return z;var _=[],L=0;return I(z,_,"","",function(Z){return P.call(b,Z,L++)}),_}function j(z){if(z._status===-1){var P=z._result;P=P(),P.then(function(b){(z._status===0||z._status===-1)&&(z._status=1,z._result=b)},function(b){(z._status===0||z._status===-1)&&(z._status=2,z._result=b)}),z._status===-1&&(z._status=0,z._result=P)}if(z._status===1)return z._result.default;throw z._result}var Y=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function te(){}return It.Children={map:C,forEach:function(z,P,b){C(z,function(){P.apply(this,arguments)},b)},count:function(z){var P=0;return C(z,function(){P++}),P},toArray:function(z){return C(z,function(P){return P})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},It.Component=B,It.Fragment=n,It.Profiler=a,It.PureComponent=$,It.StrictMode=i,It.Suspense=d,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,It.__COMPILER_RUNTIME={__proto__:null,c:function(z){return ae.H.useMemoCache(z)}},It.cache=function(z){return function(){return z.apply(null,arguments)}},It.cloneElement=function(z,P,b){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var _=N({},z.props),L=z.key,Z=void 0;if(P!=null)for(ne in P.ref!==void 0&&(Z=void 0),P.key!==void 0&&(L=""+P.key),P)!le.call(P,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&P.ref===void 0||(_[ne]=P[ne]);var ne=arguments.length-2;if(ne===1)_.children=b;else if(1<ne){for(var de=Array(ne),Ie=0;Ie<ne;Ie++)de[Ie]=arguments[Ie+2];_.children=de}return Q(z.type,L,void 0,void 0,Z,_)},It.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},It.createElement=function(z,P,b){var _,L={},Z=null;if(P!=null)for(_ in P.key!==void 0&&(Z=""+P.key),P)le.call(P,_)&&_!=="key"&&_!=="__self"&&_!=="__source"&&(L[_]=P[_]);var ne=arguments.length-2;if(ne===1)L.children=b;else if(1<ne){for(var de=Array(ne),Ie=0;Ie<ne;Ie++)de[Ie]=arguments[Ie+2];L.children=de}if(z&&z.defaultProps)for(_ in ne=z.defaultProps,ne)L[_]===void 0&&(L[_]=ne[_]);return Q(z,Z,void 0,void 0,null,L)},It.createRef=function(){return{current:null}},It.forwardRef=function(z){return{$$typeof:h,render:z}},It.isValidElement=M,It.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:j}},It.memo=function(z,P){return{$$typeof:p,type:z,compare:P===void 0?null:P}},It.startTransition=function(z){var P=ae.T,b={};ae.T=b;try{var _=z(),L=ae.S;L!==null&&L(b,_),typeof _=="object"&&_!==null&&typeof _.then=="function"&&_.then(te,Y)}catch(Z){Y(Z)}finally{ae.T=P}},It.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},It.use=function(z){return ae.H.use(z)},It.useActionState=function(z,P,b){return ae.H.useActionState(z,P,b)},It.useCallback=function(z,P){return ae.H.useCallback(z,P)},It.useContext=function(z){return ae.H.useContext(z)},It.useDebugValue=function(){},It.useDeferredValue=function(z,P){return ae.H.useDeferredValue(z,P)},It.useEffect=function(z,P,b){var _=ae.H;if(typeof b=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _.useEffect(z,P)},It.useId=function(){return ae.H.useId()},It.useImperativeHandle=function(z,P,b){return ae.H.useImperativeHandle(z,P,b)},It.useInsertionEffect=function(z,P){return ae.H.useInsertionEffect(z,P)},It.useLayoutEffect=function(z,P){return ae.H.useLayoutEffect(z,P)},It.useMemo=function(z,P){return ae.H.useMemo(z,P)},It.useOptimistic=function(z,P){return ae.H.useOptimistic(z,P)},It.useReducer=function(z,P,b){return ae.H.useReducer(z,P,b)},It.useRef=function(z){return ae.H.useRef(z)},It.useState=function(z){return ae.H.useState(z)},It.useSyncExternalStore=function(z,P,b){return ae.H.useSyncExternalStore(z,P,b)},It.useTransition=function(){return ae.H.useTransition()},It.version="19.1.1",It}var ES;function Ob(){return ES||(ES=1,iy.exports=r3()),iy.exports}var ce=Ob();const Le=qo(ce);var sy={exports:{}},kh={},ay={exports:{}},oy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS;function i3(){return SS||(SS=1,(function(r){function e(C,j){var Y=C.length;C.push(j);e:for(;0<Y;){var te=Y-1>>>1,z=C[te];if(0<a(z,j))C[te]=j,C[Y]=z,Y=te;else break e}}function n(C){return C.length===0?null:C[0]}function i(C){if(C.length===0)return null;var j=C[0],Y=C.pop();if(Y!==j){C[0]=Y;e:for(var te=0,z=C.length,P=z>>>1;te<P;){var b=2*(te+1)-1,_=C[b],L=b+1,Z=C[L];if(0>a(_,Y))L<z&&0>a(Z,_)?(C[te]=Z,C[L]=Y,te=L):(C[te]=_,C[b]=Y,te=b);else if(L<z&&0>a(Z,Y))C[te]=Z,C[L]=Y,te=L;else break e}}return j}function a(C,j){var Y=C.sortIndex-j.sortIndex;return Y!==0?Y:C.id-j.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var d=[],p=[],g=1,E=null,A=3,T=!1,N=!1,O=!1,B=!1,K=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function re(C){for(var j=n(p);j!==null;){if(j.callback===null)i(p);else if(j.startTime<=C)i(p),j.sortIndex=j.expirationTime,e(d,j);else break;j=n(p)}}function ae(C){if(O=!1,re(C),!N)if(n(d)!==null)N=!0,le||(le=!0,F());else{var j=n(p);j!==null&&I(ae,j.startTime-C)}}var le=!1,Q=-1,q=5,M=-1;function U(){return B?!0:!(r.unstable_now()-M<q)}function W(){if(B=!1,le){var C=r.unstable_now();M=C;var j=!0;try{e:{N=!1,O&&(O=!1,$(Q),Q=-1),T=!0;var Y=A;try{t:{for(re(C),E=n(d);E!==null&&!(E.expirationTime>C&&U());){var te=E.callback;if(typeof te=="function"){E.callback=null,A=E.priorityLevel;var z=te(E.expirationTime<=C);if(C=r.unstable_now(),typeof z=="function"){E.callback=z,re(C),j=!0;break t}E===n(d)&&i(d),re(C)}else i(d);E=n(d)}if(E!==null)j=!0;else{var P=n(p);P!==null&&I(ae,P.startTime-C),j=!1}}break e}finally{E=null,A=Y,T=!1}j=void 0}}finally{j?F():le=!1}}}var F;if(typeof G=="function")F=function(){G(W)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,w=S.port2;S.port1.onmessage=W,F=function(){w.postMessage(null)}}else F=function(){K(W,0)};function I(C,j){Q=K(function(){C(r.unstable_now())},j)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(C){C.callback=null},r.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<C?Math.floor(1e3/C):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(C){switch(A){case 1:case 2:case 3:var j=3;break;default:j=A}var Y=A;A=j;try{return C()}finally{A=Y}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(C,j){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var Y=A;A=C;try{return j()}finally{A=Y}},r.unstable_scheduleCallback=function(C,j,Y){var te=r.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?te+Y:te):Y=te,C){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Y+z,C={id:g++,callback:j,priorityLevel:C,startTime:Y,expirationTime:z,sortIndex:-1},Y>te?(C.sortIndex=Y,e(p,C),n(d)===null&&C===n(p)&&(O?($(Q),Q=-1):O=!0,I(ae,Y-te))):(C.sortIndex=z,e(d,C),N||T||(N=!0,le||(le=!0,F()))),C},r.unstable_shouldYield=U,r.unstable_wrapCallback=function(C){var j=A;return function(){var Y=A;A=j;try{return C.apply(this,arguments)}finally{A=Y}}}})(oy)),oy}var AS;function s3(){return AS||(AS=1,ay.exports=i3()),ay.exports}var ly={exports:{}},qr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS;function a3(){if(TS)return qr;TS=1;var r=Ob();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,g){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:d,containerInfo:p,implementation:g}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return qr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qr.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,g)},qr.flushSync=function(d){var p=c.T,g=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=p,i.p=g,i.d.f()}},qr.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},qr.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},qr.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,E=h(g,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:T}):g==="script"&&i.d.X(d,{crossOrigin:E,integrity:A,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},qr.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},qr.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,E=h(g,p.crossOrigin);i.d.L(d,g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},qr.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=h(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},qr.requestFormReset=function(d){i.d.r(d)},qr.unstable_batchedUpdates=function(d,p){return d(p)},qr.useFormState=function(d,p,g){return c.H.useFormState(d,p,g)},qr.useFormStatus=function(){return c.H.useHostTransitionStatus()},qr.version="19.1.1",qr}var IS;function NI(){if(IS)return ly.exports;IS=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ly.exports=a3(),ly.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS;function o3(){if(RS)return kh;RS=1;var r=s3(),e=Ob(),n=NI();function i(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var l=s,u=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(u=l.return),s=l.return;while(s)}return l.tag===3?u:null}function c(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function d(s){var l=s.alternate;if(!l){if(l=o(s),l===null)throw Error(i(188));return l!==s?null:s}for(var u=s,f=l;;){var y=u.return;if(y===null)break;var v=y.alternate;if(v===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===u)return h(y),s;if(v===f)return h(y),l;v=v.sibling}throw Error(i(188))}if(u.return!==f.return)u=y,f=v;else{for(var V=!1,X=y.child;X;){if(X===u){V=!0,u=y,f=v;break}if(X===f){V=!0,f=y,u=v;break}X=X.sibling}if(!V){for(X=v.child;X;){if(X===u){V=!0,u=v,f=y;break}if(X===f){V=!0,f=v,u=y;break}X=X.sibling}if(!V)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?s:l}function p(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=p(s),l!==null)return l;s=s.sibling}return null}var g=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),G=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var S=Symbol.for("react.client.reference");function w(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===S?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case B:return"Profiler";case O:return"StrictMode";case ae:return"Suspense";case le:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case G:return(s.displayName||"Context")+".Provider";case $:return(s._context.displayName||"Context")+".Consumer";case re:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Q:return l=s.displayName||null,l!==null?l:w(s.type)||"Memo";case q:l=s._payload,s=s._init;try{return w(s(l))}catch{}}return null}var I=Array.isArray,C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},te=[],z=-1;function P(s){return{current:s}}function b(s){0>z||(s.current=te[z],te[z]=null,z--)}function _(s,l){z++,te[z]=s.current,s.current=l}var L=P(null),Z=P(null),ne=P(null),de=P(null);function Ie(s,l){switch(_(ne,l),_(Z,s),_(L,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?$E(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=$E(l),s=GE(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}b(L),_(L,s)}function De(){b(L),b(Z),b(ne)}function it(s){s.memoizedState!==null&&_(de,s);var l=L.current,u=GE(l,s.type);l!==u&&(_(Z,s),_(L,u))}function ot(s){Z.current===s&&(b(L),b(Z)),de.current===s&&(b(de),Sh._currentValue=Y)}var _t=Object.prototype.hasOwnProperty,Nn=r.unstable_scheduleCallback,At=r.unstable_cancelCallback,en=r.unstable_shouldYield,Jr=r.unstable_requestPaint,Et=r.unstable_now,tn=r.unstable_getCurrentPriorityLevel,Lr=r.unstable_ImmediatePriority,qt=r.unstable_UserBlockingPriority,Nt=r.unstable_NormalPriority,$n=r.unstable_LowPriority,Bt=r.unstable_IdlePriority,nn=r.log,Zn=r.unstable_setDisableYieldValue,ft=null,H=null;function x(s){if(typeof nn=="function"&&Zn(s),H&&typeof H.setStrictMode=="function")try{H.setStrictMode(ft,s)}catch{}}var k=Math.clz32?Math.clz32:ge,ee=Math.log,fe=Math.LN2;function ge(s){return s>>>=0,s===0?32:31-(ee(s)/fe|0)|0}var Ae=256,st=4194304;function He(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ze(s,l,u){var f=s.pendingLanes;if(f===0)return 0;var y=0,v=s.suspendedLanes,V=s.pingedLanes;s=s.warmLanes;var X=f&134217727;return X!==0?(f=X&~v,f!==0?y=He(f):(V&=X,V!==0?y=He(V):u||(u=X&~s,u!==0&&(y=He(u))))):(X=f&~v,X!==0?y=He(X):V!==0?y=He(V):u||(u=f&~s,u!==0&&(y=He(u)))),y===0?0:l!==0&&l!==y&&(l&v)===0&&(v=y&-y,u=l&-l,v>=u||v===32&&(u&4194048)!==0)?l:y}function St(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Je(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kt(){var s=Ae;return Ae<<=1,(Ae&4194048)===0&&(Ae=256),s}function mi(){var s=st;return st<<=1,(st&62914560)===0&&(st=4194304),s}function Ut(s){for(var l=[],u=0;31>u;u++)l.push(s);return l}function Wt(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function gi(s,l,u,f,y,v){var V=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var X=s.entanglements,se=s.expirationTimes,ve=s.hiddenUpdates;for(u=V&~u;0<u;){var Re=31-k(u),Me=1<<Re;X[Re]=0,se[Re]=-1;var _e=ve[Re];if(_e!==null)for(ve[Re]=null,Re=0;Re<_e.length;Re++){var Se=_e[Re];Se!==null&&(Se.lane&=-536870913)}u&=~Me}f!==0&&bt(s,f,0),v!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=v&~(V&~l))}function bt(s,l,u){s.pendingLanes|=l,s.suspendedLanes&=~l;var f=31-k(l);s.entangledLanes|=l,s.entanglements[f]=s.entanglements[f]|1073741824|u&4194090}function hn(s,l){var u=s.entangledLanes|=l;for(s=s.entanglements;u;){var f=31-k(u),y=1<<f;y&l|s[f]&l&&(s[f]|=l),u&=~y}}function Br(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function fn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function rn(){var s=j.p;return s!==0?s:(s=window.event,s===void 0?32:dS(s.type))}function Pi(s,l){var u=j.p;try{return j.p=s,l()}finally{j.p=u}}var lt=Math.random().toString(36).slice(2),yt="__reactFiber$"+lt,yn="__reactProps$"+lt,Mt="__reactContainer$"+lt,sn="__reactEvents$"+lt,Di="__reactListeners$"+lt,$t="__reactHandles$"+lt,wn="__reactResources$"+lt,si="__reactMarker$"+lt;function Gt(s){delete s[yt],delete s[yn],delete s[sn],delete s[Di],delete s[$t]}function Ft(s){var l=s[yt];if(l)return l;for(var u=s.parentNode;u;){if(l=u[Mt]||u[yt]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(s=ZE(s);s!==null;){if(u=s[yt])return u;s=ZE(s)}return l}s=u,u=s.parentNode}return null}function Er(s){if(s=s[yt]||s[Mt]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Ht(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(i(33))}function Tt(s){var l=s[wn];return l||(l=s[wn]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function bn(s){s[si]=!0}var Li=new Set,yi={};function hr(s,l){Ur(s,l),Ur(s+"Capture",l)}function Ur(s,l){for(yi[s]=l,s=0;s<l.length;s++)Li.add(l[s])}var ms=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gs={},Vr={};function Ji(s){return _t.call(Vr,s)?!0:_t.call(gs,s)?!1:ms.test(s)?Vr[s]=!0:(gs[s]=!0,!1)}function ai(s,l,u){if(Ji(l))if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+u)}}function zr(s,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+u)}}function Ln(s,l,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(l,u,""+f)}}var wi,ys;function ei(s){if(wi===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);wi=l&&l[1]||"",ys=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wi+s+ys}var Bi=!1;function Ui(s,l){if(!s||Bi)return"";Bi=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(Se){var _e=Se}Reflect.construct(s,[],Me)}else{try{Me.call()}catch(Se){_e=Se}s.call(Me.prototype)}}else{try{throw Error()}catch(Se){_e=Se}(Me=s())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(Se){if(Se&&_e&&typeof Se.stack=="string")return[Se.stack,_e.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),V=v[0],X=v[1];if(V&&X){var se=V.split(`
`),ve=X.split(`
`);for(y=f=0;f<se.length&&!se[f].includes("DetermineComponentFrameRoot");)f++;for(;y<ve.length&&!ve[y].includes("DetermineComponentFrameRoot");)y++;if(f===se.length||y===ve.length)for(f=se.length-1,y=ve.length-1;1<=f&&0<=y&&se[f]!==ve[y];)y--;for(;1<=f&&0<=y;f--,y--)if(se[f]!==ve[y]){if(f!==1||y!==1)do if(f--,y--,0>y||se[f]!==ve[y]){var Re=`
`+se[f].replace(" at new "," at ");return s.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",s.displayName)),Re}while(1<=f&&0<=y);break}}}finally{Bi=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?ei(u):""}function es(s){switch(s.tag){case 26:case 27:case 5:return ei(s.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return Ui(s.type,!1);case 11:return Ui(s.type.render,!1);case 1:return Ui(s.type,!0);case 31:return ei("Activity");default:return""}}function bi(s){try{var l="";do l+=es(s),s=s.return;while(s);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Sr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xs(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Nu(s){var l=Xs(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),f=""+s[l];if(!s.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,v=u.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return y.call(this)},set:function(V){f=""+V,v.call(this,V)}}),Object.defineProperty(s,l,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(V){f=""+V},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Va(s){s._valueTracker||(s._valueTracker=Nu(s))}function Ke(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var u=l.getValue(),f="";return s&&(f=Xs(s)?s.checked?"true":"false":s.value),s=f,s!==u?(l.setValue(s),!0):!1}function Ne(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var pe=/[\n"\\]/g;function ue(s){return s.replace(pe,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ke(s,l,u,f,y,v,V,X){s.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?s.type=V:s.removeAttribute("type"),l!=null?V==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Sr(l)):s.value!==""+Sr(l)&&(s.value=""+Sr(l)):V!=="submit"&&V!=="reset"||s.removeAttribute("value"),l!=null?Be(s,V,Sr(l)):u!=null?Be(s,V,Sr(u)):f!=null&&s.removeAttribute("value"),y==null&&v!=null&&(s.defaultChecked=!!v),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?s.name=""+Sr(X):s.removeAttribute("name")}function je(s,l,u,f,y,v,V,X){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),l!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||l!=null))return;u=u!=null?""+Sr(u):"",l=l!=null?""+Sr(l):u,X||l===s.value||(s.value=l),s.defaultValue=l}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=X?s.checked:!!f,s.defaultChecked=!!f,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(s.name=V)}function Be(s,l,u){l==="number"&&Ne(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Qe(s,l,u,f){if(s=s.options,l){l={};for(var y=0;y<u.length;y++)l["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=l.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Sr(u),l=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,f&&(s[y].defaultSelected=!0);return}l!==null||s[y].disabled||(l=s[y])}l!==null&&(l.selected=!0)}}function $e(s,l,u){if(l!=null&&(l=""+Sr(l),l!==s.value&&(s.value=l),u==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=u!=null?""+Sr(u):""}function vt(s,l,u,f){if(l==null){if(f!=null){if(u!=null)throw Error(i(92));if(I(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),l=u}u=Sr(l),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f)}function dn(s,l){if(l){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=l;return}}s.textContent=l}var vi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yl(s,l,u){var f=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":f?s.setProperty(l,u):typeof u!="number"||u===0||vi.has(l)?l==="float"?s.cssFloat=u:s[l]=(""+u).trim():s[l]=u+"px"}function Wo(s,l,u){if(l!=null&&typeof l!="object")throw Error(i(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var y in l)f=l[y],l.hasOwnProperty(y)&&u[y]!==f&&Yl(s,y,f)}else for(var v in l)l.hasOwnProperty(v)&&Yl(s,v,l[v])}function Pu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ug=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ql(s){return ug.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Zs=null;function Vi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Js=null,ea=null;function Du(s){var l=Er(s);if(l&&(s=l.stateNode)){var u=s[yn]||null;e:switch(s=l.stateNode,l.type){case"input":if(ke(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ue(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var f=u[l];if(f!==s&&f.form===s.form){var y=f[yn]||null;if(!y)throw Error(i(90));ke(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<u.length;l++)f=u[l],f.form===s.form&&Ke(f)}break e;case"textarea":$e(s,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Qe(s,!!u.multiple,l,!1)}}}var ws=!1;function Hf(s,l,u){if(ws)return s(l,u);ws=!0;try{var f=s(l);return f}finally{if(ws=!1,(Js!==null||ea!==null)&&(Ud(),Js&&(l=Js,s=ea,ea=Js=null,Du(l),s)))for(l=0;l<s.length;l++)Du(s[l])}}function Fo(s,l){var u=s.stateNode;if(u===null)return null;var f=u[yn]||null;if(f===null)return null;u=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(i(231,l,typeof u));return u}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zi=!1;if(ts)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){zi=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{zi=!1}var bs=null,za=null,ta=null;function Lu(){if(ta)return ta;var s,l=za,u=l.length,f,y="value"in bs?bs.value:bs.textContent,v=y.length;for(s=0;s<u&&l[s]===y[s];s++);var V=u-s;for(f=1;f<=V&&l[u-f]===y[v-f];f++);return ta=y.slice(s,1<f?1-f:void 0)}function vs(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function _s(){return!0}function Bu(){return!1}function fr(s){function l(u,f,y,v,V){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=v,this.target=V,this.currentTarget=null;for(var X in s)s.hasOwnProperty(X)&&(u=s[X],this[X]=u?u(v):v[X]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?_s:Bu,this.isPropagationStopped=Bu,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),l}var pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=fr(pn),Ko=g({},pn,{view:0,detail:0}),Kf=fr(Ko),Zl,Jl,Es,$o=g({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Es&&(Es&&s.type==="mousemove"?(Zl=s.screenX-Es.screenX,Jl=s.screenY-Es.screenY):Jl=Zl=0,Es=s),Zl)},movementY:function(s){return"movementY"in s?s.movementY:Jl}}),ji=fr($o),$f=g({},$o,{dataTransfer:0}),hg=fr($f),Go=g({},Ko,{relatedTarget:0}),ec=fr(Go),Uu=g({},pn,{animationName:0,elapsedTime:0,pseudoElement:0}),tc=fr(Uu),Gf=g({},pn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),nc=fr(Gf),fg=g({},pn,{data:0}),Vu=fr(fg),Yo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Qf[s])?!!l[s]:!1}function Qo(){return zu}var Xf=g({},Ko,{key:function(s){if(s.key){var l=Yo[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=vs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Yf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(s){return s.type==="keypress"?vs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?vs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),rc=fr(Xf),Zf=g({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=fr(Zf),na=g({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),Jf=fr(na),ed=g({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),td=fr(ed),nd=g({},$o,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ic=fr(nd),ti=g({},pn,{newState:0,oldState:0}),rd=fr(ti),id=[9,13,27,32],Ss=ts&&"CompositionEvent"in window,m=null;ts&&"documentMode"in document&&(m=document.documentMode);var R=ts&&"TextEvent"in window&&!m,D=ts&&(!Ss||m&&8<m&&11>=m),J=" ",ye=!1;function Te(s,l){switch(s){case"keyup":return id.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ve(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Yt=!1;function ar(s,l){switch(s){case"compositionend":return Ve(l);case"keypress":return l.which!==32?null:(ye=!0,J);case"textInput":return s=l.data,s===J&&ye?null:s;default:return null}}function Qt(s,l){if(Yt)return s==="compositionend"||!Ss&&Te(s,l)?(s=Lu(),ta=za=bs=null,Yt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return D&&l.locale!=="ko"?null:l.data;default:return null}}var dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function or(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!dr[s.type]:l==="textarea"}function ra(s,l,u,f){Js?ea?ea.push(f):ea=[f]:Js=f,l=Fd(l,"onChange"),0<l.length&&(u=new Xl("onChange","change",null,u,f),s.push({event:u,listeners:l}))}var Ar=null,As=null;function qu(s){qE(s,0)}function sd(s){var l=Ht(s);if(Ke(l))return s}function c1(s,l){if(s==="change")return l}var u1=!1;if(ts){var dg;if(ts){var pg="oninput"in document;if(!pg){var h1=document.createElement("div");h1.setAttribute("oninput","return;"),pg=typeof h1.oninput=="function"}dg=pg}else dg=!1;u1=dg&&(!document.documentMode||9<document.documentMode)}function f1(){Ar&&(Ar.detachEvent("onpropertychange",d1),As=Ar=null)}function d1(s){if(s.propertyName==="value"&&sd(As)){var l=[];ra(l,As,s,Vi(s)),Hf(qu,l)}}function MM(s,l,u){s==="focusin"?(f1(),Ar=l,As=u,Ar.attachEvent("onpropertychange",d1)):s==="focusout"&&f1()}function OM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return sd(As)}function NM(s,l){if(s==="click")return sd(l)}function PM(s,l){if(s==="input"||s==="change")return sd(l)}function DM(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var _i=typeof Object.is=="function"?Object.is:DM;function Wu(s,l){if(_i(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var u=Object.keys(s),f=Object.keys(l);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!_t.call(l,y)||!_i(s[y],l[y]))return!1}return!0}function p1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function m1(s,l){var u=p1(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=l&&f>=l)return{node:u,offset:l-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=p1(u)}}function g1(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?g1(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function y1(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Ne(s.document);l instanceof s.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)s=l.contentWindow;else break;l=Ne(s.document)}return l}function mg(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var LM=ts&&"documentMode"in document&&11>=document.documentMode,sc=null,gg=null,Fu=null,yg=!1;function w1(s,l,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;yg||sc==null||sc!==Ne(f)||(f=sc,"selectionStart"in f&&mg(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Fu&&Wu(Fu,f)||(Fu=f,f=Fd(gg,"onSelect"),0<f.length&&(l=new Xl("onSelect","select",null,l,u),s.push({event:l,listeners:f}),l.target=sc)))}function Xo(s,l){var u={};return u[s.toLowerCase()]=l.toLowerCase(),u["Webkit"+s]="webkit"+l,u["Moz"+s]="moz"+l,u}var ac={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionrun:Xo("Transition","TransitionRun"),transitionstart:Xo("Transition","TransitionStart"),transitioncancel:Xo("Transition","TransitionCancel"),transitionend:Xo("Transition","TransitionEnd")},wg={},b1={};ts&&(b1=document.createElement("div").style,"AnimationEvent"in window||(delete ac.animationend.animation,delete ac.animationiteration.animation,delete ac.animationstart.animation),"TransitionEvent"in window||delete ac.transitionend.transition);function Zo(s){if(wg[s])return wg[s];if(!ac[s])return s;var l=ac[s],u;for(u in l)if(l.hasOwnProperty(u)&&u in b1)return wg[s]=l[u];return s}var v1=Zo("animationend"),_1=Zo("animationiteration"),E1=Zo("animationstart"),BM=Zo("transitionrun"),UM=Zo("transitionstart"),VM=Zo("transitioncancel"),S1=Zo("transitionend"),A1=new Map,bg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bg.push("scrollEnd");function ns(s,l){A1.set(s,l),hr(l,[s])}var T1=new WeakMap;function qi(s,l){if(typeof s=="object"&&s!==null){var u=T1.get(s);return u!==void 0?u:(l={value:s,source:l,stack:bi(l)},T1.set(s,l),l)}return{value:s,source:l,stack:bi(l)}}var Wi=[],oc=0,vg=0;function ad(){for(var s=oc,l=vg=oc=0;l<s;){var u=Wi[l];Wi[l++]=null;var f=Wi[l];Wi[l++]=null;var y=Wi[l];Wi[l++]=null;var v=Wi[l];if(Wi[l++]=null,f!==null&&y!==null){var V=f.pending;V===null?y.next=y:(y.next=V.next,V.next=y),f.pending=y}v!==0&&I1(u,y,v)}}function od(s,l,u,f){Wi[oc++]=s,Wi[oc++]=l,Wi[oc++]=u,Wi[oc++]=f,vg|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function _g(s,l,u,f){return od(s,l,u,f),ld(s)}function lc(s,l){return od(s,null,null,l),ld(s)}function I1(s,l,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var y=!1,v=s.return;v!==null;)v.childLanes|=u,f=v.alternate,f!==null&&(f.childLanes|=u),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(y=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,y&&l!==null&&(y=31-k(u),s=v.hiddenUpdates,f=s[y],f===null?s[y]=[l]:f.push(l),l.lane=u|536870912),v):null}function ld(s){if(50<mh)throw mh=0,R0=null,Error(i(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var cc={};function zM(s,l,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(s,l,u,f){return new zM(s,l,u,f)}function Eg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ia(s,l){var u=s.alternate;return u===null?(u=Ei(s.tag,l,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=l,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,l=s.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function R1(s,l){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,l=u.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function cd(s,l,u,f,y,v){var V=0;if(f=s,typeof s=="function")Eg(s)&&(V=1);else if(typeof s=="string")V=q4(s,u,L.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=Ei(31,u,l,y),s.elementType=M,s.lanes=v,s;case N:return Jo(u.children,y,v,l);case O:V=8,y|=24;break;case B:return s=Ei(12,u,l,y|2),s.elementType=B,s.lanes=v,s;case ae:return s=Ei(13,u,l,y),s.elementType=ae,s.lanes=v,s;case le:return s=Ei(19,u,l,y),s.elementType=le,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:case G:V=10;break e;case $:V=9;break e;case re:V=11;break e;case Q:V=14;break e;case q:V=16,f=null;break e}V=29,u=Error(i(130,s===null?"null":typeof s,"")),f=null}return l=Ei(V,u,l,y),l.elementType=s,l.type=f,l.lanes=v,l}function Jo(s,l,u,f){return s=Ei(7,s,f,l),s.lanes=u,s}function Sg(s,l,u){return s=Ei(6,s,null,l),s.lanes=u,s}function Ag(s,l,u){return l=Ei(4,s.children!==null?s.children:[],s.key,l),l.lanes=u,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var uc=[],hc=0,ud=null,hd=0,Fi=[],Hi=0,el=null,sa=1,aa="";function tl(s,l){uc[hc++]=hd,uc[hc++]=ud,ud=s,hd=l}function x1(s,l,u){Fi[Hi++]=sa,Fi[Hi++]=aa,Fi[Hi++]=el,el=s;var f=sa;s=aa;var y=32-k(f)-1;f&=~(1<<y),u+=1;var v=32-k(l)+y;if(30<v){var V=y-y%5;v=(f&(1<<V)-1).toString(32),f>>=V,y-=V,sa=1<<32-k(l)+y|u<<y|f,aa=v+s}else sa=1<<v|u<<y|f,aa=s}function Tg(s){s.return!==null&&(tl(s,1),x1(s,1,0))}function Ig(s){for(;s===ud;)ud=uc[--hc],uc[hc]=null,hd=uc[--hc],uc[hc]=null;for(;s===el;)el=Fi[--Hi],Fi[Hi]=null,aa=Fi[--Hi],Fi[Hi]=null,sa=Fi[--Hi],Fi[Hi]=null}var ni=null,Wn=null,un=!1,nl=null,Ts=!1,Rg=Error(i(519));function rl(s){var l=Error(i(418,""));throw $u(qi(l,s)),Rg}function k1(s){var l=s.stateNode,u=s.type,f=s.memoizedProps;switch(l[yt]=s,l[yn]=f,u){case"dialog":Dt("cancel",l),Dt("close",l);break;case"iframe":case"object":case"embed":Dt("load",l);break;case"video":case"audio":for(u=0;u<yh.length;u++)Dt(yh[u],l);break;case"source":Dt("error",l);break;case"img":case"image":case"link":Dt("error",l),Dt("load",l);break;case"details":Dt("toggle",l);break;case"input":Dt("invalid",l),je(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Va(l);break;case"select":Dt("invalid",l);break;case"textarea":Dt("invalid",l),vt(l,f.value,f.defaultValue,f.children),Va(l)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||f.suppressHydrationWarning===!0||KE(l.textContent,u)?(f.popover!=null&&(Dt("beforetoggle",l),Dt("toggle",l)),f.onScroll!=null&&Dt("scroll",l),f.onScrollEnd!=null&&Dt("scrollend",l),f.onClick!=null&&(l.onclick=Hd),l=!0):l=!1,l||rl(s)}function C1(s){for(ni=s.return;ni;)switch(ni.tag){case 5:case 13:Ts=!1;return;case 27:case 3:Ts=!0;return;default:ni=ni.return}}function Hu(s){if(s!==ni)return!1;if(!un)return C1(s),un=!0,!1;var l=s.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||W0(s.type,s.memoizedProps)),u=!u),u&&Wn&&rl(s),C1(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(l===0){Wn=is(s.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;s=s.nextSibling}Wn=null}}else l===27?(l=Wn,no(s.type)?(s=$0,$0=null,Wn=s):Wn=l):Wn=ni?is(s.stateNode.nextSibling):null;return!0}function Ku(){Wn=ni=null,un=!1}function M1(){var s=nl;return s!==null&&(ci===null?ci=s:ci.push.apply(ci,s),nl=null),s}function $u(s){nl===null?nl=[s]:nl.push(s)}var xg=P(null),il=null,oa=null;function ja(s,l,u){_(xg,l._currentValue),l._currentValue=u}function la(s){s._currentValue=xg.current,b(xg)}function kg(s,l,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),s===u)break;s=s.return}}function Cg(s,l,u,f){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var v=y.dependencies;if(v!==null){var V=y.child;v=v.firstContext;e:for(;v!==null;){var X=v;v=y;for(var se=0;se<l.length;se++)if(X.context===l[se]){v.lanes|=u,X=v.alternate,X!==null&&(X.lanes|=u),kg(v.return,u,s),f||(V=null);break e}v=X.next}}else if(y.tag===18){if(V=y.return,V===null)throw Error(i(341));V.lanes|=u,v=V.alternate,v!==null&&(v.lanes|=u),kg(V,u,s),V=null}else V=y.child;if(V!==null)V.return=y;else for(V=y;V!==null;){if(V===s){V=null;break}if(y=V.sibling,y!==null){y.return=V.return,V=y;break}V=V.return}y=V}}function Gu(s,l,u,f){s=null;for(var y=l,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var V=y.alternate;if(V===null)throw Error(i(387));if(V=V.memoizedProps,V!==null){var X=y.type;_i(y.pendingProps.value,V.value)||(s!==null?s.push(X):s=[X])}}else if(y===de.current){if(V=y.alternate,V===null)throw Error(i(387));V.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Sh):s=[Sh])}y=y.return}s!==null&&Cg(l,s,u,f),l.flags|=262144}function fd(s){for(s=s.firstContext;s!==null;){if(!_i(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function sl(s){il=s,oa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function jr(s){return O1(il,s)}function dd(s,l){return il===null&&sl(s),O1(s,l)}function O1(s,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},oa===null){if(s===null)throw Error(i(308));oa=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else oa=oa.next=l;return u}var jM=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){l.aborted=!0,s.forEach(function(u){return u()})}},qM=r.unstable_scheduleCallback,WM=r.unstable_NormalPriority,lr={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mg(){return{controller:new jM,data:new Map,refCount:0}}function Yu(s){s.refCount--,s.refCount===0&&qM(WM,function(){s.controller.abort()})}var Qu=null,Og=0,fc=0,dc=null;function FM(s,l){if(Qu===null){var u=Qu=[];Og=0,fc=P0(),dc={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Og++,l.then(N1,N1),l}function N1(){if(--Og===0&&Qu!==null){dc!==null&&(dc.status="fulfilled");var s=Qu;Qu=null,fc=0,dc=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function HM(s,l){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){f.status="fulfilled",f.value=l;for(var y=0;y<u.length;y++)(0,u[y])(l)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var P1=C.S;C.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&FM(s,l),P1!==null&&P1(s,l)};var al=P(null);function Ng(){var s=al.current;return s!==null?s:kn.pooledCache}function pd(s,l){l===null?_(al,al.current):_(al,l.pool)}function D1(){var s=Ng();return s===null?null:{parent:lr._currentValue,pool:s}}var Xu=Error(i(460)),L1=Error(i(474)),md=Error(i(542)),Pg={then:function(){}};function B1(s){return s=s.status,s==="fulfilled"||s==="rejected"}function gd(){}function U1(s,l,u){switch(u=s[u],u===void 0?s.push(l):u!==l&&(l.then(gd,gd),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,z1(s),s;default:if(typeof l.status=="string")l.then(gd,gd);else{if(s=kn,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=l,s.status="pending",s.then(function(f){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=f}},function(f){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,z1(s),s}throw Zu=l,Xu}}var Zu=null;function V1(){if(Zu===null)throw Error(i(459));var s=Zu;return Zu=null,s}function z1(s){if(s===Xu||s===md)throw Error(i(483))}var qa=!1;function Dg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lg(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Wa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fa(s,l,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(vn&2)!==0){var y=f.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),f.pending=l,l=ld(s),I1(s,null,u),l}return od(s,f,l,u),ld(s)}function Ju(s,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var f=l.lanes;f&=s.pendingLanes,u|=f,l.lanes=u,hn(s,u)}}function Bg(s,l){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var V={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?y=v=V:v=v.next=V,u=u.next}while(u!==null);v===null?y=v=l:v=v.next=l}else y=v=l;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=l}var Ug=!1;function eh(){if(Ug){var s=dc;if(s!==null)throw s}}function th(s,l,u,f){Ug=!1;var y=s.updateQueue;qa=!1;var v=y.firstBaseUpdate,V=y.lastBaseUpdate,X=y.shared.pending;if(X!==null){y.shared.pending=null;var se=X,ve=se.next;se.next=null,V===null?v=ve:V.next=ve,V=se;var Re=s.alternate;Re!==null&&(Re=Re.updateQueue,X=Re.lastBaseUpdate,X!==V&&(X===null?Re.firstBaseUpdate=ve:X.next=ve,Re.lastBaseUpdate=se))}if(v!==null){var Me=y.baseState;V=0,Re=ve=se=null,X=v;do{var _e=X.lane&-536870913,Se=_e!==X.lane;if(Se?(Xt&_e)===_e:(f&_e)===_e){_e!==0&&_e===fc&&(Ug=!0),Re!==null&&(Re=Re.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var pt=s,ct=X;_e=l;var In=u;switch(ct.tag){case 1:if(pt=ct.payload,typeof pt=="function"){Me=pt.call(In,Me,_e);break e}Me=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ct.payload,_e=typeof pt=="function"?pt.call(In,Me,_e):pt,_e==null)break e;Me=g({},Me,_e);break e;case 2:qa=!0}}_e=X.callback,_e!==null&&(s.flags|=64,Se&&(s.flags|=8192),Se=y.callbacks,Se===null?y.callbacks=[_e]:Se.push(_e))}else Se={lane:_e,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Re===null?(ve=Re=Se,se=Me):Re=Re.next=Se,V|=_e;if(X=X.next,X===null){if(X=y.shared.pending,X===null)break;Se=X,X=Se.next,Se.next=null,y.lastBaseUpdate=Se,y.shared.pending=null}}while(!0);Re===null&&(se=Me),y.baseState=se,y.firstBaseUpdate=ve,y.lastBaseUpdate=Re,v===null&&(y.shared.lanes=0),Za|=V,s.lanes=V,s.memoizedState=Me}}function j1(s,l){if(typeof s!="function")throw Error(i(191,s));s.call(l)}function q1(s,l){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)j1(u[s],l)}var pc=P(null),yd=P(0);function W1(s,l){s=ma,_(yd,s),_(pc,l),ma=s|l.baseLanes}function Vg(){_(yd,ma),_(pc,pc.current)}function zg(){ma=yd.current,b(pc),b(yd)}var Ha=0,kt=null,An=null,Jn=null,wd=!1,mc=!1,ol=!1,bd=0,nh=0,gc=null,KM=0;function Gn(){throw Error(i(321))}function jg(s,l){if(l===null)return!1;for(var u=0;u<l.length&&u<s.length;u++)if(!_i(s[u],l[u]))return!1;return!0}function qg(s,l,u,f,y,v){return Ha=v,kt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,C.H=s===null||s.memoizedState===null?I_:R_,ol=!1,v=u(f,y),ol=!1,mc&&(v=H1(l,u,f,y)),F1(s),v}function F1(s){C.H=Td;var l=An!==null&&An.next!==null;if(Ha=0,Jn=An=kt=null,wd=!1,nh=0,gc=null,l)throw Error(i(300));s===null||pr||(s=s.dependencies,s!==null&&fd(s)&&(pr=!0))}function H1(s,l,u,f){kt=s;var y=0;do{if(mc&&(gc=null),nh=0,mc=!1,25<=y)throw Error(i(301));if(y+=1,Jn=An=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}C.H=JM,v=l(u,f)}while(mc);return v}function $M(){var s=C.H,l=s.useState()[0];return l=typeof l.then=="function"?rh(l):l,s=s.useState()[0],(An!==null?An.memoizedState:null)!==s&&(kt.flags|=1024),l}function Wg(){var s=bd!==0;return bd=0,s}function Fg(s,l,u){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~u}function Hg(s){if(wd){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}wd=!1}Ha=0,Jn=An=kt=null,mc=!1,nh=bd=0,gc=null}function oi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?kt.memoizedState=Jn=s:Jn=Jn.next=s,Jn}function er(){if(An===null){var s=kt.alternate;s=s!==null?s.memoizedState:null}else s=An.next;var l=Jn===null?kt.memoizedState:Jn.next;if(l!==null)Jn=l,An=s;else{if(s===null)throw kt.alternate===null?Error(i(467)):Error(i(310));An=s,s={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},Jn===null?kt.memoizedState=Jn=s:Jn=Jn.next=s}return Jn}function Kg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rh(s){var l=nh;return nh+=1,gc===null&&(gc=[]),s=U1(gc,s,l),l=kt,(Jn===null?l.memoizedState:Jn.next)===null&&(l=l.alternate,C.H=l===null||l.memoizedState===null?I_:R_),s}function vd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return rh(s);if(s.$$typeof===G)return jr(s)}throw Error(i(438,String(s)))}function $g(s){var l=null,u=kt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var f=kt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Kg(),kt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(s),f=0;f<s;f++)u[f]=U;return l.index++,u}function ca(s,l){return typeof l=="function"?l(s):l}function _d(s){var l=er();return Gg(l,An,s)}function Gg(s,l,u){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var y=s.baseQueue,v=f.pending;if(v!==null){if(y!==null){var V=y.next;y.next=v.next,v.next=V}l.baseQueue=y=v,f.pending=null}if(v=s.baseState,y===null)s.memoizedState=v;else{l=y.next;var X=V=null,se=null,ve=l,Re=!1;do{var Me=ve.lane&-536870913;if(Me!==ve.lane?(Xt&Me)===Me:(Ha&Me)===Me){var _e=ve.revertLane;if(_e===0)se!==null&&(se=se.next={lane:0,revertLane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Me===fc&&(Re=!0);else if((Ha&_e)===_e){ve=ve.next,_e===fc&&(Re=!0);continue}else Me={lane:0,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},se===null?(X=se=Me,V=v):se=se.next=Me,kt.lanes|=_e,Za|=_e;Me=ve.action,ol&&u(v,Me),v=ve.hasEagerState?ve.eagerState:u(v,Me)}else _e={lane:Me,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},se===null?(X=se=_e,V=v):se=se.next=_e,kt.lanes|=Me,Za|=Me;ve=ve.next}while(ve!==null&&ve!==l);if(se===null?V=v:se.next=X,!_i(v,s.memoizedState)&&(pr=!0,Re&&(u=dc,u!==null)))throw u;s.memoizedState=v,s.baseState=V,s.baseQueue=se,f.lastRenderedState=v}return y===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function Yg(s){var l=er(),u=l.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var f=u.dispatch,y=u.pending,v=l.memoizedState;if(y!==null){u.pending=null;var V=y=y.next;do v=s(v,V.action),V=V.next;while(V!==y);_i(v,l.memoizedState)||(pr=!0),l.memoizedState=v,l.baseQueue===null&&(l.baseState=v),u.lastRenderedState=v}return[v,f]}function K1(s,l,u){var f=kt,y=er(),v=un;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=l();var V=!_i((An||y).memoizedState,u);V&&(y.memoizedState=u,pr=!0),y=y.queue;var X=Y1.bind(null,f,y,s);if(ih(2048,8,X,[s]),y.getSnapshot!==l||V||Jn!==null&&Jn.memoizedState.tag&1){if(f.flags|=2048,yc(9,Ed(),G1.bind(null,f,y,u,l),null),kn===null)throw Error(i(349));v||(Ha&124)!==0||$1(f,l,u)}return u}function $1(s,l,u){s.flags|=16384,s={getSnapshot:l,value:u},l=kt.updateQueue,l===null?(l=Kg(),kt.updateQueue=l,l.stores=[s]):(u=l.stores,u===null?l.stores=[s]:u.push(s))}function G1(s,l,u,f){l.value=u,l.getSnapshot=f,Q1(l)&&X1(s)}function Y1(s,l,u){return u(function(){Q1(l)&&X1(s)})}function Q1(s){var l=s.getSnapshot;s=s.value;try{var u=l();return!_i(s,u)}catch{return!0}}function X1(s){var l=lc(s,2);l!==null&&Ri(l,s,2)}function Qg(s){var l=oi();if(typeof s=="function"){var u=s;if(s=u(),ol){x(!0);try{u()}finally{x(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:s},l}function Z1(s,l,u,f){return s.baseState=u,Gg(s,An,typeof f=="function"?f:ca)}function GM(s,l,u,f,y){if(Ad(s))throw Error(i(485));if(s=l.action,s!==null){var v={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){v.listeners.push(V)}};C.T!==null?u(!0):v.isTransition=!1,f(v),u=l.pending,u===null?(v.next=l.pending=v,J1(l,v)):(v.next=u.next,l.pending=u.next=v)}}function J1(s,l){var u=l.action,f=l.payload,y=s.state;if(l.isTransition){var v=C.T,V={};C.T=V;try{var X=u(y,f),se=C.S;se!==null&&se(V,X),e_(s,l,X)}catch(ve){Xg(s,l,ve)}finally{C.T=v}}else try{v=u(y,f),e_(s,l,v)}catch(ve){Xg(s,l,ve)}}function e_(s,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){t_(s,l,f)},function(f){return Xg(s,l,f)}):t_(s,l,u)}function t_(s,l,u){l.status="fulfilled",l.value=u,n_(l),s.state=u,l=s.pending,l!==null&&(u=l.next,u===l?s.pending=null:(u=u.next,l.next=u,J1(s,u)))}function Xg(s,l,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=u,n_(l),l=l.next;while(l!==f)}s.action=null}function n_(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function r_(s,l){return l}function i_(s,l){if(un){var u=kn.formState;if(u!==null){e:{var f=kt;if(un){if(Wn){t:{for(var y=Wn,v=Ts;y.nodeType!==8;){if(!v){y=null;break t}if(y=is(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){Wn=is(y.nextSibling),f=y.data==="F!";break e}}rl(f)}f=!1}f&&(l=u[0])}}return u=oi(),u.memoizedState=u.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r_,lastRenderedState:l},u.queue=f,u=S_.bind(null,kt,f),f.dispatch=u,f=Qg(!1),v=n0.bind(null,kt,!1,f.queue),f=oi(),y={state:l,dispatch:null,action:s,pending:null},f.queue=y,u=GM.bind(null,kt,y,v,u),y.dispatch=u,f.memoizedState=s,[l,u,!1]}function s_(s){var l=er();return a_(l,An,s)}function a_(s,l,u){if(l=Gg(s,l,r_)[0],s=_d(ca)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=rh(l)}catch(V){throw V===Xu?md:V}else f=l;l=er();var y=l.queue,v=y.dispatch;return u!==l.memoizedState&&(kt.flags|=2048,yc(9,Ed(),YM.bind(null,y,u),null)),[f,v,s]}function YM(s,l){s.action=l}function o_(s){var l=er(),u=An;if(u!==null)return a_(l,u,s);er(),l=l.memoizedState,u=er();var f=u.queue.dispatch;return u.memoizedState=s,[l,f,!1]}function yc(s,l,u,f){return s={tag:s,create:u,deps:f,inst:l,next:null},l=kt.updateQueue,l===null&&(l=Kg(),kt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,l.lastEffect=s),s}function Ed(){return{destroy:void 0,resource:void 0}}function l_(){return er().memoizedState}function Sd(s,l,u,f){var y=oi();f=f===void 0?null:f,kt.flags|=s,y.memoizedState=yc(1|l,Ed(),u,f)}function ih(s,l,u,f){var y=er();f=f===void 0?null:f;var v=y.memoizedState.inst;An!==null&&f!==null&&jg(f,An.memoizedState.deps)?y.memoizedState=yc(l,v,u,f):(kt.flags|=s,y.memoizedState=yc(1|l,v,u,f))}function c_(s,l){Sd(8390656,8,s,l)}function u_(s,l){ih(2048,8,s,l)}function h_(s,l){return ih(4,2,s,l)}function f_(s,l){return ih(4,4,s,l)}function d_(s,l){if(typeof l=="function"){s=s();var u=l(s);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function p_(s,l,u){u=u!=null?u.concat([s]):null,ih(4,4,d_.bind(null,l,s),u)}function Zg(){}function m_(s,l){var u=er();l=l===void 0?null:l;var f=u.memoizedState;return l!==null&&jg(l,f[1])?f[0]:(u.memoizedState=[s,l],s)}function g_(s,l){var u=er();l=l===void 0?null:l;var f=u.memoizedState;if(l!==null&&jg(l,f[1]))return f[0];if(f=s(),ol){x(!0);try{s()}finally{x(!1)}}return u.memoizedState=[f,l],f}function Jg(s,l,u){return u===void 0||(Ha&1073741824)!==0?s.memoizedState=l:(s.memoizedState=u,s=bE(),kt.lanes|=s,Za|=s,u)}function y_(s,l,u,f){return _i(u,l)?u:pc.current!==null?(s=Jg(s,u,f),_i(s,l)||(pr=!0),s):(Ha&42)===0?(pr=!0,s.memoizedState=u):(s=bE(),kt.lanes|=s,Za|=s,l)}function w_(s,l,u,f,y){var v=j.p;j.p=v!==0&&8>v?v:8;var V=C.T,X={};C.T=X,n0(s,!1,l,u);try{var se=y(),ve=C.S;if(ve!==null&&ve(X,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var Re=HM(se,f);sh(s,l,Re,Ii(s))}else sh(s,l,f,Ii(s))}catch(Me){sh(s,l,{then:function(){},status:"rejected",reason:Me},Ii())}finally{j.p=v,C.T=V}}function QM(){}function e0(s,l,u,f){if(s.tag!==5)throw Error(i(476));var y=b_(s).queue;w_(s,y,l,Y,u===null?QM:function(){return v_(s),u(f)})}function b_(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:Y},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:u},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function v_(s){var l=b_(s).next.queue;sh(s,l,{},Ii())}function t0(){return jr(Sh)}function __(){return er().memoizedState}function E_(){return er().memoizedState}function XM(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var u=Ii();s=Wa(u);var f=Fa(l,s,u);f!==null&&(Ri(f,l,u),Ju(f,l,u)),l={cache:Mg()},s.payload=l;return}l=l.return}}function ZM(s,l,u){var f=Ii();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Ad(s)?A_(l,u):(u=_g(s,l,u,f),u!==null&&(Ri(u,s,f),T_(u,l,f)))}function S_(s,l,u){var f=Ii();sh(s,l,u,f)}function sh(s,l,u,f){var y={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ad(s))A_(l,y);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=l.lastRenderedReducer,v!==null))try{var V=l.lastRenderedState,X=v(V,u);if(y.hasEagerState=!0,y.eagerState=X,_i(X,V))return od(s,l,y,0),kn===null&&ad(),!1}catch{}finally{}if(u=_g(s,l,y,f),u!==null)return Ri(u,s,f),T_(u,l,f),!0}return!1}function n0(s,l,u,f){if(f={lane:2,revertLane:P0(),action:f,hasEagerState:!1,eagerState:null,next:null},Ad(s)){if(l)throw Error(i(479))}else l=_g(s,u,f,2),l!==null&&Ri(l,s,2)}function Ad(s){var l=s.alternate;return s===kt||l!==null&&l===kt}function A_(s,l){mc=wd=!0;var u=s.pending;u===null?l.next=l:(l.next=u.next,u.next=l),s.pending=l}function T_(s,l,u){if((u&4194048)!==0){var f=l.lanes;f&=s.pendingLanes,u|=f,l.lanes=u,hn(s,u)}}var Td={readContext:jr,use:vd,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useLayoutEffect:Gn,useInsertionEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useSyncExternalStore:Gn,useId:Gn,useHostTransitionStatus:Gn,useFormState:Gn,useActionState:Gn,useOptimistic:Gn,useMemoCache:Gn,useCacheRefresh:Gn},I_={readContext:jr,use:vd,useCallback:function(s,l){return oi().memoizedState=[s,l===void 0?null:l],s},useContext:jr,useEffect:c_,useImperativeHandle:function(s,l,u){u=u!=null?u.concat([s]):null,Sd(4194308,4,d_.bind(null,l,s),u)},useLayoutEffect:function(s,l){return Sd(4194308,4,s,l)},useInsertionEffect:function(s,l){Sd(4,2,s,l)},useMemo:function(s,l){var u=oi();l=l===void 0?null:l;var f=s();if(ol){x(!0);try{s()}finally{x(!1)}}return u.memoizedState=[f,l],f},useReducer:function(s,l,u){var f=oi();if(u!==void 0){var y=u(l);if(ol){x(!0);try{u(l)}finally{x(!1)}}}else y=l;return f.memoizedState=f.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},f.queue=s,s=s.dispatch=ZM.bind(null,kt,s),[f.memoizedState,s]},useRef:function(s){var l=oi();return s={current:s},l.memoizedState=s},useState:function(s){s=Qg(s);var l=s.queue,u=S_.bind(null,kt,l);return l.dispatch=u,[s.memoizedState,u]},useDebugValue:Zg,useDeferredValue:function(s,l){var u=oi();return Jg(u,s,l)},useTransition:function(){var s=Qg(!1);return s=w_.bind(null,kt,s.queue,!0,!1),oi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,u){var f=kt,y=oi();if(un){if(u===void 0)throw Error(i(407));u=u()}else{if(u=l(),kn===null)throw Error(i(349));(Xt&124)!==0||$1(f,l,u)}y.memoizedState=u;var v={value:u,getSnapshot:l};return y.queue=v,c_(Y1.bind(null,f,v,s),[s]),f.flags|=2048,yc(9,Ed(),G1.bind(null,f,v,u,l),null),u},useId:function(){var s=oi(),l=kn.identifierPrefix;if(un){var u=aa,f=sa;u=(f&~(1<<32-k(f)-1)).toString(32)+u,l=""+l+"R"+u,u=bd++,0<u&&(l+="H"+u.toString(32)),l+=""}else u=KM++,l=""+l+"r"+u.toString(32)+"";return s.memoizedState=l},useHostTransitionStatus:t0,useFormState:i_,useActionState:i_,useOptimistic:function(s){var l=oi();l.memoizedState=l.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=n0.bind(null,kt,!0,u),u.dispatch=l,[s,l]},useMemoCache:$g,useCacheRefresh:function(){return oi().memoizedState=XM.bind(null,kt)}},R_={readContext:jr,use:vd,useCallback:m_,useContext:jr,useEffect:u_,useImperativeHandle:p_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:g_,useReducer:_d,useRef:l_,useState:function(){return _d(ca)},useDebugValue:Zg,useDeferredValue:function(s,l){var u=er();return y_(u,An.memoizedState,s,l)},useTransition:function(){var s=_d(ca)[0],l=er().memoizedState;return[typeof s=="boolean"?s:rh(s),l]},useSyncExternalStore:K1,useId:__,useHostTransitionStatus:t0,useFormState:s_,useActionState:s_,useOptimistic:function(s,l){var u=er();return Z1(u,An,s,l)},useMemoCache:$g,useCacheRefresh:E_},JM={readContext:jr,use:vd,useCallback:m_,useContext:jr,useEffect:u_,useImperativeHandle:p_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:g_,useReducer:Yg,useRef:l_,useState:function(){return Yg(ca)},useDebugValue:Zg,useDeferredValue:function(s,l){var u=er();return An===null?Jg(u,s,l):y_(u,An.memoizedState,s,l)},useTransition:function(){var s=Yg(ca)[0],l=er().memoizedState;return[typeof s=="boolean"?s:rh(s),l]},useSyncExternalStore:K1,useId:__,useHostTransitionStatus:t0,useFormState:o_,useActionState:o_,useOptimistic:function(s,l){var u=er();return An!==null?Z1(u,An,s,l):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:$g,useCacheRefresh:E_},wc=null,ah=0;function Id(s){var l=ah;return ah+=1,wc===null&&(wc=[]),U1(wc,s,l)}function oh(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Rd(s,l){throw l.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(l),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function x_(s){var l=s._init;return l(s._payload)}function k_(s){function l(me,he){if(s){var we=me.deletions;we===null?(me.deletions=[he],me.flags|=16):we.push(he)}}function u(me,he){if(!s)return null;for(;he!==null;)l(me,he),he=he.sibling;return null}function f(me){for(var he=new Map;me!==null;)me.key!==null?he.set(me.key,me):he.set(me.index,me),me=me.sibling;return he}function y(me,he){return me=ia(me,he),me.index=0,me.sibling=null,me}function v(me,he,we){return me.index=we,s?(we=me.alternate,we!==null?(we=we.index,we<he?(me.flags|=67108866,he):we):(me.flags|=67108866,he)):(me.flags|=1048576,he)}function V(me){return s&&me.alternate===null&&(me.flags|=67108866),me}function X(me,he,we,xe){return he===null||he.tag!==6?(he=Sg(we,me.mode,xe),he.return=me,he):(he=y(he,we),he.return=me,he)}function se(me,he,we,xe){var Xe=we.type;return Xe===N?Re(me,he,we.props.children,xe,we.key):he!==null&&(he.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===q&&x_(Xe)===he.type)?(he=y(he,we.props),oh(he,we),he.return=me,he):(he=cd(we.type,we.key,we.props,null,me.mode,xe),oh(he,we),he.return=me,he)}function ve(me,he,we,xe){return he===null||he.tag!==4||he.stateNode.containerInfo!==we.containerInfo||he.stateNode.implementation!==we.implementation?(he=Ag(we,me.mode,xe),he.return=me,he):(he=y(he,we.children||[]),he.return=me,he)}function Re(me,he,we,xe,Xe){return he===null||he.tag!==7?(he=Jo(we,me.mode,xe,Xe),he.return=me,he):(he=y(he,we),he.return=me,he)}function Me(me,he,we){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=Sg(""+he,me.mode,we),he.return=me,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case A:return we=cd(he.type,he.key,he.props,null,me.mode,we),oh(we,he),we.return=me,we;case T:return he=Ag(he,me.mode,we),he.return=me,he;case q:var xe=he._init;return he=xe(he._payload),Me(me,he,we)}if(I(he)||F(he))return he=Jo(he,me.mode,we,null),he.return=me,he;if(typeof he.then=="function")return Me(me,Id(he),we);if(he.$$typeof===G)return Me(me,dd(me,he),we);Rd(me,he)}return null}function _e(me,he,we,xe){var Xe=he!==null?he.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return Xe!==null?null:X(me,he,""+we,xe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case A:return we.key===Xe?se(me,he,we,xe):null;case T:return we.key===Xe?ve(me,he,we,xe):null;case q:return Xe=we._init,we=Xe(we._payload),_e(me,he,we,xe)}if(I(we)||F(we))return Xe!==null?null:Re(me,he,we,xe,null);if(typeof we.then=="function")return _e(me,he,Id(we),xe);if(we.$$typeof===G)return _e(me,he,dd(me,we),xe);Rd(me,we)}return null}function Se(me,he,we,xe,Xe){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return me=me.get(we)||null,X(he,me,""+xe,Xe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case A:return me=me.get(xe.key===null?we:xe.key)||null,se(he,me,xe,Xe);case T:return me=me.get(xe.key===null?we:xe.key)||null,ve(he,me,xe,Xe);case q:var Ot=xe._init;return xe=Ot(xe._payload),Se(me,he,we,xe,Xe)}if(I(xe)||F(xe))return me=me.get(we)||null,Re(he,me,xe,Xe,null);if(typeof xe.then=="function")return Se(me,he,we,Id(xe),Xe);if(xe.$$typeof===G)return Se(me,he,we,dd(he,xe),Xe);Rd(he,xe)}return null}function pt(me,he,we,xe){for(var Xe=null,Ot=null,nt=he,ut=he=0,gr=null;nt!==null&&ut<we.length;ut++){nt.index>ut?(gr=nt,nt=null):gr=nt.sibling;var on=_e(me,nt,we[ut],xe);if(on===null){nt===null&&(nt=gr);break}s&&nt&&on.alternate===null&&l(me,nt),he=v(on,he,ut),Ot===null?Xe=on:Ot.sibling=on,Ot=on,nt=gr}if(ut===we.length)return u(me,nt),un&&tl(me,ut),Xe;if(nt===null){for(;ut<we.length;ut++)nt=Me(me,we[ut],xe),nt!==null&&(he=v(nt,he,ut),Ot===null?Xe=nt:Ot.sibling=nt,Ot=nt);return un&&tl(me,ut),Xe}for(nt=f(nt);ut<we.length;ut++)gr=Se(nt,me,ut,we[ut],xe),gr!==null&&(s&&gr.alternate!==null&&nt.delete(gr.key===null?ut:gr.key),he=v(gr,he,ut),Ot===null?Xe=gr:Ot.sibling=gr,Ot=gr);return s&&nt.forEach(function(oo){return l(me,oo)}),un&&tl(me,ut),Xe}function ct(me,he,we,xe){if(we==null)throw Error(i(151));for(var Xe=null,Ot=null,nt=he,ut=he=0,gr=null,on=we.next();nt!==null&&!on.done;ut++,on=we.next()){nt.index>ut?(gr=nt,nt=null):gr=nt.sibling;var oo=_e(me,nt,on.value,xe);if(oo===null){nt===null&&(nt=gr);break}s&&nt&&oo.alternate===null&&l(me,nt),he=v(oo,he,ut),Ot===null?Xe=oo:Ot.sibling=oo,Ot=oo,nt=gr}if(on.done)return u(me,nt),un&&tl(me,ut),Xe;if(nt===null){for(;!on.done;ut++,on=we.next())on=Me(me,on.value,xe),on!==null&&(he=v(on,he,ut),Ot===null?Xe=on:Ot.sibling=on,Ot=on);return un&&tl(me,ut),Xe}for(nt=f(nt);!on.done;ut++,on=we.next())on=Se(nt,me,ut,on.value,xe),on!==null&&(s&&on.alternate!==null&&nt.delete(on.key===null?ut:on.key),he=v(on,he,ut),Ot===null?Xe=on:Ot.sibling=on,Ot=on);return s&&nt.forEach(function(e3){return l(me,e3)}),un&&tl(me,ut),Xe}function In(me,he,we,xe){if(typeof we=="object"&&we!==null&&we.type===N&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case A:e:{for(var Xe=we.key;he!==null;){if(he.key===Xe){if(Xe=we.type,Xe===N){if(he.tag===7){u(me,he.sibling),xe=y(he,we.props.children),xe.return=me,me=xe;break e}}else if(he.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===q&&x_(Xe)===he.type){u(me,he.sibling),xe=y(he,we.props),oh(xe,we),xe.return=me,me=xe;break e}u(me,he);break}else l(me,he);he=he.sibling}we.type===N?(xe=Jo(we.props.children,me.mode,xe,we.key),xe.return=me,me=xe):(xe=cd(we.type,we.key,we.props,null,me.mode,xe),oh(xe,we),xe.return=me,me=xe)}return V(me);case T:e:{for(Xe=we.key;he!==null;){if(he.key===Xe)if(he.tag===4&&he.stateNode.containerInfo===we.containerInfo&&he.stateNode.implementation===we.implementation){u(me,he.sibling),xe=y(he,we.children||[]),xe.return=me,me=xe;break e}else{u(me,he);break}else l(me,he);he=he.sibling}xe=Ag(we,me.mode,xe),xe.return=me,me=xe}return V(me);case q:return Xe=we._init,we=Xe(we._payload),In(me,he,we,xe)}if(I(we))return pt(me,he,we,xe);if(F(we)){if(Xe=F(we),typeof Xe!="function")throw Error(i(150));return we=Xe.call(we),ct(me,he,we,xe)}if(typeof we.then=="function")return In(me,he,Id(we),xe);if(we.$$typeof===G)return In(me,he,dd(me,we),xe);Rd(me,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,he!==null&&he.tag===6?(u(me,he.sibling),xe=y(he,we),xe.return=me,me=xe):(u(me,he),xe=Sg(we,me.mode,xe),xe.return=me,me=xe),V(me)):u(me,he)}return function(me,he,we,xe){try{ah=0;var Xe=In(me,he,we,xe);return wc=null,Xe}catch(nt){if(nt===Xu||nt===md)throw nt;var Ot=Ei(29,nt,null,me.mode);return Ot.lanes=xe,Ot.return=me,Ot}finally{}}}var bc=k_(!0),C_=k_(!1),Ki=P(null),Is=null;function Ka(s){var l=s.alternate;_(cr,cr.current&1),_(Ki,s),Is===null&&(l===null||pc.current!==null||l.memoizedState!==null)&&(Is=s)}function M_(s){if(s.tag===22){if(_(cr,cr.current),_(Ki,s),Is===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(Is=s)}}else $a()}function $a(){_(cr,cr.current),_(Ki,Ki.current)}function ua(s){b(Ki),Is===s&&(Is=null),b(cr)}var cr=P(0);function xd(s){for(var l=s;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||K0(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function r0(s,l,u,f){l=s.memoizedState,u=u(f,l),u=u==null?l:g({},l,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var i0={enqueueSetState:function(s,l,u){s=s._reactInternals;var f=Ii(),y=Wa(f);y.payload=l,u!=null&&(y.callback=u),l=Fa(s,y,f),l!==null&&(Ri(l,s,f),Ju(l,s,f))},enqueueReplaceState:function(s,l,u){s=s._reactInternals;var f=Ii(),y=Wa(f);y.tag=1,y.payload=l,u!=null&&(y.callback=u),l=Fa(s,y,f),l!==null&&(Ri(l,s,f),Ju(l,s,f))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var u=Ii(),f=Wa(u);f.tag=2,l!=null&&(f.callback=l),l=Fa(s,f,u),l!==null&&(Ri(l,s,u),Ju(l,s,u))}};function O_(s,l,u,f,y,v,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,v,V):l.prototype&&l.prototype.isPureReactComponent?!Wu(u,f)||!Wu(y,v):!0}function N_(s,l,u,f){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,f),l.state!==s&&i0.enqueueReplaceState(l,l.state,null)}function ll(s,l){var u=l;if("ref"in l){u={};for(var f in l)f!=="ref"&&(u[f]=l[f])}if(s=s.defaultProps){u===l&&(u=g({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}var kd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function P_(s){kd(s)}function D_(s){console.error(s)}function L_(s){kd(s)}function Cd(s,l){try{var u=s.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function B_(s,l,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function s0(s,l,u){return u=Wa(u),u.tag=3,u.payload={element:null},u.callback=function(){Cd(s,l)},u}function U_(s){return s=Wa(s),s.tag=3,s}function V_(s,l,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var v=f.value;s.payload=function(){return y(v)},s.callback=function(){B_(l,u,f)}}var V=u.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(s.callback=function(){B_(l,u,f),typeof y!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var X=f.stack;this.componentDidCatch(f.value,{componentStack:X!==null?X:""})})}function e4(s,l,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=u.alternate,l!==null&&Gu(l,u,y,!0),u=Ki.current,u!==null){switch(u.tag){case 13:return Is===null?k0():u.alternate===null&&Fn===0&&(Fn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===Pg?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([f]):l.add(f),M0(s,f,y)),!1;case 22:return u.flags|=65536,f===Pg?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([f]):u.add(f)),M0(s,f,y)),!1}throw Error(i(435,u.tag))}return M0(s,f,y),k0(),!1}if(un)return l=Ki.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,f!==Rg&&(s=Error(i(422),{cause:f}),$u(qi(s,u)))):(f!==Rg&&(l=Error(i(423),{cause:f}),$u(qi(l,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,f=qi(f,u),y=s0(s.stateNode,f,y),Bg(s,y),Fn!==4&&(Fn=2)),!1;var v=Error(i(520),{cause:f});if(v=qi(v,u),ph===null?ph=[v]:ph.push(v),Fn!==4&&(Fn=2),l===null)return!0;f=qi(f,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=s0(u.stateNode,f,s),Bg(u,s),!1;case 1:if(l=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ja===null||!Ja.has(v))))return u.flags|=65536,y&=-y,u.lanes|=y,y=U_(y),V_(y,s,u,f),Bg(u,y),!1}u=u.return}while(u!==null);return!1}var z_=Error(i(461)),pr=!1;function Tr(s,l,u,f){l.child=s===null?C_(l,null,u,f):bc(l,s.child,u,f)}function j_(s,l,u,f,y){u=u.render;var v=l.ref;if("ref"in f){var V={};for(var X in f)X!=="ref"&&(V[X]=f[X])}else V=f;return sl(l),f=qg(s,l,u,V,v,y),X=Wg(),s!==null&&!pr?(Fg(s,l,y),ha(s,l,y)):(un&&X&&Tg(l),l.flags|=1,Tr(s,l,f,y),l.child)}function q_(s,l,u,f,y){if(s===null){var v=u.type;return typeof v=="function"&&!Eg(v)&&v.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=v,W_(s,l,v,f,y)):(s=cd(u.type,null,f,l,l.mode,y),s.ref=l.ref,s.return=l,l.child=s)}if(v=s.child,!d0(s,y)){var V=v.memoizedProps;if(u=u.compare,u=u!==null?u:Wu,u(V,f)&&s.ref===l.ref)return ha(s,l,y)}return l.flags|=1,s=ia(v,f),s.ref=l.ref,s.return=l,l.child=s}function W_(s,l,u,f,y){if(s!==null){var v=s.memoizedProps;if(Wu(v,f)&&s.ref===l.ref)if(pr=!1,l.pendingProps=f=v,d0(s,y))(s.flags&131072)!==0&&(pr=!0);else return l.lanes=s.lanes,ha(s,l,y)}return a0(s,l,u,f,y)}function F_(s,l,u){var f=l.pendingProps,y=f.children,v=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((l.flags&128)!==0){if(f=v!==null?v.baseLanes|u:u,s!==null){for(y=l.child=s.child,v=0;y!==null;)v=v|y.lanes|y.childLanes,y=y.sibling;l.childLanes=v&~f}else l.childLanes=0,l.child=null;return H_(s,l,f,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&pd(l,v!==null?v.cachePool:null),v!==null?W1(l,v):Vg(),M_(l);else return l.lanes=l.childLanes=536870912,H_(s,l,v!==null?v.baseLanes|u:u,u)}else v!==null?(pd(l,v.cachePool),W1(l,v),$a(),l.memoizedState=null):(s!==null&&pd(l,null),Vg(),$a());return Tr(s,l,y,u),l.child}function H_(s,l,u,f){var y=Ng();return y=y===null?null:{parent:lr._currentValue,pool:y},l.memoizedState={baseLanes:u,cachePool:y},s!==null&&pd(l,null),Vg(),M_(l),s!==null&&Gu(s,l,f,!0),null}function Md(s,l){var u=l.ref;if(u===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(s===null||s.ref!==u)&&(l.flags|=4194816)}}function a0(s,l,u,f,y){return sl(l),u=qg(s,l,u,f,void 0,y),f=Wg(),s!==null&&!pr?(Fg(s,l,y),ha(s,l,y)):(un&&f&&Tg(l),l.flags|=1,Tr(s,l,u,y),l.child)}function K_(s,l,u,f,y,v){return sl(l),l.updateQueue=null,u=H1(l,f,u,y),F1(s),f=Wg(),s!==null&&!pr?(Fg(s,l,v),ha(s,l,v)):(un&&f&&Tg(l),l.flags|=1,Tr(s,l,u,v),l.child)}function $_(s,l,u,f,y){if(sl(l),l.stateNode===null){var v=cc,V=u.contextType;typeof V=="object"&&V!==null&&(v=jr(V)),v=new u(f,v),l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=i0,l.stateNode=v,v._reactInternals=l,v=l.stateNode,v.props=f,v.state=l.memoizedState,v.refs={},Dg(l),V=u.contextType,v.context=typeof V=="object"&&V!==null?jr(V):cc,v.state=l.memoizedState,V=u.getDerivedStateFromProps,typeof V=="function"&&(r0(l,u,V,f),v.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(V=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),V!==v.state&&i0.enqueueReplaceState(v,v.state,null),th(l,f,v,y),eh(),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(s===null){v=l.stateNode;var X=l.memoizedProps,se=ll(u,X);v.props=se;var ve=v.context,Re=u.contextType;V=cc,typeof Re=="object"&&Re!==null&&(V=jr(Re));var Me=u.getDerivedStateFromProps;Re=typeof Me=="function"||typeof v.getSnapshotBeforeUpdate=="function",X=l.pendingProps!==X,Re||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(X||ve!==V)&&N_(l,v,f,V),qa=!1;var _e=l.memoizedState;v.state=_e,th(l,f,v,y),eh(),ve=l.memoizedState,X||_e!==ve||qa?(typeof Me=="function"&&(r0(l,u,Me,f),ve=l.memoizedState),(se=qa||O_(l,u,se,f,_e,ve,V))?(Re||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(l.flags|=4194308)):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=ve),v.props=f,v.state=ve,v.context=V,f=se):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{v=l.stateNode,Lg(s,l),V=l.memoizedProps,Re=ll(u,V),v.props=Re,Me=l.pendingProps,_e=v.context,ve=u.contextType,se=cc,typeof ve=="object"&&ve!==null&&(se=jr(ve)),X=u.getDerivedStateFromProps,(ve=typeof X=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(V!==Me||_e!==se)&&N_(l,v,f,se),qa=!1,_e=l.memoizedState,v.state=_e,th(l,f,v,y),eh();var Se=l.memoizedState;V!==Me||_e!==Se||qa||s!==null&&s.dependencies!==null&&fd(s.dependencies)?(typeof X=="function"&&(r0(l,u,X,f),Se=l.memoizedState),(Re=qa||O_(l,u,Re,f,_e,Se,se)||s!==null&&s.dependencies!==null&&fd(s.dependencies))?(ve||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,Se,se),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,Se,se)),typeof v.componentDidUpdate=="function"&&(l.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof v.componentDidUpdate!="function"||V===s.memoizedProps&&_e===s.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&_e===s.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=Se),v.props=f,v.state=Se,v.context=se,f=Re):(typeof v.componentDidUpdate!="function"||V===s.memoizedProps&&_e===s.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&_e===s.memoizedState||(l.flags|=1024),f=!1)}return v=f,Md(s,l),f=(l.flags&128)!==0,v||f?(v=l.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:v.render(),l.flags|=1,s!==null&&f?(l.child=bc(l,s.child,null,y),l.child=bc(l,null,u,y)):Tr(s,l,u,y),l.memoizedState=v.state,s=l.child):s=ha(s,l,y),s}function G_(s,l,u,f){return Ku(),l.flags|=256,Tr(s,l,u,f),l.child}var o0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function l0(s){return{baseLanes:s,cachePool:D1()}}function c0(s,l,u){return s=s!==null?s.childLanes&~u:0,l&&(s|=$i),s}function Y_(s,l,u){var f=l.pendingProps,y=!1,v=(l.flags&128)!==0,V;if((V=v)||(V=s!==null&&s.memoizedState===null?!1:(cr.current&2)!==0),V&&(y=!0,l.flags&=-129),V=(l.flags&32)!==0,l.flags&=-33,s===null){if(un){if(y?Ka(l):$a(),un){var X=Wn,se;if(se=X){e:{for(se=X,X=Ts;se.nodeType!==8;){if(!X){X=null;break e}if(se=is(se.nextSibling),se===null){X=null;break e}}X=se}X!==null?(l.memoizedState={dehydrated:X,treeContext:el!==null?{id:sa,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},se=Ei(18,null,null,0),se.stateNode=X,se.return=l,l.child=se,ni=l,Wn=null,se=!0):se=!1}se||rl(l)}if(X=l.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return K0(X)?l.lanes=32:l.lanes=536870912,null;ua(l)}return X=f.children,f=f.fallback,y?($a(),y=l.mode,X=Od({mode:"hidden",children:X},y),f=Jo(f,y,u,null),X.return=l,f.return=l,X.sibling=f,l.child=X,y=l.child,y.memoizedState=l0(u),y.childLanes=c0(s,V,u),l.memoizedState=o0,f):(Ka(l),u0(l,X))}if(se=s.memoizedState,se!==null&&(X=se.dehydrated,X!==null)){if(v)l.flags&256?(Ka(l),l.flags&=-257,l=h0(s,l,u)):l.memoizedState!==null?($a(),l.child=s.child,l.flags|=128,l=null):($a(),y=f.fallback,X=l.mode,f=Od({mode:"visible",children:f.children},X),y=Jo(y,X,u,null),y.flags|=2,f.return=l,y.return=l,f.sibling=y,l.child=f,bc(l,s.child,null,u),f=l.child,f.memoizedState=l0(u),f.childLanes=c0(s,V,u),l.memoizedState=o0,l=y);else if(Ka(l),K0(X)){if(V=X.nextSibling&&X.nextSibling.dataset,V)var ve=V.dgst;V=ve,f=Error(i(419)),f.stack="",f.digest=V,$u({value:f,source:null,stack:null}),l=h0(s,l,u)}else if(pr||Gu(s,l,u,!1),V=(u&s.childLanes)!==0,pr||V){if(V=kn,V!==null&&(f=u&-u,f=(f&42)!==0?1:Br(f),f=(f&(V.suspendedLanes|u))!==0?0:f,f!==0&&f!==se.retryLane))throw se.retryLane=f,lc(s,f),Ri(V,s,f),z_;X.data==="$?"||k0(),l=h0(s,l,u)}else X.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=se.treeContext,Wn=is(X.nextSibling),ni=l,un=!0,nl=null,Ts=!1,s!==null&&(Fi[Hi++]=sa,Fi[Hi++]=aa,Fi[Hi++]=el,sa=s.id,aa=s.overflow,el=l),l=u0(l,f.children),l.flags|=4096);return l}return y?($a(),y=f.fallback,X=l.mode,se=s.child,ve=se.sibling,f=ia(se,{mode:"hidden",children:f.children}),f.subtreeFlags=se.subtreeFlags&65011712,ve!==null?y=ia(ve,y):(y=Jo(y,X,u,null),y.flags|=2),y.return=l,f.return=l,f.sibling=y,l.child=f,f=y,y=l.child,X=s.child.memoizedState,X===null?X=l0(u):(se=X.cachePool,se!==null?(ve=lr._currentValue,se=se.parent!==ve?{parent:ve,pool:ve}:se):se=D1(),X={baseLanes:X.baseLanes|u,cachePool:se}),y.memoizedState=X,y.childLanes=c0(s,V,u),l.memoizedState=o0,f):(Ka(l),u=s.child,s=u.sibling,u=ia(u,{mode:"visible",children:f.children}),u.return=l,u.sibling=null,s!==null&&(V=l.deletions,V===null?(l.deletions=[s],l.flags|=16):V.push(s)),l.child=u,l.memoizedState=null,u)}function u0(s,l){return l=Od({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Od(s,l){return s=Ei(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function h0(s,l,u){return bc(l,s.child,null,u),s=u0(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function Q_(s,l,u){s.lanes|=l;var f=s.alternate;f!==null&&(f.lanes|=l),kg(s.return,l,u)}function f0(s,l,u,f,y){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y}:(v.isBackwards=l,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=y)}function X_(s,l,u){var f=l.pendingProps,y=f.revealOrder,v=f.tail;if(Tr(s,l,f.children,u),f=cr.current,(f&2)!==0)f=f&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Q_(s,u,l);else if(s.tag===19)Q_(s,u,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(_(cr,f),y){case"forwards":for(u=l.child,y=null;u!==null;)s=u.alternate,s!==null&&xd(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=l.child,l.child=null):(y=u.sibling,u.sibling=null),f0(l,!1,y,u,v);break;case"backwards":for(u=null,y=l.child,l.child=null;y!==null;){if(s=y.alternate,s!==null&&xd(s)===null){l.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}f0(l,!0,u,null,v);break;case"together":f0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ha(s,l,u){if(s!==null&&(l.dependencies=s.dependencies),Za|=l.lanes,(u&l.childLanes)===0)if(s!==null){if(Gu(s,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(i(153));if(l.child!==null){for(s=l.child,u=ia(s,s.pendingProps),l.child=u,u.return=l;s.sibling!==null;)s=s.sibling,u=u.sibling=ia(s,s.pendingProps),u.return=l;u.sibling=null}return l.child}function d0(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&fd(s)))}function t4(s,l,u){switch(l.tag){case 3:Ie(l,l.stateNode.containerInfo),ja(l,lr,s.memoizedState.cache),Ku();break;case 27:case 5:it(l);break;case 4:Ie(l,l.stateNode.containerInfo);break;case 10:ja(l,l.type,l.memoizedProps.value);break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(Ka(l),l.flags|=128,null):(u&l.child.childLanes)!==0?Y_(s,l,u):(Ka(l),s=ha(s,l,u),s!==null?s.sibling:null);Ka(l);break;case 19:var y=(s.flags&128)!==0;if(f=(u&l.childLanes)!==0,f||(Gu(s,l,u,!1),f=(u&l.childLanes)!==0),y){if(f)return X_(s,l,u);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),_(cr,cr.current),f)break;return null;case 22:case 23:return l.lanes=0,F_(s,l,u);case 24:ja(l,lr,s.memoizedState.cache)}return ha(s,l,u)}function Z_(s,l,u){if(s!==null)if(s.memoizedProps!==l.pendingProps)pr=!0;else{if(!d0(s,u)&&(l.flags&128)===0)return pr=!1,t4(s,l,u);pr=(s.flags&131072)!==0}else pr=!1,un&&(l.flags&1048576)!==0&&x1(l,hd,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var f=l.elementType,y=f._init;if(f=y(f._payload),l.type=f,typeof f=="function")Eg(f)?(s=ll(f,s),l.tag=1,l=$_(null,l,f,s,u)):(l.tag=0,l=a0(null,l,f,s,u));else{if(f!=null){if(y=f.$$typeof,y===re){l.tag=11,l=j_(null,l,f,s,u);break e}else if(y===Q){l.tag=14,l=q_(null,l,f,s,u);break e}}throw l=w(f)||f,Error(i(306,l,""))}}return l;case 0:return a0(s,l,l.type,l.pendingProps,u);case 1:return f=l.type,y=ll(f,l.pendingProps),$_(s,l,f,y,u);case 3:e:{if(Ie(l,l.stateNode.containerInfo),s===null)throw Error(i(387));f=l.pendingProps;var v=l.memoizedState;y=v.element,Lg(s,l),th(l,f,null,u);var V=l.memoizedState;if(f=V.cache,ja(l,lr,f),f!==v.cache&&Cg(l,[lr],u,!0),eh(),f=V.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:V.cache},l.updateQueue.baseState=v,l.memoizedState=v,l.flags&256){l=G_(s,l,f,u);break e}else if(f!==y){y=qi(Error(i(424)),l),$u(y),l=G_(s,l,f,u);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Wn=is(s.firstChild),ni=l,un=!0,nl=null,Ts=!0,u=C_(l,null,f,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ku(),f===y){l=ha(s,l,u);break e}Tr(s,l,f,u)}l=l.child}return l;case 26:return Md(s,l),s===null?(u=nS(l.type,null,l.pendingProps,null))?l.memoizedState=u:un||(u=l.type,s=l.pendingProps,f=Kd(ne.current).createElement(u),f[yt]=l,f[yn]=s,Rr(f,u,s),bn(f),l.stateNode=f):l.memoizedState=nS(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return it(l),s===null&&un&&(f=l.stateNode=JE(l.type,l.pendingProps,ne.current),ni=l,Ts=!0,y=Wn,no(l.type)?($0=y,Wn=is(f.firstChild)):Wn=y),Tr(s,l,l.pendingProps.children,u),Md(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&un&&((y=f=Wn)&&(f=k4(f,l.type,l.pendingProps,Ts),f!==null?(l.stateNode=f,ni=l,Wn=is(f.firstChild),Ts=!1,y=!0):y=!1),y||rl(l)),it(l),y=l.type,v=l.pendingProps,V=s!==null?s.memoizedProps:null,f=v.children,W0(y,v)?f=null:V!==null&&W0(y,V)&&(l.flags|=32),l.memoizedState!==null&&(y=qg(s,l,$M,null,null,u),Sh._currentValue=y),Md(s,l),Tr(s,l,f,u),l.child;case 6:return s===null&&un&&((s=u=Wn)&&(u=C4(u,l.pendingProps,Ts),u!==null?(l.stateNode=u,ni=l,Wn=null,s=!0):s=!1),s||rl(l)),null;case 13:return Y_(s,l,u);case 4:return Ie(l,l.stateNode.containerInfo),f=l.pendingProps,s===null?l.child=bc(l,null,f,u):Tr(s,l,f,u),l.child;case 11:return j_(s,l,l.type,l.pendingProps,u);case 7:return Tr(s,l,l.pendingProps,u),l.child;case 8:return Tr(s,l,l.pendingProps.children,u),l.child;case 12:return Tr(s,l,l.pendingProps.children,u),l.child;case 10:return f=l.pendingProps,ja(l,l.type,f.value),Tr(s,l,f.children,u),l.child;case 9:return y=l.type._context,f=l.pendingProps.children,sl(l),y=jr(y),f=f(y),l.flags|=1,Tr(s,l,f,u),l.child;case 14:return q_(s,l,l.type,l.pendingProps,u);case 15:return W_(s,l,l.type,l.pendingProps,u);case 19:return X_(s,l,u);case 31:return f=l.pendingProps,u=l.mode,f={mode:f.mode,children:f.children},s===null?(u=Od(f,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=ia(s.child,f),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return F_(s,l,u);case 24:return sl(l),f=jr(lr),s===null?(y=Ng(),y===null&&(y=kn,v=Mg(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=u),y=v),l.memoizedState={parent:f,cache:y},Dg(l),ja(l,lr,y)):((s.lanes&u)!==0&&(Lg(s,l),th(l,null,null,u),eh()),y=s.memoizedState,v=l.memoizedState,y.parent!==f?(y={parent:f,cache:f},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),ja(l,lr,f)):(f=v.cache,ja(l,lr,f),f!==y.cache&&Cg(l,[lr],u,!0))),Tr(s,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function fa(s){s.flags|=4}function J_(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!oS(l)){if(l=Ki.current,l!==null&&((Xt&4194048)===Xt?Is!==null:(Xt&62914560)!==Xt&&(Xt&536870912)===0||l!==Is))throw Zu=Pg,L1;s.flags|=8192}}function Nd(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?mi():536870912,s.lanes|=l,Sc|=l)}function lh(s,l){if(!un)switch(s.tailMode){case"hidden":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Bn(s){var l=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(l)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=f,s.childLanes=u,l}function n4(s,l,u){var f=l.pendingProps;switch(Ig(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(l),null;case 1:return Bn(l),null;case 3:return u=l.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),la(lr),De(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Hu(l)?fa(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,M1())),Bn(l),null;case 26:return u=l.memoizedState,s===null?(fa(l),u!==null?(Bn(l),J_(l,u)):(Bn(l),l.flags&=-16777217)):u?u!==s.memoizedState?(fa(l),Bn(l),J_(l,u)):(Bn(l),l.flags&=-16777217):(s.memoizedProps!==f&&fa(l),Bn(l),l.flags&=-16777217),null;case 27:ot(l),u=ne.current;var y=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==f&&fa(l);else{if(!f){if(l.stateNode===null)throw Error(i(166));return Bn(l),null}s=L.current,Hu(l)?k1(l):(s=JE(y,f,u),l.stateNode=s,fa(l))}return Bn(l),null;case 5:if(ot(l),u=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==f&&fa(l);else{if(!f){if(l.stateNode===null)throw Error(i(166));return Bn(l),null}if(s=L.current,Hu(l))k1(l);else{switch(y=Kd(ne.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?y.createElement(u,{is:f.is}):y.createElement(u)}}s[yt]=l,s[yn]=f;e:for(y=l.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===l)break e;for(;y.sibling===null;){if(y.return===null||y.return===l)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}l.stateNode=s;e:switch(Rr(s,u,f),u){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&fa(l)}}return Bn(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==f&&fa(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(i(166));if(s=ne.current,Hu(l)){if(s=l.stateNode,u=l.memoizedProps,f=null,y=ni,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}s[yt]=l,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||KE(s.nodeValue,u)),s||rl(l)}else s=Kd(s).createTextNode(f),s[yt]=l,l.stateNode=s}return Bn(l),null;case 13:if(f=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Hu(l),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(i(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[yt]=l}else Ku(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Bn(l),y=!1}else y=M1(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(ua(l),l):(ua(l),null)}if(ua(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=f!==null,s=s!==null&&s.memoizedState!==null,u){f=l.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==y&&(f.flags|=2048)}return u!==s&&u&&(l.child.flags|=8192),Nd(l,l.updateQueue),Bn(l),null;case 4:return De(),s===null&&U0(l.stateNode.containerInfo),Bn(l),null;case 10:return la(l.type),Bn(l),null;case 19:if(b(cr),y=l.memoizedState,y===null)return Bn(l),null;if(f=(l.flags&128)!==0,v=y.rendering,v===null)if(f)lh(y,!1);else{if(Fn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(v=xd(s),v!==null){for(l.flags|=128,lh(y,!1),s=v.updateQueue,l.updateQueue=s,Nd(l,s),l.subtreeFlags=0,s=u,u=l.child;u!==null;)R1(u,s),u=u.sibling;return _(cr,cr.current&1|2),l.child}s=s.sibling}y.tail!==null&&Et()>Ld&&(l.flags|=128,f=!0,lh(y,!1),l.lanes=4194304)}else{if(!f)if(s=xd(v),s!==null){if(l.flags|=128,f=!0,s=s.updateQueue,l.updateQueue=s,Nd(l,s),lh(y,!0),y.tail===null&&y.tailMode==="hidden"&&!v.alternate&&!un)return Bn(l),null}else 2*Et()-y.renderingStartTime>Ld&&u!==536870912&&(l.flags|=128,f=!0,lh(y,!1),l.lanes=4194304);y.isBackwards?(v.sibling=l.child,l.child=v):(s=y.last,s!==null?s.sibling=v:l.child=v,y.last=v)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Et(),l.sibling=null,s=cr.current,_(cr,f?s&1|2:s&1),l):(Bn(l),null);case 22:case 23:return ua(l),zg(),f=l.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(u&536870912)!==0&&(l.flags&128)===0&&(Bn(l),l.subtreeFlags&6&&(l.flags|=8192)):Bn(l),u=l.updateQueue,u!==null&&Nd(l,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048),s!==null&&b(al),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),la(lr),Bn(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function r4(s,l){switch(Ig(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return la(lr),De(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return ot(l),null;case 13:if(ua(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Ku()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return b(cr),null;case 4:return De(),null;case 10:return la(l.type),null;case 22:case 23:return ua(l),zg(),s!==null&&b(al),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return la(lr),null;case 25:return null;default:return null}}function eE(s,l){switch(Ig(l),l.tag){case 3:la(lr),De();break;case 26:case 27:case 5:ot(l);break;case 4:De();break;case 13:ua(l);break;case 19:b(cr);break;case 10:la(l.type);break;case 22:case 23:ua(l),zg(),s!==null&&b(al);break;case 24:la(lr)}}function ch(s,l){try{var u=l.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&s)===s){f=void 0;var v=u.create,V=u.inst;f=v(),V.destroy=f}u=u.next}while(u!==y)}}catch(X){Rn(l,l.return,X)}}function Ga(s,l,u){try{var f=l.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var v=y.next;f=v;do{if((f.tag&s)===s){var V=f.inst,X=V.destroy;if(X!==void 0){V.destroy=void 0,y=l;var se=u,ve=X;try{ve()}catch(Re){Rn(y,se,Re)}}}f=f.next}while(f!==v)}}catch(Re){Rn(l,l.return,Re)}}function tE(s){var l=s.updateQueue;if(l!==null){var u=s.stateNode;try{q1(l,u)}catch(f){Rn(s,s.return,f)}}}function nE(s,l,u){u.props=ll(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){Rn(s,l,f)}}function uh(s,l){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(y){Rn(s,l,y)}}function Rs(s,l){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){Rn(s,l,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Rn(s,l,y)}else u.current=null}function rE(s){var l=s.type,u=s.memoizedProps,f=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){Rn(s,s.return,y)}}function p0(s,l,u){try{var f=s.stateNode;A4(f,s.type,u,l),f[yn]=l}catch(y){Rn(s,s.return,y)}}function iE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&no(s.type)||s.tag===4}function m0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||iE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&no(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function g0(s,l,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(s),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Hd));else if(f!==4&&(f===27&&no(s.type)&&(u=s.stateNode,l=null),s=s.child,s!==null))for(g0(s,l,u),s=s.sibling;s!==null;)g0(s,l,u),s=s.sibling}function Pd(s,l,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,l?u.insertBefore(s,l):u.appendChild(s);else if(f!==4&&(f===27&&no(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Pd(s,l,u),s=s.sibling;s!==null;)Pd(s,l,u),s=s.sibling}function sE(s){var l=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);Rr(l,f,u),l[yt]=s,l[yn]=u}catch(v){Rn(s,s.return,v)}}var da=!1,Yn=!1,y0=!1,aE=typeof WeakSet=="function"?WeakSet:Set,mr=null;function i4(s,l){if(s=s.containerInfo,j0=Zd,s=y1(s),mg(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var V=0,X=-1,se=-1,ve=0,Re=0,Me=s,_e=null;t:for(;;){for(var Se;Me!==u||y!==0&&Me.nodeType!==3||(X=V+y),Me!==v||f!==0&&Me.nodeType!==3||(se=V+f),Me.nodeType===3&&(V+=Me.nodeValue.length),(Se=Me.firstChild)!==null;)_e=Me,Me=Se;for(;;){if(Me===s)break t;if(_e===u&&++ve===y&&(X=V),_e===v&&++Re===f&&(se=V),(Se=Me.nextSibling)!==null)break;Me=_e,_e=Me.parentNode}Me=Se}u=X===-1||se===-1?null:{start:X,end:se}}else u=null}u=u||{start:0,end:0}}else u=null;for(q0={focusedElem:s,selectionRange:u},Zd=!1,mr=l;mr!==null;)if(l=mr,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,mr=s;else for(;mr!==null;){switch(l=mr,v=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,u=l,y=v.memoizedProps,v=v.memoizedState,f=u.stateNode;try{var pt=ll(u.type,y,u.elementType===u.type);s=f.getSnapshotBeforeUpdate(pt,v),f.__reactInternalSnapshotBeforeUpdate=s}catch(ct){Rn(u,u.return,ct)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,u=s.nodeType,u===9)H0(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":H0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=l.sibling,s!==null){s.return=l.return,mr=s;break}mr=l.return}}function oE(s,l,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Ya(s,u),f&4&&ch(5,u);break;case 1:if(Ya(s,u),f&4)if(s=u.stateNode,l===null)try{s.componentDidMount()}catch(V){Rn(u,u.return,V)}else{var y=ll(u.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(y,l,s.__reactInternalSnapshotBeforeUpdate)}catch(V){Rn(u,u.return,V)}}f&64&&tE(u),f&512&&uh(u,u.return);break;case 3:if(Ya(s,u),f&64&&(s=u.updateQueue,s!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{q1(s,l)}catch(V){Rn(u,u.return,V)}}break;case 27:l===null&&f&4&&sE(u);case 26:case 5:Ya(s,u),l===null&&f&4&&rE(u),f&512&&uh(u,u.return);break;case 12:Ya(s,u);break;case 13:Ya(s,u),f&4&&uE(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=d4.bind(null,u),M4(s,u))));break;case 22:if(f=u.memoizedState!==null||da,!f){l=l!==null&&l.memoizedState!==null||Yn,y=da;var v=Yn;da=f,(Yn=l)&&!v?Qa(s,u,(u.subtreeFlags&8772)!==0):Ya(s,u),da=y,Yn=v}break;case 30:break;default:Ya(s,u)}}function lE(s){var l=s.alternate;l!==null&&(s.alternate=null,lE(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Gt(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Dn=null,li=!1;function pa(s,l,u){for(u=u.child;u!==null;)cE(s,l,u),u=u.sibling}function cE(s,l,u){if(H&&typeof H.onCommitFiberUnmount=="function")try{H.onCommitFiberUnmount(ft,u)}catch{}switch(u.tag){case 26:Yn||Rs(u,l),pa(s,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Yn||Rs(u,l);var f=Dn,y=li;no(u.type)&&(Dn=u.stateNode,li=!1),pa(s,l,u),bh(u.stateNode),Dn=f,li=y;break;case 5:Yn||Rs(u,l);case 6:if(f=Dn,y=li,Dn=null,pa(s,l,u),Dn=f,li=y,Dn!==null)if(li)try{(Dn.nodeType===9?Dn.body:Dn.nodeName==="HTML"?Dn.ownerDocument.body:Dn).removeChild(u.stateNode)}catch(v){Rn(u,l,v)}else try{Dn.removeChild(u.stateNode)}catch(v){Rn(u,l,v)}break;case 18:Dn!==null&&(li?(s=Dn,XE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Rh(s)):XE(Dn,u.stateNode));break;case 4:f=Dn,y=li,Dn=u.stateNode.containerInfo,li=!0,pa(s,l,u),Dn=f,li=y;break;case 0:case 11:case 14:case 15:Yn||Ga(2,u,l),Yn||Ga(4,u,l),pa(s,l,u);break;case 1:Yn||(Rs(u,l),f=u.stateNode,typeof f.componentWillUnmount=="function"&&nE(u,l,f)),pa(s,l,u);break;case 21:pa(s,l,u);break;case 22:Yn=(f=Yn)||u.memoizedState!==null,pa(s,l,u),Yn=f;break;default:pa(s,l,u)}}function uE(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Rh(s)}catch(u){Rn(l,l.return,u)}}function s4(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new aE),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new aE),l;default:throw Error(i(435,s.tag))}}function w0(s,l){var u=s4(s);l.forEach(function(f){var y=p4.bind(null,s,f);u.has(f)||(u.add(f),f.then(y,y))})}function Si(s,l){var u=l.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],v=s,V=l,X=V;e:for(;X!==null;){switch(X.tag){case 27:if(no(X.type)){Dn=X.stateNode,li=!1;break e}break;case 5:Dn=X.stateNode,li=!1;break e;case 3:case 4:Dn=X.stateNode.containerInfo,li=!0;break e}X=X.return}if(Dn===null)throw Error(i(160));cE(v,V,y),Dn=null,li=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)hE(l,s),l=l.sibling}var rs=null;function hE(s,l){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Si(l,s),Ai(s),f&4&&(Ga(3,s,s.return),ch(3,s),Ga(5,s,s.return));break;case 1:Si(l,s),Ai(s),f&512&&(Yn||u===null||Rs(u,u.return)),f&64&&da&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=rs;if(Si(l,s),Ai(s),f&512&&(Yn||u===null||Rs(u,u.return)),f&4){var v=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){e:{f=s.type,u=s.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":v=y.getElementsByTagName("title")[0],(!v||v[si]||v[yt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(f),y.head.insertBefore(v,y.querySelector("head > title"))),Rr(v,f,u),v[yt]=s,bn(v),f=v;break e;case"link":var V=sS("link","href",y).get(f+(u.href||""));if(V){for(var X=0;X<V.length;X++)if(v=V[X],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){V.splice(X,1);break t}}v=y.createElement(f),Rr(v,f,u),y.head.appendChild(v);break;case"meta":if(V=sS("meta","content",y).get(f+(u.content||""))){for(X=0;X<V.length;X++)if(v=V[X],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){V.splice(X,1);break t}}v=y.createElement(f),Rr(v,f,u),y.head.appendChild(v);break;default:throw Error(i(468,f))}v[yt]=s,bn(v),f=v}s.stateNode=f}else aS(y,s.type,s.stateNode);else s.stateNode=iS(y,f,s.memoizedProps);else v!==f?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,f===null?aS(y,s.type,s.stateNode):iS(y,f,s.memoizedProps)):f===null&&s.stateNode!==null&&p0(s,s.memoizedProps,u.memoizedProps)}break;case 27:Si(l,s),Ai(s),f&512&&(Yn||u===null||Rs(u,u.return)),u!==null&&f&4&&p0(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Si(l,s),Ai(s),f&512&&(Yn||u===null||Rs(u,u.return)),s.flags&32){y=s.stateNode;try{dn(y,"")}catch(Se){Rn(s,s.return,Se)}}f&4&&s.stateNode!=null&&(y=s.memoizedProps,p0(s,y,u!==null?u.memoizedProps:y)),f&1024&&(y0=!0);break;case 6:if(Si(l,s),Ai(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(Se){Rn(s,s.return,Se)}}break;case 3:if(Yd=null,y=rs,rs=$d(l.containerInfo),Si(l,s),rs=y,Ai(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Rh(l.containerInfo)}catch(Se){Rn(s,s.return,Se)}y0&&(y0=!1,fE(s));break;case 4:f=rs,rs=$d(s.stateNode.containerInfo),Si(l,s),Ai(s),rs=f;break;case 12:Si(l,s),Ai(s);break;case 13:Si(l,s),Ai(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(A0=Et()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,w0(s,f)));break;case 22:y=s.memoizedState!==null;var se=u!==null&&u.memoizedState!==null,ve=da,Re=Yn;if(da=ve||y,Yn=Re||se,Si(l,s),Yn=Re,da=ve,Ai(s),f&8192)e:for(l=s.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(u===null||se||da||Yn||cl(s)),u=null,l=s;;){if(l.tag===5||l.tag===26){if(u===null){se=u=l;try{if(v=se.stateNode,y)V=v.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{X=se.stateNode;var Me=se.memoizedProps.style,_e=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;X.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(Se){Rn(se,se.return,Se)}}}else if(l.tag===6){if(u===null){se=l;try{se.stateNode.nodeValue=y?"":se.memoizedProps}catch(Se){Rn(se,se.return,Se)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,w0(s,u))));break;case 19:Si(l,s),Ai(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,w0(s,f)));break;case 30:break;case 21:break;default:Si(l,s),Ai(s)}}function Ai(s){var l=s.flags;if(l&2){try{for(var u,f=s.return;f!==null;){if(iE(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var y=u.stateNode,v=m0(s);Pd(s,v,y);break;case 5:var V=u.stateNode;u.flags&32&&(dn(V,""),u.flags&=-33);var X=m0(s);Pd(s,X,V);break;case 3:case 4:var se=u.stateNode.containerInfo,ve=m0(s);g0(s,ve,se);break;default:throw Error(i(161))}}catch(Re){Rn(s,s.return,Re)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function fE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;fE(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Ya(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)oE(s,l.alternate,l),l=l.sibling}function cl(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Ga(4,l,l.return),cl(l);break;case 1:Rs(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&nE(l,l.return,u),cl(l);break;case 27:bh(l.stateNode);case 26:case 5:Rs(l,l.return),cl(l);break;case 22:l.memoizedState===null&&cl(l);break;case 30:cl(l);break;default:cl(l)}s=s.sibling}}function Qa(s,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,y=s,v=l,V=v.flags;switch(v.tag){case 0:case 11:case 15:Qa(y,v,u),ch(4,v);break;case 1:if(Qa(y,v,u),f=v,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ve){Rn(f,f.return,ve)}if(f=v,y=f.updateQueue,y!==null){var X=f.stateNode;try{var se=y.shared.hiddenCallbacks;if(se!==null)for(y.shared.hiddenCallbacks=null,y=0;y<se.length;y++)j1(se[y],X)}catch(ve){Rn(f,f.return,ve)}}u&&V&64&&tE(v),uh(v,v.return);break;case 27:sE(v);case 26:case 5:Qa(y,v,u),u&&f===null&&V&4&&rE(v),uh(v,v.return);break;case 12:Qa(y,v,u);break;case 13:Qa(y,v,u),u&&V&4&&uE(y,v);break;case 22:v.memoizedState===null&&Qa(y,v,u),uh(v,v.return);break;case 30:break;default:Qa(y,v,u)}l=l.sibling}}function b0(s,l){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Yu(u))}function v0(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Yu(s))}function xs(s,l,u,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)dE(s,l,u,f),l=l.sibling}function dE(s,l,u,f){var y=l.flags;switch(l.tag){case 0:case 11:case 15:xs(s,l,u,f),y&2048&&ch(9,l);break;case 1:xs(s,l,u,f);break;case 3:xs(s,l,u,f),y&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Yu(s)));break;case 12:if(y&2048){xs(s,l,u,f),s=l.stateNode;try{var v=l.memoizedProps,V=v.id,X=v.onPostCommit;typeof X=="function"&&X(V,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(se){Rn(l,l.return,se)}}else xs(s,l,u,f);break;case 13:xs(s,l,u,f);break;case 23:break;case 22:v=l.stateNode,V=l.alternate,l.memoizedState!==null?v._visibility&2?xs(s,l,u,f):hh(s,l):v._visibility&2?xs(s,l,u,f):(v._visibility|=2,vc(s,l,u,f,(l.subtreeFlags&10256)!==0)),y&2048&&b0(V,l);break;case 24:xs(s,l,u,f),y&2048&&v0(l.alternate,l);break;default:xs(s,l,u,f)}}function vc(s,l,u,f,y){for(y=y&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var v=s,V=l,X=u,se=f,ve=V.flags;switch(V.tag){case 0:case 11:case 15:vc(v,V,X,se,y),ch(8,V);break;case 23:break;case 22:var Re=V.stateNode;V.memoizedState!==null?Re._visibility&2?vc(v,V,X,se,y):hh(v,V):(Re._visibility|=2,vc(v,V,X,se,y)),y&&ve&2048&&b0(V.alternate,V);break;case 24:vc(v,V,X,se,y),y&&ve&2048&&v0(V.alternate,V);break;default:vc(v,V,X,se,y)}l=l.sibling}}function hh(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=s,f=l,y=f.flags;switch(f.tag){case 22:hh(u,f),y&2048&&b0(f.alternate,f);break;case 24:hh(u,f),y&2048&&v0(f.alternate,f);break;default:hh(u,f)}l=l.sibling}}var fh=8192;function _c(s){if(s.subtreeFlags&fh)for(s=s.child;s!==null;)pE(s),s=s.sibling}function pE(s){switch(s.tag){case 26:_c(s),s.flags&fh&&s.memoizedState!==null&&F4(rs,s.memoizedState,s.memoizedProps);break;case 5:_c(s);break;case 3:case 4:var l=rs;rs=$d(s.stateNode.containerInfo),_c(s),rs=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=fh,fh=16777216,_c(s),fh=l):_c(s));break;default:_c(s)}}function mE(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function dh(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var f=l[u];mr=f,yE(f,s)}mE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)gE(s),s=s.sibling}function gE(s){switch(s.tag){case 0:case 11:case 15:dh(s),s.flags&2048&&Ga(9,s,s.return);break;case 3:dh(s);break;case 12:dh(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Dd(s)):dh(s);break;default:dh(s)}}function Dd(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var f=l[u];mr=f,yE(f,s)}mE(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Ga(8,l,l.return),Dd(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,Dd(l));break;default:Dd(l)}s=s.sibling}}function yE(s,l){for(;mr!==null;){var u=mr;switch(u.tag){case 0:case 11:case 15:Ga(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Yu(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,mr=f;else e:for(u=s;mr!==null;){f=mr;var y=f.sibling,v=f.return;if(lE(f),f===u){mr=null;break e}if(y!==null){y.return=v,mr=y;break e}mr=v}}}var a4={getCacheForType:function(s){var l=jr(lr),u=l.data.get(s);return u===void 0&&(u=s(),l.data.set(s,u)),u}},o4=typeof WeakMap=="function"?WeakMap:Map,vn=0,kn=null,Pt=null,Xt=0,_n=0,Ti=null,Xa=!1,Ec=!1,_0=!1,ma=0,Fn=0,Za=0,ul=0,E0=0,$i=0,Sc=0,ph=null,ci=null,S0=!1,A0=0,Ld=1/0,Bd=null,Ja=null,Ir=0,eo=null,Ac=null,Tc=0,T0=0,I0=null,wE=null,mh=0,R0=null;function Ii(){if((vn&2)!==0&&Xt!==0)return Xt&-Xt;if(C.T!==null){var s=fc;return s!==0?s:P0()}return rn()}function bE(){$i===0&&($i=(Xt&536870912)===0||un?Kt():536870912);var s=Ki.current;return s!==null&&(s.flags|=32),$i}function Ri(s,l,u){(s===kn&&(_n===2||_n===9)||s.cancelPendingCommit!==null)&&(Ic(s,0),to(s,Xt,$i,!1)),Wt(s,u),((vn&2)===0||s!==kn)&&(s===kn&&((vn&2)===0&&(ul|=u),Fn===4&&to(s,Xt,$i,!1)),ks(s))}function vE(s,l,u){if((vn&6)!==0)throw Error(i(327));var f=!u&&(l&124)===0&&(l&s.expiredLanes)===0||St(s,l),y=f?u4(s,l):C0(s,l,!0),v=f;do{if(y===0){Ec&&!f&&to(s,l,0,!1);break}else{if(u=s.current.alternate,v&&!l4(u)){y=C0(s,l,!1),v=!1;continue}if(y===2){if(v=l,s.errorRecoveryDisabledLanes&v)var V=0;else V=s.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){l=V;e:{var X=s;y=ph;var se=X.current.memoizedState.isDehydrated;if(se&&(Ic(X,V).flags|=256),V=C0(X,V,!1),V!==2){if(_0&&!se){X.errorRecoveryDisabledLanes|=v,ul|=v,y=4;break e}v=ci,ci=y,v!==null&&(ci===null?ci=v:ci.push.apply(ci,v))}y=V}if(v=!1,y!==2)continue}}if(y===1){Ic(s,0),to(s,l,0,!0);break}e:{switch(f=s,v=y,v){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:to(f,l,$i,!Xa);break e;case 2:ci=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(y=A0+300-Et(),10<y)){if(to(f,l,$i,!Xa),Ze(f,0,!0)!==0)break e;f.timeoutHandle=YE(_E.bind(null,f,u,ci,Bd,S0,l,$i,ul,Sc,Xa,v,2,-0,0),y);break e}_E(f,u,ci,Bd,S0,l,$i,ul,Sc,Xa,v,0,-0,0)}}break}while(!0);ks(s)}function _E(s,l,u,f,y,v,V,X,se,ve,Re,Me,_e,Se){if(s.timeoutHandle=-1,Me=l.subtreeFlags,(Me&8192||(Me&16785408)===16785408)&&(Eh={stylesheets:null,count:0,unsuspend:W4},pE(l),Me=H4(),Me!==null)){s.cancelPendingCommit=Me(xE.bind(null,s,l,v,u,f,y,V,X,se,Re,1,_e,Se)),to(s,v,V,!ve);return}xE(s,l,v,u,f,y,V,X,se)}function l4(s){for(var l=s;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],v=y.getSnapshot;y=y.value;try{if(!_i(v(),y))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function to(s,l,u,f){l&=~E0,l&=~ul,s.suspendedLanes|=l,s.pingedLanes&=~l,f&&(s.warmLanes|=l),f=s.expirationTimes;for(var y=l;0<y;){var v=31-k(y),V=1<<v;f[v]=-1,y&=~V}u!==0&&bt(s,u,l)}function Ud(){return(vn&6)===0?(gh(0),!1):!0}function x0(){if(Pt!==null){if(_n===0)var s=Pt.return;else s=Pt,oa=il=null,Hg(s),wc=null,ah=0,s=Pt;for(;s!==null;)eE(s.alternate,s),s=s.return;Pt=null}}function Ic(s,l){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,I4(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),x0(),kn=s,Pt=u=ia(s.current,null),Xt=l,_n=0,Ti=null,Xa=!1,Ec=St(s,l),_0=!1,Sc=$i=E0=ul=Za=Fn=0,ci=ph=null,S0=!1,(l&8)!==0&&(l|=l&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=l;0<f;){var y=31-k(f),v=1<<y;l|=s[y],f&=~v}return ma=l,ad(),u}function EE(s,l){kt=null,C.H=Td,l===Xu||l===md?(l=V1(),_n=3):l===L1?(l=V1(),_n=4):_n=l===z_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ti=l,Pt===null&&(Fn=1,Cd(s,qi(l,s.current)))}function SE(){var s=C.H;return C.H=Td,s===null?Td:s}function AE(){var s=C.A;return C.A=a4,s}function k0(){Fn=4,Xa||(Xt&4194048)!==Xt&&Ki.current!==null||(Ec=!0),(Za&134217727)===0&&(ul&134217727)===0||kn===null||to(kn,Xt,$i,!1)}function C0(s,l,u){var f=vn;vn|=2;var y=SE(),v=AE();(kn!==s||Xt!==l)&&(Bd=null,Ic(s,l)),l=!1;var V=Fn;e:do try{if(_n!==0&&Pt!==null){var X=Pt,se=Ti;switch(_n){case 8:x0(),V=6;break e;case 3:case 2:case 9:case 6:Ki.current===null&&(l=!0);var ve=_n;if(_n=0,Ti=null,Rc(s,X,se,ve),u&&Ec){V=0;break e}break;default:ve=_n,_n=0,Ti=null,Rc(s,X,se,ve)}}c4(),V=Fn;break}catch(Re){EE(s,Re)}while(!0);return l&&s.shellSuspendCounter++,oa=il=null,vn=f,C.H=y,C.A=v,Pt===null&&(kn=null,Xt=0,ad()),V}function c4(){for(;Pt!==null;)TE(Pt)}function u4(s,l){var u=vn;vn|=2;var f=SE(),y=AE();kn!==s||Xt!==l?(Bd=null,Ld=Et()+500,Ic(s,l)):Ec=St(s,l);e:do try{if(_n!==0&&Pt!==null){l=Pt;var v=Ti;t:switch(_n){case 1:_n=0,Ti=null,Rc(s,l,v,1);break;case 2:case 9:if(B1(v)){_n=0,Ti=null,IE(l);break}l=function(){_n!==2&&_n!==9||kn!==s||(_n=7),ks(s)},v.then(l,l);break e;case 3:_n=7;break e;case 4:_n=5;break e;case 7:B1(v)?(_n=0,Ti=null,IE(l)):(_n=0,Ti=null,Rc(s,l,v,7));break;case 5:var V=null;switch(Pt.tag){case 26:V=Pt.memoizedState;case 5:case 27:var X=Pt;if(!V||oS(V)){_n=0,Ti=null;var se=X.sibling;if(se!==null)Pt=se;else{var ve=X.return;ve!==null?(Pt=ve,Vd(ve)):Pt=null}break t}}_n=0,Ti=null,Rc(s,l,v,5);break;case 6:_n=0,Ti=null,Rc(s,l,v,6);break;case 8:x0(),Fn=6;break e;default:throw Error(i(462))}}h4();break}catch(Re){EE(s,Re)}while(!0);return oa=il=null,C.H=f,C.A=y,vn=u,Pt!==null?0:(kn=null,Xt=0,ad(),Fn)}function h4(){for(;Pt!==null&&!en();)TE(Pt)}function TE(s){var l=Z_(s.alternate,s,ma);s.memoizedProps=s.pendingProps,l===null?Vd(s):Pt=l}function IE(s){var l=s,u=l.alternate;switch(l.tag){case 15:case 0:l=K_(u,l,l.pendingProps,l.type,void 0,Xt);break;case 11:l=K_(u,l,l.pendingProps,l.type.render,l.ref,Xt);break;case 5:Hg(l);default:eE(u,l),l=Pt=R1(l,ma),l=Z_(u,l,ma)}s.memoizedProps=s.pendingProps,l===null?Vd(s):Pt=l}function Rc(s,l,u,f){oa=il=null,Hg(l),wc=null,ah=0;var y=l.return;try{if(e4(s,y,l,u,Xt)){Fn=1,Cd(s,qi(u,s.current)),Pt=null;return}}catch(v){if(y!==null)throw Pt=y,v;Fn=1,Cd(s,qi(u,s.current)),Pt=null;return}l.flags&32768?(un||f===1?s=!0:Ec||(Xt&536870912)!==0?s=!1:(Xa=s=!0,(f===2||f===9||f===3||f===6)&&(f=Ki.current,f!==null&&f.tag===13&&(f.flags|=16384))),RE(l,s)):Vd(l)}function Vd(s){var l=s;do{if((l.flags&32768)!==0){RE(l,Xa);return}s=l.return;var u=n4(l.alternate,l,ma);if(u!==null){Pt=u;return}if(l=l.sibling,l!==null){Pt=l;return}Pt=l=s}while(l!==null);Fn===0&&(Fn=5)}function RE(s,l){do{var u=r4(s.alternate,s);if(u!==null){u.flags&=32767,Pt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(s=s.sibling,s!==null)){Pt=s;return}Pt=s=u}while(s!==null);Fn=6,Pt=null}function xE(s,l,u,f,y,v,V,X,se){s.cancelPendingCommit=null;do zd();while(Ir!==0);if((vn&6)!==0)throw Error(i(327));if(l!==null){if(l===s.current)throw Error(i(177));if(v=l.lanes|l.childLanes,v|=vg,gi(s,u,v,V,X,se),s===kn&&(Pt=kn=null,Xt=0),Ac=l,eo=s,Tc=u,T0=v,I0=y,wE=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,m4(Nt,function(){return NE(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=C.T,C.T=null,y=j.p,j.p=2,V=vn,vn|=4;try{i4(s,l,u)}finally{vn=V,j.p=y,C.T=f}}Ir=1,kE(),CE(),ME()}}function kE(){if(Ir===1){Ir=0;var s=eo,l=Ac,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=C.T,C.T=null;var f=j.p;j.p=2;var y=vn;vn|=4;try{hE(l,s);var v=q0,V=y1(s.containerInfo),X=v.focusedElem,se=v.selectionRange;if(V!==X&&X&&X.ownerDocument&&g1(X.ownerDocument.documentElement,X)){if(se!==null&&mg(X)){var ve=se.start,Re=se.end;if(Re===void 0&&(Re=ve),"selectionStart"in X)X.selectionStart=ve,X.selectionEnd=Math.min(Re,X.value.length);else{var Me=X.ownerDocument||document,_e=Me&&Me.defaultView||window;if(_e.getSelection){var Se=_e.getSelection(),pt=X.textContent.length,ct=Math.min(se.start,pt),In=se.end===void 0?ct:Math.min(se.end,pt);!Se.extend&&ct>In&&(V=In,In=ct,ct=V);var me=m1(X,ct),he=m1(X,In);if(me&&he&&(Se.rangeCount!==1||Se.anchorNode!==me.node||Se.anchorOffset!==me.offset||Se.focusNode!==he.node||Se.focusOffset!==he.offset)){var we=Me.createRange();we.setStart(me.node,me.offset),Se.removeAllRanges(),ct>In?(Se.addRange(we),Se.extend(he.node,he.offset)):(we.setEnd(he.node,he.offset),Se.addRange(we))}}}}for(Me=[],Se=X;Se=Se.parentNode;)Se.nodeType===1&&Me.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<Me.length;X++){var xe=Me[X];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}Zd=!!j0,q0=j0=null}finally{vn=y,j.p=f,C.T=u}}s.current=l,Ir=2}}function CE(){if(Ir===2){Ir=0;var s=eo,l=Ac,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=C.T,C.T=null;var f=j.p;j.p=2;var y=vn;vn|=4;try{oE(s,l.alternate,l)}finally{vn=y,j.p=f,C.T=u}}Ir=3}}function ME(){if(Ir===4||Ir===3){Ir=0,Jr();var s=eo,l=Ac,u=Tc,f=wE;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ir=5:(Ir=0,Ac=eo=null,OE(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(Ja=null),fn(u),l=l.stateNode,H&&typeof H.onCommitFiberRoot=="function")try{H.onCommitFiberRoot(ft,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=C.T,y=j.p,j.p=2,C.T=null;try{for(var v=s.onRecoverableError,V=0;V<f.length;V++){var X=f[V];v(X.value,{componentStack:X.stack})}}finally{C.T=l,j.p=y}}(Tc&3)!==0&&zd(),ks(s),y=s.pendingLanes,(u&4194090)!==0&&(y&42)!==0?s===R0?mh++:(mh=0,R0=s):mh=0,gh(0)}}function OE(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Yu(l)))}function zd(s){return kE(),CE(),ME(),NE()}function NE(){if(Ir!==5)return!1;var s=eo,l=T0;T0=0;var u=fn(Tc),f=C.T,y=j.p;try{j.p=32>u?32:u,C.T=null,u=I0,I0=null;var v=eo,V=Tc;if(Ir=0,Ac=eo=null,Tc=0,(vn&6)!==0)throw Error(i(331));var X=vn;if(vn|=4,gE(v.current),dE(v,v.current,V,u),vn=X,gh(0,!1),H&&typeof H.onPostCommitFiberRoot=="function")try{H.onPostCommitFiberRoot(ft,v)}catch{}return!0}finally{j.p=y,C.T=f,OE(s,l)}}function PE(s,l,u){l=qi(u,l),l=s0(s.stateNode,l,2),s=Fa(s,l,2),s!==null&&(Wt(s,2),ks(s))}function Rn(s,l,u){if(s.tag===3)PE(s,s,u);else for(;l!==null;){if(l.tag===3){PE(l,s,u);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ja===null||!Ja.has(f))){s=qi(u,s),u=U_(2),f=Fa(l,u,2),f!==null&&(V_(u,f,l,s),Wt(f,2),ks(f));break}}l=l.return}}function M0(s,l,u){var f=s.pingCache;if(f===null){f=s.pingCache=new o4;var y=new Set;f.set(l,y)}else y=f.get(l),y===void 0&&(y=new Set,f.set(l,y));y.has(u)||(_0=!0,y.add(u),s=f4.bind(null,s,l,u),l.then(s,s))}function f4(s,l,u){var f=s.pingCache;f!==null&&f.delete(l),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,kn===s&&(Xt&u)===u&&(Fn===4||Fn===3&&(Xt&62914560)===Xt&&300>Et()-A0?(vn&2)===0&&Ic(s,0):E0|=u,Sc===Xt&&(Sc=0)),ks(s)}function DE(s,l){l===0&&(l=mi()),s=lc(s,l),s!==null&&(Wt(s,l),ks(s))}function d4(s){var l=s.memoizedState,u=0;l!==null&&(u=l.retryLane),DE(s,u)}function p4(s,l){var u=0;switch(s.tag){case 13:var f=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(l),DE(s,u)}function m4(s,l){return Nn(s,l)}var jd=null,xc=null,O0=!1,qd=!1,N0=!1,hl=0;function ks(s){s!==xc&&s.next===null&&(xc===null?jd=xc=s:xc=xc.next=s),qd=!0,O0||(O0=!0,y4())}function gh(s,l){if(!N0&&qd){N0=!0;do for(var u=!1,f=jd;f!==null;){if(s!==0){var y=f.pendingLanes;if(y===0)var v=0;else{var V=f.suspendedLanes,X=f.pingedLanes;v=(1<<31-k(42|s)+1)-1,v&=y&~(V&~X),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,VE(f,v))}else v=Xt,v=Ze(f,f===kn?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||St(f,v)||(u=!0,VE(f,v));f=f.next}while(u);N0=!1}}function g4(){LE()}function LE(){qd=O0=!1;var s=0;hl!==0&&(T4()&&(s=hl),hl=0);for(var l=Et(),u=null,f=jd;f!==null;){var y=f.next,v=BE(f,l);v===0?(f.next=null,u===null?jd=y:u.next=y,y===null&&(xc=u)):(u=f,(s!==0||(v&3)!==0)&&(qd=!0)),f=y}gh(s)}function BE(s,l){for(var u=s.suspendedLanes,f=s.pingedLanes,y=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var V=31-k(v),X=1<<V,se=y[V];se===-1?((X&u)===0||(X&f)!==0)&&(y[V]=Je(X,l)):se<=l&&(s.expiredLanes|=X),v&=~X}if(l=kn,u=Xt,u=Ze(s,s===l?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===l&&(_n===2||_n===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&At(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||St(s,u)){if(l=u&-u,l===s.callbackPriority)return l;switch(f!==null&&At(f),fn(u)){case 2:case 8:u=qt;break;case 32:u=Nt;break;case 268435456:u=Bt;break;default:u=Nt}return f=UE.bind(null,s),u=Nn(u,f),s.callbackPriority=l,s.callbackNode=u,l}return f!==null&&f!==null&&At(f),s.callbackPriority=2,s.callbackNode=null,2}function UE(s,l){if(Ir!==0&&Ir!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(zd()&&s.callbackNode!==u)return null;var f=Xt;return f=Ze(s,s===kn?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(vE(s,f,l),BE(s,Et()),s.callbackNode!=null&&s.callbackNode===u?UE.bind(null,s):null)}function VE(s,l){if(zd())return null;vE(s,l,!0)}function y4(){R4(function(){(vn&6)!==0?Nn(Lr,g4):LE()})}function P0(){return hl===0&&(hl=Kt()),hl}function zE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ql(""+s)}function jE(s,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,s.id&&u.setAttribute("form",s.id),l.parentNode.insertBefore(u,l),s=new FormData(s),u.parentNode.removeChild(u),s}function w4(s,l,u,f,y){if(l==="submit"&&u&&u.stateNode===y){var v=zE((y[yn]||null).action),V=f.submitter;V&&(l=(l=V[yn]||null)?zE(l.formAction):V.getAttribute("formAction"),l!==null&&(v=l,V=null));var X=new Xl("action","action",null,f,y);s.push({event:X,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(hl!==0){var se=V?jE(y,V):new FormData(y);e0(u,{pending:!0,data:se,method:y.method,action:v},null,se)}}else typeof v=="function"&&(X.preventDefault(),se=V?jE(y,V):new FormData(y),e0(u,{pending:!0,data:se,method:y.method,action:v},v,se))},currentTarget:y}]})}}for(var D0=0;D0<bg.length;D0++){var L0=bg[D0],b4=L0.toLowerCase(),v4=L0[0].toUpperCase()+L0.slice(1);ns(b4,"on"+v4)}ns(v1,"onAnimationEnd"),ns(_1,"onAnimationIteration"),ns(E1,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(BM,"onTransitionRun"),ns(UM,"onTransitionStart"),ns(VM,"onTransitionCancel"),ns(S1,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yh));function qE(s,l){l=(l&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],y=f.event;f=f.listeners;e:{var v=void 0;if(l)for(var V=f.length-1;0<=V;V--){var X=f[V],se=X.instance,ve=X.currentTarget;if(X=X.listener,se!==v&&y.isPropagationStopped())break e;v=X,y.currentTarget=ve;try{v(y)}catch(Re){kd(Re)}y.currentTarget=null,v=se}else for(V=0;V<f.length;V++){if(X=f[V],se=X.instance,ve=X.currentTarget,X=X.listener,se!==v&&y.isPropagationStopped())break e;v=X,y.currentTarget=ve;try{v(y)}catch(Re){kd(Re)}y.currentTarget=null,v=se}}}}function Dt(s,l){var u=l[sn];u===void 0&&(u=l[sn]=new Set);var f=s+"__bubble";u.has(f)||(WE(l,s,2,!1),u.add(f))}function B0(s,l,u){var f=0;l&&(f|=4),WE(u,s,f,l)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function U0(s){if(!s[Wd]){s[Wd]=!0,Li.forEach(function(u){u!=="selectionchange"&&(_4.has(u)||B0(u,!1,s),B0(u,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Wd]||(l[Wd]=!0,B0("selectionchange",!1,l))}}function WE(s,l,u,f){switch(dS(l)){case 2:var y=G4;break;case 8:y=Y4;break;default:y=Z0}u=y.bind(null,l,u,s),y=void 0,!zi||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),f?y!==void 0?s.addEventListener(l,u,{capture:!0,passive:y}):s.addEventListener(l,u,!0):y!==void 0?s.addEventListener(l,u,{passive:y}):s.addEventListener(l,u,!1)}function V0(s,l,u,f,y){var v=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var V=f.tag;if(V===3||V===4){var X=f.stateNode.containerInfo;if(X===y)break;if(V===4)for(V=f.return;V!==null;){var se=V.tag;if((se===3||se===4)&&V.stateNode.containerInfo===y)return;V=V.return}for(;X!==null;){if(V=Ft(X),V===null)return;if(se=V.tag,se===5||se===6||se===26||se===27){f=v=V;continue e}X=X.parentNode}}f=f.return}Hf(function(){var ve=v,Re=Vi(u),Me=[];e:{var _e=A1.get(s);if(_e!==void 0){var Se=Xl,pt=s;switch(s){case"keypress":if(vs(u)===0)break e;case"keydown":case"keyup":Se=rc;break;case"focusin":pt="focus",Se=ec;break;case"focusout":pt="blur",Se=ec;break;case"beforeblur":case"afterblur":Se=ec;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=ji;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=hg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=Jf;break;case v1:case _1:case E1:Se=tc;break;case S1:Se=td;break;case"scroll":case"scrollend":Se=Kf;break;case"wheel":Se=ic;break;case"copy":case"cut":case"paste":Se=nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=ju;break;case"toggle":case"beforetoggle":Se=rd}var ct=(l&4)!==0,In=!ct&&(s==="scroll"||s==="scrollend"),me=ct?_e!==null?_e+"Capture":null:_e;ct=[];for(var he=ve,we;he!==null;){var xe=he;if(we=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||we===null||me===null||(xe=Fo(he,me),xe!=null&&ct.push(wh(he,xe,we))),In)break;he=he.return}0<ct.length&&(_e=new Se(_e,pt,null,u,Re),Me.push({event:_e,listeners:ct}))}}if((l&7)===0){e:{if(_e=s==="mouseover"||s==="pointerover",Se=s==="mouseout"||s==="pointerout",_e&&u!==Zs&&(pt=u.relatedTarget||u.fromElement)&&(Ft(pt)||pt[Mt]))break e;if((Se||_e)&&(_e=Re.window===Re?Re:(_e=Re.ownerDocument)?_e.defaultView||_e.parentWindow:window,Se?(pt=u.relatedTarget||u.toElement,Se=ve,pt=pt?Ft(pt):null,pt!==null&&(In=o(pt),ct=pt.tag,pt!==In||ct!==5&&ct!==27&&ct!==6)&&(pt=null)):(Se=null,pt=ve),Se!==pt)){if(ct=ji,xe="onMouseLeave",me="onMouseEnter",he="mouse",(s==="pointerout"||s==="pointerover")&&(ct=ju,xe="onPointerLeave",me="onPointerEnter",he="pointer"),In=Se==null?_e:Ht(Se),we=pt==null?_e:Ht(pt),_e=new ct(xe,he+"leave",Se,u,Re),_e.target=In,_e.relatedTarget=we,xe=null,Ft(Re)===ve&&(ct=new ct(me,he+"enter",pt,u,Re),ct.target=we,ct.relatedTarget=In,xe=ct),In=xe,Se&&pt)t:{for(ct=Se,me=pt,he=0,we=ct;we;we=kc(we))he++;for(we=0,xe=me;xe;xe=kc(xe))we++;for(;0<he-we;)ct=kc(ct),he--;for(;0<we-he;)me=kc(me),we--;for(;he--;){if(ct===me||me!==null&&ct===me.alternate)break t;ct=kc(ct),me=kc(me)}ct=null}else ct=null;Se!==null&&FE(Me,_e,Se,ct,!1),pt!==null&&In!==null&&FE(Me,In,pt,ct,!0)}}e:{if(_e=ve?Ht(ve):window,Se=_e.nodeName&&_e.nodeName.toLowerCase(),Se==="select"||Se==="input"&&_e.type==="file")var Xe=c1;else if(or(_e))if(u1)Xe=PM;else{Xe=OM;var Ot=MM}else Se=_e.nodeName,!Se||Se.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?ve&&Pu(ve.elementType)&&(Xe=c1):Xe=NM;if(Xe&&(Xe=Xe(s,ve))){ra(Me,Xe,u,Re);break e}Ot&&Ot(s,_e,ve),s==="focusout"&&ve&&_e.type==="number"&&ve.memoizedProps.value!=null&&Be(_e,"number",_e.value)}switch(Ot=ve?Ht(ve):window,s){case"focusin":(or(Ot)||Ot.contentEditable==="true")&&(sc=Ot,gg=ve,Fu=null);break;case"focusout":Fu=gg=sc=null;break;case"mousedown":yg=!0;break;case"contextmenu":case"mouseup":case"dragend":yg=!1,w1(Me,u,Re);break;case"selectionchange":if(LM)break;case"keydown":case"keyup":w1(Me,u,Re)}var nt;if(Ss)e:{switch(s){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Yt?Te(s,u)&&(ut="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(ut="onCompositionStart");ut&&(D&&u.locale!=="ko"&&(Yt||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Yt&&(nt=Lu()):(bs=Re,za="value"in bs?bs.value:bs.textContent,Yt=!0)),Ot=Fd(ve,ut),0<Ot.length&&(ut=new Vu(ut,s,null,u,Re),Me.push({event:ut,listeners:Ot}),nt?ut.data=nt:(nt=Ve(u),nt!==null&&(ut.data=nt)))),(nt=R?ar(s,u):Qt(s,u))&&(ut=Fd(ve,"onBeforeInput"),0<ut.length&&(Ot=new Vu("onBeforeInput","beforeinput",null,u,Re),Me.push({event:Ot,listeners:ut}),Ot.data=nt)),w4(Me,s,ve,u,Re)}qE(Me,l)})}function wh(s,l,u){return{instance:s,listener:l,currentTarget:u}}function Fd(s,l){for(var u=l+"Capture",f=[];s!==null;){var y=s,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Fo(s,u),y!=null&&f.unshift(wh(s,y,v)),y=Fo(s,l),y!=null&&f.push(wh(s,y,v))),s.tag===3)return f;s=s.return}return[]}function kc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function FE(s,l,u,f,y){for(var v=l._reactName,V=[];u!==null&&u!==f;){var X=u,se=X.alternate,ve=X.stateNode;if(X=X.tag,se!==null&&se===f)break;X!==5&&X!==26&&X!==27||ve===null||(se=ve,y?(ve=Fo(u,v),ve!=null&&V.unshift(wh(u,ve,se))):y||(ve=Fo(u,v),ve!=null&&V.push(wh(u,ve,se)))),u=u.return}V.length!==0&&s.push({event:l,listeners:V})}var E4=/\r\n?/g,S4=/\u0000|\uFFFD/g;function HE(s){return(typeof s=="string"?s:""+s).replace(E4,`
`).replace(S4,"")}function KE(s,l){return l=HE(l),HE(s)===l}function Hd(){}function Tn(s,l,u,f,y,v){switch(u){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||dn(s,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&dn(s,""+f);break;case"className":zr(s,"class",f);break;case"tabIndex":zr(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(s,u,f);break;case"style":Wo(s,f,v);break;case"data":if(l!=="object"){zr(s,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Ql(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(l!=="input"&&Tn(s,l,"name",y.name,y,null),Tn(s,l,"formEncType",y.formEncType,y,null),Tn(s,l,"formMethod",y.formMethod,y,null),Tn(s,l,"formTarget",y.formTarget,y,null)):(Tn(s,l,"encType",y.encType,y,null),Tn(s,l,"method",y.method,y,null),Tn(s,l,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Ql(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=Hd);break;case"onScroll":f!=null&&Dt("scroll",s);break;case"onScrollEnd":f!=null&&Dt("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=Ql(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":Dt("beforetoggle",s),Dt("toggle",s),ai(s,"popover",f);break;case"xlinkActuate":Ln(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ln(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ln(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ln(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ln(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ln(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ln(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ln(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ln(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ai(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=cg.get(u)||u,ai(s,u,f))}}function z0(s,l,u,f,y,v){switch(u){case"style":Wo(s,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"children":typeof f=="string"?dn(s,f):(typeof f=="number"||typeof f=="bigint")&&dn(s,""+f);break;case"onScroll":f!=null&&Dt("scroll",s);break;case"onScrollEnd":f!=null&&Dt("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Hd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yi.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),l=u.slice(2,y?u.length-7:void 0),v=s[yn]||null,v=v!=null?v[u]:null,typeof v=="function"&&s.removeEventListener(l,v,y),typeof f=="function")){typeof v!="function"&&v!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(l,f,y);break e}u in s?s[u]=f:f===!0?s.setAttribute(u,""):ai(s,u,f)}}}function Rr(s,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",s),Dt("load",s);var f=!1,y=!1,v;for(v in u)if(u.hasOwnProperty(v)){var V=u[v];if(V!=null)switch(v){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Tn(s,l,v,V,u,null)}}y&&Tn(s,l,"srcSet",u.srcSet,u,null),f&&Tn(s,l,"src",u.src,u,null);return;case"input":Dt("invalid",s);var X=v=V=y=null,se=null,ve=null;for(f in u)if(u.hasOwnProperty(f)){var Re=u[f];if(Re!=null)switch(f){case"name":y=Re;break;case"type":V=Re;break;case"checked":se=Re;break;case"defaultChecked":ve=Re;break;case"value":v=Re;break;case"defaultValue":X=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,l));break;default:Tn(s,l,f,Re,u,null)}}je(s,v,X,se,ve,V,y,!1),Va(s);return;case"select":Dt("invalid",s),f=V=v=null;for(y in u)if(u.hasOwnProperty(y)&&(X=u[y],X!=null))switch(y){case"value":v=X;break;case"defaultValue":V=X;break;case"multiple":f=X;default:Tn(s,l,y,X,u,null)}l=v,u=V,s.multiple=!!f,l!=null?Qe(s,!!f,l,!1):u!=null&&Qe(s,!!f,u,!0);return;case"textarea":Dt("invalid",s),v=y=f=null;for(V in u)if(u.hasOwnProperty(V)&&(X=u[V],X!=null))switch(V){case"value":f=X;break;case"defaultValue":y=X;break;case"children":v=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(91));break;default:Tn(s,l,V,X,u,null)}vt(s,f,y,v),Va(s);return;case"option":for(se in u)if(u.hasOwnProperty(se)&&(f=u[se],f!=null))switch(se){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Tn(s,l,se,f,u,null)}return;case"dialog":Dt("beforetoggle",s),Dt("toggle",s),Dt("cancel",s),Dt("close",s);break;case"iframe":case"object":Dt("load",s);break;case"video":case"audio":for(f=0;f<yh.length;f++)Dt(yh[f],s);break;case"image":Dt("error",s),Dt("load",s);break;case"details":Dt("toggle",s);break;case"embed":case"source":case"link":Dt("error",s),Dt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in u)if(u.hasOwnProperty(ve)&&(f=u[ve],f!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Tn(s,l,ve,f,u,null)}return;default:if(Pu(l)){for(Re in u)u.hasOwnProperty(Re)&&(f=u[Re],f!==void 0&&z0(s,l,Re,f,u,void 0));return}}for(X in u)u.hasOwnProperty(X)&&(f=u[X],f!=null&&Tn(s,l,X,f,u,null))}function A4(s,l,u,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,V=null,X=null,se=null,ve=null,Re=null;for(Se in u){var Me=u[Se];if(u.hasOwnProperty(Se)&&Me!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":se=Me;default:f.hasOwnProperty(Se)||Tn(s,l,Se,null,f,Me)}}for(var _e in f){var Se=f[_e];if(Me=u[_e],f.hasOwnProperty(_e)&&(Se!=null||Me!=null))switch(_e){case"type":v=Se;break;case"name":y=Se;break;case"checked":ve=Se;break;case"defaultChecked":Re=Se;break;case"value":V=Se;break;case"defaultValue":X=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(i(137,l));break;default:Se!==Me&&Tn(s,l,_e,Se,f,Me)}}ke(s,V,X,se,ve,Re,v,y);return;case"select":Se=V=X=_e=null;for(v in u)if(se=u[v],u.hasOwnProperty(v)&&se!=null)switch(v){case"value":break;case"multiple":Se=se;default:f.hasOwnProperty(v)||Tn(s,l,v,null,f,se)}for(y in f)if(v=f[y],se=u[y],f.hasOwnProperty(y)&&(v!=null||se!=null))switch(y){case"value":_e=v;break;case"defaultValue":X=v;break;case"multiple":V=v;default:v!==se&&Tn(s,l,y,v,f,se)}l=X,u=V,f=Se,_e!=null?Qe(s,!!u,_e,!1):!!f!=!!u&&(l!=null?Qe(s,!!u,l,!0):Qe(s,!!u,u?[]:"",!1));return;case"textarea":Se=_e=null;for(X in u)if(y=u[X],u.hasOwnProperty(X)&&y!=null&&!f.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:Tn(s,l,X,null,f,y)}for(V in f)if(y=f[V],v=u[V],f.hasOwnProperty(V)&&(y!=null||v!=null))switch(V){case"value":_e=y;break;case"defaultValue":Se=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==v&&Tn(s,l,V,y,f,v)}$e(s,_e,Se);return;case"option":for(var pt in u)if(_e=u[pt],u.hasOwnProperty(pt)&&_e!=null&&!f.hasOwnProperty(pt))switch(pt){case"selected":s.selected=!1;break;default:Tn(s,l,pt,null,f,_e)}for(se in f)if(_e=f[se],Se=u[se],f.hasOwnProperty(se)&&_e!==Se&&(_e!=null||Se!=null))switch(se){case"selected":s.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:Tn(s,l,se,_e,f,Se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in u)_e=u[ct],u.hasOwnProperty(ct)&&_e!=null&&!f.hasOwnProperty(ct)&&Tn(s,l,ct,null,f,_e);for(ve in f)if(_e=f[ve],Se=u[ve],f.hasOwnProperty(ve)&&_e!==Se&&(_e!=null||Se!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(i(137,l));break;default:Tn(s,l,ve,_e,f,Se)}return;default:if(Pu(l)){for(var In in u)_e=u[In],u.hasOwnProperty(In)&&_e!==void 0&&!f.hasOwnProperty(In)&&z0(s,l,In,void 0,f,_e);for(Re in f)_e=f[Re],Se=u[Re],!f.hasOwnProperty(Re)||_e===Se||_e===void 0&&Se===void 0||z0(s,l,Re,_e,f,Se);return}}for(var me in u)_e=u[me],u.hasOwnProperty(me)&&_e!=null&&!f.hasOwnProperty(me)&&Tn(s,l,me,null,f,_e);for(Me in f)_e=f[Me],Se=u[Me],!f.hasOwnProperty(Me)||_e===Se||_e==null&&Se==null||Tn(s,l,Me,_e,f,Se)}var j0=null,q0=null;function Kd(s){return s.nodeType===9?s:s.ownerDocument}function $E(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GE(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function W0(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var F0=null;function T4(){var s=window.event;return s&&s.type==="popstate"?s===F0?!1:(F0=s,!0):(F0=null,!1)}var YE=typeof setTimeout=="function"?setTimeout:void 0,I4=typeof clearTimeout=="function"?clearTimeout:void 0,QE=typeof Promise=="function"?Promise:void 0,R4=typeof queueMicrotask=="function"?queueMicrotask:typeof QE<"u"?function(s){return QE.resolve(null).then(s).catch(x4)}:YE;function x4(s){setTimeout(function(){throw s})}function no(s){return s==="head"}function XE(s,l){var u=l,f=0,y=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<f&&8>f){u=f;var V=s.ownerDocument;if(u&1&&bh(V.documentElement),u&2&&bh(V.body),u&4)for(u=V.head,bh(u),V=u.firstChild;V;){var X=V.nextSibling,se=V.nodeName;V[si]||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&V.rel.toLowerCase()==="stylesheet"||u.removeChild(V),V=X}}if(y===0){s.removeChild(v),Rh(l);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:f=u.charCodeAt(0)-48;else f=0;u=v}while(u);Rh(l)}function H0(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":H0(u),Gt(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function k4(s,l,u,f){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[si])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=is(s.nextSibling),s===null)break}return null}function C4(s,l,u){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=is(s.nextSibling),s===null))return null;return s}function K0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function M4(s,l){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")l();else{var f=function(){l(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function is(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var $0=null;function ZE(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return s;l--}else u==="/$"&&l++}s=s.previousSibling}return null}function JE(s,l,u){switch(l=Kd(u),s){case"html":if(s=l.documentElement,!s)throw Error(i(452));return s;case"head":if(s=l.head,!s)throw Error(i(453));return s;case"body":if(s=l.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function bh(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Gt(s)}var Gi=new Map,eS=new Set;function $d(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ga=j.d;j.d={f:O4,r:N4,D:P4,C:D4,L:L4,m:B4,X:V4,S:U4,M:z4};function O4(){var s=ga.f(),l=Ud();return s||l}function N4(s){var l=Er(s);l!==null&&l.tag===5&&l.type==="form"?v_(l):ga.r(s)}var Cc=typeof document>"u"?null:document;function tS(s,l,u){var f=Cc;if(f&&typeof l=="string"&&l){var y=ue(l);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),eS.has(y)||(eS.add(y),s={rel:s,crossOrigin:u,href:l},f.querySelector(y)===null&&(l=f.createElement("link"),Rr(l,"link",s),bn(l),f.head.appendChild(l)))}}function P4(s){ga.D(s),tS("dns-prefetch",s,null)}function D4(s,l){ga.C(s,l),tS("preconnect",s,l)}function L4(s,l,u){ga.L(s,l,u);var f=Cc;if(f&&s&&l){var y='link[rel="preload"][as="'+ue(l)+'"]';l==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+ue(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+ue(u.imageSizes)+'"]')):y+='[href="'+ue(s)+'"]';var v=y;switch(l){case"style":v=Mc(s);break;case"script":v=Oc(s)}Gi.has(v)||(s=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:s,as:l},u),Gi.set(v,s),f.querySelector(y)!==null||l==="style"&&f.querySelector(vh(v))||l==="script"&&f.querySelector(_h(v))||(l=f.createElement("link"),Rr(l,"link",s),bn(l),f.head.appendChild(l)))}}function B4(s,l){ga.m(s,l);var u=Cc;if(u&&s){var f=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+ue(f)+'"][href="'+ue(s)+'"]',v=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Oc(s)}if(!Gi.has(v)&&(s=g({rel:"modulepreload",href:s},l),Gi.set(v,s),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(_h(v)))return}f=u.createElement("link"),Rr(f,"link",s),bn(f),u.head.appendChild(f)}}}function U4(s,l,u){ga.S(s,l,u);var f=Cc;if(f&&s){var y=Tt(f).hoistableStyles,v=Mc(s);l=l||"default";var V=y.get(v);if(!V){var X={loading:0,preload:null};if(V=f.querySelector(vh(v)))X.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":l},u),(u=Gi.get(v))&&G0(s,u);var se=V=f.createElement("link");bn(se),Rr(se,"link",s),se._p=new Promise(function(ve,Re){se.onload=ve,se.onerror=Re}),se.addEventListener("load",function(){X.loading|=1}),se.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Gd(V,l,f)}V={type:"stylesheet",instance:V,count:1,state:X},y.set(v,V)}}}function V4(s,l){ga.X(s,l);var u=Cc;if(u&&s){var f=Tt(u).hoistableScripts,y=Oc(s),v=f.get(y);v||(v=u.querySelector(_h(y)),v||(s=g({src:s,async:!0},l),(l=Gi.get(y))&&Y0(s,l),v=u.createElement("script"),bn(v),Rr(v,"link",s),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(y,v))}}function z4(s,l){ga.M(s,l);var u=Cc;if(u&&s){var f=Tt(u).hoistableScripts,y=Oc(s),v=f.get(y);v||(v=u.querySelector(_h(y)),v||(s=g({src:s,async:!0,type:"module"},l),(l=Gi.get(y))&&Y0(s,l),v=u.createElement("script"),bn(v),Rr(v,"link",s),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(y,v))}}function nS(s,l,u,f){var y=(y=ne.current)?$d(y):null;if(!y)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Mc(u.href),u=Tt(y).hoistableStyles,f=u.get(l),f||(f={type:"style",instance:null,count:0,state:null},u.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Mc(u.href);var v=Tt(y).hoistableStyles,V=v.get(s);if(V||(y=y.ownerDocument||y,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,V),(v=y.querySelector(vh(s)))&&!v._p&&(V.instance=v,V.state.loading=5),Gi.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Gi.set(s,u),v||j4(y,s,u,V.state))),l&&f===null)throw Error(i(528,""));return V}if(l&&f!==null)throw Error(i(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Oc(u),u=Tt(y).hoistableScripts,f=u.get(l),f||(f={type:"script",instance:null,count:0,state:null},u.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Mc(s){return'href="'+ue(s)+'"'}function vh(s){return'link[rel="stylesheet"]['+s+"]"}function rS(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function j4(s,l,u,f){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=s.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),Rr(l,"link",u),bn(l),s.head.appendChild(l))}function Oc(s){return'[src="'+ue(s)+'"]'}function _h(s){return"script[async]"+s}function iS(s,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var f=s.querySelector('style[data-href~="'+ue(u.href)+'"]');if(f)return l.instance=f,bn(f),f;var y=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),bn(f),Rr(f,"style",y),Gd(f,u.precedence,s),l.instance=f;case"stylesheet":y=Mc(u.href);var v=s.querySelector(vh(y));if(v)return l.state.loading|=4,l.instance=v,bn(v),v;f=rS(u),(y=Gi.get(y))&&G0(f,y),v=(s.ownerDocument||s).createElement("link"),bn(v);var V=v;return V._p=new Promise(function(X,se){V.onload=X,V.onerror=se}),Rr(v,"link",f),l.state.loading|=4,Gd(v,u.precedence,s),l.instance=v;case"script":return v=Oc(u.src),(y=s.querySelector(_h(v)))?(l.instance=y,bn(y),y):(f=u,(y=Gi.get(v))&&(f=g({},u),Y0(f,y)),s=s.ownerDocument||s,y=s.createElement("script"),bn(y),Rr(y,"link",f),s.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,Gd(f,u.precedence,s));return l.instance}function Gd(s,l,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,v=y,V=0;V<f.length;V++){var X=f[V];if(X.dataset.precedence===l)v=X;else if(v!==y)break}v?v.parentNode.insertBefore(s,v.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(s,l.firstChild))}function G0(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Y0(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Yd=null;function sS(s,l,u){if(Yd===null){var f=new Map,y=Yd=new Map;y.set(u,f)}else y=Yd,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var v=u[y];if(!(v[si]||v[yt]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var V=v.getAttribute(l)||"";V=s+V;var X=f.get(V);X?X.push(v):f.set(V,[v])}}return f}function aS(s,l,u){s=s.ownerDocument||s,s.head.insertBefore(u,l==="title"?s.querySelector("head > title"):null)}function q4(s,l,u){if(u===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function oS(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Eh=null;function W4(){}function F4(s,l,u){if(Eh===null)throw Error(i(475));var f=Eh;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Mc(u.href),v=s.querySelector(vh(y));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=Qd.bind(f),s.then(f,f)),l.state.loading|=4,l.instance=v,bn(v);return}v=s.ownerDocument||s,u=rS(u),(y=Gi.get(y))&&G0(u,y),v=v.createElement("link"),bn(v);var V=v;V._p=new Promise(function(X,se){V.onload=X,V.onerror=se}),Rr(v,"link",u),l.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(f.count++,l=Qd.bind(f),s.addEventListener("load",l),s.addEventListener("error",l))}}function H4(){if(Eh===null)throw Error(i(475));var s=Eh;return s.stylesheets&&s.count===0&&Q0(s,s.stylesheets),0<s.count?function(l){var u=setTimeout(function(){if(s.stylesheets&&Q0(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Qd(){if(this.count--,this.count===0){if(this.stylesheets)Q0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Xd=null;function Q0(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Xd=new Map,l.forEach(K4,s),Xd=null,Qd.call(s))}function K4(s,l){if(!(l.state.loading&4)){var u=Xd.get(s);if(u)var f=u.get(null);else{u=new Map,Xd.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var V=y[v];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(u.set(V.dataset.precedence,V),f=V)}f&&u.set(null,f)}y=l.instance,V=y.getAttribute("data-precedence"),v=u.get(V)||f,v===f&&u.set(null,y),u.set(V,y),this.count++,f=Qd.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),v?v.parentNode.insertBefore(y,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),l.state.loading|=4}}var Sh={$$typeof:G,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function $4(s,l,u,f,y,v,V,X){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.hiddenUpdates=Ut(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function lS(s,l,u,f,y,v,V,X,se,ve,Re,Me){return s=new $4(s,l,u,V,X,se,ve,Me),l=1,v===!0&&(l|=24),v=Ei(3,null,null,l),s.current=v,v.stateNode=s,l=Mg(),l.refCount++,s.pooledCache=l,l.refCount++,v.memoizedState={element:f,isDehydrated:u,cache:l},Dg(v),s}function cS(s){return s?(s=cc,s):cc}function uS(s,l,u,f,y,v){y=cS(y),f.context===null?f.context=y:f.pendingContext=y,f=Wa(l),f.payload={element:u},v=v===void 0?null:v,v!==null&&(f.callback=v),u=Fa(s,f,l),u!==null&&(Ri(u,s,l),Ju(u,s,l))}function hS(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<l?u:l}}function X0(s,l){hS(s,l),(s=s.alternate)&&hS(s,l)}function fS(s){if(s.tag===13){var l=lc(s,67108864);l!==null&&Ri(l,s,67108864),X0(s,67108864)}}var Zd=!0;function G4(s,l,u,f){var y=C.T;C.T=null;var v=j.p;try{j.p=2,Z0(s,l,u,f)}finally{j.p=v,C.T=y}}function Y4(s,l,u,f){var y=C.T;C.T=null;var v=j.p;try{j.p=8,Z0(s,l,u,f)}finally{j.p=v,C.T=y}}function Z0(s,l,u,f){if(Zd){var y=J0(f);if(y===null)V0(s,l,f,Jd,u),pS(s,f);else if(X4(y,s,l,u,f))f.stopPropagation();else if(pS(s,f),l&4&&-1<Q4.indexOf(s)){for(;y!==null;){var v=Er(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var V=He(v.pendingLanes);if(V!==0){var X=v;for(X.pendingLanes|=2,X.entangledLanes|=2;V;){var se=1<<31-k(V);X.entanglements[1]|=se,V&=~se}ks(v),(vn&6)===0&&(Ld=Et()+500,gh(0))}}break;case 13:X=lc(v,2),X!==null&&Ri(X,v,2),Ud(),X0(v,2)}if(v=J0(f),v===null&&V0(s,l,f,Jd,u),v===y)break;y=v}y!==null&&f.stopPropagation()}else V0(s,l,f,null,u)}}function J0(s){return s=Vi(s),ey(s)}var Jd=null;function ey(s){if(Jd=null,s=Ft(s),s!==null){var l=o(s);if(l===null)s=null;else{var u=l.tag;if(u===13){if(s=c(l),s!==null)return s;s=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Jd=s,null}function dS(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tn()){case Lr:return 2;case qt:return 8;case Nt:case $n:return 32;case Bt:return 268435456;default:return 32}default:return 32}}var ty=!1,ro=null,io=null,so=null,Ah=new Map,Th=new Map,ao=[],Q4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pS(s,l){switch(s){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":Ah.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Th.delete(l.pointerId)}}function Ih(s,l,u,f,y,v){return s===null||s.nativeEvent!==v?(s={blockedOn:l,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[y]},l!==null&&(l=Er(l),l!==null&&fS(l)),s):(s.eventSystemFlags|=f,l=s.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),s)}function X4(s,l,u,f,y){switch(l){case"focusin":return ro=Ih(ro,s,l,u,f,y),!0;case"dragenter":return io=Ih(io,s,l,u,f,y),!0;case"mouseover":return so=Ih(so,s,l,u,f,y),!0;case"pointerover":var v=y.pointerId;return Ah.set(v,Ih(Ah.get(v)||null,s,l,u,f,y)),!0;case"gotpointercapture":return v=y.pointerId,Th.set(v,Ih(Th.get(v)||null,s,l,u,f,y)),!0}return!1}function mS(s){var l=Ft(s.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){s.blockedOn=l,Pi(s.priority,function(){if(u.tag===13){var f=Ii();f=Br(f);var y=lc(u,f);y!==null&&Ri(y,u,f),X0(u,f)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ep(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var u=J0(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);Zs=f,u.target.dispatchEvent(f),Zs=null}else return l=Er(u),l!==null&&fS(l),s.blockedOn=u,!1;l.shift()}return!0}function gS(s,l,u){ep(s)&&u.delete(l)}function Z4(){ty=!1,ro!==null&&ep(ro)&&(ro=null),io!==null&&ep(io)&&(io=null),so!==null&&ep(so)&&(so=null),Ah.forEach(gS),Th.forEach(gS)}function tp(s,l){s.blockedOn===l&&(s.blockedOn=null,ty||(ty=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Z4)))}var np=null;function yS(s){np!==s&&(np=s,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){np===s&&(np=null);for(var l=0;l<s.length;l+=3){var u=s[l],f=s[l+1],y=s[l+2];if(typeof f!="function"){if(ey(f||u)===null)continue;break}var v=Er(u);v!==null&&(s.splice(l,3),l-=3,e0(v,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function Rh(s){function l(se){return tp(se,s)}ro!==null&&tp(ro,s),io!==null&&tp(io,s),so!==null&&tp(so,s),Ah.forEach(l),Th.forEach(l);for(var u=0;u<ao.length;u++){var f=ao[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<ao.length&&(u=ao[0],u.blockedOn===null);)mS(u),u.blockedOn===null&&ao.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],v=u[f+1],V=y[yn]||null;if(typeof v=="function")V||yS(u);else if(V){var X=null;if(v&&v.hasAttribute("formAction")){if(y=v,V=v[yn]||null)X=V.formAction;else if(ey(y)!==null)continue}else X=V.action;typeof X=="function"?u[f+1]=X:(u.splice(f,3),f-=3),yS(u)}}}function ny(s){this._internalRoot=s}rp.prototype.render=ny.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(i(409));var u=l.current,f=Ii();uS(u,f,s,l,null,null)},rp.prototype.unmount=ny.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;uS(s.current,2,null,s,null,null),Ud(),l[Mt]=null}};function rp(s){this._internalRoot=s}rp.prototype.unstable_scheduleHydration=function(s){if(s){var l=rn();s={blockedOn:null,target:s,priority:l};for(var u=0;u<ao.length&&l!==0&&l<ao[u].priority;u++);ao.splice(u,0,s),u===0&&mS(s)}};var wS=e.version;if(wS!=="19.1.1")throw Error(i(527,wS,"19.1.1"));j.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(l),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var J4={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ip.isDisabled&&ip.supportsFiber)try{ft=ip.inject(J4),H=ip}catch{}}return kh.createRoot=function(s,l){if(!a(s))throw Error(i(299));var u=!1,f="",y=P_,v=D_,V=L_,X=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(V=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(X=l.unstable_transitionCallbacks)),l=lS(s,1,!1,null,null,u,f,y,v,V,X,null),s[Mt]=l.current,U0(s),new ny(l)},kh.hydrateRoot=function(s,l,u){if(!a(s))throw Error(i(299));var f=!1,y="",v=P_,V=D_,X=L_,se=null,ve=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(V=u.onCaughtError),u.onRecoverableError!==void 0&&(X=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(se=u.unstable_transitionCallbacks),u.formState!==void 0&&(ve=u.formState)),l=lS(s,1,!0,l,u??null,f,y,v,V,X,se,ve),l.context=cS(null),u=l.current,f=Ii(),f=Br(f),y=Wa(f),y.callback=null,Fa(u,y,f),u=f,l.current.lanes=u,Wt(l,u),ks(l),s[Mt]=l.current,U0(s),new rp(l)},kh.version="19.1.1",kh}var xS;function l3(){if(xS)return sy.exports;xS=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sy.exports=o3(),sy.exports}var c3=l3();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kS="popstate";function u3(r={}){function e(a,o){let{pathname:c="/",search:h="",hash:d=""}=Bl(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Bw("",{pathname:c,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let c=a.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof o=="string"?o:of(o))}function i(a,o){hs(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return f3(e,n,i,r)}function zn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function hs(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h3(){return Math.random().toString(36).substring(2,10)}function CS(r,e){return{usr:r.state,key:r.key,idx:e}}function Bw(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Bl(e):e,state:n,key:e&&e.key||i||h3()}}function of({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Bl(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function f3(r,e,n,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,h="POP",d=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function E(){h="POP";let B=g(),K=B==null?null:B-p;p=B,d&&d({action:h,location:O.location,delta:K})}function A(B,K){h="PUSH";let $=Bw(O.location,B,K);n&&n($,B),p=g()+1;let G=CS($,p),re=O.createHref($);try{c.pushState(G,"",re)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(re)}o&&d&&d({action:h,location:O.location,delta:1})}function T(B,K){h="REPLACE";let $=Bw(O.location,B,K);n&&n($,B),p=g();let G=CS($,p),re=O.createHref($);c.replaceState(G,"",re),o&&d&&d({action:h,location:O.location,delta:0})}function N(B){return d3(B)}let O={get action(){return h},get location(){return r(a,c)},listen(B){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(kS,E),d=B,()=>{a.removeEventListener(kS,E),d=null}},createHref(B){return e(a,B)},createURL:N,encodeLocation(B){let K=N(B);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:A,replace:T,go(B){return c.go(B)}};return O}function d3(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),zn(n,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:of(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function PI(r,e,n="/"){return p3(r,e,n,!1)}function p3(r,e,n,i){let a=typeof e=="string"?Bl(e):e,o=ka(a.pathname||"/",n);if(o==null)return null;let c=DI(r);m3(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let p=I3(o);h=A3(c[d],p,i)}return h}function DI(r,e=[],n=[],i="",a=!1){let o=(c,h,d=a,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&d)return;zn(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let E=Ra([i,g.relativePath]),A=n.concat(g);c.children&&c.children.length>0&&(zn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),DI(c.children,e,A,E,d)),!(c.path==null&&!c.index)&&e.push({path:E,score:E3(E,c.index),routesMeta:A})};return r.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let d of LI(c.path))o(c,h,!0,d)}),e}function LI(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=LI(i.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...c),h.map(d=>r.startsWith("/")&&d===""?"/":d)}function m3(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:S3(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var g3=/^:[\w-]+$/,y3=3,w3=2,b3=1,v3=10,_3=-2,MS=r=>r==="*";function E3(r,e){let n=r.split("/"),i=n.length;return n.some(MS)&&(i+=_3),e&&(i+=w3),n.filter(a=>!MS(a)).reduce((a,o)=>a+(g3.test(o)?y3:o===""?b3:v3),i)}function S3(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function A3(r,e,n=!1){let{routesMeta:i}=r,a={},o="/",c=[];for(let h=0;h<i.length;++h){let d=i[h],p=h===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",E=Kp({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),A=d.route;if(!E&&p&&n&&!i[i.length-1].route.index&&(E=Kp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:Ra([o,E.pathname]),pathnameBase:C3(Ra([o,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(o=Ra([o,E.pathnameBase]))}return c}function Kp(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=T3(r.path,r.caseSensitive,r.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:E},A)=>{if(g==="*"){let N=h[A]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const T=h[A];return E&&!T?p[g]=void 0:p[g]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:r}}function T3(r,e=!1,n=!0){hs(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function I3(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hs(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ka(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}function R3(r,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof r=="string"?Bl(r):r;return{pathname:n?n.startsWith("/")?n:x3(n,e):e,search:M3(i),hash:O3(a)}}function x3(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function cy(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k3(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BI(r){let e=k3(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function UI(r,e,n,i=!1){let a;typeof r=="string"?a=Bl(r):(a={...r},zn(!a.pathname||!a.pathname.includes("?"),cy("?","pathname","search",a)),zn(!a.pathname||!a.pathname.includes("#"),cy("#","pathname","hash",a)),zn(!a.search||!a.search.includes("#"),cy("#","search","hash",a)));let o=r===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=n;else{let E=e.length-1;if(!i&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),E-=1;a.pathname=A.join("/")}h=E>=0?e[E]:"/"}let d=R3(a,h),p=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var Ra=r=>r.join("/").replace(/\/\/+/g,"/"),C3=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),M3=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,O3=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function N3(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var VI=["POST","PUT","PATCH","DELETE"];new Set(VI);var P3=["GET",...VI];new Set(P3);var vu=ce.createContext(null);vu.displayName="DataRouter";var km=ce.createContext(null);km.displayName="DataRouterState";ce.createContext(!1);var zI=ce.createContext({isTransitioning:!1});zI.displayName="ViewTransition";var D3=ce.createContext(new Map);D3.displayName="Fetchers";var L3=ce.createContext(null);L3.displayName="Await";var Ys=ce.createContext(null);Ys.displayName="Navigation";var Tf=ce.createContext(null);Tf.displayName="Location";var La=ce.createContext({outlet:null,matches:[],isDataRoute:!1});La.displayName="Route";var Nb=ce.createContext(null);Nb.displayName="RouteError";function B3(r,{relative:e}={}){zn(If(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=ce.useContext(Ys),{hash:a,pathname:o,search:c}=Rf(r,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Ra([n,o])),i.createHref({pathname:h,search:c,hash:a})}function If(){return ce.useContext(Tf)!=null}function Ba(){return zn(If(),"useLocation() may be used only in the context of a <Router> component."),ce.useContext(Tf).location}var jI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qI(r){ce.useContext(Ys).static||ce.useLayoutEffect(r)}function WI(){let{isDataRoute:r}=ce.useContext(La);return r?Q3():U3()}function U3(){zn(If(),"useNavigate() may be used only in the context of a <Router> component.");let r=ce.useContext(vu),{basename:e,navigator:n}=ce.useContext(Ys),{matches:i}=ce.useContext(La),{pathname:a}=Ba(),o=JSON.stringify(BI(i)),c=ce.useRef(!1);return qI(()=>{c.current=!0}),ce.useCallback((d,p={})=>{if(hs(c.current,jI),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=UI(d,JSON.parse(o),a,p.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ra([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,o,a,r])}ce.createContext(null);function Rf(r,{relative:e}={}){let{matches:n}=ce.useContext(La),{pathname:i}=Ba(),a=JSON.stringify(BI(n));return ce.useMemo(()=>UI(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function V3(r,e){return FI(r,e)}function FI(r,e,n,i,a){zn(If(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=ce.useContext(Ys),{matches:c}=ce.useContext(La),h=c[c.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",E=h&&h.route;{let $=E&&E.path||"";HI(p,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let A=Ba(),T;if(e){let $=typeof e=="string"?Bl(e):e;zn(g==="/"||$.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),T=$}else T=A;let N=T.pathname||"/",O=N;if(g!=="/"){let $=g.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice($.length).join("/")}let B=PI(r,{pathname:O});hs(E||B!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),hs(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=F3(B&&B.map($=>Object.assign({},$,{params:Object.assign({},d,$.params),pathname:Ra([g,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:Ra([g,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),c,n,i,a);return e&&K?ce.createElement(Tf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},K):K}function z3(){let r=Y3(),e=N3(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=ce.createElement(ce.Fragment,null,ce.createElement("p",null," Hey developer "),ce.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ce.createElement("code",{style:o},"ErrorBoundary")," or"," ",ce.createElement("code",{style:o},"errorElement")," prop on your route.")),ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),n?ce.createElement("pre",{style:a},n):null,c)}var j3=ce.createElement(z3,null),q3=class extends ce.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?ce.createElement(La.Provider,{value:this.props.routeContext},ce.createElement(Nb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function W3({routeContext:r,match:e,children:n}){let i=ce.useContext(vu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),ce.createElement(La.Provider,{value:r},n)}function F3(r,e=[],n=null,i=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,c=n?.errors;if(c!=null){let p=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);zn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:E,errors:A}=n,T=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||T){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,T=!1,N=null,O=null;n&&(A=c&&g.route.id?c[g.route.id]:void 0,N=g.route.errorElement||j3,h&&(d<0&&E===0?(HI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,O=null):d===E&&(T=!0,O=g.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,E+1)),K=()=>{let $;return A?$=N:T?$=O:g.route.Component?$=ce.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,ce.createElement(W3,{match:g,routeContext:{outlet:p,matches:B,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?ce.createElement(q3,{location:n.location,revalidation:n.revalidation,component:N,error:A,children:K(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:i}):K()},null)}function Pb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H3(r){let e=ce.useContext(vu);return zn(e,Pb(r)),e}function K3(r){let e=ce.useContext(km);return zn(e,Pb(r)),e}function $3(r){let e=ce.useContext(La);return zn(e,Pb(r)),e}function Db(r){let e=$3(r),n=e.matches[e.matches.length-1];return zn(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function G3(){return Db("useRouteId")}function Y3(){let r=ce.useContext(Nb),e=K3("useRouteError"),n=Db("useRouteError");return r!==void 0?r:e.errors?.[n]}function Q3(){let{router:r}=H3("useNavigate"),e=Db("useNavigate"),n=ce.useRef(!1);return qI(()=>{n.current=!0}),ce.useCallback(async(a,o={})=>{hs(n.current,jI),n.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...o}))},[r,e])}var OS={};function HI(r,e,n){!e&&!OS[r]&&(OS[r]=!0,hs(!1,n))}ce.memo(X3);function X3({routes:r,future:e,state:n,unstable_onError:i}){return FI(r,void 0,n,i,e)}function go(r){zn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Z3({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:o=!1}){zn(!If(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),h=ce.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof n=="string"&&(n=Bl(n));let{pathname:d="/",search:p="",hash:g="",state:E=null,key:A="default"}=n,T=ce.useMemo(()=>{let N=ka(d,c);return N==null?null:{location:{pathname:N,search:p,hash:g,state:E,key:A},navigationType:i}},[c,d,p,g,E,A,i]);return hs(T!=null,`<Router basename="${c}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:ce.createElement(Ys.Provider,{value:h},ce.createElement(Tf.Provider,{children:e,value:T}))}function J3({children:r,location:e}){return V3(Uw(r),e)}function Uw(r,e=[]){let n=[];return ce.Children.forEach(r,(i,a)=>{if(!ce.isValidElement(i))return;let o=[...e,a];if(i.type===ce.Fragment){n.push.apply(n,Uw(i.props.children,o));return}zn(i.type===go,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Uw(i.props.children,o)),n.push(c)}),n}var Ip="get",Rp="application/x-www-form-urlencoded";function Cm(r){return r!=null&&typeof r.tagName=="string"}function e6(r){return Cm(r)&&r.tagName.toLowerCase()==="button"}function t6(r){return Cm(r)&&r.tagName.toLowerCase()==="form"}function n6(r){return Cm(r)&&r.tagName.toLowerCase()==="input"}function r6(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function i6(r,e){return r.button===0&&(!e||e==="_self")&&!r6(r)}var sp=null;function s6(){if(sp===null)try{new FormData(document.createElement("form"),0),sp=!1}catch{sp=!0}return sp}var a6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uy(r){return r!=null&&!a6.has(r)?(hs(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rp}"`),null):r}function o6(r,e){let n,i,a,o,c;if(t6(r)){let h=r.getAttribute("action");i=h?ka(h,e):null,n=r.getAttribute("method")||Ip,a=uy(r.getAttribute("enctype"))||Rp,o=new FormData(r)}else if(e6(r)||n6(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||h.getAttribute("action");if(i=d?ka(d,e):null,n=r.getAttribute("formmethod")||h.getAttribute("method")||Ip,a=uy(r.getAttribute("formenctype"))||uy(h.getAttribute("enctype"))||Rp,o=new FormData(h,r),!s6()){let{name:p,type:g,value:E}=r;if(g==="image"){let A=p?`${p}.`:"";o.append(`${A}x`,"0"),o.append(`${A}y`,"0")}else p&&o.append(p,E)}}else{if(Cm(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ip,i=null,a=Rp,c=r}return o&&a==="text/plain"&&(c=o,o=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lb(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function l6(r,e,n){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&ka(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function c6(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u6(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function h6(r,e,n){let i=await Promise.all(r.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await c6(o,n);return c.links?c.links():[]}return[]}));return m6(i.flat(1).filter(u6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function NS(r,e,n,i,a,o){let c=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,p)=>c(d,p)||h(d,p)):o==="data"?e.filter((d,p)=>{let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function f6(r,e,{includeHydrateFallback:n}={}){return d6(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function d6(r){return[...new Set(r)]}function p6(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function m6(r,e){let n=new Set;return new Set(e),r.reduce((i,a)=>{let o=JSON.stringify(p6(a));return n.has(o)||(n.add(o),i.push({key:o,link:a})),i},[])}function KI(){let r=ce.useContext(vu);return Lb(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function g6(){let r=ce.useContext(km);return Lb(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Bb=ce.createContext(void 0);Bb.displayName="FrameworkContext";function $I(){let r=ce.useContext(Bb);return Lb(r,"You must render this element inside a <HydratedRouter> element"),r}function y6(r,e){let n=ce.useContext(Bb),[i,a]=ce.useState(!1),[o,c]=ce.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:E}=e,A=ce.useRef(null);ce.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let O=K=>{K.forEach($=>{c($.isIntersecting)})},B=new IntersectionObserver(O,{threshold:.5});return A.current&&B.observe(A.current),()=>{B.disconnect()}}},[r]),ce.useEffect(()=>{if(i){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[i]);let T=()=>{a(!0)},N=()=>{a(!1),c(!1)};return n?r!=="intent"?[o,A,{}]:[o,A,{onFocus:Ch(h,T),onBlur:Ch(d,N),onMouseEnter:Ch(p,T),onMouseLeave:Ch(g,N),onTouchStart:Ch(E,T)}]:[!1,A,{}]}function Ch(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function w6({page:r,...e}){let{router:n}=KI(),i=ce.useMemo(()=>PI(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?ce.createElement(v6,{page:r,matches:i,...e}):null}function b6(r){let{manifest:e,routeModules:n}=$I(),[i,a]=ce.useState([]);return ce.useEffect(()=>{let o=!1;return h6(r,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[r,e,n]),i}function v6({page:r,matches:e,...n}){let i=Ba(),{manifest:a,routeModules:o}=$I(),{basename:c}=KI(),{loaderData:h,matches:d}=g6(),p=ce.useMemo(()=>NS(r,e,d,a,i,"data"),[r,e,d,a,i]),g=ce.useMemo(()=>NS(r,e,d,a,i,"assets"),[r,e,d,a,i]),E=ce.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let N=new Set,O=!1;if(e.forEach(K=>{let $=a.routes[K.route.id];!$||!$.hasLoader||(!p.some(G=>G.route.id===K.route.id)&&K.route.id in h&&o[K.route.id]?.shouldRevalidate||$.hasClientLoader?O=!0:N.add(K.route.id))}),N.size===0)return[];let B=l6(r,c,"data");return O&&N.size>0&&B.searchParams.set("_routes",e.filter(K=>N.has(K.route.id)).map(K=>K.route.id).join(",")),[B.pathname+B.search]},[c,h,i,a,p,e,r,o]),A=ce.useMemo(()=>f6(g,a),[g,a]),T=b6(g);return ce.createElement(ce.Fragment,null,E.map(N=>ce.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),A.map(N=>ce.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),T.map(({key:N,link:O})=>ce.createElement("link",{key:N,nonce:n.nonce,...O})))}function _6(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var GI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GI&&(window.__reactRouterVersion="7.8.2")}catch{}function E6({basename:r,children:e,window:n}){let i=ce.useRef();i.current==null&&(i.current=u3({window:n,v5Compat:!0}));let a=i.current,[o,c]=ce.useState({action:a.action,location:a.location}),h=ce.useCallback(d=>{ce.startTransition(()=>c(d))},[c]);return ce.useLayoutEffect(()=>a.listen(h),[a,h]),ce.createElement(Z3,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:a})}var YI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QI=ce.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:o,replace:c,state:h,target:d,to:p,preventScrollReset:g,viewTransition:E,...A},T){let{basename:N}=ce.useContext(Ys),O=typeof p=="string"&&YI.test(p),B,K=!1;if(typeof p=="string"&&O&&(B=p,GI))try{let M=new URL(window.location.href),U=p.startsWith("//")?new URL(M.protocol+p):new URL(p),W=ka(U.pathname,N);U.origin===M.origin&&W!=null?p=W+U.search+U.hash:K=!0}catch{hs(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=B3(p,{relative:a}),[G,re,ae]=y6(i,A),le=I6(p,{replace:c,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:E});function Q(M){e&&e(M),M.defaultPrevented||le(M)}let q=ce.createElement("a",{...A,...ae,href:B||$,onClick:K||o?e:Q,ref:_6(T,re),target:d,"data-discover":!O&&n==="render"?"true":void 0});return G&&!O?ce.createElement(ce.Fragment,null,q,ce.createElement(w6,{page:$})):q});QI.displayName="Link";var S6=ce.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:h,children:d,...p},g){let E=Rf(c,{relative:p.relative}),A=Ba(),T=ce.useContext(km),{navigator:N,basename:O}=ce.useContext(Ys),B=T!=null&&M6(E)&&h===!0,K=N.encodeLocation?N.encodeLocation(E).pathname:E.pathname,$=A.pathname,G=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||($=$.toLowerCase(),G=G?G.toLowerCase():null,K=K.toLowerCase()),G&&O&&(G=ka(G,O)||G);const re=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ae=$===K||!a&&$.startsWith(K)&&$.charAt(re)==="/",le=G!=null&&(G===K||!a&&G.startsWith(K)&&G.charAt(K.length)==="/"),Q={isActive:ae,isPending:le,isTransitioning:B},q=ae?e:void 0,M;typeof i=="function"?M=i(Q):M=[i,ae?"active":null,le?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(Q):o;return ce.createElement(QI,{...p,"aria-current":q,className:M,ref:g,style:U,to:c,viewTransition:h},typeof d=="function"?d(Q):d)});S6.displayName="NavLink";var A6=ce.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:o,method:c=Ip,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:E,...A},T)=>{let N=k6(),O=C6(h,{relative:p}),B=c.toLowerCase()==="get"?"get":"post",K=typeof h=="string"&&YI.test(h),$=G=>{if(d&&d(G),G.defaultPrevented)return;G.preventDefault();let re=G.nativeEvent.submitter,ae=re?.getAttribute("formmethod")||c;N(re||G.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:a,state:o,relative:p,preventScrollReset:g,viewTransition:E})};return ce.createElement("form",{ref:T,method:B,action:O,onSubmit:i?d:$,...A,"data-discover":!K&&r==="render"?"true":void 0})});A6.displayName="Form";function T6(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XI(r){let e=ce.useContext(vu);return zn(e,T6(r)),e}function I6(r,{target:e,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=WI(),d=Ba(),p=Rf(r,{relative:o});return ce.useCallback(g=>{if(i6(g,e)){g.preventDefault();let E=n!==void 0?n:of(d)===of(p);h(r,{replace:E,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[d,h,p,n,i,e,r,a,o,c])}var R6=0,x6=()=>`__${String(++R6)}__`;function k6(){let{router:r}=XI("useSubmit"),{basename:e}=ce.useContext(Ys),n=G3();return ce.useCallback(async(i,a={})=>{let{action:o,method:c,encType:h,formData:d,body:p}=o6(i,e);if(a.navigate===!1){let g=a.fetcherKey||x6();await r.fetch(g,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await r.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,n])}function C6(r,{relative:e}={}){let{basename:n}=ce.useContext(Ys),i=ce.useContext(La);zn(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Rf(r||".",{relative:e})},c=Ba();if(r==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(E=>E).forEach(E=>h.append("index",E));let g=h.toString();o.search=g?`?${g}`:""}}return(!r||r===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ra([n,o.pathname])),of(o)}function M6(r,{relative:e}={}){let n=ce.useContext(zI);zn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=XI("useViewTransitionState"),a=Rf(r,{relative:e});if(!n.isTransitioning)return!1;let o=ka(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=ka(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Kp(a.pathname,c)!=null||Kp(a.pathname,o)!=null}var O6=NI(),hy,PS;function N6(){if(PS)return hy;PS=1;var r=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(o,c){if(o===c)return!0;if(o&&c&&typeof o=="object"&&typeof c=="object"){if(o.constructor!==c.constructor)return!1;var h,d,p;if(Array.isArray(o)){if(h=o.length,h!=c.length)return!1;for(d=h;d--!==0;)if(!a(o[d],c[d]))return!1;return!0}var g;if(e&&o instanceof Map&&c instanceof Map){if(o.size!==c.size)return!1;for(g=o.entries();!(d=g.next()).done;)if(!c.has(d.value[0]))return!1;for(g=o.entries();!(d=g.next()).done;)if(!a(d.value[1],c.get(d.value[0])))return!1;return!0}if(n&&o instanceof Set&&c instanceof Set){if(o.size!==c.size)return!1;for(g=o.entries();!(d=g.next()).done;)if(!c.has(d.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(c)){if(h=o.length,h!=c.length)return!1;for(d=h;d--!==0;)if(o[d]!==c[d])return!1;return!0}if(o.constructor===RegExp)return o.source===c.source&&o.flags===c.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof c.valueOf=="function")return o.valueOf()===c.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof c.toString=="function")return o.toString()===c.toString();if(p=Object.keys(o),h=p.length,h!==Object.keys(c).length)return!1;for(d=h;d--!==0;)if(!Object.prototype.hasOwnProperty.call(c,p[d]))return!1;if(r&&o instanceof Element)return!1;for(d=h;d--!==0;)if(!((p[d]==="_owner"||p[d]==="__v"||p[d]==="__o")&&o.$$typeof)&&!a(o[p[d]],c[p[d]]))return!1;return!0}return o!==o&&c!==c}return hy=function(c,h){try{return a(c,h)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},hy}var P6=N6();const D6=qo(P6);var fy,DS;function L6(){if(DS)return fy;DS=1;var r=function(e,n,i,a,o,c,h,d){if(!e){var p;if(n===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[i,a,o,c,h,d],E=0;p=new Error(n.replace(/%s/g,function(){return g[E++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return fy=r,fy}var B6=L6();const LS=qo(B6);var dy,BS;function U6(){return BS||(BS=1,dy=function(e,n,i,a){var o=i?i.call(a,e,n):void 0;if(o!==void 0)return!!o;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var c=Object.keys(e),h=Object.keys(n);if(c.length!==h.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(n),p=0;p<c.length;p++){var g=c[p];if(!d(g))return!1;var E=e[g],A=n[g];if(o=i?i.call(a,E,A,g):void 0,o===!1||o===void 0&&E!==A)return!1}return!0}),dy}var V6=U6();const z6=qo(V6);var ZI=(r=>(r.BASE="base",r.BODY="body",r.HEAD="head",r.HTML="html",r.LINK="link",r.META="meta",r.NOSCRIPT="noscript",r.SCRIPT="script",r.STYLE="style",r.TITLE="title",r.FRAGMENT="Symbol(react.fragment)",r))(ZI||{}),py={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},US=Object.values(ZI),Ub={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},j6=Object.entries(Ub).reduce((r,[e,n])=>(r[n]=e,r),{}),os="data-rh",$c={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Gc=(r,e)=>{for(let n=r.length-1;n>=0;n-=1){const i=r[n];if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}return null},q6=r=>{let e=Gc(r,"title");const n=Gc(r,$c.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const i=Gc(r,$c.DEFAULT_TITLE);return e||i||void 0},W6=r=>Gc(r,$c.ON_CHANGE_CLIENT_STATE)||(()=>{}),my=(r,e)=>e.filter(n=>typeof n[r]<"u").map(n=>n[r]).reduce((n,i)=>({...n,...i}),{}),F6=(r,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,i)=>{if(!n.length){const a=Object.keys(i);for(let o=0;o<a.length;o+=1){const h=a[o].toLowerCase();if(r.indexOf(h)!==-1&&i[h])return n.concat(i)}}return n},[]),H6=r=>console&&typeof console.warn=="function"&&console.warn(r),Mh=(r,e,n)=>{const i={};return n.filter(a=>Array.isArray(a[r])?!0:(typeof a[r]<"u"&&H6(`Helmet: ${r} should be of type "Array". Instead found type "${typeof a[r]}"`),!1)).map(a=>a[r]).reverse().reduce((a,o)=>{const c={};o.filter(d=>{let p;const g=Object.keys(d);for(let A=0;A<g.length;A+=1){const T=g[A],N=T.toLowerCase();e.indexOf(N)!==-1&&!(p==="rel"&&d[p].toLowerCase()==="canonical")&&!(N==="rel"&&d[N].toLowerCase()==="stylesheet")&&(p=N),e.indexOf(T)!==-1&&(T==="innerHTML"||T==="cssText"||T==="itemprop")&&(p=T)}if(!p||!d[p])return!1;const E=d[p].toLowerCase();return i[p]||(i[p]={}),c[p]||(c[p]={}),i[p][E]?!1:(c[p][E]=!0,!0)}).reverse().forEach(d=>a.push(d));const h=Object.keys(c);for(let d=0;d<h.length;d+=1){const p=h[d],g={...i[p],...c[p]};i[p]=g}return a},[]).reverse()},K6=(r,e)=>{if(Array.isArray(r)&&r.length){for(let n=0;n<r.length;n+=1)if(r[n][e])return!0}return!1},$6=r=>({baseTag:F6(["href"],r),bodyAttributes:my("bodyAttributes",r),defer:Gc(r,$c.DEFER),encode:Gc(r,$c.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:my("htmlAttributes",r),linkTags:Mh("link",["rel","href"],r),metaTags:Mh("meta",["name","charset","http-equiv","property","itemprop"],r),noscriptTags:Mh("noscript",["innerHTML"],r),onChangeClientState:W6(r),scriptTags:Mh("script",["src","innerHTML"],r),styleTags:Mh("style",["cssText"],r),title:q6(r),titleAttributes:my("titleAttributes",r),prioritizeSeoTags:K6(r,$c.PRIORITIZE_SEO_TAGS)}),JI=r=>Array.isArray(r)?r.join(""):r,G6=(r,e)=>{const n=Object.keys(r);for(let i=0;i<n.length;i+=1)if(e[n[i]]&&e[n[i]].includes(r[n[i]]))return!0;return!1},gy=(r,e)=>Array.isArray(r)?r.reduce((n,i)=>(G6(i,e)?n.priority.push(i):n.default.push(i),n),{priority:[],default:[]}):{default:r,priority:[]},VS=(r,e)=>({...r,[e]:void 0}),Y6=["noscript","script","style"],Vw=(r,e=!0)=>e===!1?String(r):String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),eR=r=>Object.keys(r).reduce((e,n)=>{const i=typeof r[n]<"u"?`${n}="${r[n]}"`:`${n}`;return e?`${e} ${i}`:i},""),Q6=(r,e,n,i)=>{const a=eR(n),o=JI(e);return a?`<${r} ${os}="true" ${a}>${Vw(o,i)}</${r}>`:`<${r} ${os}="true">${Vw(o,i)}</${r}>`},X6=(r,e,n=!0)=>e.reduce((i,a)=>{const o=a,c=Object.keys(o).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,g)=>{const E=typeof o[g]>"u"?g:`${g}="${Vw(o[g],n)}"`;return p?`${p} ${E}`:E},""),h=o.innerHTML||o.cssText||"",d=Y6.indexOf(r)===-1;return`${i}<${r} ${os}="true" ${c}${d?"/>":`>${h}</${r}>`}`},""),tR=(r,e={})=>Object.keys(r).reduce((n,i)=>{const a=Ub[i];return n[a||i]=r[i],n},e),Z6=(r,e,n)=>{const i={key:e,[os]:!0},a=tR(n,i);return[Le.createElement("title",a,e)]},xp=(r,e)=>e.map((n,i)=>{const a={key:i,[os]:!0};return Object.keys(n).forEach(o=>{const h=Ub[o]||o;if(h==="innerHTML"||h==="cssText"){const d=n.innerHTML||n.cssText;a.dangerouslySetInnerHTML={__html:d}}else a[h]=n[o]}),Le.createElement(r,a)}),Yi=(r,e,n=!0)=>{switch(r){case"title":return{toComponent:()=>Z6(r,e.title,e.titleAttributes),toString:()=>Q6(r,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>tR(e),toString:()=>eR(e)};default:return{toComponent:()=>xp(r,e),toString:()=>X6(r,e,n)}}},J6=({metaTags:r,linkTags:e,scriptTags:n,encode:i})=>{const a=gy(r,py.meta),o=gy(e,py.link),c=gy(n,py.script);return{priorityMethods:{toComponent:()=>[...xp("meta",a.priority),...xp("link",o.priority),...xp("script",c.priority)],toString:()=>`${Yi("meta",a.priority,i)} ${Yi("link",o.priority,i)} ${Yi("script",c.priority,i)}`},metaTags:a.default,linkTags:o.default,scriptTags:c.default}},eO=r=>{const{baseTag:e,bodyAttributes:n,encode:i=!0,htmlAttributes:a,noscriptTags:o,styleTags:c,title:h="",titleAttributes:d,prioritizeSeoTags:p}=r;let{linkTags:g,metaTags:E,scriptTags:A}=r,T={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:T,linkTags:g,metaTags:E,scriptTags:A}=J6(r)),{priority:T,base:Yi("base",e,i),bodyAttributes:Yi("bodyAttributes",n,i),htmlAttributes:Yi("htmlAttributes",a,i),link:Yi("link",g,i),meta:Yi("meta",E,i),noscript:Yi("noscript",o,i),script:Yi("script",A,i),style:Yi("style",c,i),title:Yi("title",{title:h,titleAttributes:d},i)}},zw=eO,ap=[],nR=!!(typeof window<"u"&&window.document&&window.document.createElement),jw=class{instances=[];canUseDOM=nR;context;value={setHelmet:r=>{this.context.helmet=r},helmetInstances:{get:()=>this.canUseDOM?ap:this.instances,add:r=>{(this.canUseDOM?ap:this.instances).push(r)},remove:r=>{const e=(this.canUseDOM?ap:this.instances).indexOf(r);(this.canUseDOM?ap:this.instances).splice(e,1)}}};constructor(r,e){this.context=r,this.canUseDOM=e||!1,e||(r.helmet=zw({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},tO={},rR=Le.createContext(tO),iR=class sR extends ce.Component{static canUseDOM=nR;helmetData;constructor(e){super(e),this.helmetData=new jw(this.props.context||{},sR.canUseDOM)}render(){return Le.createElement(rR.Provider,{value:this.helmetData.value},this.props.children)}},Nc=(r,e)=>{const n=document.head||document.querySelector("head"),i=n.querySelectorAll(`${r}[${os}]`),a=[].slice.call(i),o=[];let c;return e&&e.length&&e.forEach(h=>{const d=document.createElement(r);for(const p in h)if(Object.prototype.hasOwnProperty.call(h,p))if(p==="innerHTML")d.innerHTML=h.innerHTML;else if(p==="cssText")d.styleSheet?d.styleSheet.cssText=h.cssText:d.appendChild(document.createTextNode(h.cssText));else{const g=p,E=typeof h[g]>"u"?"":h[g];d.setAttribute(p,E)}d.setAttribute(os,"true"),a.some((p,g)=>(c=g,d.isEqualNode(p)))?a.splice(c,1):o.push(d)}),a.forEach(h=>h.parentNode?.removeChild(h)),o.forEach(h=>n.appendChild(h)),{oldTags:a,newTags:o}},qw=(r,e)=>{const n=document.getElementsByTagName(r)[0];if(!n)return;const i=n.getAttribute(os),a=i?i.split(","):[],o=[...a],c=Object.keys(e);for(const h of c){const d=e[h]||"";n.getAttribute(h)!==d&&n.setAttribute(h,d),a.indexOf(h)===-1&&a.push(h);const p=o.indexOf(h);p!==-1&&o.splice(p,1)}for(let h=o.length-1;h>=0;h-=1)n.removeAttribute(o[h]);a.length===o.length?n.removeAttribute(os):n.getAttribute(os)!==c.join(",")&&n.setAttribute(os,c.join(","))},nO=(r,e)=>{typeof r<"u"&&document.title!==r&&(document.title=JI(r)),qw("title",e)},zS=(r,e)=>{const{baseTag:n,bodyAttributes:i,htmlAttributes:a,linkTags:o,metaTags:c,noscriptTags:h,onChangeClientState:d,scriptTags:p,styleTags:g,title:E,titleAttributes:A}=r;qw("body",i),qw("html",a),nO(E,A);const T={baseTag:Nc("base",n),linkTags:Nc("link",o),metaTags:Nc("meta",c),noscriptTags:Nc("noscript",h),scriptTags:Nc("script",p),styleTags:Nc("style",g)},N={},O={};Object.keys(T).forEach(B=>{const{newTags:K,oldTags:$}=T[B];K.length&&(N[B]=K),$.length&&(O[B]=T[B].oldTags)}),e&&e(),d(r,N,O)},Oh=null,rO=r=>{Oh&&cancelAnimationFrame(Oh),r.defer?Oh=requestAnimationFrame(()=>{zS(r,()=>{Oh=null})}):(zS(r),Oh=null)},iO=rO,jS=class extends ce.Component{rendered=!1;shouldComponentUpdate(r){return!z6(r,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:r}=this.props.context;r.remove(this),this.emitChange()}emitChange(){const{helmetInstances:r,setHelmet:e}=this.props.context;let n=null;const i=$6(r.get().map(a=>{const o={...a.props};return delete o.context,o}));iR.canUseDOM?iO(i):zw&&(n=zw(i)),e(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:r}=this.props.context;r.add(this),this.emitChange()}render(){return this.init(),null}},sO=class extends ce.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(r){return!D6(VS(this.props,"helmetData"),VS(r,"helmetData"))}mapNestedChildrenToProps(r,e){if(!e)return null;switch(r.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${r.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(r,e,n,i){return{...e,[r.type]:[...e[r.type]||[],{...n,...this.mapNestedChildrenToProps(r,i)}]}}mapObjectTypeChildren(r,e,n,i){switch(r.type){case"title":return{...e,[r.type]:i,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[r.type]:{...n}}}}mapArrayTypeChildrenToProps(r,e){let n={...e};return Object.keys(r).forEach(i=>{n={...n,[i]:r[i]}}),n}warnOnInvalidChildren(r,e){return LS(US.some(n=>r.type===n),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${US.join(", ")} are allowed. Helmet does not support rendering <${r.type}> elements. Refer to our API for more information.`),LS(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${r.type}>. Did you forget to wrap your children in braces? ( <${r.type}>{\`\`}</${r.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(r,e){let n={};return Le.Children.forEach(r,i=>{if(!i||!i.props)return;const{children:a,...o}=i.props,c=Object.keys(o).reduce((d,p)=>(d[j6[p]||p]=o[p],d),{});let{type:h}=i;switch(typeof h=="symbol"?h=h.toString():this.warnOnInvalidChildren(i,a),h){case"Symbol(react.fragment)":e=this.mapChildrenToProps(a,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(i,n,c,a);break;default:e=this.mapObjectTypeChildren(i,e,c,a);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:r,...e}=this.props;let n={...e},{helmetData:i}=e;if(r&&(n=this.mapChildrenToProps(r,n)),i&&!(i instanceof jw)){const a=i;i=new jw(a.context,!0),delete n.helmetData}return i?Le.createElement(jS,{...n,context:i.value}):Le.createElement(rR.Consumer,null,a=>Le.createElement(jS,{...n,context:a}))}};const aO="modulepreload",oO=function(r){return"/solstice_SOLS/"+r},qS={},So=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=d(n.map(p=>{if(p=oO(p),p in qS)return;qS[p]=!0;const g=p.endsWith(".css"),E=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${E}`))return;const A=document.createElement("link");if(A.rel=g?"stylesheet":aO,g||(A.as="script"),A.crossOrigin="",A.href=p,h&&A.setAttribute("nonce",h),document.head.appendChild(A),g)return new Promise((T,N)=>{A.addEventListener("load",T),A.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})},lO=()=>{};var WS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},cO=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const a=r[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=r[n++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=r[n++],c=r[n++],h=r[n++],d=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=r[n++],c=r[n++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},oR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const o=r[a],c=a+1<r.length,h=c?r[a+1]:0,d=a+2<r.length,p=d?r[a+2]:0,g=o>>2,E=(o&3)<<4|h>>4;let A=(h&15)<<2|p>>6,T=p&63;d||(T=64,c||(A=64)),i.push(n[g],n[E],n[A],n[T])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(aR(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):cO(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const o=n[r.charAt(a++)],h=a<r.length?n[r.charAt(a)]:0;++a;const p=a<r.length?n[r.charAt(a)]:64;++a;const E=a<r.length?n[r.charAt(a)]:64;if(++a,o==null||h==null||p==null||E==null)throw new uO;const A=o<<2|h>>4;if(i.push(A),p!==64){const T=h<<4&240|p>>2;if(i.push(T),E!==64){const N=p<<6&192|E;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hO=function(r){const e=aR(r);return oR.encodeByteArray(e,!0)},$p=function(r){return hO(r).replace(/\./g,"")},lR=function(r){try{return oR.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=()=>fO().__FIREBASE_DEFAULTS__,pO=()=>{if(typeof process>"u"||typeof WS>"u")return;const r=WS.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mO=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&lR(r[1]);return e&&JSON.parse(e)},Mm=()=>{try{return lO()||dO()||pO()||mO()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cR=r=>Mm()?.emulatorHosts?.[r],gO=r=>{const e=cR(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},uR=()=>Mm()?.config,hR=r=>Mm()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fR(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...r};return[$p(JSON.stringify(n)),$p(JSON.stringify(c)),""].join(".")}const Qh={};function bO(){const r={prod:[],emulator:[]};for(const e of Object.keys(Qh))Qh[e]?r.emulator.push(e):r.prod.push(e);return r}function vO(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let FS=!1;function dR(r,e){if(typeof window>"u"||typeof document>"u"||!_u(window.location.host)||Qh[r]===e||Qh[r]||FS)return;Qh[r]=e;function n(A){return`__firebase__banner__${A}`}const i="__firebase__banner",o=bO().prod.length>0;function c(){const A=document.getElementById(i);A&&A.remove()}function h(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function d(A,T){A.setAttribute("width","24"),A.setAttribute("id",T),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{FS=!0,c()},A}function g(A,T){A.setAttribute("id",T),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=vO(i),T=n("text"),N=document.getElementById(T)||document.createElement("span"),O=n("learnmore"),B=document.getElementById(O)||document.createElement("a"),K=n("preprendIcon"),$=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const G=A.element;h(G),g(B,O);const re=p();d($,K),G.append($,N,B,re),document.body.appendChild(G)}o?(N.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _O(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xr())}function EO(){const r=Mm()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AO(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function TO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IO(){const r=Xr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function RO(){return!EO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xO(){try{return typeof indexedDB=="object"}catch{return!1}}function kO(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="FirebaseError";class Ua extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=CO,Object.setPrototypeOf(this,Ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xf.prototype.create)}}class xf{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?MO(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Ua(a,h,i)}}function MO(r,e){return r.replace(OO,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const OO=/\{\$([^}]+)}/g;function NO(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function kl(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const o=r[a],c=e[a];if(HS(o)&&HS(c)){if(!kl(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function HS(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function PO(r,e){const n=new DO(r,e);return n.subscribe.bind(n)}class DO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");LO(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=yy),a.error===void 0&&(a.error=yy),a.complete===void 0&&(a.complete=yy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LO(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function yy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(r){return r&&r._delegate?r._delegate:r}class Cl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new yO;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VO(e))try{this.getOrInitializeService({instanceIdentifier:ml})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=ml){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ml){return this.instances.has(e)}getOptions(e=ml){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:UO(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ml){return this.component?this.component.multipleInstances?e:ml:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UO(r){return r===ml?void 0:r}function VO(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const jO={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},qO=Vt.INFO,WO={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},FO=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=WO[e];if(a)console[a](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vb{constructor(e){this.name=e,this._logLevel=qO,this._logHandler=FO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...e),this._logHandler(this,Vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...e),this._logHandler(this,Vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...e),this._logHandler(this,Vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...e),this._logHandler(this,Vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...e),this._logHandler(this,Vt.ERROR,...e)}}const HO=(r,e)=>e.some(n=>r instanceof n);let KS,$S;function KO(){return KS||(KS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $O(){return $S||($S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pR=new WeakMap,Ww=new WeakMap,mR=new WeakMap,wy=new WeakMap,zb=new WeakMap;function GO(r){const e=new Promise((n,i)=>{const a=()=>{r.removeEventListener("success",o),r.removeEventListener("error",c)},o=()=>{n(xo(r.result)),a()},c=()=>{i(r.error),a()};r.addEventListener("success",o),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&pR.set(n,r)}).catch(()=>{}),zb.set(e,r),e}function YO(r){if(Ww.has(r))return;const e=new Promise((n,i)=>{const a=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",c),r.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",o),r.addEventListener("error",c),r.addEventListener("abort",c)});Ww.set(r,e)}let Fw={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Ww.get(r);if(e==="objectStoreNames")return r.objectStoreNames||mR.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function QO(r){Fw=r(Fw)}function XO(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(by(this),e,...n);return mR.set(i,e.sort?e.sort():[e]),xo(i)}:$O().includes(r)?function(...e){return r.apply(by(this),e),xo(pR.get(this))}:function(...e){return xo(r.apply(by(this),e))}}function ZO(r){return typeof r=="function"?XO(r):(r instanceof IDBTransaction&&YO(r),HO(r,KO())?new Proxy(r,Fw):r)}function xo(r){if(r instanceof IDBRequest)return GO(r);if(wy.has(r))return wy.get(r);const e=ZO(r);return e!==r&&(wy.set(r,e),zb.set(e,r)),e}const by=r=>zb.get(r);function JO(r,e,{blocked:n,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(r,e),h=xo(c);return i&&c.addEventListener("upgradeneeded",d=>{i(xo(c.result),d.oldVersion,d.newVersion,xo(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const eN=["get","getKey","getAll","getAllKeys","count"],tN=["put","add","delete","clear"],vy=new Map;function GS(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(vy.get(e))return vy.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=tN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||eN.includes(n)))return;const o=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return vy.set(e,o),o}QO(r=>({...r,get:(e,n,i)=>GS(e,n)||r.get(e,n,i),has:(e,n)=>!!GS(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function rN(r){return r.getComponent()?.type==="VERSION"}const Hw="@firebase/app",YS="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new Vb("@firebase/app"),iN="@firebase/app-compat",sN="@firebase/analytics-compat",aN="@firebase/analytics",oN="@firebase/app-check-compat",lN="@firebase/app-check",cN="@firebase/auth",uN="@firebase/auth-compat",hN="@firebase/database",fN="@firebase/data-connect",dN="@firebase/database-compat",pN="@firebase/functions",mN="@firebase/functions-compat",gN="@firebase/installations",yN="@firebase/installations-compat",wN="@firebase/messaging",bN="@firebase/messaging-compat",vN="@firebase/performance",_N="@firebase/performance-compat",EN="@firebase/remote-config",SN="@firebase/remote-config-compat",AN="@firebase/storage",TN="@firebase/storage-compat",IN="@firebase/firestore",RN="@firebase/ai",xN="@firebase/firestore-compat",kN="firebase",CN="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="[DEFAULT]",MN={[Hw]:"fire-core",[iN]:"fire-core-compat",[aN]:"fire-analytics",[sN]:"fire-analytics-compat",[lN]:"fire-app-check",[oN]:"fire-app-check-compat",[cN]:"fire-auth",[uN]:"fire-auth-compat",[hN]:"fire-rtdb",[fN]:"fire-data-connect",[dN]:"fire-rtdb-compat",[pN]:"fire-fn",[mN]:"fire-fn-compat",[gN]:"fire-iid",[yN]:"fire-iid-compat",[wN]:"fire-fcm",[bN]:"fire-fcm-compat",[vN]:"fire-perf",[_N]:"fire-perf-compat",[EN]:"fire-rc",[SN]:"fire-rc-compat",[AN]:"fire-gcs",[TN]:"fire-gcs-compat",[IN]:"fire-fst",[xN]:"fire-fst-compat",[RN]:"fire-vertex","fire-js":"fire-js",[kN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new Map,ON=new Map,$w=new Map;function QS(r,e){try{r.container.addComponent(e)}catch(n){Ca.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function au(r){const e=r.name;if($w.has(e))return Ca.debug(`There were multiple attempts to register component ${e}.`),!1;$w.set(e,r);for(const n of Gp.values())QS(n,r);for(const n of ON.values())QS(n,r);return!0}function jb(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ds(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ko=new xf("app","Firebase",NN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=CN;function gR(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:Kw,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw ko.create("bad-app-name",{appName:String(a)});if(n||(n=uR()),!n)throw ko.create("no-options");const o=Gp.get(a);if(o){if(kl(n,o.options)&&kl(i,o.config))return o;throw ko.create("duplicate-app",{appName:a})}const c=new zO(a);for(const d of $w.values())c.addComponent(d);const h=new PN(n,i,c);return Gp.set(a,h),h}function yR(r=Kw){const e=Gp.get(r);if(!e&&r===Kw&&uR())return gR();if(!e)throw ko.create("no-app",{appName:r});return e}function Co(r,e,n){let i=MN[r]??r;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ca.warn(c.join(" "));return}au(new Cl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="firebase-heartbeat-database",LN=1,lf="firebase-heartbeat-store";let _y=null;function wR(){return _y||(_y=JO(DN,LN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(lf)}catch(n){console.warn(n)}}}}).catch(r=>{throw ko.create("idb-open",{originalErrorMessage:r.message})})),_y}async function BN(r){try{const n=(await wR()).transaction(lf),i=await n.objectStore(lf).get(bR(r));return await n.done,i}catch(e){if(e instanceof Ua)Ca.warn(e.message);else{const n=ko.create("idb-get",{originalErrorMessage:e?.message});Ca.warn(n.message)}}}async function XS(r,e){try{const i=(await wR()).transaction(lf,"readwrite");await i.objectStore(lf).put(e,bR(r)),await i.done}catch(n){if(n instanceof Ua)Ca.warn(n.message);else{const i=ko.create("idb-set",{originalErrorMessage:n?.message});Ca.warn(i.message)}}}function bR(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=1024,VN=30;class zN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ZS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>VN){const a=WN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ca.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ZS(),{heartbeatsToSend:n,unsentEntries:i}=jN(this._heartbeatsCache.heartbeats),a=$p(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ca.warn(e),""}}}function ZS(){return new Date().toISOString().substring(0,10)}function jN(r,e=UN){const n=[];let i=r.slice();for(const a of r){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),JS(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),JS(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class qN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xO()?kO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return XS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return XS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function JS(r){return $p(JSON.stringify({version:2,heartbeats:r})).length}function WN(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(r){au(new Cl("platform-logger",e=>new nN(e),"PRIVATE")),au(new Cl("heartbeat",e=>new zN(e),"PRIVATE")),Co(Hw,YS,r),Co(Hw,YS,"esm2020"),Co("fire-js","")}FN("");var HN="firebase",KN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Co(HN,KN,"app");function vR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $N=vR,_R=new xf("auth","Firebase",vR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=new Vb("@firebase/auth");function GN(r,...e){Yp.logLevel<=Vt.WARN&&Yp.warn(`Auth (${Eu}): ${r}`,...e)}function kp(r,...e){Yp.logLevel<=Vt.ERROR&&Yp.error(`Auth (${Eu}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(r,...e){throw qb(r,...e)}function zs(r,...e){return qb(r,...e)}function ER(r,e,n){const i={...$N(),[e]:n};return new xf("auth","Firebase",i).create(e,{appName:r.name})}function Rl(r){return ER(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qb(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return _R.create(r,...e)}function mt(r,e,...n){if(!r)throw qb(e,...n)}function Sa(r){const e="INTERNAL ASSERTION FAILED: "+r;throw kp(e),new Error(e)}function Oa(r,e){r||Sa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(){return typeof self<"u"&&self.location?.href||""}function YN(){return eA()==="http:"||eA()==="https:"}function eA(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YN()||AO()||"connection"in navigator)?navigator.onLine:!0}function XN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oa(n>e,"Short delay should be less than long delay!"),this.isMobile=_O()||TO()}get(){return QN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(r,e){Oa(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eP=new Cf(3e4,6e4);function Fb(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Su(r,e,n,i,a={}){return AR(r,a,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const h=kf({key:r.config.apiKey,...c}).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:d,...o};return SO()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&_u(r.emulatorConfig.host)&&(p.credentials="include"),SR.fetch()(await TR(r,r.config.apiHost,n,h),p)})}async function AR(r,e,n){r._canInitEmulator=!1;const i={...ZN,...e};try{const a=new nP(r),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw op(r,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw op(r,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw op(r,"email-already-in-use",c);if(d==="USER_DISABLED")throw op(r,"user-disabled",c);const g=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ER(r,g,p);Ma(r,g)}}catch(a){if(a instanceof Ua)throw a;Ma(r,"network-request-failed",{message:String(a)})}}async function tP(r,e,n,i,a={}){const o=await Su(r,e,n,i,a);return"mfaPendingCredential"in o&&Ma(r,"multi-factor-auth-required",{_serverResponse:o}),o}async function TR(r,e,n,i){const a=`${e}${n}?${i}`,o=r,c=o.config.emulator?Wb(r.config,a):`${r.config.apiScheme}://${a}`;return JN.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class nP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(zs(this.auth,"network-request-failed")),eP.get())})}}function op(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=zs(r,e,i);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(r,e){return Su(r,"POST","/v1/accounts:delete",e)}async function Qp(r,e){return Su(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iP(r,e=!1){const n=Zi(r),i=await n.getIdToken(e),a=Hb(i);mt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:Xh(Ey(a.auth_time)),issuedAtTime:Xh(Ey(a.iat)),expirationTime:Xh(Ey(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ey(r){return Number(r)*1e3}function Hb(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return kp("JWT malformed, contained fewer than 3 sections"),null;try{const a=lR(n);return a?JSON.parse(a):(kp("Failed to decode base64 JWT payload"),null)}catch(a){return kp("Caught error parsing JWT payload as JSON",a?.toString()),null}}function tA(r){const e=Hb(r);return mt(e,"internal-error"),mt(typeof e.exp<"u","internal-error"),mt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ua&&sP(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function sP({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xh(this.lastLoginAt),this.creationTime=Xh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(r){const e=r.auth,n=await r.getIdToken(),i=await cf(r,Qp(e,{idToken:n}));mt(i?.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const o=a.providerUserInfo?.length?IR(a.providerUserInfo):[],c=lP(r.providerData,o),h=r.isAnonymous,d=!(r.email&&a.passwordHash)&&!c?.length,p=h?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Yw(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(r,g)}async function oP(r){const e=Zi(r);await Xp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lP(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function IR(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(r,e){const n=await AR(r,{},async()=>{const i=kf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=r.config,c=await TR(r,a,"/v1/token",`key=${o}`),h=await r._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return r.emulatorConfig&&_u(r.emulatorConfig.host)&&(d.credentials="include"),SR.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uP(r,e){return Su(r,"POST","/v2/accounts:revokeToken",Fb(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mt(e.idToken,"internal-error"),mt(typeof e.idToken<"u","internal-error"),mt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){mt(e.length!==0,"internal-error");const n=tA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:o}=await cP(e,n);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:o}=n,c=new Yc;return i&&(mt(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(mt(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(mt(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yc,this.toJSON())}_performRefresh(){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(r,e){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ls{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new aP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Yw(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await cf(this,this.stsTokenManager.getToken(this.auth,e));return mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iP(this,e)}reload(){return oP(this)}_assign(e){this!==e&&(mt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ls({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Xp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ds(this.auth.app))return Promise.reject(Rl(this.auth));const e=await this.getIdToken();return await cf(this,rP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:T,providerData:N,stsTokenManager:O}=n;mt(E&&O,e,"internal-error");const B=Yc.fromJSON(this.name,O);mt(typeof E=="string",e,"internal-error"),lo(i,e.name),lo(a,e.name),mt(typeof A=="boolean",e,"internal-error"),mt(typeof T=="boolean",e,"internal-error"),lo(o,e.name),lo(c,e.name),lo(h,e.name),lo(d,e.name),lo(p,e.name),lo(g,e.name);const K=new ls({uid:E,auth:e,email:a,emailVerified:A,displayName:i,isAnonymous:T,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:B,createdAt:p,lastLoginAt:g});return N&&Array.isArray(N)&&(K.providerData=N.map($=>({...$}))),d&&(K._redirectEventId=d),K}static async _fromIdTokenResponse(e,n,i=!1){const a=new Yc;a.updateFromServerResponse(n);const o=new ls({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Xp(o),o}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];mt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?IR(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Yc;h.updateFromIdToken(i);const d=new ls({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Yw(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=new Map;function Aa(r){Oa(r instanceof Function,"Expected a class definition");let e=nA.get(r);return e?(Oa(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,nA.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RR.type="NONE";const rA=RR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(r,e,n){return`firebase:${r}:${e}:${n}`}class Qc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=Cp(this.userKey,a.apiKey,o),this.fullPersistenceKey=Cp("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qp(this.auth,{idToken:e}).catch(()=>{});return n?ls._fromGetAccountInfoResponse(this.auth,n,e):null}return ls._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Qc(Aa(rA),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Aa(rA);const c=Cp(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(c);if(g){let E;if(typeof g=="string"){const A=await Qp(e,{idToken:g}).catch(()=>{});if(!A)break;E=await ls._fromGetAccountInfoResponse(e,A,g)}else E=ls._fromJSON(e,g);p!==o&&(h=E),o=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Qc(o,e,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Qc(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NR(e))return"Blackberry";if(PR(e))return"Webos";if(kR(e))return"Safari";if((e.includes("chrome/")||CR(e))&&!e.includes("edge/"))return"Chrome";if(OR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function xR(r=Xr()){return/firefox\//i.test(r)}function kR(r=Xr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CR(r=Xr()){return/crios\//i.test(r)}function MR(r=Xr()){return/iemobile/i.test(r)}function OR(r=Xr()){return/android/i.test(r)}function NR(r=Xr()){return/blackberry/i.test(r)}function PR(r=Xr()){return/webos/i.test(r)}function Kb(r=Xr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hP(r=Xr()){return Kb(r)&&!!window.navigator?.standalone}function fP(){return IO()&&document.documentMode===10}function DR(r=Xr()){return Kb(r)||OR(r)||PR(r)||NR(r)||/windows phone/i.test(r)||MR(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(r,e=[]){let n;switch(r){case"Browser":n=iA(Xr());break;case"Worker":n=`${iA(Xr())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((c,h)=>{try{const d=e(o);c(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(r,e={}){return Su(r,"GET","/v2/passwordPolicy",Fb(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=6;class gP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sA(this),this.idTokenSubscription=new sA(this),this.beforeStateQueue=new dP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_R,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Aa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qp(this,{idToken:e}),i=await ls._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ds(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ds(this.app))return Promise.reject(Rl(this));const n=e?Zi(e):null;return n&&mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&mt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ds(this.app)?Promise.reject(Rl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ds(this.app)?Promise.reject(Rl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Aa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pP(this),n=new gP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xf("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await uP(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Aa(e)||this._popupRedirectResolver;mt(n,this,"argument-error"),this.redirectPersistenceManager=await Qc.create(this,[Aa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ds(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $b(r){return Zi(r)}class sA{constructor(e){this.auth=e,this.observer=null,this.addObserver=PO(n=>this.observer=n)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wP(r){Gb=r}function bP(r){return Gb.loadJS(r)}function vP(){return Gb.gapiScript}function _P(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(r,e){const n=jb(r,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(kl(o,e??{}))return a;Ma(a,"already-initialized")}return n.initialize({options:e})}function SP(r,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Aa);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function AP(r,e,n){const i=$b(r);mt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,o=BR(e),{host:c,port:h}=TP(e),d=h===null?"":`:${h}`,p={url:`${o}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){mt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),mt(kl(p,i.config.emulator)&&kl(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,_u(c)?(fR(`${o}//${c}${d}`),dR("Auth",!0)):IP()}function BR(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function TP(r){const e=BR(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:aA(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:aA(c)}}}function aA(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function IP(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sa("not implemented")}_getIdTokenResponse(e){return Sa("not implemented")}_linkToIdToken(e,n){return Sa("not implemented")}_getReauthenticationResolver(e){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(r,e){return tP(r,"POST","/v1/accounts:signInWithIdp",Fb(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="http://localhost";class Ml extends UR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ma("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...o}=n;if(!i||!a)return null;const c=new Ml(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Xc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Xc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xc(e,n)}buildRequest(){const e={requestUri:RP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends VR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Mf{constructor(){super("facebook.com")}static credential(e){return Ml._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Mf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ml._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return bo.credential(n,i)}catch{return null}}}bo.GOOGLE_SIGN_IN_METHOD="google.com";bo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Mf{constructor(){super("github.com")}static credential(e){return Ml._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.GITHUB_SIGN_IN_METHOD="github.com";vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Mf{constructor(){super("twitter.com")}static credential(e,n){return Ml._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return _o.credential(n,i)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const o=await ls._fromIdTokenResponse(e,i,a),c=oA(i);return new ou({user:o,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=oA(i);return new ou({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function oA(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends Ua{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Zp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Zp(e,n,i,a)}}function zR(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Zp._fromErrorAndOperation(r,o,e,i):o})}async function xP(r,e,n=!1){const i=await cf(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ou._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(r,e,n=!1){const{auth:i}=r;if(Ds(i.app))return Promise.reject(Rl(i));const a="reauthenticate";try{const o=await cf(r,zR(i,a,e,r),n);mt(o.idToken,i,"internal-error");const c=Hb(o.idToken);mt(c,i,"internal-error");const{sub:h}=c;return mt(r.uid===h,i,"user-mismatch"),ou._forOperation(r,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ma(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(r,e,n=!1){if(Ds(r.app))return Promise.reject(Rl(r));const i="signIn",a=await zR(r,i,e),o=await ou._fromIdTokenResponse(r,i,a);return n||await r._updateCurrentUser(o.user),o}function MP(r,e,n,i){return Zi(r).onIdTokenChanged(e,n,i)}function OP(r,e,n){return Zi(r).beforeAuthStateChanged(e,n)}const Jp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jp,"1"),this.storage.removeItem(Jp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=1e3,PP=10;class qR extends jR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);fP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,PP):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},NP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qR.type="LOCAL";const DP=qR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR extends jR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WR.type="SESSION";const FR=WR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Om(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:o}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async p=>p(n.origin,o)),d=await LP(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const p=Yb("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(E){const A=E;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(A.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return window}function UP(r){js().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){return typeof js().WorkerGlobalScope<"u"&&typeof js().importScripts=="function"}async function VP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zP(){return navigator?.serviceWorker?.controller||null}function jP(){return HR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firebaseLocalStorageDb",qP=1,em="firebaseLocalStorage",$R="fbase_key";class Of{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nm(r,e){return r.transaction([em],e?"readwrite":"readonly").objectStore(em)}function WP(){const r=indexedDB.deleteDatabase(KR);return new Of(r).toPromise()}function Qw(){const r=indexedDB.open(KR,qP);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(em,{keyPath:$R})}catch(a){n(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(em)?e(i):(i.close(),await WP(),e(await Qw()))})})}async function lA(r,e,n){const i=Nm(r,!0).put({[$R]:e,value:n});return new Of(i).toPromise()}async function FP(r,e){const n=Nm(r,!1).get(e),i=await new Of(n).toPromise();return i===void 0?null:i.value}function cA(r,e){const n=Nm(r,!0).delete(e);return new Of(n).toPromise()}const HP=800,KP=3;class GR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>KP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Om._getInstance(jP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VP(),!this.activeServiceWorker)return;this.sender=new BP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qw();return await lA(e,Jp,"1"),await cA(e,Jp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>lA(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>FP(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Nm(a,!1).getAll();return new Of(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GR.type="LOCAL";const $P=GR;new Cf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(r,e){return e?Aa(e):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb extends UR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YP(r){return CP(r.auth,new Qb(r),r.bypassAuthState)}function QP(r){const{auth:e,user:n}=r;return mt(n,e,"internal-error"),kP(n,new Qb(r),r.bypassAuthState)}async function XP(r){const{auth:e,user:n}=r;return mt(n,e,"internal-error"),xP(n,new Qb(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,i,a,o=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YP;case"linkViaPopup":case"linkViaRedirect":return XP;case"reauthViaPopup":case"reauthViaRedirect":return QP;default:Ma(this.auth,"internal-error")}}resolve(e){Oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new Cf(2e3,1e4);class Wc extends YR{constructor(e,n,i,a,o){super(e,n,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Wc.currentPopupAction&&Wc.currentPopupAction.cancel(),Wc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mt(e,this.auth,"internal-error"),e}async onExecution(){Oa(this.filter.length===1,"Popup operations only handle one event");const e=Yb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZP.get())};e()}}Wc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="pendingRedirect",Mp=new Map;class eD extends YR{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Mp.get(this.auth._key());if(!e){try{const i=await tD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Mp.set(this.auth._key(),e)}return this.bypassAuthState||Mp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tD(r,e){const n=iD(e),i=rD(r);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function nD(r,e){Mp.set(r._key(),e)}function rD(r){return Aa(r._redirectPersistence)}function iD(r){return Cp(JP,r.config.apiKey,r.name)}async function sD(r,e,n=!1){if(Ds(r.app))return Promise.reject(Rl(r));const i=$b(r),a=GP(i,e),c=await new eD(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=600*1e3;class oD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!QR(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aD&&this.cachedEventUids.clear(),this.cachedEventUids.has(uA(e))}saveEventToCache(e){this.cachedEventUids.add(uA(e)),this.lastProcessedEventTime=Date.now()}}function uA(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function QR({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function lD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QR(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(r,e={}){return Su(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hD=/^https?/;async function fD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await cD(r);for(const n of e)try{if(dD(n))return}catch{}Ma(r,"unauthorized-domain")}function dD(r){const e=Gw(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!hD.test(n))return!1;if(uD.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new Cf(3e4,6e4);function hA(){const r=js().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function mD(r){return new Promise((e,n)=>{function i(){hA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hA(),n(zs(r,"network-request-failed"))},timeout:pD.get()})}if(js().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(js().gapi?.load)i();else{const a=_P("iframefcb");return js()[a]=()=>{gapi.load?i():n(zs(r,"network-request-failed"))},bP(`${vP()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw Op=null,e})}let Op=null;function gD(r){return Op=Op||mD(r),Op}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new Cf(5e3,15e3),wD="__/auth/iframe",bD="emulator/auth/iframe",vD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_D=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ED(r){const e=r.config;mt(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Wb(e,bD):`https://${r.config.authDomain}/${wD}`,i={apiKey:e.apiKey,appName:r.name,v:Eu},a=_D.get(r.config.apiHost);a&&(i.eid=a);const o=r._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${kf(i).slice(1)}`}async function SD(r){const e=await gD(r),n=js().gapi;return mt(n,r,"internal-error"),e.open({where:document.body,url:ED(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vD,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=zs(r,"network-request-failed"),h=js().setTimeout(()=>{o(c)},yD.get());function d(){js().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TD=500,ID=600,RD="_blank",xD="http://localhost";class fA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kD(r,e,n,i=TD,a=ID){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...AD,width:i.toString(),height:a.toString(),top:o,left:c},p=Xr().toLowerCase();n&&(h=CR(p)?RD:n),xR(p)&&(e=e||xD,d.scrollbars="yes");const g=Object.entries(d).reduce((A,[T,N])=>`${A}${T}=${N},`,"");if(hP(p)&&h!=="_self")return CD(e||"",h),new fA(null);const E=window.open(e||"",h,g);mt(E,r,"popup-blocked");try{E.focus()}catch{}return new fA(E)}function CD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="__/auth/handler",OD="emulator/auth/handler",ND=encodeURIComponent("fac");async function dA(r,e,n,i,a,o){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:Eu,eventId:a};if(e instanceof VR){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",NO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,E]of Object.entries({}))c[g]=E}if(e instanceof Mf){const g=e.getScopes().filter(E=>E!=="");g.length>0&&(c.scopes=g.join(","))}r.tenantId&&(c.tid=r.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await r._getAppCheckToken(),p=d?`#${ND}=${encodeURIComponent(d)}`:"";return`${PD(r)}?${kf(h).slice(1)}${p}`}function PD({config:r}){return r.emulator?Wb(r,OD):`https://${r.authDomain}/${MD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="webStorageSupport";class DD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FR,this._completeRedirectFn=sD,this._overrideRedirectResult=nD}async _openPopup(e,n,i,a){Oa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await dA(e,n,i,Gw(),a);return kD(e,o,Yb())}async _openRedirect(e,n,i,a){await this._originValidation(e);const o=await dA(e,n,i,Gw(),a);return UP(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Oa(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await SD(e),i=new oD(e);return n.register("authEvent",a=>(mt(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sy,{type:Sy},a=>{const o=a?.[0]?.[Sy];o!==void 0&&n(!!o),Ma(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DR()||kR()||Kb()}}const LD=DD;var pA="@firebase/auth",mA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VD(r){au(new Cl("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;mt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LR(r)},p=new yP(i,a,o,d);return SP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),au(new Cl("auth-internal",e=>{const n=$b(e.getProvider("auth").getImmediate());return(i=>new BD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Co(pA,mA,UD(r)),Co(pA,mA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=300,jD=hR("authIdTokenMaxAge")||zD;let gA=null;const qD=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>jD)return;const a=n?.token;gA!==a&&(gA=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function WD(r=yR()){const e=jb(r,"auth");if(e.isInitialized())return e.getImmediate();const n=EP(r,{popupRedirectResolver:LD,persistence:[$P,DP,FR]}),i=hR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=qD(o.toString());OP(n,c,()=>c(n.currentUser)),MP(n,h=>c(h))}}const a=cR("auth");return a&&AP(n,`http://${a}`),n}function FD(){return document.getElementsByTagName("head")?.[0]??document}wP({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const o=zs("internal-error");o.customData=a,n(o)},i.type="text/javascript",i.charset="UTF-8",FD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VD("Browser");var yA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mo,XR;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Q,q){function M(){}M.prototype=q.prototype,Q.D=q.prototype,Q.prototype=new M,Q.prototype.constructor=Q,Q.C=function(U,W,F){for(var S=Array(arguments.length-2),w=2;w<arguments.length;w++)S[w-2]=arguments[w];return q.prototype[W].apply(U,S)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(Q,q,M){M||(M=0);var U=Array(16);if(typeof q=="string")for(var W=0;16>W;++W)U[W]=q.charCodeAt(M++)|q.charCodeAt(M++)<<8|q.charCodeAt(M++)<<16|q.charCodeAt(M++)<<24;else for(W=0;16>W;++W)U[W]=q[M++]|q[M++]<<8|q[M++]<<16|q[M++]<<24;q=Q.g[0],M=Q.g[1],W=Q.g[2];var F=Q.g[3],S=q+(F^M&(W^F))+U[0]+3614090360&4294967295;q=M+(S<<7&4294967295|S>>>25),S=F+(W^q&(M^W))+U[1]+3905402710&4294967295,F=q+(S<<12&4294967295|S>>>20),S=W+(M^F&(q^M))+U[2]+606105819&4294967295,W=F+(S<<17&4294967295|S>>>15),S=M+(q^W&(F^q))+U[3]+3250441966&4294967295,M=W+(S<<22&4294967295|S>>>10),S=q+(F^M&(W^F))+U[4]+4118548399&4294967295,q=M+(S<<7&4294967295|S>>>25),S=F+(W^q&(M^W))+U[5]+1200080426&4294967295,F=q+(S<<12&4294967295|S>>>20),S=W+(M^F&(q^M))+U[6]+2821735955&4294967295,W=F+(S<<17&4294967295|S>>>15),S=M+(q^W&(F^q))+U[7]+4249261313&4294967295,M=W+(S<<22&4294967295|S>>>10),S=q+(F^M&(W^F))+U[8]+1770035416&4294967295,q=M+(S<<7&4294967295|S>>>25),S=F+(W^q&(M^W))+U[9]+2336552879&4294967295,F=q+(S<<12&4294967295|S>>>20),S=W+(M^F&(q^M))+U[10]+4294925233&4294967295,W=F+(S<<17&4294967295|S>>>15),S=M+(q^W&(F^q))+U[11]+2304563134&4294967295,M=W+(S<<22&4294967295|S>>>10),S=q+(F^M&(W^F))+U[12]+1804603682&4294967295,q=M+(S<<7&4294967295|S>>>25),S=F+(W^q&(M^W))+U[13]+4254626195&4294967295,F=q+(S<<12&4294967295|S>>>20),S=W+(M^F&(q^M))+U[14]+2792965006&4294967295,W=F+(S<<17&4294967295|S>>>15),S=M+(q^W&(F^q))+U[15]+1236535329&4294967295,M=W+(S<<22&4294967295|S>>>10),S=q+(W^F&(M^W))+U[1]+4129170786&4294967295,q=M+(S<<5&4294967295|S>>>27),S=F+(M^W&(q^M))+U[6]+3225465664&4294967295,F=q+(S<<9&4294967295|S>>>23),S=W+(q^M&(F^q))+U[11]+643717713&4294967295,W=F+(S<<14&4294967295|S>>>18),S=M+(F^q&(W^F))+U[0]+3921069994&4294967295,M=W+(S<<20&4294967295|S>>>12),S=q+(W^F&(M^W))+U[5]+3593408605&4294967295,q=M+(S<<5&4294967295|S>>>27),S=F+(M^W&(q^M))+U[10]+38016083&4294967295,F=q+(S<<9&4294967295|S>>>23),S=W+(q^M&(F^q))+U[15]+3634488961&4294967295,W=F+(S<<14&4294967295|S>>>18),S=M+(F^q&(W^F))+U[4]+3889429448&4294967295,M=W+(S<<20&4294967295|S>>>12),S=q+(W^F&(M^W))+U[9]+568446438&4294967295,q=M+(S<<5&4294967295|S>>>27),S=F+(M^W&(q^M))+U[14]+3275163606&4294967295,F=q+(S<<9&4294967295|S>>>23),S=W+(q^M&(F^q))+U[3]+4107603335&4294967295,W=F+(S<<14&4294967295|S>>>18),S=M+(F^q&(W^F))+U[8]+1163531501&4294967295,M=W+(S<<20&4294967295|S>>>12),S=q+(W^F&(M^W))+U[13]+2850285829&4294967295,q=M+(S<<5&4294967295|S>>>27),S=F+(M^W&(q^M))+U[2]+4243563512&4294967295,F=q+(S<<9&4294967295|S>>>23),S=W+(q^M&(F^q))+U[7]+1735328473&4294967295,W=F+(S<<14&4294967295|S>>>18),S=M+(F^q&(W^F))+U[12]+2368359562&4294967295,M=W+(S<<20&4294967295|S>>>12),S=q+(M^W^F)+U[5]+4294588738&4294967295,q=M+(S<<4&4294967295|S>>>28),S=F+(q^M^W)+U[8]+2272392833&4294967295,F=q+(S<<11&4294967295|S>>>21),S=W+(F^q^M)+U[11]+1839030562&4294967295,W=F+(S<<16&4294967295|S>>>16),S=M+(W^F^q)+U[14]+4259657740&4294967295,M=W+(S<<23&4294967295|S>>>9),S=q+(M^W^F)+U[1]+2763975236&4294967295,q=M+(S<<4&4294967295|S>>>28),S=F+(q^M^W)+U[4]+1272893353&4294967295,F=q+(S<<11&4294967295|S>>>21),S=W+(F^q^M)+U[7]+4139469664&4294967295,W=F+(S<<16&4294967295|S>>>16),S=M+(W^F^q)+U[10]+3200236656&4294967295,M=W+(S<<23&4294967295|S>>>9),S=q+(M^W^F)+U[13]+681279174&4294967295,q=M+(S<<4&4294967295|S>>>28),S=F+(q^M^W)+U[0]+3936430074&4294967295,F=q+(S<<11&4294967295|S>>>21),S=W+(F^q^M)+U[3]+3572445317&4294967295,W=F+(S<<16&4294967295|S>>>16),S=M+(W^F^q)+U[6]+76029189&4294967295,M=W+(S<<23&4294967295|S>>>9),S=q+(M^W^F)+U[9]+3654602809&4294967295,q=M+(S<<4&4294967295|S>>>28),S=F+(q^M^W)+U[12]+3873151461&4294967295,F=q+(S<<11&4294967295|S>>>21),S=W+(F^q^M)+U[15]+530742520&4294967295,W=F+(S<<16&4294967295|S>>>16),S=M+(W^F^q)+U[2]+3299628645&4294967295,M=W+(S<<23&4294967295|S>>>9),S=q+(W^(M|~F))+U[0]+4096336452&4294967295,q=M+(S<<6&4294967295|S>>>26),S=F+(M^(q|~W))+U[7]+1126891415&4294967295,F=q+(S<<10&4294967295|S>>>22),S=W+(q^(F|~M))+U[14]+2878612391&4294967295,W=F+(S<<15&4294967295|S>>>17),S=M+(F^(W|~q))+U[5]+4237533241&4294967295,M=W+(S<<21&4294967295|S>>>11),S=q+(W^(M|~F))+U[12]+1700485571&4294967295,q=M+(S<<6&4294967295|S>>>26),S=F+(M^(q|~W))+U[3]+2399980690&4294967295,F=q+(S<<10&4294967295|S>>>22),S=W+(q^(F|~M))+U[10]+4293915773&4294967295,W=F+(S<<15&4294967295|S>>>17),S=M+(F^(W|~q))+U[1]+2240044497&4294967295,M=W+(S<<21&4294967295|S>>>11),S=q+(W^(M|~F))+U[8]+1873313359&4294967295,q=M+(S<<6&4294967295|S>>>26),S=F+(M^(q|~W))+U[15]+4264355552&4294967295,F=q+(S<<10&4294967295|S>>>22),S=W+(q^(F|~M))+U[6]+2734768916&4294967295,W=F+(S<<15&4294967295|S>>>17),S=M+(F^(W|~q))+U[13]+1309151649&4294967295,M=W+(S<<21&4294967295|S>>>11),S=q+(W^(M|~F))+U[4]+4149444226&4294967295,q=M+(S<<6&4294967295|S>>>26),S=F+(M^(q|~W))+U[11]+3174756917&4294967295,F=q+(S<<10&4294967295|S>>>22),S=W+(q^(F|~M))+U[2]+718787259&4294967295,W=F+(S<<15&4294967295|S>>>17),S=M+(F^(W|~q))+U[9]+3951481745&4294967295,Q.g[0]=Q.g[0]+q&4294967295,Q.g[1]=Q.g[1]+(W+(S<<21&4294967295|S>>>11))&4294967295,Q.g[2]=Q.g[2]+W&4294967295,Q.g[3]=Q.g[3]+F&4294967295}i.prototype.u=function(Q,q){q===void 0&&(q=Q.length);for(var M=q-this.blockSize,U=this.B,W=this.h,F=0;F<q;){if(W==0)for(;F<=M;)a(this,Q,F),F+=this.blockSize;if(typeof Q=="string"){for(;F<q;)if(U[W++]=Q.charCodeAt(F++),W==this.blockSize){a(this,U),W=0;break}}else for(;F<q;)if(U[W++]=Q[F++],W==this.blockSize){a(this,U),W=0;break}}this.h=W,this.o+=q},i.prototype.v=function(){var Q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Q[0]=128;for(var q=1;q<Q.length-8;++q)Q[q]=0;var M=8*this.o;for(q=Q.length-8;q<Q.length;++q)Q[q]=M&255,M/=256;for(this.u(Q),Q=Array(16),q=M=0;4>q;++q)for(var U=0;32>U;U+=8)Q[M++]=this.g[q]>>>U&255;return Q};function o(Q,q){var M=h;return Object.prototype.hasOwnProperty.call(M,Q)?M[Q]:M[Q]=q(Q)}function c(Q,q){this.h=q;for(var M=[],U=!0,W=Q.length-1;0<=W;W--){var F=Q[W]|0;U&&F==q||(M[W]=F,U=!1)}this.g=M}var h={};function d(Q){return-128<=Q&&128>Q?o(Q,function(q){return new c([q|0],0>q?-1:0)}):new c([Q|0],0>Q?-1:0)}function p(Q){if(isNaN(Q)||!isFinite(Q))return E;if(0>Q)return B(p(-Q));for(var q=[],M=1,U=0;Q>=M;U++)q[U]=Q/M|0,M*=4294967296;return new c(q,0)}function g(Q,q){if(Q.length==0)throw Error("number format error: empty string");if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(Q.charAt(0)=="-")return B(g(Q.substring(1),q));if(0<=Q.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=p(Math.pow(q,8)),U=E,W=0;W<Q.length;W+=8){var F=Math.min(8,Q.length-W),S=parseInt(Q.substring(W,W+F),q);8>F?(F=p(Math.pow(q,F)),U=U.j(F).add(p(S))):(U=U.j(M),U=U.add(p(S)))}return U}var E=d(0),A=d(1),T=d(16777216);r=c.prototype,r.m=function(){if(O(this))return-B(this).m();for(var Q=0,q=1,M=0;M<this.g.length;M++){var U=this.i(M);Q+=(0<=U?U:4294967296+U)*q,q*=4294967296}return Q},r.toString=function(Q){if(Q=Q||10,2>Q||36<Q)throw Error("radix out of range: "+Q);if(N(this))return"0";if(O(this))return"-"+B(this).toString(Q);for(var q=p(Math.pow(Q,6)),M=this,U="";;){var W=re(M,q).g;M=K(M,W.j(q));var F=((0<M.g.length?M.g[0]:M.h)>>>0).toString(Q);if(M=W,N(M))return F+U;for(;6>F.length;)F="0"+F;U=F+U}},r.i=function(Q){return 0>Q?0:Q<this.g.length?this.g[Q]:this.h};function N(Q){if(Q.h!=0)return!1;for(var q=0;q<Q.g.length;q++)if(Q.g[q]!=0)return!1;return!0}function O(Q){return Q.h==-1}r.l=function(Q){return Q=K(this,Q),O(Q)?-1:N(Q)?0:1};function B(Q){for(var q=Q.g.length,M=[],U=0;U<q;U++)M[U]=~Q.g[U];return new c(M,~Q.h).add(A)}r.abs=function(){return O(this)?B(this):this},r.add=function(Q){for(var q=Math.max(this.g.length,Q.g.length),M=[],U=0,W=0;W<=q;W++){var F=U+(this.i(W)&65535)+(Q.i(W)&65535),S=(F>>>16)+(this.i(W)>>>16)+(Q.i(W)>>>16);U=S>>>16,F&=65535,S&=65535,M[W]=S<<16|F}return new c(M,M[M.length-1]&-2147483648?-1:0)};function K(Q,q){return Q.add(B(q))}r.j=function(Q){if(N(this)||N(Q))return E;if(O(this))return O(Q)?B(this).j(B(Q)):B(B(this).j(Q));if(O(Q))return B(this.j(B(Q)));if(0>this.l(T)&&0>Q.l(T))return p(this.m()*Q.m());for(var q=this.g.length+Q.g.length,M=[],U=0;U<2*q;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(var W=0;W<Q.g.length;W++){var F=this.i(U)>>>16,S=this.i(U)&65535,w=Q.i(W)>>>16,I=Q.i(W)&65535;M[2*U+2*W]+=S*I,$(M,2*U+2*W),M[2*U+2*W+1]+=F*I,$(M,2*U+2*W+1),M[2*U+2*W+1]+=S*w,$(M,2*U+2*W+1),M[2*U+2*W+2]+=F*w,$(M,2*U+2*W+2)}for(U=0;U<q;U++)M[U]=M[2*U+1]<<16|M[2*U];for(U=q;U<2*q;U++)M[U]=0;return new c(M,0)};function $(Q,q){for(;(Q[q]&65535)!=Q[q];)Q[q+1]+=Q[q]>>>16,Q[q]&=65535,q++}function G(Q,q){this.g=Q,this.h=q}function re(Q,q){if(N(q))throw Error("division by zero");if(N(Q))return new G(E,E);if(O(Q))return q=re(B(Q),q),new G(B(q.g),B(q.h));if(O(q))return q=re(Q,B(q)),new G(B(q.g),q.h);if(30<Q.g.length){if(O(Q)||O(q))throw Error("slowDivide_ only works with positive integers.");for(var M=A,U=q;0>=U.l(Q);)M=ae(M),U=ae(U);var W=le(M,1),F=le(U,1);for(U=le(U,2),M=le(M,2);!N(U);){var S=F.add(U);0>=S.l(Q)&&(W=W.add(M),F=S),U=le(U,1),M=le(M,1)}return q=K(Q,W.j(q)),new G(W,q)}for(W=E;0<=Q.l(q);){for(M=Math.max(1,Math.floor(Q.m()/q.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),F=p(M),S=F.j(q);O(S)||0<S.l(Q);)M-=U,F=p(M),S=F.j(q);N(F)&&(F=A),W=W.add(F),Q=K(Q,S)}return new G(W,Q)}r.A=function(Q){return re(this,Q).h},r.and=function(Q){for(var q=Math.max(this.g.length,Q.g.length),M=[],U=0;U<q;U++)M[U]=this.i(U)&Q.i(U);return new c(M,this.h&Q.h)},r.or=function(Q){for(var q=Math.max(this.g.length,Q.g.length),M=[],U=0;U<q;U++)M[U]=this.i(U)|Q.i(U);return new c(M,this.h|Q.h)},r.xor=function(Q){for(var q=Math.max(this.g.length,Q.g.length),M=[],U=0;U<q;U++)M[U]=this.i(U)^Q.i(U);return new c(M,this.h^Q.h)};function ae(Q){for(var q=Q.g.length+1,M=[],U=0;U<q;U++)M[U]=Q.i(U)<<1|Q.i(U-1)>>>31;return new c(M,Q.h)}function le(Q,q){var M=q>>5;q%=32;for(var U=Q.g.length-M,W=[],F=0;F<U;F++)W[F]=0<q?Q.i(F+M)>>>q|Q.i(F+M+1)<<32-q:Q.i(F+M);return new c(W,Q.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,XR=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=g,Mo=c}).apply(typeof yA<"u"?yA:typeof self<"u"?self:typeof window<"u"?window:{});var lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZR,Hh,JR,Np,Xw,ex,tx,nx;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,R,D){return m==Array.prototype||m==Object.prototype||(m[R]=D.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof lp=="object"&&lp];for(var R=0;R<m.length;++R){var D=m[R];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var i=n(this);function a(m,R){if(R)e:{var D=i;m=m.split(".");for(var J=0;J<m.length-1;J++){var ye=m[J];if(!(ye in D))break e;D=D[ye]}m=m[m.length-1],J=D[m],R=R(J),R!=J&&R!=null&&e(D,m,{configurable:!0,writable:!0,value:R})}}function o(m,R){m instanceof String&&(m+="");var D=0,J=!1,ye={next:function(){if(!J&&D<m.length){var Te=D++;return{value:R(Te,m[Te]),done:!1}}return J=!0,{done:!0,value:void 0}}};return ye[Symbol.iterator]=function(){return ye},ye}a("Array.prototype.values",function(m){return m||function(){return o(this,function(R,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function d(m){var R=typeof m;return R=R!="object"?R:m?Array.isArray(m)?"array":R:"null",R=="array"||R=="object"&&typeof m.length=="number"}function p(m){var R=typeof m;return R=="object"&&m!=null||R=="function"}function g(m,R,D){return m.call.apply(m.bind,arguments)}function E(m,R,D){if(!m)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var ye=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ye,J),m.apply(R,ye)}}return function(){return m.apply(R,arguments)}}function A(m,R,D){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:E,A.apply(null,arguments)}function T(m,R){var D=Array.prototype.slice.call(arguments,1);return function(){var J=D.slice();return J.push.apply(J,arguments),m.apply(this,J)}}function N(m,R){function D(){}D.prototype=R.prototype,m.aa=R.prototype,m.prototype=new D,m.prototype.constructor=m,m.Qb=function(J,ye,Te){for(var Ve=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)Ve[Yt-2]=arguments[Yt];return R.prototype[ye].apply(J,Ve)}}function O(m){const R=m.length;if(0<R){const D=Array(R);for(let J=0;J<R;J++)D[J]=m[J];return D}return[]}function B(m,R){for(let D=1;D<arguments.length;D++){const J=arguments[D];if(d(J)){const ye=m.length||0,Te=J.length||0;m.length=ye+Te;for(let Ve=0;Ve<Te;Ve++)m[ye+Ve]=J[Ve]}else m.push(J)}}class K{constructor(R,D){this.i=R,this.j=D,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function $(m){return/^[\s\xa0]*$/.test(m)}function G(){var m=h.navigator;return m&&(m=m.userAgent)?m:""}function re(m){return re[" "](m),m}re[" "]=function(){};var ae=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function le(m,R,D){for(const J in m)R.call(D,m[J],J,m)}function Q(m,R){for(const D in m)R.call(void 0,m[D],D,m)}function q(m){const R={};for(const D in m)R[D]=m[D];return R}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(m,R){let D,J;for(let ye=1;ye<arguments.length;ye++){J=arguments[ye];for(D in J)m[D]=J[D];for(let Te=0;Te<M.length;Te++)D=M[Te],Object.prototype.hasOwnProperty.call(J,D)&&(m[D]=J[D])}}function W(m){var R=1;m=m.split(":");const D=[];for(;0<R&&m.length;)D.push(m.shift()),R--;return m.length&&D.push(m.join(":")),D}function F(m){h.setTimeout(()=>{throw m},0)}function S(){var m=te;let R=null;return m.g&&(R=m.g,m.g=m.g.next,m.g||(m.h=null),R.next=null),R}class w{constructor(){this.h=this.g=null}add(R,D){const J=I.get();J.set(R,D),this.h?this.h.next=J:this.g=J,this.h=J}}var I=new K(()=>new C,m=>m.reset());class C{constructor(){this.next=this.g=this.h=null}set(R,D){this.h=R,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let j,Y=!1,te=new w,z=()=>{const m=h.Promise.resolve(void 0);j=()=>{m.then(P)}};var P=()=>{for(var m;m=S();){try{m.h.call(m.g)}catch(D){F(D)}var R=I;R.j(m),100>R.h&&(R.h++,m.next=R.g,R.g=m)}Y=!1};function b(){this.s=this.s,this.C=this.C}b.prototype.s=!1,b.prototype.ma=function(){this.s||(this.s=!0,this.N())},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _(m,R){this.type=m,this.g=this.target=R,this.defaultPrevented=!1}_.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,R=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const D=()=>{};h.addEventListener("test",D,R),h.removeEventListener("test",D,R)}catch{}return m})();function Z(m,R){if(_.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var D=this.type=m.type,J=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=R,R=m.relatedTarget){if(ae){e:{try{re(R.nodeName);var ye=!0;break e}catch{}ye=!1}ye||(R=null)}}else D=="mouseover"?R=m.fromElement:D=="mouseout"&&(R=m.toElement);this.relatedTarget=R,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ne[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Z.aa.h.call(this)}}N(Z,_);var ne={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function De(m,R,D,J,ye){this.listener=m,this.proxy=null,this.src=R,this.type=D,this.capture=!!J,this.ha=ye,this.key=++Ie,this.da=this.fa=!1}function it(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ot(m){this.src=m,this.g={},this.h=0}ot.prototype.add=function(m,R,D,J,ye){var Te=m.toString();m=this.g[Te],m||(m=this.g[Te]=[],this.h++);var Ve=Nn(m,R,J,ye);return-1<Ve?(R=m[Ve],D||(R.fa=!1)):(R=new De(R,this.src,Te,!!J,ye),R.fa=D,m.push(R)),R};function _t(m,R){var D=R.type;if(D in m.g){var J=m.g[D],ye=Array.prototype.indexOf.call(J,R,void 0),Te;(Te=0<=ye)&&Array.prototype.splice.call(J,ye,1),Te&&(it(R),m.g[D].length==0&&(delete m.g[D],m.h--))}}function Nn(m,R,D,J){for(var ye=0;ye<m.length;++ye){var Te=m[ye];if(!Te.da&&Te.listener==R&&Te.capture==!!D&&Te.ha==J)return ye}return-1}var At="closure_lm_"+(1e6*Math.random()|0),en={};function Jr(m,R,D,J,ye){if(Array.isArray(R)){for(var Te=0;Te<R.length;Te++)Jr(m,R[Te],D,J,ye);return null}return D=Zn(D),m&&m[de]?m.K(R,D,p(J)?!!J.capture:!1,ye):Et(m,R,D,!1,J,ye)}function Et(m,R,D,J,ye,Te){if(!R)throw Error("Invalid event type");var Ve=p(ye)?!!ye.capture:!!ye,Yt=Bt(m);if(Yt||(m[At]=Yt=new ot(m)),D=Yt.add(R,D,J,Ve,Te),D.proxy)return D;if(J=tn(),D.proxy=J,J.src=m,J.listener=D,m.addEventListener)L||(ye=Ve),ye===void 0&&(ye=!1),m.addEventListener(R.toString(),J,ye);else if(m.attachEvent)m.attachEvent(Nt(R.toString()),J);else if(m.addListener&&m.removeListener)m.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return D}function tn(){function m(D){return R.call(m.src,m.listener,D)}const R=$n;return m}function Lr(m,R,D,J,ye){if(Array.isArray(R))for(var Te=0;Te<R.length;Te++)Lr(m,R[Te],D,J,ye);else J=p(J)?!!J.capture:!!J,D=Zn(D),m&&m[de]?(m=m.i,R=String(R).toString(),R in m.g&&(Te=m.g[R],D=Nn(Te,D,J,ye),-1<D&&(it(Te[D]),Array.prototype.splice.call(Te,D,1),Te.length==0&&(delete m.g[R],m.h--)))):m&&(m=Bt(m))&&(R=m.g[R.toString()],m=-1,R&&(m=Nn(R,D,J,ye)),(D=-1<m?R[m]:null)&&qt(D))}function qt(m){if(typeof m!="number"&&m&&!m.da){var R=m.src;if(R&&R[de])_t(R.i,m);else{var D=m.type,J=m.proxy;R.removeEventListener?R.removeEventListener(D,J,m.capture):R.detachEvent?R.detachEvent(Nt(D),J):R.addListener&&R.removeListener&&R.removeListener(J),(D=Bt(R))?(_t(D,m),D.h==0&&(D.src=null,R[At]=null)):it(m)}}}function Nt(m){return m in en?en[m]:en[m]="on"+m}function $n(m,R){if(m.da)m=!0;else{R=new Z(R,this);var D=m.listener,J=m.ha||m.src;m.fa&&qt(m),m=D.call(J,R)}return m}function Bt(m){return m=m[At],m instanceof ot?m:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zn(m){return typeof m=="function"?m:(m[nn]||(m[nn]=function(R){return m.handleEvent(R)}),m[nn])}function ft(){b.call(this),this.i=new ot(this),this.M=this,this.F=null}N(ft,b),ft.prototype[de]=!0,ft.prototype.removeEventListener=function(m,R,D,J){Lr(this,m,R,D,J)};function H(m,R){var D,J=m.F;if(J)for(D=[];J;J=J.F)D.push(J);if(m=m.M,J=R.type||R,typeof R=="string")R=new _(R,m);else if(R instanceof _)R.target=R.target||m;else{var ye=R;R=new _(J,m),U(R,ye)}if(ye=!0,D)for(var Te=D.length-1;0<=Te;Te--){var Ve=R.g=D[Te];ye=x(Ve,J,!0,R)&&ye}if(Ve=R.g=m,ye=x(Ve,J,!0,R)&&ye,ye=x(Ve,J,!1,R)&&ye,D)for(Te=0;Te<D.length;Te++)Ve=R.g=D[Te],ye=x(Ve,J,!1,R)&&ye}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var m=this.i,R;for(R in m.g){for(var D=m.g[R],J=0;J<D.length;J++)it(D[J]);delete m.g[R],m.h--}}this.F=null},ft.prototype.K=function(m,R,D,J){return this.i.add(String(m),R,!1,D,J)},ft.prototype.L=function(m,R,D,J){return this.i.add(String(m),R,!0,D,J)};function x(m,R,D,J){if(R=m.i.g[String(R)],!R)return!0;R=R.concat();for(var ye=!0,Te=0;Te<R.length;++Te){var Ve=R[Te];if(Ve&&!Ve.da&&Ve.capture==D){var Yt=Ve.listener,ar=Ve.ha||Ve.src;Ve.fa&&_t(m.i,Ve),ye=Yt.call(ar,J)!==!1&&ye}}return ye&&!J.defaultPrevented}function k(m,R,D){if(typeof m=="function")D&&(m=A(m,D));else if(m&&typeof m.handleEvent=="function")m=A(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:h.setTimeout(m,R||0)}function ee(m){m.g=k(()=>{m.g=null,m.i&&(m.i=!1,ee(m))},m.l);const R=m.h;m.h=null,m.m.apply(null,R)}class fe extends b{constructor(R,D){super(),this.m=R,this.l=D,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ge(m){b.call(this),this.h=m,this.g={}}N(ge,b);var Ae=[];function st(m){le(m.g,function(R,D){this.g.hasOwnProperty(D)&&qt(R)},m),m.g={}}ge.prototype.N=function(){ge.aa.N.call(this),st(this)},ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var He=h.JSON.stringify,Ze=h.JSON.parse,St=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function Je(){}Je.prototype.h=null;function Kt(m){return m.h||(m.h=m.i())}function mi(){}var Ut={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wt(){_.call(this,"d")}N(Wt,_);function gi(){_.call(this,"c")}N(gi,_);var bt={},hn=null;function Br(){return hn=hn||new ft}bt.La="serverreachability";function fn(m){_.call(this,bt.La,m)}N(fn,_);function rn(m){const R=Br();H(R,new fn(R))}bt.STAT_EVENT="statevent";function Pi(m,R){_.call(this,bt.STAT_EVENT,m),this.stat=R}N(Pi,_);function lt(m){const R=Br();H(R,new Pi(R,m))}bt.Ma="timingevent";function yt(m,R){_.call(this,bt.Ma,m),this.size=R}N(yt,_);function yn(m,R){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},R)}function Mt(){this.g=!0}Mt.prototype.xa=function(){this.g=!1};function sn(m,R,D,J,ye,Te){m.info(function(){if(m.g)if(Te)for(var Ve="",Yt=Te.split("&"),ar=0;ar<Yt.length;ar++){var Qt=Yt[ar].split("=");if(1<Qt.length){var dr=Qt[0];Qt=Qt[1];var or=dr.split("_");Ve=2<=or.length&&or[1]=="type"?Ve+(dr+"="+Qt+"&"):Ve+(dr+"=redacted&")}}else Ve=null;else Ve=Te;return"XMLHTTP REQ ("+J+") [attempt "+ye+"]: "+R+`
`+D+`
`+Ve})}function Di(m,R,D,J,ye,Te,Ve){m.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+ye+"]: "+R+`
`+D+`
`+Te+" "+Ve})}function $t(m,R,D,J){m.info(function(){return"XMLHTTP TEXT ("+R+"): "+si(m,D)+(J?" "+J:"")})}function wn(m,R){m.info(function(){return"TIMEOUT: "+R})}Mt.prototype.info=function(){};function si(m,R){if(!m.g)return R;if(!R)return null;try{var D=JSON.parse(R);if(D){for(m=0;m<D.length;m++)if(Array.isArray(D[m])){var J=D[m];if(!(2>J.length)){var ye=J[1];if(Array.isArray(ye)&&!(1>ye.length)){var Te=ye[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(var Ve=1;Ve<ye.length;Ve++)ye[Ve]=""}}}}return He(D)}catch{return R}}var Gt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ft={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Er;function Ht(){}N(Ht,Je),Ht.prototype.g=function(){return new XMLHttpRequest},Ht.prototype.i=function(){return{}},Er=new Ht;function Tt(m,R,D,J){this.j=m,this.i=R,this.l=D,this.R=J||1,this.U=new ge(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bn}function bn(){this.i=null,this.g="",this.h=!1}var Li={},yi={};function hr(m,R,D){m.L=1,m.v=vt(ke(R)),m.m=D,m.P=!0,Ur(m,null)}function Ur(m,R){m.F=Date.now(),Vr(m),m.A=ke(m.v);var D=m.A,J=m.R;Array.isArray(J)||(J=[String(J)]),Du(D.i,"t",J),m.C=0,D=m.j.J,m.h=new bn,m.g=td(m.j,D?R:null,!m.m),0<m.O&&(m.M=new fe(A(m.Y,m,m.g),m.O)),R=m.U,D=m.g,J=m.ca;var ye="readystatechange";Array.isArray(ye)||(ye&&(Ae[0]=ye.toString()),ye=Ae);for(var Te=0;Te<ye.length;Te++){var Ve=Jr(D,ye[Te],J||R.handleEvent,!1,R.h||R);if(!Ve)break;R.g[Ve.key]=Ve}R=m.H?q(m.H):{},m.m?(m.u||(m.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,R)):(m.u="GET",m.g.ea(m.A,m.u,null,R)),rn(),sn(m.i,m.u,m.A,m.l,m.R,m.m)}Tt.prototype.ca=function(m){m=m.target;const R=this.M;R&&ji(m)==3?R.j():this.Y(m)},Tt.prototype.Y=function(m){try{if(m==this.g)e:{const or=ji(this.g);var R=this.g.Ba();const ra=this.g.Z();if(!(3>or)&&(or!=3||this.g&&(this.h.h||this.g.oa()||$f(this.g)))){this.J||or!=4||R==7||(R==8||0>=ra?rn(3):rn(2)),ai(this);var D=this.g.Z();this.X=D;t:if(ms(this)){var J=$f(this.g);m="";var ye=J.length,Te=ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),zr(this);var Ve="";break t}this.h.i=new h.TextDecoder}for(R=0;R<ye;R++)this.h.h=!0,m+=this.h.i.decode(J[R],{stream:!(Te&&R==ye-1)});J.length=0,this.h.g+=m,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=D==200,Di(this.i,this.u,this.A,this.l,this.R,or,D),this.o){if(this.T&&!this.K){t:{if(this.g){var Yt,ar=this.g;if((Yt=ar.g?ar.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Yt)){var Qt=Yt;break t}}Qt=null}if(D=Qt)$t(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wi(this,D);else{this.o=!1,this.s=3,lt(12),Ln(this),zr(this);break e}}if(this.P){D=!0;let Ar;for(;!this.J&&this.C<Ve.length;)if(Ar=gs(this,Ve),Ar==yi){or==4&&(this.s=4,lt(14),D=!1),$t(this.i,this.l,null,"[Incomplete Response]");break}else if(Ar==Li){this.s=4,lt(15),$t(this.i,this.l,Ve,"[Invalid Chunk]"),D=!1;break}else $t(this.i,this.l,Ar,null),wi(this,Ar);if(ms(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),or!=4||Ve.length!=0||this.h.h||(this.s=1,lt(16),D=!1),this.o=this.o&&D,!D)$t(this.i,this.l,Ve,"[Invalid Chunked Response]"),Ln(this),zr(this);else if(0<Ve.length&&!this.W){this.W=!0;var dr=this.j;dr.g==this&&dr.ba&&!dr.M&&(dr.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),Qo(dr),dr.M=!0,lt(11))}}else $t(this.i,this.l,Ve,null),wi(this,Ve);or==4&&Ln(this),this.o&&!this.J&&(or==4?Zf(this.j,this):(this.o=!1,Vr(this)))}else hg(this.g),D==400&&0<Ve.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Ln(this),zr(this)}}}catch{}finally{}};function ms(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function gs(m,R){var D=m.C,J=R.indexOf(`
`,D);return J==-1?yi:(D=Number(R.substring(D,J)),isNaN(D)?Li:(J+=1,J+D>R.length?yi:(R=R.slice(J,J+D),m.C=J+D,R)))}Tt.prototype.cancel=function(){this.J=!0,Ln(this)};function Vr(m){m.S=Date.now()+m.I,Ji(m,m.I)}function Ji(m,R){if(m.B!=null)throw Error("WatchDog timer not null");m.B=yn(A(m.ba,m),R)}function ai(m){m.B&&(h.clearTimeout(m.B),m.B=null)}Tt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(wn(this.i,this.A),this.L!=2&&(rn(),lt(17)),Ln(this),this.s=2,zr(this)):Ji(this,this.S-m)};function zr(m){m.j.G==0||m.J||Zf(m.j,m)}function Ln(m){ai(m);var R=m.M;R&&typeof R.ma=="function"&&R.ma(),m.M=null,st(m.U),m.g&&(R=m.g,m.g=null,R.abort(),R.ma())}function wi(m,R){try{var D=m.j;if(D.G!=0&&(D.g==m||es(D.h,m))){if(!m.K&&es(D.h,m)&&D.G==3){try{var J=D.Da.g.parse(R)}catch{J=null}if(Array.isArray(J)&&J.length==3){var ye=J;if(ye[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<m.F)rc(D),tc(D);else break e;zu(D),lt(18)}}else D.za=ye[1],0<D.za-D.T&&37500>ye[2]&&D.F&&D.v==0&&!D.C&&(D.C=yn(A(D.Za,D),6e3));if(1>=Ui(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else na(D,11)}else if((m.K||D.g==m)&&rc(D),!$(R))for(ye=D.Da.g.parse(R),R=0;R<ye.length;R++){let Qt=ye[R];if(D.T=Qt[0],Qt=Qt[1],D.G==2)if(Qt[0]=="c"){D.K=Qt[1],D.ia=Qt[2];const dr=Qt[3];dr!=null&&(D.la=dr,D.j.info("VER="+D.la));const or=Qt[4];or!=null&&(D.Aa=or,D.j.info("SVER="+D.Aa));const ra=Qt[5];ra!=null&&typeof ra=="number"&&0<ra&&(J=1.5*ra,D.L=J,D.j.info("backChannelRequestTimeoutMs_="+J)),J=D;const Ar=m.g;if(Ar){const As=Ar.g?Ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var Te=J.h;Te.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(Te.j=Te.l,Te.g=new Set,Te.h&&(bi(Te,Te.h),Te.h=null))}if(J.D){const qu=Ar.g?Ar.g.getResponseHeader("X-HTTP-Session-Id"):null;qu&&(J.ya=qu,$e(J.I,J.D,qu))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-m.F,D.j.info("Handshake RTT: "+D.R+"ms")),J=D;var Ve=m;if(J.qa=ed(J,J.J?J.ia:null,J.W),Ve.K){Sr(J.h,Ve);var Yt=Ve,ar=J.L;ar&&(Yt.I=ar),Yt.B&&(ai(Yt),Vr(Yt)),J.g=Ve}else Qf(J);0<D.i.length&&nc(D)}else Qt[0]!="stop"&&Qt[0]!="close"||na(D,7);else D.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?na(D,7):Uu(D):Qt[0]!="noop"&&D.l&&D.l.ta(Qt),D.v=0)}}rn(4)}catch{}}var ys=class{constructor(m,R){this.g=m,this.map=R}};function ei(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ui(m){return m.h?1:m.g?m.g.size:0}function es(m,R){return m.h?m.h==R:m.g?m.g.has(R):!1}function bi(m,R){m.g?m.g.add(R):m.h=R}function Sr(m,R){m.h&&m.h==R?m.h=null:m.g&&m.g.has(R)&&m.g.delete(R)}ei.prototype.cancel=function(){if(this.i=Xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Xs(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let R=m.i;for(const D of m.g.values())R=R.concat(D.D);return R}return O(m.i)}function Nu(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var R=[],D=m.length,J=0;J<D;J++)R.push(m[J]);return R}R=[],D=0;for(J in m)R[D++]=m[J];return R}function Va(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var R=[];m=m.length;for(var D=0;D<m;D++)R.push(D);return R}R=[],D=0;for(const J in m)R[D++]=J;return R}}}function Ke(m,R){if(m.forEach&&typeof m.forEach=="function")m.forEach(R,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,R,void 0);else for(var D=Va(m),J=Nu(m),ye=J.length,Te=0;Te<ye;Te++)R.call(void 0,J[Te],D&&D[Te],m)}var Ne=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pe(m,R){if(m){m=m.split("&");for(var D=0;D<m.length;D++){var J=m[D].indexOf("="),ye=null;if(0<=J){var Te=m[D].substring(0,J);ye=m[D].substring(J+1)}else Te=m[D];R(Te,ye?decodeURIComponent(ye.replace(/\+/g," ")):"")}}}function ue(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ue){this.h=m.h,je(this,m.j),this.o=m.o,this.g=m.g,Be(this,m.s),this.l=m.l;var R=m.i,D=new Zs;D.i=R.i,R.g&&(D.g=new Map(R.g),D.h=R.h),Qe(this,D),this.m=m.m}else m&&(R=String(m).match(Ne))?(this.h=!1,je(this,R[1]||"",!0),this.o=dn(R[2]||""),this.g=dn(R[3]||"",!0),Be(this,R[4]),this.l=dn(R[5]||"",!0),Qe(this,R[6]||"",!0),this.m=dn(R[7]||"")):(this.h=!1,this.i=new Zs(null,this.h))}ue.prototype.toString=function(){var m=[],R=this.j;R&&m.push(vi(R,Wo,!0),":");var D=this.g;return(D||R=="file")&&(m.push("//"),(R=this.o)&&m.push(vi(R,Wo,!0),"@"),m.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&m.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&m.push("/"),m.push(vi(D,D.charAt(0)=="/"?cg:Pu,!0))),(D=this.i.toString())&&m.push("?",D),(D=this.m)&&m.push("#",vi(D,Ql)),m.join("")};function ke(m){return new ue(m)}function je(m,R,D){m.j=D?dn(R,!0):R,m.j&&(m.j=m.j.replace(/:$/,""))}function Be(m,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);m.s=R}else m.s=null}function Qe(m,R,D){R instanceof Zs?(m.i=R,Hf(m.i,m.h)):(D||(R=vi(R,ug)),m.i=new Zs(R,m.h))}function $e(m,R,D){m.i.set(R,D)}function vt(m){return $e(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function dn(m,R){return m?R?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function vi(m,R,D){return typeof m=="string"?(m=encodeURI(m).replace(R,Yl),D&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Yl(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Wo=/[#\/\?@]/g,Pu=/[#\?:]/g,cg=/[#\?]/g,ug=/[#\?@]/g,Ql=/#/g;function Zs(m,R){this.h=this.g=null,this.i=m||null,this.j=!!R}function Vi(m){m.g||(m.g=new Map,m.h=0,m.i&&pe(m.i,function(R,D){m.add(decodeURIComponent(R.replace(/\+/g," ")),D)}))}r=Zs.prototype,r.add=function(m,R){Vi(this),this.i=null,m=ws(this,m);var D=this.g.get(m);return D||this.g.set(m,D=[]),D.push(R),this.h+=1,this};function Js(m,R){Vi(m),R=ws(m,R),m.g.has(R)&&(m.i=null,m.h-=m.g.get(R).length,m.g.delete(R))}function ea(m,R){return Vi(m),R=ws(m,R),m.g.has(R)}r.forEach=function(m,R){Vi(this),this.g.forEach(function(D,J){D.forEach(function(ye){m.call(R,ye,J,this)},this)},this)},r.na=function(){Vi(this);const m=Array.from(this.g.values()),R=Array.from(this.g.keys()),D=[];for(let J=0;J<R.length;J++){const ye=m[J];for(let Te=0;Te<ye.length;Te++)D.push(R[J])}return D},r.V=function(m){Vi(this);let R=[];if(typeof m=="string")ea(this,m)&&(R=R.concat(this.g.get(ws(this,m))));else{m=Array.from(this.g.values());for(let D=0;D<m.length;D++)R=R.concat(m[D])}return R},r.set=function(m,R){return Vi(this),this.i=null,m=ws(this,m),ea(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[R]),this.h+=1,this},r.get=function(m,R){return m?(m=this.V(m),0<m.length?String(m[0]):R):R};function Du(m,R,D){Js(m,R),0<D.length&&(m.i=null,m.g.set(ws(m,R),O(D)),m.h+=D.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],R=Array.from(this.g.keys());for(var D=0;D<R.length;D++){var J=R[D];const Te=encodeURIComponent(String(J)),Ve=this.V(J);for(J=0;J<Ve.length;J++){var ye=Te;Ve[J]!==""&&(ye+="="+encodeURIComponent(String(Ve[J]))),m.push(ye)}}return this.i=m.join("&")};function ws(m,R){return R=String(R),m.j&&(R=R.toLowerCase()),R}function Hf(m,R){R&&!m.j&&(Vi(m),m.i=null,m.g.forEach(function(D,J){var ye=J.toLowerCase();J!=ye&&(Js(this,J),Du(this,ye,D))},m)),m.j=R}function Fo(m,R){const D=new Mt;if(h.Image){const J=new Image;J.onload=T(zi,D,"TestLoadImage: loaded",!0,R,J),J.onerror=T(zi,D,"TestLoadImage: error",!1,R,J),J.onabort=T(zi,D,"TestLoadImage: abort",!1,R,J),J.ontimeout=T(zi,D,"TestLoadImage: timeout",!1,R,J),h.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=m}else R(!1)}function ts(m,R){const D=new Mt,J=new AbortController,ye=setTimeout(()=>{J.abort(),zi(D,"TestPingServer: timeout",!1,R)},1e4);fetch(m,{signal:J.signal}).then(Te=>{clearTimeout(ye),Te.ok?zi(D,"TestPingServer: ok",!0,R):zi(D,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(ye),zi(D,"TestPingServer: error",!1,R)})}function zi(m,R,D,J,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),J(D)}catch{}}function Ho(){this.g=new St}function bs(m,R,D){const J=D||"";try{Ke(m,function(ye,Te){let Ve=ye;p(ye)&&(Ve=He(ye)),R.push(J+Te+"="+encodeURIComponent(Ve))})}catch(ye){throw R.push(J+"type="+encodeURIComponent("_badmap")),ye}}function za(m){this.l=m.Ub||null,this.j=m.eb||!1}N(za,Je),za.prototype.g=function(){return new ta(this.l,this.j)},za.prototype.i=(function(m){return function(){return m}})({});function ta(m,R){ft.call(this),this.D=m,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ta,ft),r=ta.prototype,r.open=function(m,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=R,this.readyState=1,_s(this)},r.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(R.body=m),(this.D||h).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},r.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lu(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lu(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}r.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var R=m.value?m.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!m.done}))&&(this.response=this.responseText+=R)}m.done?vs(this):_s(this),this.readyState==3&&Lu(this)}},r.Ra=function(m){this.g&&(this.response=this.responseText=m,vs(this))},r.Qa=function(m){this.g&&(this.response=m,vs(this))},r.ga=function(){this.g&&vs(this)};function vs(m){m.readyState=4,m.l=null,m.j=null,m.v=null,_s(m)}r.setRequestHeader=function(m,R){this.u.append(m,R)},r.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],R=this.h.entries();for(var D=R.next();!D.done;)D=D.value,m.push(D[0]+": "+D[1]),D=R.next();return m.join(`\r
`)};function _s(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Bu(m){let R="";return le(m,function(D,J){R+=J,R+=":",R+=D,R+=`\r
`}),R}function fr(m,R,D){e:{for(J in D){var J=!1;break e}J=!0}J||(D=Bu(D),typeof m=="string"?D!=null&&encodeURIComponent(String(D)):$e(m,R,D))}function pn(m){ft.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(pn,ft);var Xl=/^https?$/i,Ko=["POST","PUT"];r=pn.prototype,r.Ha=function(m){this.J=m},r.ea=function(m,R,D,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);R=R?R.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Er.g(),this.v=this.o?Kt(this.o):Kt(Er),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(R,String(m),!0),this.B=!1}catch(Te){Kf(this,Te);return}if(m=D||"",D=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var ye in J)D.set(ye,J[ye]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Te of J.keys())D.set(Te,J.get(Te));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(D.keys()).find(Te=>Te.toLowerCase()=="content-type"),ye=h.FormData&&m instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ko,R,void 0))||J||ye||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Te,Ve]of D)this.g.setRequestHeader(Te,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$o(this),this.u=!0,this.g.send(m),this.u=!1}catch(Te){Kf(this,Te)}};function Kf(m,R){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=R,m.m=5,Zl(m),Es(m)}function Zl(m){m.A||(m.A=!0,H(m,"complete"),H(m,"error"))}r.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,H(this,"complete"),H(this,"abort"),Es(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Es(this,!0)),pn.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Jl(this):this.bb())},r.bb=function(){Jl(this)};function Jl(m){if(m.h&&typeof c<"u"&&(!m.v[1]||ji(m)!=4||m.Z()!=2)){if(m.u&&ji(m)==4)k(m.Ea,0,m);else if(H(m,"readystatechange"),ji(m)==4){m.h=!1;try{const Ve=m.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var D;if(!(D=R)){var J;if(J=Ve===0){var ye=String(m.D).match(Ne)[1]||null;!ye&&h.self&&h.self.location&&(ye=h.self.location.protocol.slice(0,-1)),J=!Xl.test(ye?ye.toLowerCase():"")}D=J}if(D)H(m,"complete"),H(m,"success");else{m.m=6;try{var Te=2<ji(m)?m.g.statusText:""}catch{Te=""}m.l=Te+" ["+m.Z()+"]",Zl(m)}}finally{Es(m)}}}}function Es(m,R){if(m.g){$o(m);const D=m.g,J=m.v[0]?()=>{}:null;m.g=null,m.v=null,R||H(m,"ready");try{D.onreadystatechange=J}catch{}}}function $o(m){m.I&&(h.clearTimeout(m.I),m.I=null)}r.isActive=function(){return!!this.g};function ji(m){return m.g?m.g.readyState:0}r.Z=function(){try{return 2<ji(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(m){if(this.g){var R=this.g.responseText;return m&&R.indexOf(m)==0&&(R=R.substring(m.length)),Ze(R)}};function $f(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function hg(m){const R={};m=(m.g&&2<=ji(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<m.length;J++){if($(m[J]))continue;var D=W(m[J]);const ye=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const Te=R[ye]||[];R[ye]=Te,Te.push(D)}Q(R,function(J){return J.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Go(m,R,D){return D&&D.internalChannelParams&&D.internalChannelParams[m]||R}function ec(m){this.Aa=0,this.i=[],this.j=new Mt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Go("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Go("baseRetryDelayMs",5e3,m),this.cb=Go("retryDelaySeedMs",1e4,m),this.Wa=Go("forwardChannelMaxRetries",2,m),this.wa=Go("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ei(m&&m.concurrentRequestLimit),this.Da=new Ho,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ec.prototype,r.la=8,r.G=1,r.connect=function(m,R,D,J){lt(0),this.W=m,this.H=R||{},D&&J!==void 0&&(this.H.OSID=D,this.H.OAID=J),this.F=this.X,this.I=ed(this,null,this.W),nc(this)};function Uu(m){if(Gf(m),m.G==3){var R=m.U++,D=ke(m.I);if($e(D,"SID",m.K),$e(D,"RID",R),$e(D,"TYPE","terminate"),Yo(m,D),R=new Tt(m,m.j,R),R.L=2,R.v=vt(ke(D)),D=!1,h.navigator&&h.navigator.sendBeacon)try{D=h.navigator.sendBeacon(R.v.toString(),"")}catch{}!D&&h.Image&&(new Image().src=R.v,D=!0),D||(R.g=td(R.j,null),R.g.ea(R.v)),R.F=Date.now(),Vr(R)}Jf(m)}function tc(m){m.g&&(Qo(m),m.g.cancel(),m.g=null)}function Gf(m){tc(m),m.u&&(h.clearTimeout(m.u),m.u=null),rc(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&h.clearTimeout(m.s),m.s=null)}function nc(m){if(!Bi(m.h)&&!m.s){m.s=!0;var R=m.Ga;j||z(),Y||(j(),Y=!0),te.add(R,m),m.B=0}}function fg(m,R){return Ui(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=R.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=yn(A(m.Ga,m,R),ju(m,m.B)),m.B++,!0)}r.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ye=new Tt(this,this.j,m);let Te=this.o;if(this.S&&(Te?(Te=q(Te),U(Te,this.S)):Te=this.S),this.m!==null||this.O||(ye.H=Te,Te=null),this.P)e:{for(var R=0,D=0;D<this.i.length;D++){t:{var J=this.i[D];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(R+=J,4096<R){R=D;break e}if(R===4096||D===this.i.length-1){R=D+1;break e}}R=1e3}else R=1e3;R=Yf(this,ye,R),D=ke(this.I),$e(D,"RID",m),$e(D,"CVER",22),this.D&&$e(D,"X-HTTP-Session-Id",this.D),Yo(this,D),Te&&(this.O?R="headers="+encodeURIComponent(String(Bu(Te)))+"&"+R:this.m&&fr(D,this.m,Te)),bi(this.h,ye),this.Ua&&$e(D,"TYPE","init"),this.P?($e(D,"$req",R),$e(D,"SID","null"),ye.T=!0,hr(ye,D,null)):hr(ye,D,R),this.G=2}}else this.G==3&&(m?Vu(this,m):this.i.length==0||Bi(this.h)||Vu(this))};function Vu(m,R){var D;R?D=R.l:D=m.U++;const J=ke(m.I);$e(J,"SID",m.K),$e(J,"RID",D),$e(J,"AID",m.T),Yo(m,J),m.m&&m.o&&fr(J,m.m,m.o),D=new Tt(m,m.j,D,m.B+1),m.m===null&&(D.H=m.o),R&&(m.i=R.D.concat(m.i)),R=Yf(m,D,1e3),D.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),bi(m.h,D),hr(D,J,R)}function Yo(m,R){m.H&&le(m.H,function(D,J){$e(R,J,D)}),m.l&&Ke({},function(D,J){$e(R,J,D)})}function Yf(m,R,D){D=Math.min(m.i.length,D);var J=m.l?A(m.l.Na,m.l,m):null;e:{var ye=m.i;let Te=-1;for(;;){const Ve=["count="+D];Te==-1?0<D?(Te=ye[0].g,Ve.push("ofs="+Te)):Te=0:Ve.push("ofs="+Te);let Yt=!0;for(let ar=0;ar<D;ar++){let Qt=ye[ar].g;const dr=ye[ar].map;if(Qt-=Te,0>Qt)Te=Math.max(0,ye[ar].g-100),Yt=!1;else try{bs(dr,Ve,"req"+Qt+"_")}catch{J&&J(dr)}}if(Yt){J=Ve.join("&");break e}}}return m=m.i.splice(0,D),R.D=m,J}function Qf(m){if(!m.g&&!m.u){m.Y=1;var R=m.Fa;j||z(),Y||(j(),Y=!0),te.add(R,m),m.v=0}}function zu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=yn(A(m.Fa,m),ju(m,m.v)),m.v++,!0)}r.Fa=function(){if(this.u=null,Xf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=yn(A(this.ab,this),m)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),tc(this),Xf(this))};function Qo(m){m.A!=null&&(h.clearTimeout(m.A),m.A=null)}function Xf(m){m.g=new Tt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var R=ke(m.qa);$e(R,"RID","rpc"),$e(R,"SID",m.K),$e(R,"AID",m.T),$e(R,"CI",m.F?"0":"1"),!m.F&&m.ja&&$e(R,"TO",m.ja),$e(R,"TYPE","xmlhttp"),Yo(m,R),m.m&&m.o&&fr(R,m.m,m.o),m.L&&(m.g.I=m.L);var D=m.g;m=m.ia,D.L=1,D.v=vt(ke(R)),D.m=null,D.P=!0,Ur(D,m)}r.Za=function(){this.C!=null&&(this.C=null,tc(this),zu(this),lt(19))};function rc(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function Zf(m,R){var D=null;if(m.g==R){rc(m),Qo(m),m.g=null;var J=2}else if(es(m.h,R))D=R.D,Sr(m.h,R),J=1;else return;if(m.G!=0){if(R.o)if(J==1){D=R.m?R.m.length:0,R=Date.now()-R.F;var ye=m.B;J=Br(),H(J,new yt(J,D)),nc(m)}else Qf(m);else if(ye=R.s,ye==3||ye==0&&0<R.X||!(J==1&&fg(m,R)||J==2&&zu(m)))switch(D&&0<D.length&&(R=m.h,R.i=R.i.concat(D)),ye){case 1:na(m,5);break;case 4:na(m,10);break;case 3:na(m,6);break;default:na(m,2)}}}function ju(m,R){let D=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(D*=2),D*R}function na(m,R){if(m.j.info("Error code "+R),R==2){var D=A(m.fb,m),J=m.Xa;const ye=!J;J=new ue(J||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||je(J,"https"),vt(J),ye?Fo(J.toString(),D):ts(J.toString(),D)}else lt(2);m.G=0,m.l&&m.l.sa(R),Jf(m),Gf(m)}r.fb=function(m){m?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Jf(m){if(m.G=0,m.ka=[],m.l){const R=Xs(m.h);(R.length!=0||m.i.length!=0)&&(B(m.ka,R),B(m.ka,m.i),m.h.i.length=0,O(m.i),m.i.length=0),m.l.ra()}}function ed(m,R,D){var J=D instanceof ue?ke(D):new ue(D);if(J.g!="")R&&(J.g=R+"."+J.g),Be(J,J.s);else{var ye=h.location;J=ye.protocol,R=R?R+"."+ye.hostname:ye.hostname,ye=+ye.port;var Te=new ue(null);J&&je(Te,J),R&&(Te.g=R),ye&&Be(Te,ye),D&&(Te.l=D),J=Te}return D=m.D,R=m.ya,D&&R&&$e(J,D,R),$e(J,"VER",m.la),Yo(m,J),J}function td(m,R,D){if(R&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=m.Ca&&!m.pa?new pn(new za({eb:D})):new pn(m.pa),R.Ha(m.J),R}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function nd(){}r=nd.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ic(){}ic.prototype.g=function(m,R){return new ti(m,R)};function ti(m,R){ft.call(this),this.g=new ec(R),this.l=m,this.h=R&&R.messageUrlParams||null,m=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(m?m["X-WebChannel-Content-Type"]=R.messageContentType:m={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(m?m["X-WebChannel-Client-Profile"]=R.va:m={"X-WebChannel-Client-Profile":R.va}),this.g.S=m,(m=R&&R.Sb)&&!$(m)&&(this.g.m=m),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!$(R)&&(this.g.D=R,m=this.h,m!==null&&R in m&&(m=this.h,R in m&&delete m[R])),this.j=new Ss(this)}N(ti,ft),ti.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ti.prototype.close=function(){Uu(this.g)},ti.prototype.o=function(m){var R=this.g;if(typeof m=="string"){var D={};D.__data__=m,m=D}else this.u&&(D={},D.__data__=He(m),m=D);R.i.push(new ys(R.Ya++,m)),R.G==3&&nc(R)},ti.prototype.N=function(){this.g.l=null,delete this.j,Uu(this.g),delete this.g,ti.aa.N.call(this)};function rd(m){Wt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var R=m.__sm__;if(R){e:{for(const D in R){m=D;break e}m=void 0}(this.i=m)&&(m=this.i,R=R!==null&&m in R?R[m]:void 0),this.data=R}else this.data=m}N(rd,Wt);function id(){gi.call(this),this.status=1}N(id,gi);function Ss(m){this.g=m}N(Ss,nd),Ss.prototype.ua=function(){H(this.g,"a")},Ss.prototype.ta=function(m){H(this.g,new rd(m))},Ss.prototype.sa=function(m){H(this.g,new id)},Ss.prototype.ra=function(){H(this.g,"b")},ic.prototype.createWebChannel=ic.prototype.g,ti.prototype.send=ti.prototype.o,ti.prototype.open=ti.prototype.m,ti.prototype.close=ti.prototype.close,nx=function(){return new ic},tx=function(){return Br()},ex=bt,Xw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gt.NO_ERROR=0,Gt.TIMEOUT=8,Gt.HTTP_ERROR=6,Np=Gt,Ft.COMPLETE="complete",JR=Ft,mi.EventType=Ut,Ut.OPEN="a",Ut.CLOSE="b",Ut.ERROR="c",Ut.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Hh=mi,pn.prototype.listenOnce=pn.prototype.L,pn.prototype.getLastError=pn.prototype.Ka,pn.prototype.getLastErrorCode=pn.prototype.Ba,pn.prototype.getStatus=pn.prototype.Z,pn.prototype.getResponseJson=pn.prototype.Oa,pn.prototype.getResponseText=pn.prototype.oa,pn.prototype.send=pn.prototype.ea,pn.prototype.setWithCredentials=pn.prototype.Ha,ZR=pn}).apply(typeof lp<"u"?lp:typeof self<"u"?self:typeof window<"u"?window:{});const wA="@firebase/firestore",bA="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new Vb("@firebase/firestore");function Vc(){return Ol.logLevel}function Ye(r,...e){if(Ol.logLevel<=Vt.DEBUG){const n=e.map(Xb);Ol.debug(`Firestore (${Au}): ${r}`,...n)}}function Na(r,...e){if(Ol.logLevel<=Vt.ERROR){const n=e.map(Xb);Ol.error(`Firestore (${Au}): ${r}`,...n)}}function lu(r,...e){if(Ol.logLevel<=Vt.WARN){const n=e.map(Xb);Ol.warn(`Firestore (${Au}): ${r}`,...n)}}function Xb(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,rx(r,i,n)}function rx(r,e,n){let i=`FIRESTORE (${Au}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Na(i),new Error(i)}function gn(r,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,r||rx(e,a,i)}function wt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends Ua{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Yr.UNAUTHENTICATED)))}shutdown(){}}class KD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $D{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gn(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new Oo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Oo,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Oo)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gn(typeof i.accessToken=="string",31837,{l:i}),new ix(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gn(e===null||typeof e=="string",2055,{h:e}),new Yr(e)}}class GD{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YD{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new GD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Yr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ds(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){gn(this.o===void 0,3512);const i=o=>{o.error!=null&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const a=o=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(gn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=XD(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<n&&(i+=e.charAt(a[o]%62))}return i}}function zt(r,e){return r<e?-1:r>e?1:0}function Zw(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const a=r.charAt(i),o=e.charAt(i);if(a!==o)return Ay(a)===Ay(o)?zt(a,o):Ay(a)?1:-1}return zt(r.length,e.length)}const ZD=55296,JD=57343;function Ay(r){const e=r.charCodeAt(0);return e>=ZD&&e<=JD}function cu(r,e,n){return r.length===e.length&&r.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="__name__";class Ns{constructor(e,n,i){n===void 0?n=0:n>e.length&&dt(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&dt(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ns.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ns?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const o=Ns.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return zt(e.length,n.length)}static compareSegments(e,n){const i=Ns.isNumericId(e),a=Ns.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Ns.extractNumericId(e).compare(Ns.extractNumericId(n)):Zw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mo.fromString(e.substring(4,e.length-2))}}class On extends Ns{construct(e,n,i){return new On(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new On(n)}static emptyPath(){return new On([])}}const e5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nr extends Ns{construct(e,n,i){return new Nr(e,n,i)}static isValidIdentifier(e){return e5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_A}static keyField(){return new Nr([_A])}static fromServerFormat(e){const n=[];let i="",a=0;const o=()=>{if(i.length===0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Ge(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ge(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(o(),a++)}if(o(),c)throw new Ge(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nr(n)}static emptyPath(){return new Nr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.path=e}static fromPath(e){return new rt(On.fromString(e))}static fromName(e){return new rt(On.fromString(e).popFirst(5))}static empty(){return new rt(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&On.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return On.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new On(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(r,e,n){if(!n)throw new Ge(Ce.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function t5(r,e,n,i){if(e===!0&&i===!0)throw new Ge(Ce.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function EA(r){if(!rt.isDocumentKey(r))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function SA(r){if(rt.isDocumentKey(r))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ax(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function tm(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ge(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pm(r);throw new Ge(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(r,e){const n={typeString:r};return e&&(n.value=e),n}function Nf(r,e){if(!ax(r))throw new Ge(Ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const c=r[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new Ge(Ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=-62135596800,TA=1e6;class Pn{static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*TA);return new Pn(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AA)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TA}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nf(e,Pn._jsonSchema))return new Pn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-AA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pn._jsonSchemaVersion="firestore/timestamp/1.0",Pn._jsonSchema={type:sr("string",Pn._jsonSchemaVersion),seconds:sr("number"),nanoseconds:sr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Pn(0,0))}static max(){return new gt(new Pn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=-1;function n5(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=gt.fromTimestamp(i===1e9?new Pn(n+1,0):new Pn(n,i));return new Do(a,rt.empty(),e)}function r5(r){return new Do(r.readTime,r.key,uf)}class Do{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Do(gt.min(),rt.empty(),uf)}static max(){return new Do(gt.max(),rt.empty(),uf)}}function i5(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=rt.comparator(r.documentKey,e.documentKey),n!==0?n:zt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(r){if(r.code!==Ce.FAILED_PRECONDITION||r.message!==s5)throw r;Ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Oe(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Oe?n:Oe.resolve(n)}catch(n){return Oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Oe.reject(n)}static resolve(e){return new Oe(((n,i)=>{n(e)}))}static reject(e){return new Oe(((n,i)=>{i(e)}))}static waitFor(e){return new Oe(((n,i)=>{let a=0,o=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&n()}),(d=>i(d)))})),c=!0,o===a&&n()}))}static or(e){let n=Oe.resolve(!1);for(const i of e)n=n.next((a=>a?Oe.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,o)=>{i.push(n.call(this,a,o))})),this.waitFor(i)}static mapArray(e,n){return new Oe(((i,a)=>{const o=e.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const p=d;n(e[p]).next((g=>{c[p]=g,++h,h===o&&i(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new Oe(((i,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):i()};o()}))}}function o5(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Iu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=-1;function Lm(r){return r==null}function nm(r){return r===0&&1/r==-1/0}function l5(r){return typeof r=="number"&&Number.isInteger(r)&&!nm(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="";function c5(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=IA(e)),e=u5(r.get(n),e);return IA(e)}function u5(r,e){let n=e;const i=r.length;for(let a=0;a<i;a++){const o=r.charAt(a);switch(o){case"\0":n+="";break;case ox:n+="";break;default:n+=o}}return n}function IA(r){return r+ox+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ul(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function lx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n){this.comparator=e,this.root=n||Mr.EMPTY}insert(e,n){return new jn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(e){return new jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cp(this.root,e,this.comparator,!0)}}class cp{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mr{constructor(e,n,i,a,o){this.key=e,this.value=n,this.color=i??Mr.RED,this.left=a??Mr.EMPTY,this.right=o??Mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,o){return new Mr(e??this.key,n??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,i),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Mr.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1;Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,n,i,a,o){return this}insert(e,n,i){return new Mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.comparator=e,this.data=new jn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xA(this.data.getIterator())}getIteratorFrom(e){return new xA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof ur)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ur(this.comparator);return n.data=e,n}}class xA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.fields=e,e.sort(Nr.comparator)}static empty(){return new cs([])}unionWith(e){let n=new ur(Nr.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new cs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cu(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cx("Invalid base64 string: "+o):o}})(e);return new Dr(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new Dr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dr.EMPTY_BYTE_STRING=new Dr("");const h5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(r){if(gn(!!r,39018),typeof r=="string"){let e=0;const n=h5.exec(r);if(gn(!!n,46558,{timestamp:r}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Xn(r.seconds),nanos:Xn(r.nanos)}}function Xn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Bo(r){return typeof r=="string"?Dr.fromBase64String(r):Dr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="server_timestamp",hx="__type__",fx="__previous_value__",dx="__local_write_time__";function ev(r){return(r?.mapValue?.fields||{})[hx]?.stringValue===ux}function Bm(r){const e=r.mapValue.fields[fx];return ev(e)?Bm(e):e}function hf(r){const e=Lo(r.mapValue.fields[dx].timestampValue);return new Pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n,i,a,o,c,h,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=g}}const rm="(default)";class ff{constructor(e,n){this.projectId=e,this.database=n||rm}static empty(){return new ff("","")}get isDefaultDatabase(){return this.database===rm}isEqual(e){return e instanceof ff&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="__type__",d5="__max__",up={mapValue:{}},mx="__vector__",im="value";function Uo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ev(r)?4:m5(r)?9007199254740991:p5(r)?10:11:dt(28295,{value:r})}function $s(r,e){if(r===e)return!0;const n=Uo(r);if(n!==Uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return hf(r).isEqual(hf(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Lo(a.timestampValue),h=Lo(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,o){return Bo(a.bytesValue).isEqual(Bo(o.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,o){return Xn(a.geoPointValue.latitude)===Xn(o.geoPointValue.latitude)&&Xn(a.geoPointValue.longitude)===Xn(o.geoPointValue.longitude)})(r,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Xn(a.integerValue)===Xn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Xn(a.doubleValue),h=Xn(o.doubleValue);return c===h?nm(c)===nm(h):isNaN(c)&&isNaN(h)}return!1})(r,e);case 9:return cu(r.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(RA(c)!==RA(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!$s(c[d],h[d])))return!1;return!0})(r,e);default:return dt(52216,{left:r})}}function df(r,e){return(r.values||[]).find((n=>$s(n,e)))!==void 0}function uu(r,e){if(r===e)return 0;const n=Uo(r),i=Uo(e);if(n!==i)return zt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=Xn(o.integerValue||o.doubleValue),d=Xn(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(r,e);case 3:return kA(r.timestampValue,e.timestampValue);case 4:return kA(hf(r),hf(e));case 5:return Zw(r.stringValue,e.stringValue);case 6:return(function(o,c){const h=Bo(o),d=Bo(c);return h.compareTo(d)})(r.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let p=0;p<h.length&&p<d.length;p++){const g=zt(h[p],d[p]);if(g!==0)return g}return zt(h.length,d.length)})(r.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=zt(Xn(o.latitude),Xn(c.latitude));return h!==0?h:zt(Xn(o.longitude),Xn(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return CA(r.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},d=c.fields||{},p=h[im]?.arrayValue,g=d[im]?.arrayValue,E=zt(p?.values?.length||0,g?.values?.length||0);return E!==0?E:CA(p,g)})(r.mapValue,e.mapValue);case 11:return(function(o,c){if(o===up.mapValue&&c===up.mapValue)return 0;if(o===up.mapValue)return 1;if(c===up.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),p=c.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let E=0;E<d.length&&E<g.length;++E){const A=Zw(d[E],g[E]);if(A!==0)return A;const T=uu(h[d[E]],p[g[E]]);if(T!==0)return T}return zt(d.length,g.length)})(r.mapValue,e.mapValue);default:throw dt(23264,{he:n})}}function kA(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return zt(r,e);const n=Lo(r),i=Lo(e),a=zt(n.seconds,i.seconds);return a!==0?a:zt(n.nanos,i.nanos)}function CA(r,e){const n=r.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const o=uu(n[a],i[a]);if(o)return o}return zt(n.length,i.length)}function hu(r){return Jw(r)}function Jw(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=Lo(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Bo(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return rt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",a=!0;for(const o of n.values||[])a?a=!1:i+=",",i+=Jw(o);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${Jw(n.fields[c])}`;return a+"}"})(r.mapValue):dt(61005,{value:r})}function Pp(r){switch(Uo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bm(r);return e?16+Pp(e):16;case 5:return 2*r.stringValue.length;case 6:return Bo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+Pp(o)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return Ul(i.fields,((o,c)=>{a+=o.length+Pp(c)})),a})(r.mapValue);default:throw dt(13486,{value:r})}}function MA(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function eb(r){return!!r&&"integerValue"in r}function tv(r){return!!r&&"arrayValue"in r}function OA(r){return!!r&&"nullValue"in r}function NA(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dp(r){return!!r&&"mapValue"in r}function p5(r){return(r?.mapValue?.fields||{})[px]?.stringValue===mx}function Zh(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ul(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Zh(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zh(r.arrayValue.values[n]);return e}return{...r}}function m5(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===d5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.value=e}static empty(){return new Qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Dp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zh(n)}setAll(e){let n=Nr.emptyPath(),i={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,a),i={},a=[],n=h.popLast()}c?i[h.lastSegment()]=Zh(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,a)}delete(e){const n=this.field(e.popLast());Dp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Dp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Ul(n,((a,o)=>e[a]=o));for(const a of i)delete e[a]}clone(){return new Qi(Zh(this.value))}}function gx(r){const e=[];return Ul(r.fields,((n,i)=>{const a=new Nr([n]);if(Dp(i)){const o=gx(i.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new cs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,i,a,o,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Qr(e,0,gt.min(),gt.min(),gt.min(),Qi.empty(),0)}static newFoundDocument(e,n,i,a){return new Qr(e,1,n,gt.min(),i,a,0)}static newNoDocument(e,n){return new Qr(e,2,n,gt.min(),gt.min(),Qi.empty(),0)}static newUnknownDocument(e,n){return new Qr(e,3,n,gt.min(),gt.min(),Qi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n){this.position=e,this.inclusive=n}}function PA(r,e,n){let i=0;for(let a=0;a<r.position.length;a++){const o=e[a],c=r.position[a];if(o.field.isKeyField()?i=rt.comparator(rt.fromName(c.referenceValue),n.key):i=uu(c,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function DA(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!$s(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n="asc"){this.field=e,this.dir=n}}function g5(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{}class ir extends yx{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new w5(e,n,i):n==="array-contains"?new _5(e,i):n==="in"?new E5(e,i):n==="not-in"?new S5(e,i):n==="array-contains-any"?new A5(e,i):new ir(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new b5(e,i):new v5(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uu(n,this.value)):n!==null&&Uo(this.value)===Uo(n)&&this.matchesComparison(uu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fs extends yx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fs(e,n)}matches(e){return wx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wx(r){return r.op==="and"}function bx(r){return y5(r)&&wx(r)}function y5(r){for(const e of r.filters)if(e instanceof fs)return!1;return!0}function tb(r){if(r instanceof ir)return r.field.canonicalString()+r.op.toString()+hu(r.value);if(bx(r))return r.filters.map((e=>tb(e))).join(",");{const e=r.filters.map((n=>tb(n))).join(",");return`${r.op}(${e})`}}function vx(r,e){return r instanceof ir?(function(i,a){return a instanceof ir&&i.op===a.op&&i.field.isEqual(a.field)&&$s(i.value,a.value)})(r,e):r instanceof fs?(function(i,a){return a instanceof fs&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,h)=>o&&vx(c,a.filters[h])),!0):!1})(r,e):void dt(19439)}function _x(r){return r instanceof ir?(function(n){return`${n.field.canonicalString()} ${n.op} ${hu(n.value)}`})(r):r instanceof fs?(function(n){return n.op.toString()+" {"+n.getFilters().map(_x).join(" ,")+"}"})(r):"Filter"}class w5 extends ir{constructor(e,n,i){super(e,n,i),this.key=rt.fromName(i.referenceValue)}matches(e){const n=rt.comparator(e.key,this.key);return this.matchesComparison(n)}}class b5 extends ir{constructor(e,n){super(e,"in",n),this.keys=Ex("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class v5 extends ir{constructor(e,n){super(e,"not-in",n),this.keys=Ex("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ex(r,e){return(e.arrayValue?.values||[]).map((n=>rt.fromName(n.referenceValue)))}class _5 extends ir{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tv(n)&&df(n.arrayValue,this.value)}}class E5 extends ir{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&df(this.value.arrayValue,n)}}class S5 extends ir{constructor(e,n){super(e,"not-in",n)}matches(e){if(df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!df(this.value.arrayValue,n)}}class A5 extends ir{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>df(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n=null,i=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function LA(r,e=null,n=[],i=[],a=null,o=null,c=null){return new T5(r,e,n,i,a,o,c)}function nv(r){const e=wt(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>tb(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Lm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>hu(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>hu(i))).join(",")),e.Te=n}return e.Te}function rv(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!g5(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!vx(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!DA(r.startAt,e.startAt)&&DA(r.endAt,e.endAt)}function nb(r){return rt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n=null,i=[],a=[],o=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function I5(r,e,n,i,a,o,c,h){return new Ru(r,e,n,i,a,o,c,h)}function Sx(r){return new Ru(r)}function BA(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Ax(r){return r.collectionGroup!==null}function Jh(r){const e=wt(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new ur(Nr.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new pf(o,i))})),n.has(Nr.keyField().canonicalString())||e.Ie.push(new pf(Nr.keyField(),i))}return e.Ie}function qs(r){const e=wt(r);return e.Ee||(e.Ee=R5(e,Jh(r))),e.Ee}function R5(r,e){if(r.limitType==="F")return LA(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new pf(a.field,o)}));const n=r.endAt?new sm(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new sm(r.startAt.position,r.startAt.inclusive):null;return LA(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function rb(r,e){const n=r.filters.concat([e]);return new Ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ib(r,e,n){return new Ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Um(r,e){return rv(qs(r),qs(e))&&r.limitType===e.limitType}function Tx(r){return`${nv(qs(r))}|lt:${r.limitType}`}function zc(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>_x(a))).join(", ")}]`),Lm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>hu(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>hu(a))).join(",")),`Target(${i})`})(qs(r))}; limitType=${r.limitType})`}function Vm(r,e){return e.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):rt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(r,e)&&(function(i,a){for(const o of Jh(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(c,h,d){const p=PA(c,h,d);return c.inclusive?p<=0:p<0})(i.startAt,Jh(i),a)||i.endAt&&!(function(c,h,d){const p=PA(c,h,d);return c.inclusive?p>=0:p>0})(i.endAt,Jh(i),a))})(r,e)}function x5(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ix(r){return(e,n)=>{let i=!1;for(const a of Jh(r)){const o=k5(a,e,n);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function k5(r,e,n){const i=r.field.isKeyField()?rt.comparator(e.key,n.key):(function(o,c,h){const d=c.data.field(o),p=h.data.field(o);return d!==null&&p!==null?uu(d,p):dt(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return dt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ul(this.inner,((n,i)=>{for(const[a,o]of i)e(a,o)}))}isEmpty(){return lx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=new jn(rt.comparator);function Pa(){return C5}const Rx=new jn(rt.comparator);function Kh(...r){let e=Rx;for(const n of r)e=e.insert(n.key,n);return e}function xx(r){let e=Rx;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function wl(){return ef()}function kx(){return ef()}function ef(){return new Vl((r=>r.toString()),((r,e)=>r.isEqual(e)))}const M5=new jn(rt.comparator),O5=new ur(rt.comparator);function jt(...r){let e=O5;for(const n of r)e=e.add(n);return e}const N5=new ur(zt);function P5(){return N5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nm(e)?"-0":e}}function Cx(r){return{integerValue:""+r}}function D5(r,e){return l5(e)?Cx(e):iv(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this._=void 0}}function L5(r,e,n){return r instanceof am?(function(a,o){const c={fields:{[hx]:{stringValue:ux},[dx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&ev(o)&&(o=Bm(o)),o&&(c.fields[fx]=o),{mapValue:c}})(n,e):r instanceof mf?Ox(r,e):r instanceof gf?Nx(r,e):(function(a,o){const c=Mx(a,o),h=UA(c)+UA(a.Ae);return eb(c)&&eb(a.Ae)?Cx(h):iv(a.serializer,h)})(r,e)}function B5(r,e,n){return r instanceof mf?Ox(r,e):r instanceof gf?Nx(r,e):n}function Mx(r,e){return r instanceof om?(function(i){return eb(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class am extends zm{}class mf extends zm{constructor(e){super(),this.elements=e}}function Ox(r,e){const n=Px(e);for(const i of r.elements)n.some((a=>$s(a,i)))||n.push(i);return{arrayValue:{values:n}}}class gf extends zm{constructor(e){super(),this.elements=e}}function Nx(r,e){let n=Px(e);for(const i of r.elements)n=n.filter((a=>!$s(a,i)));return{arrayValue:{values:n}}}class om extends zm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function UA(r){return Xn(r.integerValue||r.doubleValue)}function Px(r){return tv(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function U5(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof mf&&a instanceof mf||i instanceof gf&&a instanceof gf?cu(i.elements,a.elements,$s):i instanceof om&&a instanceof om?$s(i.Ae,a.Ae):i instanceof am&&a instanceof am})(r.transform,e.transform)}class V5{constructor(e,n){this.version=e,this.transformResults=n}}class xa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xa}static exists(e){return new xa(void 0,e)}static updateTime(e){return new xa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lp(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class jm{}function Dx(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Bx(r.key,xa.none()):new Pf(r.key,r.data,xa.none());{const n=r.data,i=Qi.empty();let a=new ur(Nr.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new zl(r.key,i,new cs(a.toArray()),xa.none())}}function z5(r,e,n){r instanceof Pf?(function(a,o,c){const h=a.value.clone(),d=zA(a.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(r,e,n):r instanceof zl?(function(a,o,c){if(!Lp(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=zA(a.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(Lx(a)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,n):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function tf(r,e,n,i){return r instanceof Pf?(function(o,c,h,d){if(!Lp(o.precondition,c))return h;const p=o.value.clone(),g=jA(o.fieldTransforms,d,c);return p.setAll(g),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(r,e,n,i):r instanceof zl?(function(o,c,h,d){if(!Lp(o.precondition,c))return h;const p=jA(o.fieldTransforms,d,c),g=c.data;return g.setAll(Lx(o)),g.setAll(p),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((E=>E.field)))})(r,e,n,i):(function(o,c,h){return Lp(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(r,e,n)}function j5(r,e){let n=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),o=Mx(i.transform,a||null);o!=null&&(n===null&&(n=Qi.empty()),n.set(i.field,o))}return n||null}function VA(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&cu(i,a,((o,c)=>U5(o,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Pf extends jm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zl extends jm{constructor(e,n,i,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Lx(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function zA(r,e,n){const i=new Map;gn(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let a=0;a<n.length;a++){const o=r[a],c=o.transform,h=e.data.field(o.field);i.set(o.field,B5(c,h,n[a]))}return i}function jA(r,e,n){const i=new Map;for(const a of r){const o=a.transform,c=n.data.field(a.field);i.set(a.field,L5(o,c,e))}return i}class Bx extends jm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q5 extends jm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&z5(o,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=tf(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=tf(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=kx();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=n.has(a.key)?null:h;const d=Dx(c,h);d!==null&&i.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(gt.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),jt())}isEqual(e){return this.batchId===e.batchId&&cu(this.mutations,e.mutations,((n,i)=>VA(n,i)))&&cu(this.baseMutations,e.baseMutations,((n,i)=>VA(n,i)))}}class sv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){gn(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return M5})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,i[c].version);return new sv(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr,Zt;function K5(r){switch(r){case Ce.OK:return dt(64938);case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function Ux(r){if(r===void 0)return Na("GRPC error has no .code"),Ce.UNKNOWN;switch(r){case tr.OK:return Ce.OK;case tr.CANCELLED:return Ce.CANCELLED;case tr.UNKNOWN:return Ce.UNKNOWN;case tr.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case tr.INTERNAL:return Ce.INTERNAL;case tr.UNAVAILABLE:return Ce.UNAVAILABLE;case tr.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case tr.NOT_FOUND:return Ce.NOT_FOUND;case tr.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case tr.ABORTED:return Ce.ABORTED;case tr.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case tr.DATA_LOSS:return Ce.DATA_LOSS;default:return dt(39323,{code:r})}}(Zt=tr||(tr={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=new Mo([4294967295,4294967295],0);function qA(r){const e=$5().encode(r),n=new XR;return n.update(e),new Uint8Array(n.digest())}function WA(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Mo([n,i],0),new Mo([a,o],0)]}class av{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new $h(`Invalid padding: ${n}`);if(i<0)throw new $h(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $h(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new $h(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Mo.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Mo.fromNumber(i)));return a.compare(G5)===1&&(a=new Mo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qA(e),[i,a]=WA(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new av(o,a,n);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=qA(e),[i,a]=WA(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class $h extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n,i,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Df.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new qm(gt.min(),a,new jn(zt),Pa(),jt())}}class Df{constructor(e,n,i,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Df(i,n,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class Vx{constructor(e,n){this.targetId=e,this.Ce=n}}class zx{constructor(e,n,i=Dr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class FA{constructor(){this.ve=0,this.Fe=HA(),this.Me=Dr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=jt(),n=jt(),i=jt();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:dt(38017,{changeType:o})}})),new Df(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=HA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,gn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Y5{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pa(),this.Je=hp(),this.He=hp(),this.Ye=new jn(zt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:dt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(nb(o))if(i===0){const c=new rt(o.path);this.et(n,c,Qr.newNoDocument(c,gt.min()))}else gn(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=n;let c,h;try{c=Bo(i).toUint8Array()}catch(d){if(d instanceof cx)return lu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new av(c,a,o)}catch(d){return lu(d instanceof $h?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&nb(h.target)){const d=new rt(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,Qr.newNoDocument(d,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let i=jt();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new qm(e,n,this.Ye,this.je,i);return this.je=Pa(),this.Je=hp(),this.He=hp(),this.Ye=new jn(zt),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new FA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ur(zt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ur(zt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hp(){return new jn(rt.comparator)}function HA(){return new jn(rt.comparator)}const Q5={asc:"ASCENDING",desc:"DESCENDING"},X5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z5={and:"AND",or:"OR"};class J5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sb(r,e){return r.useProto3Json||Lm(e)?e:{value:e}}function lm(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function eL(r,e){return lm(r,e.toTimestamp())}function Ws(r){return gn(!!r,49232),gt.fromTimestamp((function(n){const i=Lo(n);return new Pn(i.seconds,i.nanos)})(r))}function ov(r,e){return ab(r,e).canonicalString()}function ab(r,e){const n=(function(a){return new On(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?n:n.child(e)}function qx(r){const e=On.fromString(r);return gn($x(e),10190,{key:e.toString()}),e}function ob(r,e){return ov(r.databaseId,e.path)}function Ty(r,e){const n=qx(e);if(n.get(1)!==r.databaseId.projectId)throw new Ge(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ge(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new rt(Fx(n))}function Wx(r,e){return ov(r.databaseId,e)}function tL(r){const e=qx(r);return e.length===4?On.emptyPath():Fx(e)}function lb(r){return new On(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Fx(r){return gn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function KA(r,e,n){return{name:ob(r,e),fields:n.value.mapValue.fields}}function nL(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:dt(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(p,g){return p.useProto3Json?(gn(g===void 0||typeof g=="string",58123),Dr.fromBase64String(g||"")):(gn(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Dr.fromUint8Array(g||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const g=p.code===void 0?Ce.UNKNOWN:Ux(p.code);return new Ge(g,p.message||"")})(c);n=new zx(i,a,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ty(r,i.document.name),o=Ws(i.document.updateTime),c=i.document.createTime?Ws(i.document.createTime):gt.min(),h=new Qi({mapValue:{fields:i.document.fields}}),d=Qr.newFoundDocument(a,o,c,h),p=i.targetIds||[],g=i.removedTargetIds||[];n=new Bp(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Ty(r,i.document),o=i.readTime?Ws(i.readTime):gt.min(),c=Qr.newNoDocument(a,o),h=i.removedTargetIds||[];n=new Bp([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Ty(r,i.document),o=i.removedTargetIds||[];n=new Bp([],o,a,null)}else{if(!("filter"in e))return dt(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new H5(a,o),h=i.targetId;n=new Vx(h,c)}}return n}function rL(r,e){let n;if(e instanceof Pf)n={update:KA(r,e.key,e.value)};else if(e instanceof Bx)n={delete:ob(r,e.key)};else if(e instanceof zl)n={update:KA(r,e.key,e.data),updateMask:fL(e.fieldMask)};else{if(!(e instanceof q5))return dt(16599,{Vt:e.type});n={verify:ob(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof am)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof mf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof gf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof om)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw dt(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:eL(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:dt(27497)})(r,e.precondition)),n}function iL(r,e){return r&&r.length>0?(gn(e!==void 0,14353),r.map((n=>(function(a,o){let c=a.updateTime?Ws(a.updateTime):Ws(o);return c.isEqual(gt.min())&&(c=Ws(o)),new V5(c,a.transformResults||[])})(n,e)))):[]}function sL(r,e){return{documents:[Wx(r,e.path)]}}function aL(r,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Wx(r,a);const o=(function(p){if(p.length!==0)return Kx(fs.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((g=>(function(A){return{field:jc(A.field),direction:cL(A.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=sb(r,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function oL(r){let e=tL(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){gn(i===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(E){const A=Hx(E);return A instanceof fs&&bx(A)?A.getFilters():[A]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((A=>(function(N){return new pf(qc(N.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(A)))})(n.orderBy));let h=null;n.limit&&(h=(function(E){let A;return A=typeof E=="object"?E.value:E,Lm(A)?null:A})(n.limit));let d=null;n.startAt&&(d=(function(E){const A=!!E.before,T=E.values||[];return new sm(T,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const A=!E.before,T=E.values||[];return new sm(T,A)})(n.endAt)),I5(e,a,c,o,h,"F",d,p)}function lL(r,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hx(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=qc(n.unaryFilter.field);return ir.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=qc(n.unaryFilter.field);return ir.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qc(n.unaryFilter.field);return ir.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=qc(n.unaryFilter.field);return ir.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return ir.create(qc(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return fs.create(n.compositeFilter.filters.map((i=>Hx(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(n.compositeFilter.op))})(r):dt(30097,{filter:r})}function cL(r){return Q5[r]}function uL(r){return X5[r]}function hL(r){return Z5[r]}function jc(r){return{fieldPath:r.canonicalString()}}function qc(r){return Nr.fromServerFormat(r.fieldPath)}function Kx(r){return r instanceof ir?(function(n){if(n.op==="=="){if(NA(n.value))return{unaryFilter:{field:jc(n.field),op:"IS_NAN"}};if(OA(n.value))return{unaryFilter:{field:jc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NA(n.value))return{unaryFilter:{field:jc(n.field),op:"IS_NOT_NAN"}};if(OA(n.value))return{unaryFilter:{field:jc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jc(n.field),op:uL(n.op),value:n.value}}})(r):r instanceof fs?(function(n){const i=n.getFilters().map((a=>Kx(a)));return i.length===1?i[0]:{compositeFilter:{op:hL(n.op),filters:i}}})(r):dt(54877,{filter:r})}function fL(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function $x(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n,i,a,o=gt.min(),c=gt.min(),h=Dr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.yt=e}}function pL(r){const e=oL({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ib(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.Cn=new gL}addToCollectionParentIndex(e,n){return this.Cn.add(n),Oe.resolve()}getCollectionParents(e,n){return Oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Oe.resolve()}deleteFieldIndex(e,n){return Oe.resolve()}deleteAllFieldIndexes(e){return Oe.resolve()}createTargetIndexes(e,n){return Oe.resolve()}getDocumentsMatchingTarget(e,n){return Oe.resolve(null)}getIndexType(e,n){return Oe.resolve(0)}getFieldIndexes(e,n){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,n){return Oe.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,n){return Oe.resolve(Do.min())}updateCollectionGroup(e,n,i){return Oe.resolve()}updateIndexEntries(e,n){return Oe.resolve()}}class gL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new ur(On.comparator),o=!a.has(i);return this.index[n]=a.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new ur(On.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gx=41943040;class ui{static withCacheSize(e){return new ui(e,ui.DEFAULT_COLLECTION_PERCENTILE,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui.DEFAULT_COLLECTION_PERCENTILE=10,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ui.DEFAULT=new ui(Gx,ui.DEFAULT_COLLECTION_PERCENTILE,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ui.DISABLED=new ui(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fu(0)}static cr(){return new fu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="LruGarbageCollector",yL=1048576;function YA([r,e],[n,i]){const a=zt(r,n);return a===0?zt(e,i):a}class wL{constructor(e){this.Ir=e,this.buffer=new ur(YA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();YA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bL{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ye(GA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Iu(n)?Ye(GA,"Ignoring IndexedDB error during garbage collection: ",n):await Tu(n)}await this.Vr(3e5)}))}}class vL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return Oe.resolve(Dm.ce);const i=new wL(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ye("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve($A)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$A):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,o,c,h,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(i=E,h=Date.now(),this.removeTargets(e,i,n)))).next((E=>(o=E,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(p=Date.now(),Vc()<=Vt.DEBUG&&Ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${E} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:E}))))}}function _L(r,e){return new vL(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.changes=new Vl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Oe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&tf(i.mutation,a,cs.empty(),Pn.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,jt()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=jt()){const a=wl();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((o=>{let c=Kh();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=wl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,jt())))}populateOverlays(e,n,i){const a=[];return i.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,i,a){let o=Pa();const c=ef(),h=(function(){return ef()})();return n.forEach(((d,p)=>{const g=i.get(p.key);a.has(p.key)&&(g===void 0||g.mutation instanceof zl)?o=o.insert(p.key,p):g!==void 0?(c.set(p.key,g.mutation.getFieldMask()),tf(g.mutation,p,g.mutation.getFieldMask(),Pn.now())):c.set(p.key,cs.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,g)=>c.set(p,g))),n.forEach(((p,g)=>h.set(p,new SL(g,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=ef();let a=new jn(((c,h)=>c-h)),o=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let g=i.get(d)||cs.empty();g=h.applyToLocalView(p,g),i.set(d,g);const E=(a.get(h.batchId)||jt()).add(d);a=a.insert(h.batchId,E)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,g=d.value,E=kx();g.forEach((A=>{if(!o.has(A)){const T=Dx(n.get(A),i.get(A));T!==null&&E.set(A,T),o=o.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,E))}return Oe.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(c){return rt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ax(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-o.size):Oe.resolve(wl());let h=uf,d=o;return c.next((p=>Oe.forEach(p,((g,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),o.get(g)?Oe.resolve():this.remoteDocumentCache.getEntry(e,g).next((A=>{d=d.insert(g,A)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,jt()))).next((g=>({batchId:h,changes:xx(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rt(n)).next((i=>{let a=Kh();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const o=n.collectionGroup;let c=Kh();return this.indexManager.getCollectionParents(e,o).next((h=>Oe.forEach(h,(d=>{const p=(function(E,A){return new Ru(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((g=>{g.forEach(((E,A)=>{c=c.insert(E,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,a)))).next((c=>{o.forEach(((d,p)=>{const g=p.getKey();c.get(g)===null&&(c=c.insert(g,Qr.newInvalidDocument(g)))}));let h=Kh();return c.forEach(((d,p)=>{const g=o.get(d);g!==void 0&&tf(g.mutation,p,cs.empty(),Pn.now()),Vm(n,p)&&(h=h.insert(d,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ws(a.createTime)}})(n)),Oe.resolve()}getNamedQuery(e,n){return Oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:pL(a.bundledQuery),readTime:Ws(a.readTime)}})(n)),Oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.overlays=new jn(rt.comparator),this.qr=new Map}getOverlay(e,n){return Oe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=wl();return Oe.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,o)=>{this.St(e,n,o)})),Oe.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),Oe.resolve()}getOverlaysForCollection(e,n,i){const a=wl(),o=n.length+1,c=new rt(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>i&&a.set(d.getKey(),d)}return Oe.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let o=new jn(((p,g)=>p-g));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let g=o.get(p.largestBatchId);g===null&&(g=wl(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=wl(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,g)=>h.set(p,g))),!(h.size()>=a)););return Oe.resolve(h)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new F5(n,i));let o=this.qr.get(n);o===void 0&&(o=jt(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.sessionToken=Dr.EMPTY_BYTE_STRING}getSessionToken(e){return Oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.Qr=new ur(wr.$r),this.Ur=new ur(wr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new wr(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new wr(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new rt(new On([])),i=new wr(n,e),a=new wr(n,e+1),o=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new rt(new On([])),i=new wr(n,e),a=new wr(n,e+1);let o=jt();return this.Ur.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new wr(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class wr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return rt.comparator(e.key,n.key)||zt(e.Yr,n.Yr)}static Kr(e,n){return zt(e.Yr,n.Yr)||rt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ur(wr.$r)}checkEmpty(e){return Oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new W5(o,n,i,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new wr(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Oe.resolve(c)}lookupMutationBatch(e,n){return Oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),o=a<0?0:a;return Oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(this.mutationQueue.length===0?Jb:this.tr-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new wr(n,0),a=new wr(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),Oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ur(zt);return n.forEach((a=>{const o=new wr(a,0),c=new wr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),Oe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let o=i;rt.isDocumentKey(o)||(o=o.child(""));const c=new wr(new rt(o),0);let h=new ur(zt);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),c),Oe.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){gn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Oe.forEach(n.mutations,(a=>{const o=new wr(a.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new wr(n,0),a=this.Zr.firstAfterOrEqual(i);return Oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.ri=e,this.docs=(function(){return new jn(rt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),o=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Oe.resolve(i?i.document.mutableCopy():Qr.newInvalidDocument(n))}getEntries(e,n){let i=Pa();return n.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():Qr.newInvalidDocument(a))})),Oe.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let o=Pa();const c=n.path,h=new rt(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||i5(r5(g),i)<=0||(a.has(g.key)||Vm(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Oe.resolve(o)}getAllFromCollectionGroup(e,n,i,a){dt(9500)}ii(e,n){return Oe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new CL(this)}getSize(e){return Oe.resolve(this.size)}}class CL extends EL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),Oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.persistence=e,this.si=new Vl((n=>nv(n)),rv),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.oi=0,this._i=new lv,this.targetCount=0,this.ai=fu.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),Oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Oe.resolve()}updateTargetData(e,n){return this.Pr(n),Oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,n,i){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),Oe.waitFor(o).next((()=>a))}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return Oe.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),Oe.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),Oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Oe.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return Oe.resolve(i)}containsKey(e,n){return Oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dm(0),this.li=!1,this.li=!0,this.hi=new RL,this.referenceDelegate=e(this),this.Pi=new ML(this),this.indexManager=new mL,this.remoteDocumentCache=(function(a){return new kL(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new dL(n),this.Ii=new TL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new xL(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Ye("MemoryPersistence","Starting transaction:",e);const a=new OL(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return Oe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class OL extends a5{constructor(e){super(),this.currentSequenceNumber=e}}class cv{constructor(e){this.persistence=e,this.Ri=new lv,this.Vi=null}static mi(e){return new cv(e)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),Oe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),Oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.fi,(i=>{const a=rt.fromPath(i);return this.gi(e,a).next((o=>{o||n.removeEntry(a,gt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Oe.or([()=>Oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class cm{constructor(e,n){this.persistence=e,this.pi=new Vl((i=>c5(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=_L(this,n)}static mi(e,n){return new cm(e,n)}Ei(){}di(e){return Oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return Oe.forEach(this.pi,((i,a)=>this.br(e,i,a).next((o=>o?Oe.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((h=>{h||(i++,o.removeEntry(c,gt.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Oe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),Oe.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),Oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pp(e.data.value)),n}br(e,n,i){return Oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return Oe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=jt(),a=jt();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new uv(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RO()?8:o5(Xr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new NL;return this.Ss(e,n,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>o.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(Vc()<=Vt.DEBUG&&Ye("QueryEngine","SDK will not create cache indexes for query:",zc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Oe.resolve()):(Vc()<=Vt.DEBUG&&Ye("QueryEngine","Query:",zc(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Vc()<=Vt.DEBUG&&Ye("QueryEngine","The SDK decides to create cache indexes for query:",zc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qs(n))):Oe.resolve())}ys(e,n){if(BA(n))return Oe.resolve(null);let i=qs(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ib(n,null,"F"),i=qs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const c=jt(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,c,d.readTime)?this.ys(e,ib(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,i,a){return BA(n)||a.isEqual(gt.min())?Oe.resolve(null):this.ps.getDocuments(e,i).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,i,a)?Oe.resolve(null):(Vc()<=Vt.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),zc(n)),this.vs(e,c,n,n5(a,uf)).next((h=>h)))}))}Ds(e,n){let i=new ur(Ix(e));return n.forEach(((a,o)=>{Vm(e,o)&&(i=i.add(o))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,i){return Vc()<=Vt.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",zc(n)),this.ps.getDocumentsMatchingQuery(e,n,Do.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="LocalStore",DL=3e8;class LL{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new jn(zt),this.xs=new Vl((o=>nv(o)),rv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function BL(r,e,n,i){return new LL(r,e,n,i)}async function Qx(r,e){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let d=jt();for(const p of a){c.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of o){h.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(i,d).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function UL(r,e){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,g){const E=p.batch,A=E.keys();let T=Oe.resolve();return A.forEach((N=>{T=T.next((()=>g.getEntry(d,N))).next((O=>{const B=p.docVersions.get(N);gn(B!==null,48541),O.version.compareTo(B)<0&&(E.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),g.addEntry(O)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(d,E)))})(n,i,e,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=jt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function Xx(r){const e=wt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function VL(r,e){const n=wt(r),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((g,E)=>{const A=a.get(E);if(!A)return;h.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(o,g.addedDocuments,E))));let T=A.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(E)!==null?T=T.withResumeToken(Dr.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,i)),a=a.insert(E,T),(function(O,B,K){return O.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=DL?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(A,T,g)&&h.push(n.Pi.updateTargetData(o,T))}));let d=Pa(),p=jt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),h.push(zL(o,c,e.documentUpdates).next((g=>{d=g.ks,p=g.qs}))),!i.isEqual(gt.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next((E=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(g)}return Oe.waitFor(h).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(n.Ms=a,o)))}function zL(r,e,n){let i=jt(),a=jt();return n.forEach((o=>i=i.add(o))),e.getEntries(r,i).next((o=>{let c=Pa();return n.forEach(((h,d)=>{const p=o.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(gt.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):Ye(hv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:c,qs:a}}))}function jL(r,e){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Jb),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function qL(r,e){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((o=>o?(a=o,Oe.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new Ao(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function cb(r,e,n){const i=wt(r),a=i.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Iu(c))throw c;Ye(hv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function QA(r,e,n){const i=wt(r);let a=gt.min(),o=jt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,p,g){const E=wt(d),A=E.xs.get(g);return A!==void 0?Oe.resolve(E.Ms.get(A)):E.Pi.getTargetData(p,g)})(i,c,qs(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,n?a:gt.min(),n?o:jt()))).next((h=>(WL(i,x5(e),h),{documents:h,Qs:o})))))}function WL(r,e,n){let i=r.Os.get(e)||gt.min();n.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),r.Os.set(e,i)}class XA{constructor(){this.activeTargetIds=P5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FL{constructor(){this.Mo=new XA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new XA,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="ConnectivityMonitor";class JA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ye(ZA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ye(ZA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fp=null;function ub(){return fp===null?fp=(function(){return 268435456+Math.round(2147483648*Math.random())})():fp++,"0x"+fp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="RestConnection",KL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $L{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===rm?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,o){const c=ub(),h=this.zo(e,n.toUriEncodedString());Ye(Iy,`Sending RPC '${e}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:p}=new URL(h),g=_u(p);return this.Jo(e,h,d,i,g).then((E=>(Ye(Iy,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw lu(Iy,`RPC '${e}' ${c} failed with error: `,E,"url: ",h,"request:",i),E}))}Ho(e,n,i,a,o,c){return this.Go(e,n,i,a,o)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Au})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),i&&i.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const i=KL[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="WebChannelConnection";class YL extends $L{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,o){const c=ub();return new Promise(((h,d)=>{const p=new ZR;p.setWithCredentials(!0),p.listenOnce(JR.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Np.NO_ERROR:const E=p.getResponseJson();Ye(Wr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case Np.TIMEOUT:Ye(Wr,`RPC '${e}' ${c} timed out`),d(new Ge(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Np.HTTP_ERROR:const A=p.getStatus();if(Ye(Wr,`RPC '${e}' ${c} failed with status:`,A,"response text:",p.getResponseText()),A>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const N=T?.error;if(N&&N.status&&N.message){const O=(function(K){const $=K.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf($)>=0?$:Ce.UNKNOWN})(N.status);d(new Ge(O,N.message))}else d(new Ge(Ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Ge(Ce.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ye(Wr,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);Ye(Wr,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",g,i,15)}))}T_(e,n,i){const a=ub(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=nx(),h=tx(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const g=o.join("");Ye(Wr,`Creating RPC '${e}' stream ${a}: ${g}`,d);const E=c.createWebChannel(g,d);this.I_(E);let A=!1,T=!1;const N=new GL({Yo:B=>{T?Ye(Wr,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(A||(Ye(Wr,`Opening RPC '${e}' stream ${a} transport.`),E.open(),A=!0),Ye(Wr,`RPC '${e}' stream ${a} sending:`,B),E.send(B))},Zo:()=>E.close()}),O=(B,K,$)=>{B.listen(K,(G=>{try{$(G)}catch(re){setTimeout((()=>{throw re}),0)}}))};return O(E,Hh.EventType.OPEN,(()=>{T||(Ye(Wr,`RPC '${e}' stream ${a} transport opened.`),N.o_())})),O(E,Hh.EventType.CLOSE,(()=>{T||(T=!0,Ye(Wr,`RPC '${e}' stream ${a} transport closed`),N.a_(),this.E_(E))})),O(E,Hh.EventType.ERROR,(B=>{T||(T=!0,lu(Wr,`RPC '${e}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),N.a_(new Ge(Ce.UNAVAILABLE,"The operation could not be completed")))})),O(E,Hh.EventType.MESSAGE,(B=>{if(!T){const K=B.data[0];gn(!!K,16349);const $=K,G=$?.error||$[0]?.error;if(G){Ye(Wr,`RPC '${e}' stream ${a} received error:`,G);const re=G.status;let ae=(function(q){const M=tr[q];if(M!==void 0)return Ux(M)})(re),le=G.message;ae===void 0&&(ae=Ce.INTERNAL,le="Unknown error status: "+re+" with message "+G.message),T=!0,N.a_(new Ge(ae,le)),E.close()}else Ye(Wr,`RPC '${e}' stream ${a} received:`,K),N.u_(K)}})),O(h,ex.STAT_EVENT,(B=>{B.stat===Xw.PROXY?Ye(Wr,`RPC '${e}' stream ${a} detected buffering proxy`):B.stat===Xw.NOPROXY&&Ye(Wr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ry(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r){return new J5(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n,i=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&Ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="PersistentStream";class Jx{constructor(e,n,i,a,o,c,h,d){this.Mi=e,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Zx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ce.RESOURCE_EXHAUSTED?(Na(n.toString()),Na("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new Ge(Ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ye(eT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ye(eT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QL extends Jx{constructor(e,n,i,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=nL(this.serializer,e),i=(function(o){if(!("targetChange"in o))return gt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?gt.min():c.readTime?Ws(c.readTime):gt.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=lb(this.serializer),n.addTarget=(function(o,c){let h;const d=c.target;if(h=nb(d)?{documents:sL(o,d)}:{query:aL(o,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=jx(o,c.resumeToken);const p=sb(o,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(gt.min())>0){h.readTime=lm(o,c.snapshotVersion.toTimestamp());const p=sb(o,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const i=lL(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=lb(this.serializer),n.removeTarget=e,this.q_(n)}}class XL extends Jx{constructor(e,n,i,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return gn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iL(e.writeResults,e.commitTime),i=Ws(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=lb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>rL(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{}class JL extends ZL{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ge(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,ab(n,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ge(Ce.UNKNOWN,o.toString())}))}Ho(e,n,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,ab(n,i),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ge(Ce.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Na(n),this.aa=!1):Ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="RemoteStore";class tB{constructor(e,n,i,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{jl(this)&&(Ye(Nl,"Restarting streams for network reachability change."),await(async function(d){const p=wt(d);p.Ea.add(4),await Lf(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Fm(p)})(this))}))})),this.Ra=new eB(i,a)}}async function Fm(r){if(jl(r))for(const e of r.da)await e(!0)}async function Lf(r){for(const e of r.da)await e(!1)}function ek(r,e){const n=wt(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),mv(n)?pv(n):xu(n).O_()&&dv(n,e))}function fv(r,e){const n=wt(r),i=xu(n);n.Ia.delete(e),i.O_()&&tk(n,e),n.Ia.size===0&&(i.O_()?i.L_():jl(n)&&n.Ra.set("Unknown"))}function dv(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xu(r).Y_(e)}function tk(r,e){r.Va.Ue(e),xu(r).Z_(e)}function pv(r){r.Va=new Y5({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),xu(r).start(),r.Ra.ua()}function mv(r){return jl(r)&&!xu(r).x_()&&r.Ia.size>0}function jl(r){return wt(r).Ea.size===0}function nk(r){r.Va=void 0}async function nB(r){r.Ra.set("Online")}async function rB(r){r.Ia.forEach(((e,n)=>{dv(r,e)}))}async function iB(r,e){nk(r),mv(r)?(r.Ra.ha(e),pv(r)):r.Ra.set("Unknown")}async function sB(r,e,n){if(r.Ra.set("Online"),e instanceof zx&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(r,e)}catch(i){Ye(Nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await um(r,i)}else if(e instanceof Bp?r.Va.Ze(e):e instanceof Vx?r.Va.st(e):r.Va.tt(e),!n.isEqual(gt.min()))try{const i=await Xx(r.localStore);n.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(p);g&&o.Ia.set(p,g.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,p)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken(Dr.EMPTY_BYTE_STRING,g.snapshotVersion)),tk(o,d);const E=new Ao(g.target,d,p,g.sequenceNumber);dv(o,E)})),o.remoteSyncer.applyRemoteEvent(h)})(r,n)}catch(i){Ye(Nl,"Failed to raise snapshot:",i),await um(r,i)}}async function um(r,e,n){if(!Iu(e))throw e;r.Ea.add(1),await Lf(r),r.Ra.set("Offline"),n||(n=()=>Xx(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ye(Nl,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Fm(r)}))}function rk(r,e){return e().catch((n=>um(r,n,e)))}async function Hm(r){const e=wt(r),n=Vo(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jb;for(;aB(e);)try{const a=await jL(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,oB(e,a)}catch(a){await um(e,a)}ik(e)&&sk(e)}function aB(r){return jl(r)&&r.Ta.length<10}function oB(r,e){r.Ta.push(e);const n=Vo(r);n.O_()&&n.X_&&n.ea(e.mutations)}function ik(r){return jl(r)&&!Vo(r).x_()&&r.Ta.length>0}function sk(r){Vo(r).start()}async function lB(r){Vo(r).ra()}async function cB(r){const e=Vo(r);for(const n of r.Ta)e.ea(n.mutations)}async function uB(r,e,n){const i=r.Ta.shift(),a=sv.from(i,e,n);await rk(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await Hm(r)}async function hB(r,e){e&&Vo(r).X_&&await(async function(i,a){if((function(c){return K5(c)&&c!==Ce.ABORTED})(a.code)){const o=i.Ta.shift();Vo(i).B_(),await rk(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Hm(i)}})(r,e),ik(r)&&sk(r)}async function tT(r,e){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),Ye(Nl,"RemoteStore received new credentials");const i=jl(n);n.Ea.add(3),await Lf(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Fm(n)}async function fB(r,e){const n=wt(r);e?(n.Ea.delete(2),await Fm(n)):e||(n.Ea.add(2),await Lf(n),n.Ra.set("Unknown"))}function xu(r){return r.ma||(r.ma=(function(n,i,a){const o=wt(n);return o.sa(),new QL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(r.datastore,r.asyncQueue,{Xo:nB.bind(null,r),t_:rB.bind(null,r),r_:iB.bind(null,r),H_:sB.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),mv(r)?pv(r):r.Ra.set("Unknown")):(await r.ma.stop(),nk(r))}))),r.ma}function Vo(r){return r.fa||(r.fa=(function(n,i,a){const o=wt(n);return o.sa(),new XL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:lB.bind(null,r),r_:hB.bind(null,r),ta:cB.bind(null,r),na:uB.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Hm(r)):(await r.fa.stop(),r.Ta.length>0&&(Ye(Nl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n,i,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,o){const c=Date.now()+i,h=new gv(e,n,c,a,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ge(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yv(r,e){if(Na("AsyncQueue",`${e}: ${r}`),Iu(r))return new Ge(Ce.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{static emptySet(e){return new Zc(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||rt.comparator(n.key,i.key):(n,i)=>rt.comparator(n.key,i.key),this.keyedMap=Kh(),this.sortedSet=new jn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Zc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.ga=new jn(rt.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):dt(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class du{constructor(e,n,i,a,o,c,h,d,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,o){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new du(e,n,Zc.emptySet(n),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class pB{constructor(){this.queries=rT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=wt(n),o=a.queries;a.queries=rT(),o.forEach(((c,h)=>{for(const d of h.Sa)d.onError(i)}))})(this,new Ge(Ce.ABORTED,"Firestore shutting down"))}}function rT(){return new Vl((r=>Tx(r)),Um)}async function mB(r,e){const n=wt(r);let i=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(i=2):(o=new dB,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=yv(c,`Initialization of query '${zc(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&wv(n)}async function gB(r,e){const n=wt(r),i=e.query;let a=3;const o=n.queries.get(i);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function yB(r,e){const n=wt(r);let i=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(i=!0);c.wa=a}}i&&wv(n)}function wB(r,e,n){const i=wt(r),a=i.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);i.queries.delete(e)}function wv(r){r.Ca.forEach((e=>{e.next()}))}var hb,iT;(iT=hb||(hb={})).Ma="default",iT.Cache="cache";class bB{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new du(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.key=e}}class ok{constructor(e){this.key=e}}class vB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=Ix(e),this.tu=new Zc(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new nT,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,E)=>{const A=a.get(g),T=Vm(this.query,E)?E:null,N=!!A&&this.mutatedKeys.has(A.key),O=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let B=!1;A&&T?A.data.isEqual(T.data)?N!==O&&(i.track({type:3,doc:T}),B=!0):this.su(A,T)||(i.track({type:2,doc:T}),B=!0,(d&&this.eu(T,d)>0||p&&this.eu(T,p)<0)&&(h=!0)):!A&&T?(i.track({type:0,doc:T}),B=!0):A&&!T&&(i.track({type:1,doc:A}),B=!0,(d||p)&&(h=!0)),B&&(T?(c=c.add(T),o=O?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,E)=>(function(T,N){const O=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:B})}};return O(T)-O(N)})(g.type,E.type)||this.eu(g.doc,E.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,c.length!==0||p?{snapshot:new du(this.query,e.tu,o,c,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=jt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new ok(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new ak(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=jt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return du.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bv="SyncEngine";class _B{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class EB{constructor(e){this.key=e,this.hu=!1}}class SB{constructor(e,n,i,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Vl((h=>Tx(h)),Um),this.Iu=new Map,this.Eu=new Set,this.du=new jn(rt.comparator),this.Au=new Map,this.Ru=new lv,this.Vu={},this.mu=new Map,this.fu=fu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AB(r,e,n=!0){const i=dk(r);let a;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await lk(i,e,n,!0),a}async function TB(r,e){const n=dk(r);await lk(n,e,!0,!1)}async function lk(r,e,n,i){const a=await qL(r.localStore,qs(e)),o=a.targetId,c=r.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await IB(r,e,o,c==="current",a.resumeToken)),r.isPrimaryClient&&n&&ek(r.remoteStore,a),h}async function IB(r,e,n,i,a){r.pu=(E,A,T)=>(async function(O,B,K,$){let G=B.view.ru(K);G.Cs&&(G=await QA(O.localStore,B.query,!1).then((({documents:Q})=>B.view.ru(Q,G))));const re=$&&$.targetChanges.get(B.targetId),ae=$&&$.targetMismatches.get(B.targetId)!=null,le=B.view.applyChanges(G,O.isPrimaryClient,re,ae);return aT(O,B.targetId,le.au),le.snapshot})(r,E,A,T);const o=await QA(r.localStore,e,!0),c=new vB(e,o.Qs),h=c.ru(o.documents),d=Df.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",a),p=c.applyChanges(h,r.isPrimaryClient,d);aT(r,n,p.au);const g=new _B(e,n,c);return r.Tu.set(e,g),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function RB(r,e,n){const i=wt(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!Um(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await cb(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&fv(i.remoteStore,a.targetId),fb(i,a.targetId)})).catch(Tu)):(fb(i,a.targetId),await cb(i.localStore,a.targetId,!0))}async function xB(r,e){const n=wt(r),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),fv(n.remoteStore,i.targetId))}async function kB(r,e,n){const i=LB(r);try{const a=await(function(c,h){const d=wt(c),p=Pn.now(),g=h.reduce(((T,N)=>T.add(N.key)),jt());let E,A;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let N=Pa(),O=jt();return d.Ns.getEntries(T,g).next((B=>{N=B,N.forEach(((K,$)=>{$.isValidDocument()||(O=O.add(K))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,N))).next((B=>{E=B;const K=[];for(const $ of h){const G=j5($,E.get($.key).overlayedDocument);G!=null&&K.push(new zl($.key,G,gx(G.value.mapValue),xa.exists(!0)))}return d.mutationQueue.addMutationBatch(T,p,K,h)})).next((B=>{A=B;const K=B.applyToLocalDocumentSet(E,O);return d.documentOverlayCache.saveOverlays(T,B.batchId,K)}))})).then((()=>({batchId:A.batchId,changes:xx(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let p=c.Vu[c.currentUser.toKey()];p||(p=new jn(zt)),p=p.insert(h,d),c.Vu[c.currentUser.toKey()]=p})(i,a.batchId,n),await Bf(i,a.changes),await Hm(i.remoteStore)}catch(a){const o=yv(a,"Failed to persist write");n.reject(o)}}async function ck(r,e){const n=wt(r);try{const i=await VL(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=n.Au.get(o);c&&(gn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?gn(c.hu,14607):a.removedDocuments.size>0&&(gn(c.hu,42227),c.hu=!1))})),await Bf(n,i,e)}catch(i){await Tu(i)}}function sT(r,e,n){const i=wt(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=wt(c);d.onlineState=h;let p=!1;d.queries.forEach(((g,E)=>{for(const A of E.Sa)A.va(h)&&(p=!0)})),p&&wv(d)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function CB(r,e,n){const i=wt(r);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),o=a&&a.key;if(o){let c=new jn(rt.comparator);c=c.insert(o,Qr.newNoDocument(o,gt.min()));const h=jt().add(o),d=new qm(gt.min(),new Map,new jn(zt),c,h);await ck(i,d),i.du=i.du.remove(o),i.Au.delete(e),vv(i)}else await cb(i.localStore,e,!1).then((()=>fb(i,e,n))).catch(Tu)}async function MB(r,e){const n=wt(r),i=e.batch.batchId;try{const a=await UL(n.localStore,e);hk(n,i,null),uk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Bf(n,a)}catch(a){await Tu(a)}}async function OB(r,e,n){const i=wt(r);try{const a=await(function(c,h){const d=wt(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return d.mutationQueue.lookupMutationBatch(p,h).next((E=>(gn(E!==null,37113),g=E.keys(),d.mutationQueue.removeMutationBatch(p,E)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>d.localDocuments.getDocuments(p,g)))}))})(i.localStore,e);hk(i,e,n),uk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Bf(i,a)}catch(a){await Tu(a)}}function uk(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function hk(r,e,n){const i=wt(r);let a=i.Vu[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function fb(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||fk(r,i)}))}function fk(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(fv(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),vv(r))}function aT(r,e,n){for(const i of n)i instanceof ak?(r.Ru.addReference(i.key,e),NB(r,i)):i instanceof ok?(Ye(bv,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||fk(r,i.key)):dt(19791,{wu:i})}function NB(r,e){const n=e.key,i=n.path.canonicalString();r.du.get(n)||r.Eu.has(i)||(Ye(bv,"New document in limbo: "+n),r.Eu.add(i),vv(r))}function vv(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new rt(On.fromString(e)),i=r.fu.next();r.Au.set(i,new EB(n)),r.du=r.du.insert(n,i),ek(r.remoteStore,new Ao(qs(Sx(n.path)),i,"TargetPurposeLimboResolution",Dm.ce))}}async function Bf(r,e,n){const i=wt(r),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{c.push(i.pu(d,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const g=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(p){a.push(p);const g=uv.As(d.targetId,p);o.push(g)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(d,p){const g=wt(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Oe.forEach(p,(A=>Oe.forEach(A.Es,(T=>g.persistence.referenceDelegate.addReference(E,A.targetId,T))).next((()=>Oe.forEach(A.ds,(T=>g.persistence.referenceDelegate.removeReference(E,A.targetId,T)))))))))}catch(E){if(!Iu(E))throw E;Ye(hv,"Failed to update sequence numbers: "+E)}for(const E of p){const A=E.targetId;if(!E.fromCache){const T=g.Ms.get(A),N=T.snapshotVersion,O=T.withLastLimboFreeSnapshotVersion(N);g.Ms=g.Ms.insert(A,O)}}})(i.localStore,o))}async function PB(r,e){const n=wt(r);if(!n.currentUser.isEqual(e)){Ye(bv,"User change. New user:",e.toKey());const i=await Qx(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new Ge(Ce.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Bf(n,i.Ls)}}function DB(r,e){const n=wt(r),i=n.Au.get(e);if(i&&i.hu)return jt().add(i.key);{let a=jt();const o=n.Iu.get(e);if(!o)return a;for(const c of o){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function dk(r){const e=wt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ck.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CB.bind(null,e),e.Pu.H_=yB.bind(null,e.eventManager),e.Pu.yu=wB.bind(null,e.eventManager),e}function LB(r){const e=wt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OB.bind(null,e),e}class hm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BL(this.persistence,new PL,e.initialUser,this.serializer)}Cu(e){return new Yx(cv.mi,this.serializer)}Du(e){return new FL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hm.provider={build:()=>new hm};class BB extends hm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){gn(this.persistence.referenceDelegate instanceof cm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new bL(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ui.withCacheSize(this.cacheSizeBytes):ui.DEFAULT;return new Yx((i=>cm.mi(i,n)),this.serializer)}}class db{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=PB.bind(null,this.syncEngine),await fB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pB})()}createDatastore(e){const n=Wm(e.databaseInfo.databaseId),i=(function(o){return new YL(o)})(e.databaseInfo);return(function(o,c,h,d){return new JL(o,c,h,d)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,o,c,h){return new tB(i,a,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>sT(this.syncEngine,n,0)),(function(){return JA.v()?new JA:new HL})())}createSyncEngine(e,n){return(function(a,o,c,h,d,p,g){const E=new SB(a,o,c,h,d,p);return g&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=wt(n);Ye(Nl,"RemoteStore shutting down."),i.Ea.add(5),await Lf(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}db.provider={build:()=>new db};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Na("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="FirestoreClient";class VB{constructor(e,n,i,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Yr.UNAUTHENTICATED,this.clientId=Zb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{Ye(zo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Ye(zo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=yv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function xy(r,e){r.asyncQueue.verifyOperationInProgress(),Ye(zo,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Qx(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function oT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await zB(r);Ye(zo,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>tT(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>tT(e.remoteStore,a))),r._onlineComponents=e}async function zB(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ye(zo,"Using user provided OfflineComponentProvider");try{await xy(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Ce.FAILED_PRECONDITION||a.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;lu("Error using user provided cache. Falling back to memory cache: "+n),await xy(r,new hm)}}else Ye(zo,"Using default OfflineComponentProvider"),await xy(r,new BB(void 0));return r._offlineComponents}async function pk(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ye(zo,"Using user provided OnlineComponentProvider"),await oT(r,r._uninitializedComponentsProvider._online)):(Ye(zo,"Using default OnlineComponentProvider"),await oT(r,new db))),r._onlineComponents}function jB(r){return pk(r).then((e=>e.syncEngine))}async function qB(r){const e=await pk(r),n=e.eventManager;return n.onListen=AB.bind(null,e.syncEngine),n.onUnlisten=RB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xB.bind(null,e.syncEngine),n}function WB(r,e,n={}){const i=new Oo;return r.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,p){const g=new UB({next:A=>{g.Nu(),c.enqueueAndForget((()=>gB(o,E))),A.fromCache&&d.source==="server"?p.reject(new Ge(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),E=new bB(h,g,{includeMetadataChanges:!0,qa:!0});return mB(o,E)})(await qB(r),r.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="firestore.googleapis.com",cT=!0;class uT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ge(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gk,this.ssl=cT}else this.host=e.host,this.ssl=e.ssl??cT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Gx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yL)throw new Ge(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mk(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ge(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ge(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ge(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Km{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new HD;switch(i.type){case"firstParty":return new YD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ge(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=lT.get(n);i&&(Ye("ComponentProvider","Removing Datastore"),lT.delete(n),i.terminate())})(this),Promise.resolve()}}function FB(r,e,n,i={}){r=tm(r,Km);const a=_u(e),o=r._getSettings(),c={...o,emulatorOptions:r._getEmulatorOptions()},h=`${e}:${n}`;a&&(fR(`https://${h}`),dR("Firestore",!0)),o.host!==gk&&o.host!==h&&lu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:i};if(!kl(d,c)&&(r._setSettings(d),i.mockUserToken)){let p,g;if(typeof i.mockUserToken=="string")p=i.mockUserToken,g=Yr.MOCK_USER;else{p=wO(i.mockUserToken,r._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new Ge(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Yr(E)}r._authCredentials=new KD(new ix(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ql(this.firestore,e,this._query)}}class _r{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}toJSON(){return{type:_r._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Nf(n,_r._jsonSchema))return new _r(e,i||null,new rt(On.fromString(n.referencePath)))}}_r._jsonSchemaVersion="firestore/documentReference/1.0",_r._jsonSchema={type:sr("string",_r._jsonSchemaVersion),referencePath:sr("string")};class No extends ql{constructor(e,n,i){super(e,n,Sx(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new rt(e))}withConverter(e){return new No(this.firestore,e,this._path)}}function hT(r,e,...n){if(r=Zi(r),sx("collection","path",e),r instanceof Km){const i=On.fromString(e,...n);return SA(i),new No(r,null,i)}{if(!(r instanceof _r||r instanceof No))throw new Ge(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(On.fromString(e,...n));return SA(i),new No(r.firestore,null,i)}}function HB(r,e,...n){if(r=Zi(r),arguments.length===1&&(e=Zb.newId()),sx("doc","path",e),r instanceof Km){const i=On.fromString(e,...n);return EA(i),new _r(r,null,new rt(i))}{if(!(r instanceof _r||r instanceof No))throw new Ge(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(On.fromString(e,...n));return EA(i),new _r(r.firestore,r instanceof No?r.converter:null,new rt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="AsyncQueue";class dT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Zx(this,"async_queue_retry"),this._c=()=>{const i=Ry();i&&Ye(fT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Ry();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ry();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Oo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Iu(e))throw e;Ye(fT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Na("INTERNAL UNHANDLED ERROR: ",pT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=gv.createAndSchedule(this,e,n,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&dt(47125,{Pc:pT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function pT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class _v extends Km{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new dT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dT(e),this._firestoreClient=void 0,await e}}}function KB(r,e){const n=typeof r=="object"?r:yR(),i=typeof r=="string"?r:rm,a=jb(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=gO("firestore");o&&FB(a,...o)}return a}function yk(r){if(r._terminated)throw new Ge(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$B(r),r._firestoreClient}function $B(r){const e=r._freezeSettings(),n=(function(a,o,c,h){return new f5(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,mk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new VB(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xi(Dr.fromBase64String(e))}catch(n){throw new Ge(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xi(Dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nf(e,Xi._jsonSchema))return Xi.fromBase64String(e.bytes)}}Xi._jsonSchemaVersion="firestore/bytes/1.0",Xi._jsonSchema={type:sr("string",Xi._jsonSchemaVersion),bytes:sr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ge(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ge(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fs._jsonSchemaVersion}}static fromJSON(e){if(Nf(e,Fs._jsonSchema))return new Fs(e.latitude,e.longitude)}}Fs._jsonSchemaVersion="firestore/geoPoint/1.0",Fs._jsonSchema={type:sr("string",Fs._jsonSchemaVersion),latitude:sr("number"),longitude:sr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nf(e,Hs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Hs(e.vectorValues);throw new Ge(Ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hs._jsonSchemaVersion="firestore/vectorValue/1.0",Hs._jsonSchema={type:sr("string",Hs._jsonSchemaVersion),vectorValues:sr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=/^__.*__$/;class YB{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new zl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pf(e,this.data,n,this.fieldTransforms)}}function bk(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:r})}}class Sv{constructor(e,n,i,a,o,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bk(this.Ac)&&GB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QB{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Wm(e)}Cc(e,n,i,a=!1){return new Sv({Ac:e,methodName:n,Dc:i,path:Nr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vk(r){const e=r._freezeSettings(),n=Wm(r._databaseId);return new QB(r._databaseId,!!e.ignoreUndefinedProperties,n)}function XB(r,e,n,i,a,o={}){const c=r.Cc(o.merge||o.mergeFields?2:0,e,n,a);Sk("Data must be an object, but it was:",c,i);const h=_k(i,c);let d,p;if(o.merge)d=new cs(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const E of o.mergeFields){const A=JB(e,E,n);if(!c.contains(A))throw new Ge(Ce.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);t8(g,A)||g.push(A)}d=new cs(g),p=c.fieldTransforms.filter((E=>d.covers(E.field)))}else d=null,p=c.fieldTransforms;return new YB(new Qi(h),d,p)}function ZB(r,e,n,i=!1){return Av(n,r.Cc(i?4:3,e))}function Av(r,e){if(Ek(r=Zi(r)))return Sk("Unsupported field value:",e,r),_k(r,e);if(r instanceof wk)return(function(i,a){if(!bk(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const o=[];let c=0;for(const h of i){let d=Av(h,a.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(r,e)}return(function(i,a){if((i=Zi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return D5(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Pn.fromDate(i);return{timestampValue:lm(a.serializer,o)}}if(i instanceof Pn){const o=new Pn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:lm(a.serializer,o)}}if(i instanceof Fs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xi)return{bytesValue:jx(a.serializer,i._byteString)};if(i instanceof _r){const o=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ov(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Hs)return(function(c,h){return{mapValue:{fields:{[px]:{stringValue:mx},[im]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return iv(h.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Pm(i)}`)})(r,e)}function _k(r,e){const n={};return lx(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ul(r,((i,a)=>{const o=Av(a,e.mc(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function Ek(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Pn||r instanceof Fs||r instanceof Xi||r instanceof _r||r instanceof wk||r instanceof Hs)}function Sk(r,e,n){if(!Ek(n)||!ax(n)){const i=Pm(n);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function JB(r,e,n){if((e=Zi(e))instanceof Ev)return e._internalPath;if(typeof e=="string")return Ak(r,e);throw fm("Field path arguments must be of type string or ",r,!1,void 0,n)}const e8=new RegExp("[~\\*/\\[\\]]");function Ak(r,e,n){if(e.search(e8)>=0)throw fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ev(...e.split("."))._internalPath}catch{throw fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function fm(r,e,n,i,a){const o=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${i}`),c&&(d+=` in document ${a}`),d+=")"),new Ge(Ce.INVALID_ARGUMENT,h+r+d)}function t8(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,i,a,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n8 extends Tk{data(){return super.data()}}function Tv(r,e){return typeof e=="string"?Ak(r,e):e instanceof Ev?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ge(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iv{}class Ik extends Iv{}function i8(r,e,...n){let i=[];e instanceof Iv&&i.push(e),i=i.concat(n),(function(o){const c=o.filter((d=>d instanceof xv)).length,h=o.filter((d=>d instanceof Rv)).length;if(c>1||c>0&&h>0)throw new Ge(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)r=a._apply(r);return r}class Rv extends Ik{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Rv(e,n,i)}_apply(e){const n=this._parse(e);return Rk(e._query,n),new ql(e.firestore,e.converter,rb(e._query,n))}_parse(e){const n=vk(e.firestore);return(function(o,c,h,d,p,g,E){let A;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Ge(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){gT(E,g);const N=[];for(const O of E)N.push(mT(d,o,O));A={arrayValue:{values:N}}}else A=mT(d,o,E)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||gT(E,g),A=ZB(h,c,E,g==="in"||g==="not-in");return ir.create(p,g,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class xv extends Iv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:fs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const d of h)Rk(c,d),c=rb(c,d)})(e._query,n),new ql(e.firestore,e.converter,rb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kv extends Ik{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kv(e,n)}_apply(e){const n=(function(a,o,c){if(a.startAt!==null)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pf(o,c)})(e._query,this._field,this._direction);return new ql(e.firestore,e.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new Ru(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function s8(r,e="asc"){const n=e,i=Tv("orderBy",r);return kv._create(i,n)}function mT(r,e,n){if(typeof(n=Zi(n))=="string"){if(n==="")throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ax(e)&&n.indexOf("/")!==-1)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(On.fromString(n));if(!rt.isDocumentKey(i))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return MA(r,new rt(i))}if(n instanceof _r)return MA(r,n._key);throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pm(n)}.`)}function gT(r,e){if(!Array.isArray(r)||r.length===0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Rk(r,e){const n=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ge(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ge(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class a8{convertValue(e,n="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ul(e,((a,o)=>{i[a]=this.convertValue(o,n)})),i}convertVectorValue(e){const n=e.fields?.[im].arrayValue?.values?.map((i=>Xn(i.doubleValue)));return new Hs(n)}convertGeoPoint(e){return new Fs(Xn(e.latitude),Xn(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Bm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(hf(e));default:return null}}convertTimestamp(e){const n=Lo(e);return new Pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=On.fromString(e);gn($x(i),9688,{name:e});const a=new ff(i.get(1),i.get(3)),o=new rt(i.popFirst(5));return a.isEqual(n)||Na(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(r,e,n){let i;return i=r?r.toFirestore(e):e,i}class dp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jc extends Tk{constructor(e,n,i,a,o,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Up(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Tv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(Ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jc._jsonSchema={type:sr("string",Jc._jsonSchemaVersion),bundleSource:sr("string","DocumentSnapshot"),bundleName:sr("string"),bundle:sr("string")};class Up extends Jc{data(e={}){return super.data(e)}}class eu{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new dp(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Up(this._firestore,this._userDataWriter,i.key,i,new dp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ge(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new Up(a._firestore,a._userDataWriter,h.doc.key,h.doc,new dp(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Up(a._firestore,a._userDataWriter,h.doc.key,h.doc,new dp(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,g=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:l8(h.type),doc:d,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(Ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function l8(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}eu._jsonSchemaVersion="firestore/querySnapshot/1.0",eu._jsonSchema={type:sr("string",eu._jsonSchemaVersion),bundleSource:sr("string","QuerySnapshot"),bundleName:sr("string"),bundle:sr("string")};class c8 extends a8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,n)}}function u8(r){r=tm(r,ql);const e=tm(r.firestore,_v),n=yk(e),i=new c8(e);return r8(r._query),WB(n,r._query).then((a=>new eu(e,i,r,a)))}function h8(r,e){const n=tm(r.firestore,_v),i=HB(r),a=o8(r.converter,e);return f8(n,[XB(vk(r.firestore),"addDoc",i._key,a,r.converter!==null,{}).toMutation(i._key,xa.exists(!1))]).then((()=>i))}function f8(r,e){return(function(i,a){const o=new Oo;return i.asyncQueue.enqueueAndForget((async()=>kB(await jB(i),a,o))),o.promise})(yk(r),e)}(function(e,n=!0){(function(a){Au=a})(Eu),au(new Cl("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new _v(new $D(i.getProvider("auth-internal")),new QD(c,i.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ge(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(p.options.projectId,g)})(c,a),c);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Co(wA,bA,e),Co(wA,bA,"esm2020")})();const d8={apiKey:"AIzaSyC5kkeOckjhvVHSxpiTXP56GyaipaEbmQc",authDomain:"solstice-14da8.firebaseapp.com",projectId:"solstice-14da8",storageBucket:"solstice-14da8.firebasestorage.app",messagingSenderId:"834230457430",appId:"1:834230457430:web:3c7439e1ae4123a89517f7",measurementId:"G-TJS20KZ48R"},xk=gR(d8);WD(xk);const yT=KB(xk);function p8({t:r}){const[e,n]=ce.useState([]),[i,a]=ce.useState(""),[o,c]=ce.useState(""),[h,d]=ce.useState(""),[p,g]=ce.useState(1),[E,A]=ce.useState(!1),[T,N]=ce.useState(!1),[O,B]=ce.useState(!1),[K,$]=ce.useState(!1),[G,re]=ce.useState(!1),ae=async()=>{re(!0);try{const Q=i8(hT(yT,"airdrop_participants"),s8("created","desc")),M=(await u8(Q)).docs.map(U=>U.data());n(M)}catch{n([])}re(!1)};ce.useEffect(()=>{ae()},[]);const le=async Q=>{if(Q.preventDefault(),d(""),!o||o.length<3){d("Por favor, ingresa tu usuario de Twitter.");return}if(!/^([1-9A-HJ-NP-Za-km-z]{32,44})$/.test(i)){d("Wallet de Solana no vlida");return}re(!0);try{await h8(hT(yT,"airdrop_participants"),{wallet:i,twitter:o,created:Date.now()}),d("Wallet registrada para el airdrop!"),a(""),c(""),ae()}catch{d("Error al registrar. Intenta de nuevo.")}re(!1)};return oe.jsxs("section",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[oe.jsx("h1",{className:"text-3xl font-bold text-[#66fcf1] mb-6",children:r["airdrop-title"]}),oe.jsxs("div",{className:"max-w-2xl text-gray-200 text-base mb-8 text-center",children:[oe.jsx("strong",{className:"block text-lg text-[#66fcf1] mb-2",children:r["airdrop-hero-title"]}),oe.jsx("p",{className:"mb-2",children:r["airdrop-hero-desc1"]}),oe.jsx("p",{className:"mb-2 font-semibold text-[#66fcf1]",children:r["airdrop-why-title"]}),oe.jsx("p",{className:"mb-2",children:r["airdrop-why-desc"]}),oe.jsxs("ul",{className:"list-disc list-inside mb-2 text-left mx-auto",style:{maxWidth:"600px"},children:[oe.jsxs("li",{children:[oe.jsxs("strong",{children:[r["airdrop-why-pioneer"].split(":")[0],":"]})," ",r["airdrop-why-pioneer"].split(":")[1]]}),oe.jsxs("li",{children:[oe.jsxs("strong",{children:[r["airdrop-why-governance"].split(":")[0],":"]})," ",r["airdrop-why-governance"].split(":")[1]]}),oe.jsxs("li",{children:[oe.jsxs("strong",{children:[r["airdrop-why-utility"].split(":")[0],":"]})," ",r["airdrop-why-utility"].split(":")[1]]})]}),oe.jsx("p",{className:"mb-2 font-semibold text-[#66fcf1]",children:r["airdrop-how-title"]}),oe.jsx("p",{className:"mb-2",children:r["airdrop-how-desc"]}),oe.jsx("p",{className:"mt-4",children:r["airdrop-join-desc"]})]}),oe.jsxs("p",{className:"text-gray-400 text-center mb-8",children:[r["airdrop-steps-title"],oe.jsx("br",{}),r["airdrop-steps-desc"],oe.jsx("br",{}),oe.jsxs("span",{className:"block mt-4 text-left",children:[oe.jsx("span",{children:"1. "}),oe.jsx("a",{href:"https://x.com/SolsticeSols",target:"_blank",rel:"noopener noreferrer",className:`text-[#66fcf1] underline ${O?"font-bold":""}`,onClick:()=>B(!0),children:r["airdrop-step1"].replace(/^\d+\.\s*/,"")})," ",oe.jsx("br",{}),oe.jsx("span",{children:"2. "}),oe.jsx("a",{href:"https://x.com/SolsticeSols",target:"_blank",rel:"noopener noreferrer",className:`text-[#66fcf1] underline ${K?"font-bold":""}`,onClick:()=>$(!0),children:r["airdrop-step2"].replace(/^\d+\.\s*/,"")})]})]}),p===1&&oe.jsxs("div",{className:"flex flex-col items-start gap-4 mb-8",children:[oe.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[oe.jsx("input",{type:"checkbox",checked:E,onChange:Q=>A(Q.target.checked)}),oe.jsx("span",{className:"text-gray-300",children:r["airdrop-checkbox-follow"]})]}),oe.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[oe.jsx("input",{type:"checkbox",checked:T,onChange:Q=>N(Q.target.checked)}),oe.jsx("span",{className:"text-gray-300",children:r["airdrop-checkbox-retweet"]})]}),oe.jsx("button",{className:`mt-4 px-6 py-2 rounded-lg font-bold text-lg transition w-fit ${E&&T?"bg-gradient-to-r from-[#45a29e] to-[#66fcf1] text-[#0b0c10] hover:scale-105":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,disabled:!(E&&T),onClick:()=>g(2),children:r["airdrop-continue"]})]}),p===2&&oe.jsxs(oe.Fragment,{children:[oe.jsxs("form",{onSubmit:le,className:"flex flex-col items-center gap-6 w-fit",children:[oe.jsx("input",{type:"text",placeholder:r["airdrop-twitter-placeholder"],value:o,onChange:Q=>c(Q.target.value),className:"border border-[#45a29e] bg-[#0b0c10] rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-[#66fcf1]/40 transition",autoComplete:"off",maxLength:30,style:{minWidth:"220px"},required:!0,"aria-label":"Usuario de Twitter"}),oe.jsx("input",{type:"text",placeholder:r["airdrop-wallet-placeholder"],value:i,onChange:Q=>a(Q.target.value),className:"border border-[#45a29e] bg-[#0b0c10] rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-[#66fcf1]/40 transition",autoComplete:"off",maxLength:44,style:{minWidth:"220px"},required:!0,"aria-label":"Wallet de Solana"}),oe.jsx("button",{type:"submit",className:`bg-gradient-to-r from-[#45a29e] to-[#66fcf1] text-[#0b0c10] px-8 py-3 rounded-lg font-bold text-lg shadow hover:scale-105 transition w-fit mt-4 ${O&&K?"":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,disabled:!(O&&K),children:r["airdrop-btn-participate"]}),h&&oe.jsx("p",{className:"text-[#66fcf1] text-center font-semibold mt-4",children:h})]}),oe.jsxs("div",{className:"mt-10 w-full flex flex-col items-center",children:[oe.jsx("h3",{className:"text-lg font-bold text-[#66fcf1] mb-2",children:r["airdrop-participants-title"]}),oe.jsx("div",{className:"w-full max-w-xl overflow-x-auto rounded-lg shadow-lg",children:oe.jsxs("table",{className:"min-w-[340px] w-full bg-[#1f2833] rounded-lg text-sm",children:[oe.jsx("thead",{className:"sticky top-0 bg-[#162025] z-10",children:oe.jsxs("tr",{children:[oe.jsx("th",{className:"px-4 py-3 text-left text-[#66fcf1] font-bold w-32 min-w-[120px]",children:r["airdrop-table-twitter"]}),oe.jsx("th",{className:"px-4 py-3 text-left text-[#66fcf1] font-bold w-64 min-w-[200px]",children:r["airdrop-table-wallet"]})]})}),oe.jsx("tbody",{children:G?oe.jsx("tr",{children:oe.jsx("td",{colSpan:2,className:"px-4 py-4 text-gray-400 text-center",children:"Cargando..."})}):e.length===0?oe.jsx("tr",{children:oe.jsx("td",{colSpan:2,className:"px-4 py-4 text-gray-400 text-center",children:"An no hay participantes registrados."})}):e.map((Q,q)=>oe.jsxs("tr",{className:`border-t border-[#45a29e]/30 ${q%2===0?"bg-[#232b33]":"bg-[#1f2833]"} hover:bg-[#28343d] transition`,children:[oe.jsx("td",{className:"px-4 py-3 text-gray-200 font-mono w-64 min-w-[200px] max-w-[320px] truncate",children:oe.jsx("a",{href:`https://solscan.io/token/${Q.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"text-[#66fcf1] underline hover:text-[#45a29e]",title:Q.wallet,children:Q.wallet.length>16?`${Q.wallet.slice(0,6)}...${Q.wallet.slice(-4)}`:Q.wallet})}),oe.jsxs("td",{className:"px-4 py-3 text-gray-200 w-32 min-w-[120px]",children:["@",Q.twitter]})]},q))})]})})]})]})]})}const pu={es:{"team-title":"Conoce al Equipo","team-subtitle":"Un grupo dedicado de visionarios y expertos que trabajan para construir un futuro descentralizado en Solana.","team-photo":"Foto","team-comingSoon":"PRXIMAMENTE","presale-loading-txs":"Cargando transacciones...","airdrop-twitter-placeholder":"Usuario de Twitter (sin @)","airdrop-wallet-placeholder":"Tu wallet de Solana","airdrop-btn-participate":"Participar en el Airdrop","airdrop-title":"Airdrop","airdrop-hero-title":"nete al Amanecer de Solstice: Tu Participacin en la Gobernanza Comienza Aqu","airdrop-hero-desc1":"En Solstice, creemos firmemente que el futuro de Solana se construye de manera colectiva. Nuestro airdrop no es solo una distribucin de tokens; es una invitacin para que te conviertas en un miembro activo y fundamental de nuestro ecosistema.","airdrop-why-title":"Por qu unirte a nuestro Airdrop?","airdrop-why-desc":"Este es tu momento para ser parte del cambio. Al reclamar tus tokens $SOLS, no solo obtienes una pieza de nuestro proyecto, sino que adquieres el poder de influir directamente en las decisiones de la comunidad.","airdrop-why-pioneer":"S un Pionero: Posicinate como uno de los primeros en adoptar $SOLS y nete a una comunidad que valora la participacin.","airdrop-why-governance":"Gobernanza Activa: Tus tokens te otorgan derechos de voto para dar forma al futuro de Solstice, desde las propuestas de desarrollo hasta las asignaciones de fondos.","airdrop-why-utility":"Utilidad Real: Accede a beneficios exclusivos y s parte de la creacin de un ecosistema que prioriza la utilidad sobre la especulacin.","airdrop-how-title":"Cmo Reclamar tus $SOLS?","airdrop-how-desc":"Pronto anunciaremos los pasos detallados para reclamar tus tokens. Sigue nuestras redes sociales para no perderte las ltimas actualizaciones.","airdrop-join-desc":"nete a nosotros en este viaje! Juntos, iluminaremos el camino hacia una comunidad ms fuerte y descentralizada en Solana.","airdrop-steps-title":"Aceptar reglas del Airdrop.","airdrop-steps-desc":"Para participar debes seguir estos pasos:","airdrop-step1":"1. Sigue nuestra cuenta de Twitter/X","airdrop-step2":"2. Haz retweet al ltimo post fijado","airdrop-checkbox-follow":"Aceptar reglas del Airdrop.","airdrop-checkbox-retweet":"Aceptar trminos y condiciones.","airdrop-continue":"Continuar","airdrop-participants-title":"Participantes","airdrop-table-twitter":"Usuario Twitter","airdrop-table-wallet":"Wallet",disconnect:"Desconectar","pay-commission":"Pagar comisin 0.001 SOL",connect_phantom:"Conectar Phantom","presale-recent-purchases-title":"Compras recientes","presale-no-recent-purchases":"No hay compras recientes.","presale-launch-label":"Preventa de Solstice 200.000.000 SOLS","phantom-connected":"Phantom conectada","presale-buy":"Comprar","presale-buy-loading":"Procesando...","page-title":"Solstice - Ecosistema DAO en Solana","nav-home":"Inicio","nav-presale":"Preventa","nav-whitepaper":"Libro Blanco","nav-team":"Equipo","nav-dao":"DAO","hero-title":"Construyendo el futuro de la gobernanza comunitaria en Solana","hero-subtitle":"Solstice es la nueva generacin de proyectos DeFi, empoderando a la comunidad con transparencia y control total sobre el ecosistema.","hero-btn-presale":"Participa en la Preventa","hero-btn-whitepaper":"Lee el Libro Blanco","features-title":"Nuestras Caractersticas","feature1-title":"Gobernanza DAO","feature1-text":"La comunidad controla el futuro del proyecto a travs de un modelo de gobernanza descentralizada.","feature2-title":"Tokenoma Justa","feature2-text":"Una distribucin de tokens que recompensa la participacin y promueve la sostenibilidad a largo plazo.","feature3-title":"Transparencia Total","feature3-text":"Cada decisin y transaccin es visible en la blockchain, asegurando la mxima transparencia.","tokenomics-title":"Tokenoma ($SOLS)","tokenomics-intro":"El token $SOLS es el corazn del ecosistema Solstice. Su tokenoma est diseada para incentivar la participacin y garantizar un crecimiento saludable.","tokenomics-total-supply":"Suministro Total: 1,000,000,000 $SOLS","tokenomics-distribution":"Distribucin:","tokenomics-presale":"Preventa (20%): Destinado a la financiacin inicial del proyecto.","tokenomics-rewards":"Recompensas de la Comunidad (30%): Fomenta el crecimiento y la lealtad.","tokenomics-treasury":"Fondo de Tesorera de la DAO (35%): Controlado por la comunidad para financiar futuras iniciativas.","tokenomics-liquidity":"Liquidez Inicial (10%): Para garantizar una liquidez robusta en los intercambios.","tokenomics-airdrop":"Airdrop (5%): Repartido entre 500,000 personas, 100 SOLS cada una.","presale-page-title":"Oficial $SOLS Preventa","presale-page-subtitle":"Asegura tu participacin en el futuro del ecosistema Solstice. El tiempo es limitado!","presale-price-label":"Precio por Token: 0,0001 SOLS","presale-raised":"0 SOL Recaudado","presale-goal":"20,000 SOL Objetivo","presale-status-title":"Prximamente disponible, esperando lanzamiento","presale-disclaimer":"Al participar, aceptas los trminos y condiciones de la preventa. Por favor, lee nuestro Libro Blanco para ms detalles.","whitepaper-page-title":"Libro Blanco de Solstice","whitepaper-page-subtitle":"El documento fundamental que detalla la visin, la tecnologa y el futuro de nuestro proyecto en la red de Solana.","team-page-title":"Conoce al Equipo","team-page-subtitle":"Un grupo dedicado de visionarios y expertos que trabajan para construir un futuro descentralizado en Solana.","dao-page-title":"Panel de Control de la DAO","dao-page-subtitle":"Participa en la toma de decisiones y vota en las propuestas que darn forma al futuro de Solstice.","dao-wallet-status-title":"Estado de la Billetera","dao-btn-connect-wallet":"Conectar Billetera Solana","dao-btn-create-proposal":"Crear Nueva Propuesta","dao-active-proposals-title":"Propuestas Activas","proposal-form-page-title":"Crear Nueva Propuesta","proposal-form-page-subtitle":"Presenta una idea para la comunidad. Si es aprobada, ser implementada.","proposal-form-title-label":"Ttulo de la Propuesta","proposal-form-desc-label":"Descripcin Completa","proposal-form-btn-submit":"Enviar Propuesta","footer-text":" 2024 Solstice. Todos los derechos reservados.","language-selector":"Idioma:",connected:"Conectada","wallet-connected":"Billetera Conectada:","wallet-connect-success":"Billetera conectada con xito.","phantom-not-found":"Phantom Wallet no encontrada! Por favor, instlala para continuar.","phantom-connect-error":"No se pudo conectar con Phantom. Intenta de nuevo.","presale-connect-required":"Conecta tu wallet Phantom para participar.","presale-amount-invalid":"Introduce una cantidad vlida.","presale-amount-placeholder":"Cantidad a comprar","presale-max-tokens-wallet":"Mximo = 4,000,000 tokens solstice por cartera","presale-min-label-05":"Mnimo de compra: 0.5 SOL","presale-min-label-025":"Mnimo de compra: 0.25 SOL","presale-min-label-01":"Mnimo de compra: 0.1 SOL","presale-min-label-001":"Mnimo de compra: 0.01 SOL","presale-success":"Transaccin enviada correctamente! Recibirs tus $SOLS automticamente en tu wallet Phantom tras la confirmacin.","presale-tx-error":"Error en la transaccin. Intenta de nuevo.","proposal-creation-success":"Propuesta creada con xito!","member1-name":"PROXIMAMENTE","member1-role":"PROXIMAMENTE","member1-bio":"PROXIMAMENTE","member2-name":"PROXIMAMENTE","member2-role":"PROXIMAMENTE","member2-bio":"PROXIMAMENTE","member3-name":"PROXIMAMENTE","member3-role":"PROXIMAMENTE","member3-bio":"PROXIMAMENTE","member4-name":"PROXIMAMENTE","member4-role":"PROXIMAMENTE","member4-bio":"PROXIMAMENTE","dao-connecting":"Conectando...","dao-loading-proposals":"Cargando propuestas...","dao-no-proposals":"No hay propuestas activas en este momento.","dao-proposal-status":"Estado:","dao-proposal-status-active":"Activa","dao-proposal-status-voted":"Votado!","dao-proposal-votes":"Votos:","dao-wallet-connect-rejected":"Conexin de billetera rechazada.","dao-wallet-connect-error":"Error al conectar la billetera.","proposal-form-title-placeholder":"Ttulo de la Propuesta","proposal-form-desc-placeholder":"Descripcin Completa","proposal-form-title-desc-empty":"El ttulo y la descripcin no pueden estar vacos.","proposal-creation-error":"Error al crear la propuesta:","back-to-top":"Arriba","back-to-top-aria":"Volver arriba","copy-link":"Copiar enlace","link-copied":"Enlace copiado al portapapeles","copy-failed":"No se pudo copiar el enlace",whitepaper:{tocTitle:"ndice",toc:["1. Introduccin: El Problema y Nuestra Solucin","2. Visin y Misin del Ecosistema","3. Tecnologa y Arquitectura de la Blockchain","4. Tokenoma Detallada ($SOLS)","5. Hoja de Ruta Completa y Futuros Hitos","6. Mecanismos de Gobernanza Descentralizada","7. Seguridad y Auditoras del Protocolo","8. Conclusin: El Futuro de Solstice","9. Transparencia de tokens $SOLS","10. Preventa: Cmo Participar, Requisitos y Seguridad","11. DAO: Funcionamiento, Propuestas y Votaciones","12. Preguntas Frecuentes (FAQ)","13. Condiciones Legales, Trminos y Privacidad"],sections:{presale:{title:"Preventa: Cmo Participar, Requisitos y Seguridad",content:["<b>Cmo participar?</b> Para unirse a la preventa, simplemente conecta tu billetera Phantom y sigue las instrucciones en la pestaa de preventa. Solo se permite la conexin mediante Phantom para mxima seguridad y facilidad de uso.","<b>Requisitos:</b> Debes tener una billetera Phantom activa y saldo suficiente en SOL para cubrir la compra y las comisiones de red.","<b>Seguridad:</b> Todas las transacciones se realizan en la blockchain de Solana, garantizando transparencia y seguridad. No almacenamos claves privadas ni accedemos a tus fondos.","El progreso de la preventa y los lmites de compra se muestran en tiempo real en la plataforma."]},dao:{title:"DAO: Funcionamiento, Propuestas y Votaciones",content:["<b>Creacin de propuestas:</b> Para crear una propuesta, debes conectar tu billetera Phantom y pagar una comisin de 0.001 SOL. El botn de crear propuesta solo se habilita tras el pago de la comisin.","<b>Votacin:</b> Cada wallet puede votar una sola vez por propuesta, garantizando un proceso justo y descentralizado. El recuento de votos y el estado de cada propuesta se muestran en tiempo real.","La DAO permite a la comunidad tomar decisiones clave sobre el futuro del proyecto de forma transparente y segura."]},faq:{title:"Preguntas Frecuentes (FAQ)",content:["<b>Qu billetera puedo usar?</b> Solo Phantom es compatible para mxima seguridad y experiencia de usuario.","<b>Cmo participo en la preventa?</b> Conecta tu Phantom y sigue las instrucciones en la pestaa de preventa.","<b>Cmo creo una propuesta en la DAO?</b> Conecta tu Phantom, paga la comisin y rellena el formulario de propuesta.","<b>Puedo votar varias veces?</b> No, solo puedes votar una vez por propuesta con cada wallet.","<b>Mis fondos estn seguros?</b> S, todas las operaciones se realizan en la blockchain de Solana y nunca almacenamos tus claves privadas."]},legal:{title:"Condiciones Legales, Trminos y Privacidad",content:["El uso de la plataforma implica la aceptacin de los trminos y condiciones publicados. La plataforma no solicita ni almacena datos personales sensibles. Todas las operaciones se realizan en la blockchain de Solana.","Para ms informacin sobre privacidad y trminos legales, consulta la seccin correspondiente en la web oficial o contacta con el equipo de Solstice."]},transparencia:{title:"Transparencia de tokens $SOLS",content:'<b>Wallet donde estn los tokens de la preventa:</b><br/><span class="break-all font-mono text-[#66fcf1]">CgAkPzZpdKAY9Cwzd2AiKmrRHgAK6DyVFn1n6VCQknEb</span><br/>Esta wallet contiene los $SOLS que se estn vendiendo actualmente en la preventa.<br/><br/><b>Wallet donde estn el resto de tokens $SOLS:</b><br/><span class="break-all font-mono text-[#66fcf1]">EZwVQKnP5c3K2etpt24VjE1hG3ycq2SZe52NUcZpgo2F</span><br/>Aqu se guardan los tokens que no forman parte de la preventa, hasta la creacin del pool de liquidez.<br/><br/>Ambas direcciones pueden ser auditadas en cualquier explorador de Solana.'},intro:{title:"1. Introduccin: El Problema y Nuestra Solucin",content:"La mayora de los proyectos DeFi se enfrentan a problemas de centralizacin, falta de transparencia y una distribucin de valor injusta. Solstice aborda estos desafos aprovechando la infraestructura de alta velocidad de Solana para crear un ecosistema totalmente descentralizado..."},vision:{title:"2. Visin y Misin del Ecosistema",content:"Nuestra visin es que Solstice se convierta en la plataforma de lanzamiento de referencia para proyectos transparentes y orientados a la comunidad en la red de Solana..."},tech:{title:"3. Tecnologa y Arquitectura de la Blockchain",content:"Solstice est construido sobre la blockchain de Solana, una de las redes ms rpidas y de menor costo del sector..."},tokenomics:{title:"4. Tokenoma Detallada ($SOLS)",totalSupply:"Suministro Total: 1,000,000,000 $SOLS",distribution:"Distribucin:",presale:"Preventa (20%): Destinado a la financiacin inicial del proyecto.",rewards:"Recompensas de la Comunidad (30%): Fomenta el crecimiento y la lealtad.",treasury:"Fondo de Tesorera de la DAO (35%): Controlado por la comunidad para financiar futuras iniciativas.",liquidity:"Liquidez Inicial (10%): Para garantizar una liquidez robusta en los intercambios.",airdrop:"Airdrop (5%): Repartido entre 500,000 personas, 100 SOLS cada una."},roadmap:{title:"5. Hoja de Ruta Completa y Futuros Hitos",phase1:"Fase 1 (Q3 2024): Lanzamiento y Establecimiento...",phase2:"Fase 2 (Q4 2024): Expansin del Ecosistema...",phase3:"Fase 3 (Q1 2025): Madurez y Adopcin..."},governance:{title:"6. Mecanismos de Gobernanza Descentralizada",content:"La gobernanza de Solstice se ejecutar a travs de una DAO, empoderando a los titulares de $SOLS para tomar decisiones crticas..."},security:{title:"7. Seguridad y Auditoras del Protocolo",content:"La seguridad es nuestra mxima prioridad. Todos los contratos inteligentes de Solstice sern sometidos a una auditora..."},conclusion:{title:"8. Conclusin: El Futuro de Solstice",content:"Solstice representa un nuevo amanecer para las finanzas descentralizadas en Solana..."}}}},en:{"team-title":"Meet the Team","team-subtitle":"A dedicated group of visionaries and experts working to build a decentralized future on Solana.","team-photo":"Photo","team-comingSoon":"COMING SOON","tokenomics-airdrop":"Airdrop (5%): Distributed among 500,000 people, 100 SOLS each.","presale-loading-txs":"Loading transactions...","airdrop-twitter-placeholder":"Twitter user (without @)","airdrop-wallet-placeholder":"Your Solana wallet","airdrop-btn-participate":"Participate in the Airdrop","airdrop-title":"Airdrop","airdrop-hero-title":"Join the Dawn of Solstice: Your Governance Journey Starts Here","airdrop-hero-desc1":"At Solstice, we firmly believe the future of Solana is built collectively. Our airdrop is not just a token distribution; it is an invitation to become an active and essential member of our ecosystem.","airdrop-why-title":"Why join our Airdrop?","airdrop-why-desc":"This is your moment to be part of the change. By claiming your $SOLS tokens, you not only get a piece of our project, but you gain the power to directly influence community decisions.","airdrop-why-pioneer":"Be a Pioneer: Position yourself as one of the first to adopt $SOLS and join a community that values participation.","airdrop-why-governance":"Active Governance: Your tokens grant you voting rights to shape the future of Solstice, from development proposals to fund allocations.","airdrop-why-utility":"Real Utility: Access exclusive benefits and be part of building an ecosystem that prioritizes utility over speculation.","airdrop-how-title":"How to Claim your $SOLS?","airdrop-how-desc":"We will soon announce the detailed steps to claim your tokens. Follow our social networks to stay up to date.","airdrop-join-desc":"Join us on this journey! Together, we will light the way to a stronger, more decentralized community on Solana.","airdrop-steps-title":"Participate in our airdrop.","airdrop-steps-desc":"To participate you must follow these steps:","airdrop-step1":"1. Follow our Twitter/X account","airdrop-step2":"2. Retweet the latest pinned post","airdrop-checkbox-follow":"Accept the Airdrop rules.","airdrop-checkbox-retweet":"Accept terms and conditions.","airdrop-continue":"Continue","airdrop-participants-title":"Participants","airdrop-table-twitter":"Twitter User","airdrop-table-wallet":"Wallet",disconnect:"Disconnect","pay-commission":"Pay 0.001 SOL fee",connect_phantom:"Connect Phantom","presale-recent-purchases-title":"Recent purchases","presale-no-recent-purchases":"No recent purchases.","presale-launch-label":"Solstice Presale 200,000,000 SOLS","phantom-connected":"Phantom connected","presale-buy":"Buy","presale-buy-loading":"Processing...","page-title":"Solstice - DAO Ecosystem on Solana","nav-home":"Home","nav-presale":"Presale","nav-whitepaper":"Whitepaper","nav-team":"Team","nav-dao":"DAO","hero-title":"Building the future of community governance on Solana","hero-subtitle":"Solstice is the next generation of DeFi projects, empowering the community with transparency and full control over the ecosystem.","hero-btn-presale":"Join the Presale","hero-btn-whitepaper":"Read the Whitepaper","features-title":"Our Features","feature1-title":"DAO Governance","feature1-text":"The community controls the future of the project through a decentralized governance model.","feature2-title":"Fair Tokenomics","feature2-text":"A token distribution that rewards participation and promotes long-term sustainability.","feature3-title":"Total Transparency","feature3-text":"Every decision and transaction is visible on the blockchain, ensuring maximum transparency.","tokenomics-title":"Tokenomics ($SOLS)","tokenomics-intro":"The $SOLS token is the heart of the Solstice ecosystem. Its tokenomics are designed to incentivize participation and ensure healthy growth.","tokenomics-total-supply":"Total Supply: 1,000,000,000 $SOLS.","tokenomics-distribution":"Distribution:","tokenomics-presale":"Presale (20%): Initial funding and marketing.","tokenomics-rewards":"Community Rewards (30%): Fosters growth and loyalty.","tokenomics-treasury":"DAO Treasury Fund (40%): For future development and sustainability.","tokenomics-liquidity":"Initial Liquidity (10%): Ensures market stability.","presale-page-title":"Official $SOLS Presale","presale-page-subtitle":"Secure your stake in the future of the Solstice ecosystem. Time is limited!","presale-price-label":"Price per Token: 0.0001 SOLS","presale-raised":"0 SOL Raised","presale-goal":"20,000 SOL Goal","presale-status-title":"Coming soon, awaiting launch","presale-disclaimer":"By participating, you agree to the terms and conditions of the presale. Please read our Whitepaper for more details.","whitepaper-page-title":"Solstice Whitepaper","whitepaper-page-subtitle":"The foundational document detailing the vision, technology, and future of our project on the Solana network.","team-page-title":"Meet the Team","team-page-subtitle":"A dedicated group of visionaries and experts working to build a decentralized future on Solana.","dao-page-title":"DAO Dashboard","dao-page-subtitle":"Participate in decision-making and vote on proposals that will shape the future of Solstice.","dao-wallet-status-title":"Wallet Status","dao-btn-connect-wallet":"Connect Solana Wallet","dao-btn-create-proposal":"Create New Proposal","dao-active-proposals-title":"Active Proposals","proposal-form-page-title":"Create New Proposal","proposal-form-page-subtitle":"Submit an idea for the community. If approved, it will be implemented.","proposal-form-title-label":"Proposal Title","proposal-form-desc-label":"Full Description","proposal-form-btn-submit":"Submit Proposal","footer-text":" 2024 Solstice. All rights reserved.","language-selector":"Language:",connected:"Connected","wallet-connected":"Wallet Connected:","wallet-connect-success":"Wallet connected successfully.","phantom-not-found":"Phantom Wallet not found! Please install it to continue.","phantom-connect-error":"Could not connect to Phantom. Please try again.","presale-connect-required":"Connect your Phantom wallet to participate.","presale-amount-invalid":"Enter a valid amount.","presale-amount-placeholder":"Amount to buy","presale-max-tokens-wallet":"Max = 4,000,000 solstice tokens per wallet","presale-min-label-05":"Minimum purchase: 0.5 SOL","presale-min-label-025":"Minimum purchase: 0.25 SOL","presale-min-label-01":"Minimum purchase: 0.1 SOL","presale-min-label-001":"Minimum purchase: 0.01 SOL","presale-success":"Transaction sent successfully! You will receive your $SOLS automatically in your Phantom wallet after confirmation.","presale-tx-error":"Transaction error. Please try again.","proposal-creation-success":"Proposal created successfully!","member1-name":"COMING SOON","member1-role":"COMING SOON","member1-bio":"COMING SOON","member2-name":"COMING SOON","member2-role":"COMING SOON","member2-bio":"COMING SOON","member3-name":"COMING SOON","member3-role":"COMING SOON","member3-bio":"COMING SOON","member4-name":"COMING SOON","member4-role":"COMING SOON","member4-bio":"COMING SOON","dao-connecting":"Connecting...","dao-loading-proposals":"Loading proposals...","dao-no-proposals":"No active proposals at this time.","dao-proposal-status":"Status:","dao-proposal-status-active":"Active","dao-proposal-status-voted":"Voted!","dao-proposal-votes":"Votes:","dao-wallet-connect-rejected":"Wallet connection rejected.","dao-wallet-connect-error":"Error connecting wallet.","proposal-form-title-placeholder":"Proposal Title","proposal-form-desc-placeholder":"Full Description","proposal-form-title-desc-empty":"Title and description cannot be empty.","proposal-creation-error":"Error creating proposal:","back-to-top":"Back to top","back-to-top-aria":"Back to top","copy-link":"Copy link","link-copied":"Link copied to clipboard","copy-failed":"Failed to copy link",whitepaper:{tocTitle:"Table of Contents",toc:["1. Introduction: The Problem and Our Solution","2. Vision and Mission of the Ecosystem","3. Blockchain Technology and Architecture","4. Detailed Tokenomics ($SOLS)","5. Complete Roadmap and Future Milestones","6. Decentralized Governance Mechanisms","7. Protocol Security and Audits","8. Conclusion: The Future of Solstice","9. Token $SOLS Transparency","10. Presale: How to Participate, Requirements & Security","11. DAO: Operation, Proposals & Voting","12. Frequently Asked Questions (FAQ)","13. Legal Terms, Conditions & Privacy"],sections:{intro:{title:"1. Introduction: The Problem and Our Solution",content:"Most DeFi projects face issues of centralization, lack of transparency, and unfair value distribution. Solstice addresses these challenges by leveraging Solana's high-speed infrastructure to create a fully decentralized ecosystem..."},vision:{title:"2. Vision and Mission of the Ecosystem",content:"Our vision is for Solstice to become the reference launchpad for transparent, community-driven projects on the Solana network..."},tech:{title:"3. Blockchain Technology and Architecture",content:"Solstice is built on the Solana blockchain, one of the fastest and lowest-cost networks in the industry..."},tokenomics:{title:"4. Detailed Tokenomics ($SOLS)",totalSupply:"Total Supply: 1,000,000,000 $SOLS",distribution:"Distribution:",presale:"Presale (20%): Allocated for initial project funding.",rewards:"Community Rewards (30%): Fosters growth and loyalty.",treasury:"DAO Treasury Fund (35%): Controlled by the community to finance future initiatives.",liquidity:"Initial Liquidity (10%): To ensure robust liquidity on exchanges.",airdrop:"Airdrop (5%): Distributed among 500,000 people, 100 SOLS each."},roadmap:{title:"5. Complete Roadmap and Future Milestones",phase1:"Phase 1 (Q3 2024): Launch and Establishment...",phase2:"Phase 2 (Q4 2024): Ecosystem Expansion...",phase3:"Phase 3 (Q1 2025): Maturity and Adoption..."},governance:{title:"6. Decentralized Governance Mechanisms",content:"Solstice governance will be executed through a DAO, empowering $SOLS holders to make critical decisions..."},security:{title:"7. Protocol Security and Audits",content:"Security is our top priority. All Solstice smart contracts will undergo an audit..."},conclusion:{title:"8. Conclusion: The Future of Solstice",content:"Solstice represents a new dawn for decentralized finance on Solana..."},transparencia:{title:"9. Token $SOLS Transparency",content:'<b>Wallet holding the presale tokens:</b><br/><span class="break-all font-mono text-[#66fcf1]">CgAkPzZpdKAY9Cwzd2AiKmrRHgAK6DyVFn1n6VCQknEb</span><br/>This wallet contains the $SOLS currently being sold in the presale.<br/><br/><b>Wallet holding the remaining $SOLS tokens:</b><br/><span class="break-all font-mono text-[#66fcf1]">EZwVQKnP5c3K2etpt24VjE1hG3ycq2SZe52NUcZpgo2F</span><br/>Here are stored the tokens not included in the presale, until the liquidity pool is created.<br/><br/>Both addresses can be audited on any Solana explorer.'},presale:{title:"10. Presale: How to Participate, Requirements & Security",content:["<b>How to participate?</b> To join the presale, simply connect your Phantom wallet and follow the instructions in the presale tab. Only Phantom is allowed for maximum security and ease of use.","<b>Requirements:</b> You must have an active Phantom wallet and enough SOL to cover the purchase and network fees.","<b>Security:</b> All transactions are performed on the Solana blockchain, ensuring transparency and security. We do not store private keys or access your funds.","Presale progress and purchase limits are displayed in real time on the platform."]},dao:{title:"11. DAO: Operation, Proposals & Voting",content:["<b>Proposal creation:</b> To create a proposal, connect your Phantom wallet and pay a 0.001 SOL fee. The create proposal button is only enabled after the fee is paid.","<b>Voting:</b> Each wallet can vote only once per proposal, ensuring a fair and decentralized process. Vote counts and proposal status are shown in real time.","The DAO allows the community to make key decisions about the projects future in a transparent and secure way."]},faq:{title:"12. Frequently Asked Questions (FAQ)",content:["<b>Which wallet can I use?</b> Only Phantom is supported for maximum security and user experience.","<b>How do I participate in the presale?</b> Connect your Phantom and follow the instructions in the presale tab.","<b>How do I create a proposal in the DAO?</b> Connect your Phantom, pay the fee, and fill out the proposal form.","<b>Can I vote multiple times?</b> No, you can only vote once per proposal with each wallet.","<b>Are my funds safe?</b> Yes, all operations are performed on the Solana blockchain and we never store your private keys."]},legal:{title:"13. Legal Terms, Conditions & Privacy",content:["Using the platform implies acceptance of the published terms and conditions. The platform does not request or store sensitive personal data. All operations are performed on the Solana blockchain.","For more information about privacy and legal terms, see the relevant section on the official website or contact the Solstice team."]}}}},zh:{"team-title":"","team-subtitle":" Solana ","team-photo":"","team-comingSoon":"","tokenomics-airdrop":" (5%) 500,000  100 SOLS","presale-loading-txs":"","airdrop-twitter-placeholder":"Twitter @","airdrop-wallet-placeholder":" Solana ","airdrop-btn-participate":"","airdrop-title":"","airdrop-hero-title":" Solstice ","airdrop-hero-desc1":" Solstice Solana ","airdrop-why-title":"","airdrop-why-desc":" $SOLS ","airdrop-why-pioneer":":  $SOLS ","airdrop-why-governance":":  Solstice ","airdrop-why-utility":": ","airdrop-how-title":" $SOLS","airdrop-how-desc":"","airdrop-join-desc":" Solana ","airdrop-steps-title":"","airdrop-steps-desc":"","airdrop-step1":"1.  Twitter/X ","airdrop-step2":"2. ","airdrop-checkbox-follow":"","airdrop-checkbox-retweet":"","airdrop-continue":"","airdrop-participants-title":"","airdrop-table-twitter":"Twitter ","airdrop-table-wallet":"",disconnect:"","pay-commission":" 0.001 SOL ",connect_phantom:" Phantom","presale-recent-purchases-title":"","presale-no-recent-purchases":"","presale-launch-label":"Solstice  200,000,000 SOLS","phantom-connected":"Phantom ","presale-buy":"","presale-buy-loading":"...","page-title":"Solstice - SolanaDAO","nav-home":"","nav-presale":"","nav-whitepaper":"","nav-team":"","nav-dao":"DAO","hero-title":"Solana","hero-subtitle":"SolsticeDeFi","hero-btn-presale":"","hero-btn-whitepaper":"","features-title":"","feature1-title":"DAO","feature1-text":"","feature2-title":"","feature2-text":"","feature3-title":"","feature3-text":"","tokenomics-title":" ($SOLS)","tokenomics-intro":"$SOLS  Solstice ","tokenomics-total-supply":"1,000,000,000 $SOLS","tokenomics-distribution":"","tokenomics-presale":" (20%)","tokenomics-rewards":" (30%)","tokenomics-treasury":"DAO  (40%)","tokenomics-liquidity":" (10%)","presale-page-title":" $SOLS ","presale-page-subtitle":" Solstice ","presale-price-label":"0.0001 SOLS","presale-raised":" 0 SOL","presale-goal":"20,000 SOL ","presale-status-title":"","presale-disclaimer":"","whitepaper-page-title":"Solstice ","whitepaper-page-subtitle":" Solana ","team-page-title":"","team-page-subtitle":" Solana ","dao-page-title":"DAO ","dao-page-subtitle":" Solstice ","dao-wallet-status-title":"","dao-btn-connect-wallet":" Solana ","dao-btn-create-proposal":"","dao-active-proposals-title":"","proposal-form-page-title":"","proposal-form-page-subtitle":"","proposal-form-title-label":"","proposal-form-desc-label":"","proposal-form-btn-submit":"","footer-text":" 2024 Solstice. ","language-selector":"",connected:"","wallet-connected":":","wallet-connect-success":"","phantom-not-found":" Phantom ","phantom-connect-error":" Phantom","presale-connect-required":" Phantom ","presale-amount-invalid":"","presale-amount-placeholder":"","presale-max-tokens-wallet":" 4,000,000  solstice ","presale-min-label-05":"0.5 SOL","presale-min-label-025":"0.25 SOL","presale-min-label-01":"0.1 SOL","presale-min-label-001":"0.01 SOL","presale-success":" $SOLS  Phantom ","presale-tx-error":"","proposal-creation-success":"","member1-name":"","member1-role":"","member1-bio":"","member2-name":"","member2-role":"","member2-bio":"","member3-name":"","member3-role":"","member3-bio":"","member4-name":"","member4-role":"","member4-bio":"","dao-connecting":"...","dao-loading-proposals":"...","dao-no-proposals":"","dao-proposal-status":"","dao-proposal-status-active":"","dao-proposal-status-voted":"","dao-proposal-votes":"","dao-wallet-connect-rejected":"","dao-wallet-connect-error":"","proposal-form-title-placeholder":"","proposal-form-desc-placeholder":"","proposal-form-title-desc-empty":"","proposal-creation-error":"","back-to-top":"","back-to-top-aria":"","copy-link":"","link-copied":"","copy-failed":"",whitepaper:{tocTitle:"",toc:["1. ","2. ","3. ","4. $SOLS","5. ","6. ","7. ","8. Solstice ","9. SOLS ","10. ","11. DAO","12.  (FAQ)","13. "],sections:{presale:{title:"",content:["<b></b>  Phantom  Phantom","<b></b>  Phantom  SOL ","<b></b>  Solana ",""]},dao:{title:"DAO",content:["<b></b>  Phantom  0.001 SOL ","<b></b> ","DAO "]},faq:{title:" (FAQ)",content:["<b></b>  Phantom","<b></b>  Phantom ","<b> DAO </b>  Phantom","<b></b> ","<b></b>  Solana "]},legal:{title:"",content:[" Solana "," Solstice "]},transparencia:{title:"SOLS ",content:'<b></b><br/><span class="break-all font-mono text-[#66fcf1]">CgAkPzZpdKAY9Cwzd2AiKmrRHgAK6DyVFn1n6VCQknEb</span><br/> $SOLS<br/><br/><b> $SOLS </b><br/><span class="break-all font-mono text-[#66fcf1]">EZwVQKnP5c3K2etpt24VjE1hG3ycq2SZe52NUcZpgo2F</span><br/><br/><br/> Solana '},intro:{title:"1. ",content:"DeFiSolstice  Solana ..."},vision:{title:"2. ",content:" Solstice  Solana ..."},tech:{title:"3. ",content:"Solstice  Solana ..."},tokenomics:{title:"4.  ($SOLS)",totalSupply:"1,000,000,000 $SOLS",distribution:"",presale:" (20%)",rewards:" (30%)",treasury:"DAO  (35%)",liquidity:" (10%)",airdrop:" (5%) 500,000  100 SOLS"},roadmap:{title:"5. ",phase1:" (Q3 2024)...",phase2:" (Q4 2024)...",phase3:" (Q1 2025)..."},governance:{title:"6. ",content:"Solstice  DAO  $SOLS ..."},security:{title:"7. ",content:" Solstice ..."},conclusion:{title:"8. Solstice ",content:"Solstice  Solana ..."}}}}},nf={PHANTOM:"Phantom",NONE:null},m8=()=>window?.solana&&window.solana.isPhantom?nf.PHANTOM:nf.NONE,g8=()=>{const[r,e]=ce.useState(nf.NONE),[n,i]=ce.useState(null),[a,o]=ce.useState(!1);ce.useEffect(()=>{e(m8())},[]);const c=async()=>{r===nf.PHANTOM&&window.solana?.isConnected&&await window.solana.disconnect(),i(null),o(!1)},h=()=>!a||!n?null:r===nf.PHANTOM?oe.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:oe.jsxs("div",{className:"bg-purple-900 rounded-lg p-6 shadow-lg w-80 text-center text-white",children:[oe.jsx("img",{src:"/solstice_SOLS/solstice-logo.png",alt:"Phantom",className:"mx-auto mb-4 w-16 h-16"}),oe.jsx("h2",{className:"text-xl font-bold mb-2",children:"Phantom Conectado"}),oe.jsx("p",{className:"mb-4 text-sm break-all",children:n}),oe.jsx("button",{onClick:c,className:"bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800",children:t.disconnect||"Desconectar"})]})}):null;return oe.jsx("div",{children:h()})},wT={es:{"language-selector":"Idioma:",home:"Inicio",presale:"Preventa",whitepaper:"Libro Blanco",team:"Equipo",dao:"DAO",airdrop:"Airdrop"},en:{"language-selector":"Language:",home:"Home",presale:"Presale",whitepaper:"Whitepaper",team:"Team",dao:"DAO",airdrop:"Airdrop"},zh:{"language-selector":"",home:"",presale:"",whitepaper:"",team:"",dao:"DAO",airdrop:""}},y8=[{id:"home",labelKey:"home"},{id:"presale",labelKey:"presale"},{id:"whitepaper",labelKey:"whitepaper"},{id:"dao",labelKey:"dao"},{id:"airdrop",labelKey:"airdrop"}],w8=({currentPage:r,setCurrentPage:e,language:n,setLanguage:i})=>{const a=WI(),o=Ba(),c=wT[n]||wT.es,h=ce.useRef(null),d=ce.useRef(null),[p,g]=ce.useState(!1),[E,A]=ce.useState(!1);ce.useEffect(()=>{},[n,r]),ce.useEffect(()=>{const O=d.current;if(!O)return;const B=()=>{const{scrollLeft:$,scrollWidth:G,clientWidth:re}=O;g($>0),A($+re<G-1)};B(),O.addEventListener("scroll",B,{passive:!0});const K=()=>B();return window.addEventListener("resize",K),()=>{O.removeEventListener("scroll",B),window.removeEventListener("resize",K)}},[n,r]);const T={presale:()=>So(()=>import("./Presale-Zh1F9isN.js"),[]),whitepaper:()=>So(()=>import("./Whitepaper-DNLqnz4A.js"),[]),dao:()=>So(()=>import("./DaoDashboard-Dw-HYTLZ.js"),[]),"create-proposal":()=>So(()=>import("./CreateProposal-B2oJoyry.js"),[])},N=O=>{a(O==="home"?"/":"/"+O)};return oe.jsx("header",{ref:h,className:"header-glass sticky top-0 z-50",children:oe.jsxs("div",{className:"mx-auto w-full max-w-[var(--container-max)] relative flex flex-row items-center justify-between gap-2 px-2 md:px-6 py-2 overflow-x-auto no-scrollbar",children:[oe.jsxs("div",{className:"flex flex-row items-center space-x-3 shrink-0 ml-0",children:[oe.jsx("img",{src:"/solstice_SOLS/solstice-custom-logo.png",alt:"Solstice Logo",width:"48",height:"48",className:"w-12 h-12 rounded-full object-contain shrink-0 -ml-1 md:-ml-2",loading:"lazy",decoding:"async",onError:O=>{if(!O.currentTarget.dataset.fallback){O.currentTarget.dataset.fallback="svg",O.currentTarget.src="/solstice_SOLS/solstice-logo.svg";return}O.currentTarget.dataset.fallback==="svg"&&(O.currentTarget.dataset.fallback="vite",O.currentTarget.src="/solstice_SOLS/vite.svg")}}),oe.jsx("span",{className:"text-2xl md:text-[28px] font-bold gradient-text",children:"Solstice"})]}),oe.jsx("nav",{className:"flex flex-row items-center gap-2 sm:gap-4 md:gap-6 lg:gap-8 xl:gap-10 text-white font-medium text-[13px] sm:text-sm md:text-base whitespace-nowrap overflow-x-auto no-scrollbar scroll-smooth px-0 ml-0 select-none custom-vertical-tabs","aria-label":"Main Navigation",role:"navigation",ref:d,style:{WebkitOverflowScrolling:"touch"},children:y8.map(O=>{let B=!1;return(O.id==="home"&&(o.pathname==="/"||o.pathname==="")||o.pathname==="/"+O.id)&&(B=!0),oe.jsx("button",{onClick:()=>N(O.id),onMouseEnter:()=>T[O.id]?.(),onFocus:()=>T[O.id]?.(),"data-id":O.id,className:"tab-btn relative z-10 bg-transparent px-1 sm:px-2 md:px-3 pb-1 pt-1 transition-colors snap-start text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-[#66fcf1]/40","aria-label":c[O.labelKey],"aria-current":B?"page":void 0,children:c[O.labelKey]},O.id)})}),oe.jsxs("div",{className:"flex flex-col items-center gap-2 ml-auto pr-6",children:[oe.jsx("img",{src:"https://flagcdn.com/48x36/us.png",alt:"English",title:"English",className:"object-cover cursor-pointer",style:{width:"16px",height:"12px"},loading:"lazy",decoding:"async",onClick:()=>i("en"),"aria-label":"Seleccionar English"}),oe.jsx("img",{src:"https://flagcdn.com/48x36/es.png",alt:"Espaol",title:"Espaol",className:"object-cover cursor-pointer",style:{width:"16px",height:"12px"},loading:"lazy",decoding:"async",onClick:()=>i("es"),"aria-label":"Seleccionar Espaol"}),oe.jsx("img",{src:"https://flagcdn.com/48x36/cn.png",alt:"",title:"",className:"object-cover cursor-pointer",style:{width:"16px",height:"12px"},loading:"lazy",decoding:"async",onClick:()=>i("zh"),"aria-label":""}),oe.jsx("div",{className:"ml-2",children:oe.jsx(g8,{})})]})]})})},bT={sm:"px-3 py-2 text-sm",md:"px-5 py-3 text-base",lg:"px-6 py-3 text-lg"},b8="inline-flex items-center justify-center rounded-full font-bold transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--brand)]/40 disabled:opacity-60 disabled:cursor-not-allowed",vT={primary:"btn-primary",outline:"btn-outline text-[var(--brand)]",ghost:"bg-transparent text-gray-200 hover:bg-white/5",link:"bg-transparent px-0 py-0 text-[var(--brand)] hover:text-white underline-offset-4 hover:underline"};function _T({children:r,variant:e="primary",size:n="md",type:i="button",loading:a=!1,disabled:o=!1,className:c="",leftIcon:h=null,rightIcon:d=null,...p}){const g=[b8,bT[n]||bT.md,vT[e]||vT.primary,c].filter(Boolean).join(" ");return oe.jsx("button",{type:i,className:g,disabled:o||a,...p,children:a?oe.jsxs("span",{className:"inline-flex items-center gap-2",children:[oe.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),oe.jsx("span",{children:"..."})]}):oe.jsxs("span",{className:"inline-flex items-center gap-2",children:[h,oe.jsx("span",{children:r}),d]})})}const v8=({setCurrentPage:r,language:e})=>{const n=pu[e]||pu.es;return oe.jsxs("section",{children:[oe.jsxs("div",{className:"narrow min-h-[40vh] md:min-h-[50vh] flex flex-col items-center justify-center text-center",children:[oe.jsx("h1",{className:"fluid-h1 font-extrabold gradient-text tracking-tight mt-0",children:n["hero-title"]}),oe.jsx("p",{className:"fluid-subtitle text-gray-400 mt-3 md:mt-4 text-content",children:n["hero-subtitle"]}),oe.jsxs("div",{className:"mt-6 md:mt-8 w-full flex flex-row justify-center items-center gap-3",children:[oe.jsx(_T,{onClick:()=>r("presale"),size:"lg",variant:"primary",className:"w-fit",children:n["hero-btn-presale"]}),oe.jsx(_T,{onClick:()=>r("whitepaper"),size:"lg",variant:"outline",className:"w-fit",children:n["hero-btn-whitepaper"]})]})]}),oe.jsx("section",{className:"section narrow text-center !my-8 md:!my-12",children:oe.jsxs("div",{className:"py-6 md:py-8 flex flex-col items-center",children:[oe.jsx("div",{className:"section-header !mb-3 md:!mb-4",children:oe.jsx("h2",{className:"fluid-h2 font-extrabold text-white text-center section-title",children:n["features-title"]})}),oe.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 items-start justify-items-center gap-4 md:gap-6 w-full",children:[oe.jsxs("div",{className:"w-full max-w-[360px] p-2 sm:p-2 md:p-2 justify-self-center text-center md:self-start",children:[oe.jsx("h3",{className:"text-2xl font-bold text-[#66fcf1] mb-2",children:n["feature1-title"]}),oe.jsx("p",{className:"text-gray-400 text-content",children:n["feature1-text"]})]}),oe.jsxs("div",{className:"w-full max-w-[360px] p-2 sm:p-2 md:p-2 md:self-start justify-self-center text-center",children:[oe.jsx("h3",{className:"text-2xl font-bold text-[#66fcf1] mb-2",children:n["feature2-title"]}),oe.jsx("p",{className:"text-gray-400 text-content",children:n["feature2-text"]})]}),oe.jsxs("div",{className:"w-full max-w-[360px] p-2 sm:p-2 md:p-2 justify-self-center text-center md:self-start",children:[oe.jsx("h3",{className:"text-2xl font-bold text-[#66fcf1] mb-2",children:n["feature3-title"]}),oe.jsx("p",{className:"text-gray-400 text-content",children:n["feature3-text"]})]})]})]})}),oe.jsxs("section",{className:"section text-left narrow !my-8 md:!my-12",children:[oe.jsx("div",{className:"section-header",children:oe.jsx("h2",{className:"fluid-h2 font-extrabold text-white text-center section-title",children:n["tokenomics-title"]})}),oe.jsx("div",{className:"card p-4 md:p-5",children:oe.jsx("div",{className:"panel p-4 md:p-5",children:oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_max-content] items-center gap-3 sm:gap-4 md:gap-6",children:[oe.jsxs("div",{className:"w-full min-w-0",children:[oe.jsx("p",{className:"text-gray-400 mb-4 text-content",children:n["tokenomics-intro"]}),oe.jsxs("ul",{className:"list-enhanced text-gray-400 space-y-2 text-content",children:[oe.jsx("li",{children:n["tokenomics-total-supply"]}),oe.jsx("li",{children:n["tokenomics-presale"]}),oe.jsx("li",{children:n["tokenomics-rewards"]}),oe.jsx("li",{children:n["tokenomics-treasury"]}),oe.jsx("li",{children:n["tokenomics-liquidity"]}),oe.jsx("li",{children:n["tokenomics-airdrop"]})]})]}),oe.jsx("div",{className:"justify-self-center md:justify-self-end self-center w-full max-w-[220px] sm:max-w-[260px] md:max-w-[300px] lg:max-w-[360px]",children:oe.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-auto",role:"img","aria-label":"Distribucin de suministro",preserveAspectRatio:"xMidYMid meet",children:[oe.jsx("path",{d:"M50 50 L50 5 A45 45 0 0 1 88.5 35.5 Z",fill:"#7b5ab7"}),oe.jsx("path",{d:"M50 50 L88.5 35.5 A45 45 0 0 1 88.5 64.5 Z",fill:"#5a78e5"}),oe.jsx("path",{d:"M50 50 L88.5 64.5 A45 45 0 0 1 11.5 64.5 Z",fill:"#3a9b9f"}),oe.jsx("path",{d:"M50 50 L11.5 64.5 A45 45 0 0 1 50 5 Z",fill:"#7ef7ee"}),oe.jsx("circle",{cx:"50",cy:"50",r:"41",fill:"none",stroke:"rgba(0,0,0,0.75)",strokeWidth:"5"}),oe.jsx("circle",{cx:"50",cy:"50",r:"46",fill:"none",stroke:"#cbd5e1",strokeWidth:"4"})]})})]})})})]}),oe.jsxs("section",{className:"space-y-8 mt-16",children:[oe.jsxs("div",{className:"text-center narrow",children:[oe.jsx("div",{className:"section-header"}),oe.jsx("h1",{className:"fluid-h1 font-extrabold gradient-text mb-4 section-title",children:n["team-title"]}),oe.jsx("p",{className:"fluid-subtitle text-gray-400 text-content mb-8",children:n["team-subtitle"]}),oe.jsx("div",{className:"section-separator"})]}),oe.jsx("div",{className:"flex flex-row gap-8 md:gap-10 section justify-center items-start overflow-x-auto w-full py-4",children:[1,2,3,4].map((i,a)=>oe.jsxs("div",{className:"flex flex-col items-center w-80 mx-auto",children:[oe.jsx("div",{className:"w-[170px] h-[170px] rounded-full border-3 border-[#66fcf1] bg-[#111827] flex items-center justify-center mb-4",children:oe.jsx("span",{className:"text-[#45a29e] text-3xl font-semibold",children:n["team-photo"]})}),oe.jsx("p",{className:"text-gray-400 text-lg mb-4",children:n["team-comingSoon"]}),oe.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:n["team-comingSoon"]}),oe.jsx("p",{className:"text-[#66fcf1] font-medium mb-4",children:n["team-comingSoon"]}),oe.jsx("p",{className:"text-gray-400 text-sm text-center",children:n["team-comingSoon"]})]},a))})]})]})},_8={es:{title:"Conoce al Equipo",subtitle:"Un grupo dedicado de visionarios y expertos que trabajan para construir un futuro descentralizado en Solana.",comingSoon:"PROXIMAMENTE",photo:"Foto"},en:{title:"Meet the Team",subtitle:"A dedicated group of visionaries and experts working to build a decentralized future on Solana.",comingSoon:"COMING SOON",photo:"Photo"},zh:{title:"",subtitle:" Solana ",comingSoon:"",photo:""}},E8=({language:r})=>{const e=_8[r],n=({isLarge:i=!1})=>oe.jsxs("div",{className:`flex flex-col items-center w-80 mx-auto ${i?"col-span-1 md:col-span-2 lg:col-span-3":""}`,children:[oe.jsx("div",{className:"w-[170px] h-[170px] rounded-full border-3 border-[#66fcf1] bg-[#111827] flex items-center justify-center mb-4",children:oe.jsx("span",{className:"text-[#45a29e] text-3xl font-semibold",children:e.photo})}),oe.jsx("p",{className:"text-gray-400 text-lg mb-4",children:e.comingSoon}),oe.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:e.comingSoon}),oe.jsx("p",{className:"text-[#66fcf1] font-medium mb-4",children:e.comingSoon}),oe.jsx("p",{className:"text-gray-400 text-sm text-center",children:e.comingSoon})]});return oe.jsxs("section",{className:"space-y-8",children:[oe.jsxs("div",{className:"text-center narrow",children:[oe.jsx("div",{className:"section-header"}),oe.jsx("h1",{className:"fluid-h1 font-extrabold gradient-text mb-4 section-title",children:e.title}),oe.jsx("p",{className:"fluid-subtitle text-gray-400 text-content mb-8",children:e.subtitle}),oe.jsx("div",{className:"section-separator"})]}),oe.jsxs("div",{className:"flex flex-row gap-8 md:gap-10 section justify-center items-start overflow-x-auto w-full py-4",children:[oe.jsx(n,{}),oe.jsx(n,{}),oe.jsx(n,{}),oe.jsx(n,{})]})]})},S8=({label:r="Cargando"})=>oe.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-4",children:[oe.jsxs("div",{className:"inline-flex items-center gap-3 text-[#66fcf1]",children:[oe.jsx("span",{className:"animate-spin h-5 w-5 rounded-full border-2 border-[#66fcf1] border-t-transparent"}),oe.jsx("span",{className:"text-sm opacity-80",children:r})]}),oe.jsx("div",{className:"w-full max-w-md",children:oe.jsx("div",{className:"h-2 w-full bg-white/5 rounded overflow-hidden",children:oe.jsx("div",{className:"h-full w-1/3 bg-[#66fcf1]/50 animate-[loading_1.2s_ease_infinite]"})})}),oe.jsx("style",{children:"@keyframes loading { 0% { transform: translateX(-100%);} 100% { transform: translateX(300%);} }"})]}),A8=({language:r="es"})=>{const e=pu[r]||pu.es;return oe.jsx("footer",{className:"w-full flex justify-center px-4 md:px-6 pb-8 footer-glass mt-auto",children:oe.jsxs("div",{className:"mx-auto w-full max-w-[var(--container-max)] flex items-center justify-center gap-3 text-sm text-gray-500",children:[oe.jsx("p",{className:"text-center",children:e["footer-text"]}),oe.jsx("div",{className:"flex items-center gap-3 shrink-0",children:oe.jsx("a",{href:"https://x.com/SolsticeSo44175",target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center justify-center rounded-full p-2 transition-colors hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20","aria-label":"Twitter",children:oe.jsx("img",{src:"https://cdn.simpleicons.org/x/ffffff",alt:"X (Twitter)",width:24,height:24,className:"w-5 h-5 md:w-6 md:h-6 select-none",loading:"lazy",decoding:"async"})})})]})})},T8=({message:r,type:e,onClose:n})=>{if(!r)return null;const i=e==="success";return oe.jsx("div",{className:`fixed top-4 left-1/2 -translate-x-1/2 z-50 px-4 py-3 rounded-xl text-white shadow-lg border ${i?"bg-emerald-600/90 border-emerald-400/40":"bg-rose-600/90 border-rose-400/40"} backdrop-blur`,role:"status","aria-live":"polite",children:oe.jsxs("div",{className:"flex items-center gap-3",children:[oe.jsx("span",{className:`inline-flex h-2 w-2 rounded-full ${i?"bg-emerald-300":"bg-rose-300"}`}),oe.jsx("span",{className:"text-sm font-medium",children:r}),oe.jsx("button",{onClick:n,className:"ml-2 text-white/90 hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-[#66fcf1]/40 rounded","aria-label":"Cerrar mensaje",children:""})]})})},I8=Le.lazy(()=>So(()=>import("./Whitepaper-DNLqnz4A.js"),[])),R8=Le.lazy(()=>So(()=>import("./DaoDashboard-Dw-HYTLZ.js"),[])),x8=Le.lazy(()=>So(()=>import("./CreateProposal-B2oJoyry.js"),[])),k8=Le.lazy(()=>So(()=>import("./Presale-Zh1F9isN.js"),[])),C8=()=>{ce.useEffect(()=>{localStorage.removeItem("language")},[]);const[r,e]=ce.useState("en"),n=Ba(),[i,a]=ce.useState({message:"",type:"success"}),o=pu[r]||pu.es;let c="home";if(n&&n.pathname){const A=n.pathname.replace(/^\//,"");["home","",void 0].includes(A)?c="home":["presale","whitepaper","team","dao","create-proposal","airdrop"].includes(A)&&(c=A)}const h={home:o["page-title"]||o["hero-title"],presale:o["presale-page-title"],whitepaper:o["whitepaper-page-title"],team:o["team-page-title"],dao:o["dao-page-title"],"create-proposal":o["proposal-form-page-title"],airdrop:o.airdrop||"Airdrop"},d={home:o["hero-subtitle"],presale:o["presale-disclaimer"]||o["presale-page-title"],whitepaper:o["whitepaper-page-subtitle"],team:o["team-page-subtitle"],dao:o["dao-page-subtitle"],"create-proposal":o["proposal-form-page-subtitle"],airdrop:o["airdrop-participants-title"]||"Airdrop"},p=h[c]||o["page-title"]||"Solstice",g=d[c]||o["page-title"]||"Solstice",E=(A,T="success")=>{a({message:A,type:T}),setTimeout(()=>a({message:"",type:T}),3e3)};return oe.jsxs(oe.Fragment,{children:[oe.jsxs(sO,{children:[oe.jsx("html",{lang:r||"es"}),oe.jsx("title",{children:p}),oe.jsx("meta",{name:"description",content:g}),oe.jsx("meta",{property:"og:title",content:p}),oe.jsx("meta",{property:"og:description",content:g}),oe.jsx("meta",{name:"twitter:title",content:p}),oe.jsx("meta",{name:"twitter:description",content:g})]}),oe.jsxs("div",{className:"min-h-screen flex flex-col items-stretch bg-[#0b0c10] text-[#c5c6c7]",children:[oe.jsx(w8,{currentPage:null,setCurrentPage:()=>{},language:r,setLanguage:e,role:"banner"}),oe.jsx("main",{id:"main",role:"main",className:"mx-auto w-full max-w-[var(--container-max)] mt-8 md:mt-10 mb-12 px-4 md:px-6",children:oe.jsx(ce.Suspense,{fallback:oe.jsx(S8,{label:n.pathname==="/whitepaper"?(o["whitepaper-page-title"]||"Whitepaper")+"":n.pathname==="/presale"?(o["presale-page-title"]||"Presale")+"":n.pathname==="/dao"?(o["dao-page-title"]||"DAO")+"":n.pathname==="/create-proposal"?(o["proposal-form-page-title"]||"Create Proposal")+"":"Cargando"}),children:oe.jsxs(J3,{children:[oe.jsx(go,{path:"/",element:oe.jsx(v8,{language:r,t:o})}),oe.jsx(go,{path:"/presale",element:oe.jsx(k8,{language:r,t:o})}),oe.jsx(go,{path:"/whitepaper",element:oe.jsx(I8,{language:r,showMessage:E,t:o})}),oe.jsx(go,{path:"/team",element:oe.jsx(E8,{language:r,t:o})}),oe.jsx(go,{path:"/dao",element:oe.jsx(R8,{language:r,showMessage:E,t:o})}),oe.jsx(go,{path:"/create-proposal",element:oe.jsx(x8,{language:r,showMessage:E,t:o})}),oe.jsx(go,{path:"/airdrop",element:oe.jsx(p8,{t:o})})]})})}),oe.jsx(A8,{language:r,role:"contentinfo"}),oe.jsx(T8,{message:i.message,type:i.type,onClose:()=>a({message:"",type:i.type})})]})]})};var ky={},Nh={},ET;function M8(){if(ET)return Nh;ET=1,Nh.byteLength=h,Nh.toByteArray=p,Nh.fromByteArray=A;for(var r=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=i.length;a<o;++a)r[a]=i[a],e[i.charCodeAt(a)]=a;e[45]=62,e[95]=63;function c(T){var N=T.length;if(N%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=T.indexOf("=");O===-1&&(O=N);var B=O===N?0:4-O%4;return[O,B]}function h(T){var N=c(T),O=N[0],B=N[1];return(O+B)*3/4-B}function d(T,N,O){return(N+O)*3/4-O}function p(T){var N,O=c(T),B=O[0],K=O[1],$=new n(d(T,B,K)),G=0,re=K>0?B-4:B,ae;for(ae=0;ae<re;ae+=4)N=e[T.charCodeAt(ae)]<<18|e[T.charCodeAt(ae+1)]<<12|e[T.charCodeAt(ae+2)]<<6|e[T.charCodeAt(ae+3)],$[G++]=N>>16&255,$[G++]=N>>8&255,$[G++]=N&255;return K===2&&(N=e[T.charCodeAt(ae)]<<2|e[T.charCodeAt(ae+1)]>>4,$[G++]=N&255),K===1&&(N=e[T.charCodeAt(ae)]<<10|e[T.charCodeAt(ae+1)]<<4|e[T.charCodeAt(ae+2)]>>2,$[G++]=N>>8&255,$[G++]=N&255),$}function g(T){return r[T>>18&63]+r[T>>12&63]+r[T>>6&63]+r[T&63]}function E(T,N,O){for(var B,K=[],$=N;$<O;$+=3)B=(T[$]<<16&16711680)+(T[$+1]<<8&65280)+(T[$+2]&255),K.push(g(B));return K.join("")}function A(T){for(var N,O=T.length,B=O%3,K=[],$=16383,G=0,re=O-B;G<re;G+=$)K.push(E(T,G,G+$>re?re:G+$));return B===1?(N=T[O-1],K.push(r[N>>2]+r[N<<4&63]+"==")):B===2&&(N=(T[O-2]<<8)+T[O-1],K.push(r[N>>10]+r[N>>4&63]+r[N<<2&63]+"=")),K.join("")}return Nh}var pp={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var ST;function O8(){return ST||(ST=1,pp.read=function(r,e,n,i,a){var o,c,h=a*8-i-1,d=(1<<h)-1,p=d>>1,g=-7,E=n?a-1:0,A=n?-1:1,T=r[e+E];for(E+=A,o=T&(1<<-g)-1,T>>=-g,g+=h;g>0;o=o*256+r[e+E],E+=A,g-=8);for(c=o&(1<<-g)-1,o>>=-g,g+=i;g>0;c=c*256+r[e+E],E+=A,g-=8);if(o===0)o=1-p;else{if(o===d)return c?NaN:(T?-1:1)*(1/0);c=c+Math.pow(2,i),o=o-p}return(T?-1:1)*c*Math.pow(2,o-i)},pp.write=function(r,e,n,i,a,o){var c,h,d,p=o*8-a-1,g=(1<<p)-1,E=g>>1,A=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=i?0:o-1,N=i?1:-1,O=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,c=g):(c=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-c))<1&&(c--,d*=2),c+E>=1?e+=A/d:e+=A*Math.pow(2,1-E),e*d>=2&&(c++,d/=2),c+E>=g?(h=0,c=g):c+E>=1?(h=(e*d-1)*Math.pow(2,a),c=c+E):(h=e*Math.pow(2,E-1)*Math.pow(2,a),c=0));a>=8;r[n+T]=h&255,T+=N,h/=256,a-=8);for(c=c<<a|h,p+=a;p>0;r[n+T]=c&255,T+=N,c/=256,p-=8);r[n+T-N]|=O*128}),pp}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var AT;function Cv(){return AT||(AT=1,(function(r){const e=M8(),n=O8(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=h,r.SlowBuffer=$,r.INSPECT_MAX_BYTES=50;const a=2147483647;r.kMaxLength=a,h.TYPED_ARRAY_SUPPORT=o(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const H=new Uint8Array(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(H,x),H.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function c(H){if(H>a)throw new RangeError('The value "'+H+'" is invalid for option "size"');const x=new Uint8Array(H);return Object.setPrototypeOf(x,h.prototype),x}function h(H,x,k){if(typeof H=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(H)}return d(H,x,k)}h.poolSize=8192;function d(H,x,k){if(typeof H=="string")return A(H,x);if(ArrayBuffer.isView(H))return N(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if($n(H,ArrayBuffer)||H&&$n(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($n(H,SharedArrayBuffer)||H&&$n(H.buffer,SharedArrayBuffer)))return O(H,x,k);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ee=H.valueOf&&H.valueOf();if(ee!=null&&ee!==H)return h.from(ee,x,k);const fe=B(H);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return h.from(H[Symbol.toPrimitive]("string"),x,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}h.from=function(H,x,k){return d(H,x,k)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function p(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function g(H,x,k){return p(H),H<=0?c(H):x!==void 0?typeof k=="string"?c(H).fill(x,k):c(H).fill(x):c(H)}h.alloc=function(H,x,k){return g(H,x,k)};function E(H){return p(H),c(H<0?0:K(H)|0)}h.allocUnsafe=function(H){return E(H)},h.allocUnsafeSlow=function(H){return E(H)};function A(H,x){if((typeof x!="string"||x==="")&&(x="utf8"),!h.isEncoding(x))throw new TypeError("Unknown encoding: "+x);const k=G(H,x)|0;let ee=c(k);const fe=ee.write(H,x);return fe!==k&&(ee=ee.slice(0,fe)),ee}function T(H){const x=H.length<0?0:K(H.length)|0,k=c(x);for(let ee=0;ee<x;ee+=1)k[ee]=H[ee]&255;return k}function N(H){if($n(H,Uint8Array)){const x=new Uint8Array(H);return O(x.buffer,x.byteOffset,x.byteLength)}return T(H)}function O(H,x,k){if(x<0||H.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<x+(k||0))throw new RangeError('"length" is outside of buffer bounds');let ee;return x===void 0&&k===void 0?ee=new Uint8Array(H):k===void 0?ee=new Uint8Array(H,x):ee=new Uint8Array(H,x,k),Object.setPrototypeOf(ee,h.prototype),ee}function B(H){if(h.isBuffer(H)){const x=K(H.length)|0,k=c(x);return k.length===0||H.copy(k,0,0,x),k}if(H.length!==void 0)return typeof H.length!="number"||Bt(H.length)?c(0):T(H);if(H.type==="Buffer"&&Array.isArray(H.data))return T(H.data)}function K(H){if(H>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return H|0}function $(H){return+H!=H&&(H=0),h.alloc(+H)}h.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==h.prototype},h.compare=function(x,k){if($n(x,Uint8Array)&&(x=h.from(x,x.offset,x.byteLength)),$n(k,Uint8Array)&&(k=h.from(k,k.offset,k.byteLength)),!h.isBuffer(x)||!h.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===k)return 0;let ee=x.length,fe=k.length;for(let ge=0,Ae=Math.min(ee,fe);ge<Ae;++ge)if(x[ge]!==k[ge]){ee=x[ge],fe=k[ge];break}return ee<fe?-1:fe<ee?1:0},h.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(x,k){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return h.alloc(0);let ee;if(k===void 0)for(k=0,ee=0;ee<x.length;++ee)k+=x[ee].length;const fe=h.allocUnsafe(k);let ge=0;for(ee=0;ee<x.length;++ee){let Ae=x[ee];if($n(Ae,Uint8Array))ge+Ae.length>fe.length?(h.isBuffer(Ae)||(Ae=h.from(Ae)),Ae.copy(fe,ge)):Uint8Array.prototype.set.call(fe,Ae,ge);else if(h.isBuffer(Ae))Ae.copy(fe,ge);else throw new TypeError('"list" argument must be an Array of Buffers');ge+=Ae.length}return fe};function G(H,x){if(h.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||$n(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);const k=H.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&k===0)return 0;let fe=!1;for(;;)switch(x){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return Et(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return qt(H).length;default:if(fe)return ee?-1:Et(H).length;x=(""+x).toLowerCase(),fe=!0}}h.byteLength=G;function re(H,x,k){let ee=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,x>>>=0,k<=x))return"";for(H||(H="utf8");;)switch(H){case"hex":return te(this,x,k);case"utf8":case"utf-8":return w(this,x,k);case"ascii":return j(this,x,k);case"latin1":case"binary":return Y(this,x,k);case"base64":return S(this,x,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,x,k);default:if(ee)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),ee=!0}}h.prototype._isBuffer=!0;function ae(H,x,k){const ee=H[x];H[x]=H[k],H[k]=ee}h.prototype.swap16=function(){const x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let k=0;k<x;k+=2)ae(this,k,k+1);return this},h.prototype.swap32=function(){const x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let k=0;k<x;k+=4)ae(this,k,k+3),ae(this,k+1,k+2);return this},h.prototype.swap64=function(){const x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let k=0;k<x;k+=8)ae(this,k,k+7),ae(this,k+1,k+6),ae(this,k+2,k+5),ae(this,k+3,k+4);return this},h.prototype.toString=function(){const x=this.length;return x===0?"":arguments.length===0?w(this,0,x):re.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(x){if(!h.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:h.compare(this,x)===0},h.prototype.inspect=function(){let x="";const k=r.INSPECT_MAX_BYTES;return x=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(x+=" ... "),"<Buffer "+x+">"},i&&(h.prototype[i]=h.prototype.inspect),h.prototype.compare=function(x,k,ee,fe,ge){if($n(x,Uint8Array)&&(x=h.from(x,x.offset,x.byteLength)),!h.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(k===void 0&&(k=0),ee===void 0&&(ee=x?x.length:0),fe===void 0&&(fe=0),ge===void 0&&(ge=this.length),k<0||ee>x.length||fe<0||ge>this.length)throw new RangeError("out of range index");if(fe>=ge&&k>=ee)return 0;if(fe>=ge)return-1;if(k>=ee)return 1;if(k>>>=0,ee>>>=0,fe>>>=0,ge>>>=0,this===x)return 0;let Ae=ge-fe,st=ee-k;const He=Math.min(Ae,st),Ze=this.slice(fe,ge),St=x.slice(k,ee);for(let Je=0;Je<He;++Je)if(Ze[Je]!==St[Je]){Ae=Ze[Je],st=St[Je];break}return Ae<st?-1:st<Ae?1:0};function le(H,x,k,ee,fe){if(H.length===0)return-1;if(typeof k=="string"?(ee=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,Bt(k)&&(k=fe?0:H.length-1),k<0&&(k=H.length+k),k>=H.length){if(fe)return-1;k=H.length-1}else if(k<0)if(fe)k=0;else return-1;if(typeof x=="string"&&(x=h.from(x,ee)),h.isBuffer(x))return x.length===0?-1:Q(H,x,k,ee,fe);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(H,x,k):Uint8Array.prototype.lastIndexOf.call(H,x,k):Q(H,[x],k,ee,fe);throw new TypeError("val must be string, number or Buffer")}function Q(H,x,k,ee,fe){let ge=1,Ae=H.length,st=x.length;if(ee!==void 0&&(ee=String(ee).toLowerCase(),ee==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(H.length<2||x.length<2)return-1;ge=2,Ae/=2,st/=2,k/=2}function He(St,Je){return ge===1?St[Je]:St.readUInt16BE(Je*ge)}let Ze;if(fe){let St=-1;for(Ze=k;Ze<Ae;Ze++)if(He(H,Ze)===He(x,St===-1?0:Ze-St)){if(St===-1&&(St=Ze),Ze-St+1===st)return St*ge}else St!==-1&&(Ze-=Ze-St),St=-1}else for(k+st>Ae&&(k=Ae-st),Ze=k;Ze>=0;Ze--){let St=!0;for(let Je=0;Je<st;Je++)if(He(H,Ze+Je)!==He(x,Je)){St=!1;break}if(St)return Ze}return-1}h.prototype.includes=function(x,k,ee){return this.indexOf(x,k,ee)!==-1},h.prototype.indexOf=function(x,k,ee){return le(this,x,k,ee,!0)},h.prototype.lastIndexOf=function(x,k,ee){return le(this,x,k,ee,!1)};function q(H,x,k,ee){k=Number(k)||0;const fe=H.length-k;ee?(ee=Number(ee),ee>fe&&(ee=fe)):ee=fe;const ge=x.length;ee>ge/2&&(ee=ge/2);let Ae;for(Ae=0;Ae<ee;++Ae){const st=parseInt(x.substr(Ae*2,2),16);if(Bt(st))return Ae;H[k+Ae]=st}return Ae}function M(H,x,k,ee){return Nt(Et(x,H.length-k),H,k,ee)}function U(H,x,k,ee){return Nt(tn(x),H,k,ee)}function W(H,x,k,ee){return Nt(qt(x),H,k,ee)}function F(H,x,k,ee){return Nt(Lr(x,H.length-k),H,k,ee)}h.prototype.write=function(x,k,ee,fe){if(k===void 0)fe="utf8",ee=this.length,k=0;else if(ee===void 0&&typeof k=="string")fe=k,ee=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(ee)?(ee=ee>>>0,fe===void 0&&(fe="utf8")):(fe=ee,ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ge=this.length-k;if((ee===void 0||ee>ge)&&(ee=ge),x.length>0&&(ee<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Ae=!1;for(;;)switch(fe){case"hex":return q(this,x,k,ee);case"utf8":case"utf-8":return M(this,x,k,ee);case"ascii":case"latin1":case"binary":return U(this,x,k,ee);case"base64":return W(this,x,k,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,x,k,ee);default:if(Ae)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ae=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(H,x,k){return x===0&&k===H.length?e.fromByteArray(H):e.fromByteArray(H.slice(x,k))}function w(H,x,k){k=Math.min(H.length,k);const ee=[];let fe=x;for(;fe<k;){const ge=H[fe];let Ae=null,st=ge>239?4:ge>223?3:ge>191?2:1;if(fe+st<=k){let He,Ze,St,Je;switch(st){case 1:ge<128&&(Ae=ge);break;case 2:He=H[fe+1],(He&192)===128&&(Je=(ge&31)<<6|He&63,Je>127&&(Ae=Je));break;case 3:He=H[fe+1],Ze=H[fe+2],(He&192)===128&&(Ze&192)===128&&(Je=(ge&15)<<12|(He&63)<<6|Ze&63,Je>2047&&(Je<55296||Je>57343)&&(Ae=Je));break;case 4:He=H[fe+1],Ze=H[fe+2],St=H[fe+3],(He&192)===128&&(Ze&192)===128&&(St&192)===128&&(Je=(ge&15)<<18|(He&63)<<12|(Ze&63)<<6|St&63,Je>65535&&Je<1114112&&(Ae=Je))}}Ae===null?(Ae=65533,st=1):Ae>65535&&(Ae-=65536,ee.push(Ae>>>10&1023|55296),Ae=56320|Ae&1023),ee.push(Ae),fe+=st}return C(ee)}const I=4096;function C(H){const x=H.length;if(x<=I)return String.fromCharCode.apply(String,H);let k="",ee=0;for(;ee<x;)k+=String.fromCharCode.apply(String,H.slice(ee,ee+=I));return k}function j(H,x,k){let ee="";k=Math.min(H.length,k);for(let fe=x;fe<k;++fe)ee+=String.fromCharCode(H[fe]&127);return ee}function Y(H,x,k){let ee="";k=Math.min(H.length,k);for(let fe=x;fe<k;++fe)ee+=String.fromCharCode(H[fe]);return ee}function te(H,x,k){const ee=H.length;(!x||x<0)&&(x=0),(!k||k<0||k>ee)&&(k=ee);let fe="";for(let ge=x;ge<k;++ge)fe+=nn[H[ge]];return fe}function z(H,x,k){const ee=H.slice(x,k);let fe="";for(let ge=0;ge<ee.length-1;ge+=2)fe+=String.fromCharCode(ee[ge]+ee[ge+1]*256);return fe}h.prototype.slice=function(x,k){const ee=this.length;x=~~x,k=k===void 0?ee:~~k,x<0?(x+=ee,x<0&&(x=0)):x>ee&&(x=ee),k<0?(k+=ee,k<0&&(k=0)):k>ee&&(k=ee),k<x&&(k=x);const fe=this.subarray(x,k);return Object.setPrototypeOf(fe,h.prototype),fe};function P(H,x,k){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+x>k)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(x,k,ee){x=x>>>0,k=k>>>0,ee||P(x,k,this.length);let fe=this[x],ge=1,Ae=0;for(;++Ae<k&&(ge*=256);)fe+=this[x+Ae]*ge;return fe},h.prototype.readUintBE=h.prototype.readUIntBE=function(x,k,ee){x=x>>>0,k=k>>>0,ee||P(x,k,this.length);let fe=this[x+--k],ge=1;for(;k>0&&(ge*=256);)fe+=this[x+--k]*ge;return fe},h.prototype.readUint8=h.prototype.readUInt8=function(x,k){return x=x>>>0,k||P(x,1,this.length),this[x]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(x,k){return x=x>>>0,k||P(x,2,this.length),this[x]|this[x+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(x,k){return x=x>>>0,k||P(x,2,this.length),this[x]<<8|this[x+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(x,k){return x=x>>>0,k||P(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(x,k){return x=x>>>0,k||P(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},h.prototype.readBigUInt64LE=Zn(function(x){x=x>>>0,Nn(x,"offset");const k=this[x],ee=this[x+7];(k===void 0||ee===void 0)&&At(x,this.length-8);const fe=k+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24,ge=this[++x]+this[++x]*2**8+this[++x]*2**16+ee*2**24;return BigInt(fe)+(BigInt(ge)<<BigInt(32))}),h.prototype.readBigUInt64BE=Zn(function(x){x=x>>>0,Nn(x,"offset");const k=this[x],ee=this[x+7];(k===void 0||ee===void 0)&&At(x,this.length-8);const fe=k*2**24+this[++x]*2**16+this[++x]*2**8+this[++x],ge=this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+ee;return(BigInt(fe)<<BigInt(32))+BigInt(ge)}),h.prototype.readIntLE=function(x,k,ee){x=x>>>0,k=k>>>0,ee||P(x,k,this.length);let fe=this[x],ge=1,Ae=0;for(;++Ae<k&&(ge*=256);)fe+=this[x+Ae]*ge;return ge*=128,fe>=ge&&(fe-=Math.pow(2,8*k)),fe},h.prototype.readIntBE=function(x,k,ee){x=x>>>0,k=k>>>0,ee||P(x,k,this.length);let fe=k,ge=1,Ae=this[x+--fe];for(;fe>0&&(ge*=256);)Ae+=this[x+--fe]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*k)),Ae},h.prototype.readInt8=function(x,k){return x=x>>>0,k||P(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},h.prototype.readInt16LE=function(x,k){x=x>>>0,k||P(x,2,this.length);const ee=this[x]|this[x+1]<<8;return ee&32768?ee|4294901760:ee},h.prototype.readInt16BE=function(x,k){x=x>>>0,k||P(x,2,this.length);const ee=this[x+1]|this[x]<<8;return ee&32768?ee|4294901760:ee},h.prototype.readInt32LE=function(x,k){return x=x>>>0,k||P(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},h.prototype.readInt32BE=function(x,k){return x=x>>>0,k||P(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},h.prototype.readBigInt64LE=Zn(function(x){x=x>>>0,Nn(x,"offset");const k=this[x],ee=this[x+7];(k===void 0||ee===void 0)&&At(x,this.length-8);const fe=this[x+4]+this[x+5]*2**8+this[x+6]*2**16+(ee<<24);return(BigInt(fe)<<BigInt(32))+BigInt(k+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24)}),h.prototype.readBigInt64BE=Zn(function(x){x=x>>>0,Nn(x,"offset");const k=this[x],ee=this[x+7];(k===void 0||ee===void 0)&&At(x,this.length-8);const fe=(k<<24)+this[++x]*2**16+this[++x]*2**8+this[++x];return(BigInt(fe)<<BigInt(32))+BigInt(this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+ee)}),h.prototype.readFloatLE=function(x,k){return x=x>>>0,k||P(x,4,this.length),n.read(this,x,!0,23,4)},h.prototype.readFloatBE=function(x,k){return x=x>>>0,k||P(x,4,this.length),n.read(this,x,!1,23,4)},h.prototype.readDoubleLE=function(x,k){return x=x>>>0,k||P(x,8,this.length),n.read(this,x,!0,52,8)},h.prototype.readDoubleBE=function(x,k){return x=x>>>0,k||P(x,8,this.length),n.read(this,x,!1,52,8)};function b(H,x,k,ee,fe,ge){if(!h.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>fe||x<ge)throw new RangeError('"value" argument is out of bounds');if(k+ee>H.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(x,k,ee,fe){if(x=+x,k=k>>>0,ee=ee>>>0,!fe){const st=Math.pow(2,8*ee)-1;b(this,x,k,ee,st,0)}let ge=1,Ae=0;for(this[k]=x&255;++Ae<ee&&(ge*=256);)this[k+Ae]=x/ge&255;return k+ee},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(x,k,ee,fe){if(x=+x,k=k>>>0,ee=ee>>>0,!fe){const st=Math.pow(2,8*ee)-1;b(this,x,k,ee,st,0)}let ge=ee-1,Ae=1;for(this[k+ge]=x&255;--ge>=0&&(Ae*=256);)this[k+ge]=x/Ae&255;return k+ee},h.prototype.writeUint8=h.prototype.writeUInt8=function(x,k,ee){return x=+x,k=k>>>0,ee||b(this,x,k,1,255,0),this[k]=x&255,k+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(x,k,ee){return x=+x,k=k>>>0,ee||b(this,x,k,2,65535,0),this[k]=x&255,this[k+1]=x>>>8,k+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(x,k,ee){return x=+x,k=k>>>0,ee||b(this,x,k,2,65535,0),this[k]=x>>>8,this[k+1]=x&255,k+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(x,k,ee){return x=+x,k=k>>>0,ee||b(this,x,k,4,4294967295,0),this[k+3]=x>>>24,this[k+2]=x>>>16,this[k+1]=x>>>8,this[k]=x&255,k+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(x,k,ee){return x=+x,k=k>>>0,ee||b(this,x,k,4,4294967295,0),this[k]=x>>>24,this[k+1]=x>>>16,this[k+2]=x>>>8,this[k+3]=x&255,k+4};function _(H,x,k,ee,fe){_t(x,ee,fe,H,k,7);let ge=Number(x&BigInt(4294967295));H[k++]=ge,ge=ge>>8,H[k++]=ge,ge=ge>>8,H[k++]=ge,ge=ge>>8,H[k++]=ge;let Ae=Number(x>>BigInt(32)&BigInt(4294967295));return H[k++]=Ae,Ae=Ae>>8,H[k++]=Ae,Ae=Ae>>8,H[k++]=Ae,Ae=Ae>>8,H[k++]=Ae,k}function L(H,x,k,ee,fe){_t(x,ee,fe,H,k,7);let ge=Number(x&BigInt(4294967295));H[k+7]=ge,ge=ge>>8,H[k+6]=ge,ge=ge>>8,H[k+5]=ge,ge=ge>>8,H[k+4]=ge;let Ae=Number(x>>BigInt(32)&BigInt(4294967295));return H[k+3]=Ae,Ae=Ae>>8,H[k+2]=Ae,Ae=Ae>>8,H[k+1]=Ae,Ae=Ae>>8,H[k]=Ae,k+8}h.prototype.writeBigUInt64LE=Zn(function(x,k=0){return _(this,x,k,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Zn(function(x,k=0){return L(this,x,k,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(x,k,ee,fe){if(x=+x,k=k>>>0,!fe){const He=Math.pow(2,8*ee-1);b(this,x,k,ee,He-1,-He)}let ge=0,Ae=1,st=0;for(this[k]=x&255;++ge<ee&&(Ae*=256);)x<0&&st===0&&this[k+ge-1]!==0&&(st=1),this[k+ge]=(x/Ae>>0)-st&255;return k+ee},h.prototype.writeIntBE=function(x,k,ee,fe){if(x=+x,k=k>>>0,!fe){const He=Math.pow(2,8*ee-1);b(this,x,k,ee,He-1,-He)}let ge=ee-1,Ae=1,st=0;for(this[k+ge]=x&255;--ge>=0&&(Ae*=256);)x<0&&st===0&&this[k+ge+1]!==0&&(st=1),this[k+ge]=(x/Ae>>0)-st&255;return k+ee},h.prototype.writeInt8=function(x,k,ee){return x=+x,k=k>>>0,ee||b(this,x,k,1,127,-128),x<0&&(x=255+x+1),this[k]=x&255,k+1},h.prototype.writeInt16LE=function(x,k,ee){return x=+x,k=k>>>0,ee||b(this,x,k,2,32767,-32768),this[k]=x&255,this[k+1]=x>>>8,k+2},h.prototype.writeInt16BE=function(x,k,ee){return x=+x,k=k>>>0,ee||b(this,x,k,2,32767,-32768),this[k]=x>>>8,this[k+1]=x&255,k+2},h.prototype.writeInt32LE=function(x,k,ee){return x=+x,k=k>>>0,ee||b(this,x,k,4,2147483647,-2147483648),this[k]=x&255,this[k+1]=x>>>8,this[k+2]=x>>>16,this[k+3]=x>>>24,k+4},h.prototype.writeInt32BE=function(x,k,ee){return x=+x,k=k>>>0,ee||b(this,x,k,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[k]=x>>>24,this[k+1]=x>>>16,this[k+2]=x>>>8,this[k+3]=x&255,k+4},h.prototype.writeBigInt64LE=Zn(function(x,k=0){return _(this,x,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Zn(function(x,k=0){return L(this,x,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(H,x,k,ee,fe,ge){if(k+ee>H.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function ne(H,x,k,ee,fe){return x=+x,k=k>>>0,fe||Z(H,x,k,4),n.write(H,x,k,ee,23,4),k+4}h.prototype.writeFloatLE=function(x,k,ee){return ne(this,x,k,!0,ee)},h.prototype.writeFloatBE=function(x,k,ee){return ne(this,x,k,!1,ee)};function de(H,x,k,ee,fe){return x=+x,k=k>>>0,fe||Z(H,x,k,8),n.write(H,x,k,ee,52,8),k+8}h.prototype.writeDoubleLE=function(x,k,ee){return de(this,x,k,!0,ee)},h.prototype.writeDoubleBE=function(x,k,ee){return de(this,x,k,!1,ee)},h.prototype.copy=function(x,k,ee,fe){if(!h.isBuffer(x))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),!fe&&fe!==0&&(fe=this.length),k>=x.length&&(k=x.length),k||(k=0),fe>0&&fe<ee&&(fe=ee),fe===ee||x.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),x.length-k<fe-ee&&(fe=x.length-k+ee);const ge=fe-ee;return this===x&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,ee,fe):Uint8Array.prototype.set.call(x,this.subarray(ee,fe),k),ge},h.prototype.fill=function(x,k,ee,fe){if(typeof x=="string"){if(typeof k=="string"?(fe=k,k=0,ee=this.length):typeof ee=="string"&&(fe=ee,ee=this.length),fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!h.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(x.length===1){const Ae=x.charCodeAt(0);(fe==="utf8"&&Ae<128||fe==="latin1")&&(x=Ae)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if(k<0||this.length<k||this.length<ee)throw new RangeError("Out of range index");if(ee<=k)return this;k=k>>>0,ee=ee===void 0?this.length:ee>>>0,x||(x=0);let ge;if(typeof x=="number")for(ge=k;ge<ee;++ge)this[ge]=x;else{const Ae=h.isBuffer(x)?x:h.from(x,fe),st=Ae.length;if(st===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(ge=0;ge<ee-k;++ge)this[ge+k]=Ae[ge%st]}return this};const Ie={};function De(H,x,k){Ie[H]=class extends k{constructor(){super(),Object.defineProperty(this,"message",{value:x.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${H}]`,this.stack,delete this.name}get code(){return H}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${H}]: ${this.message}`}}}De("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?`${H} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),De("ERR_INVALID_ARG_TYPE",function(H,x){return`The "${H}" argument must be of type number. Received type ${typeof x}`},TypeError),De("ERR_OUT_OF_RANGE",function(H,x,k){let ee=`The value of "${H}" is out of range.`,fe=k;return Number.isInteger(k)&&Math.abs(k)>2**32?fe=it(String(k)):typeof k=="bigint"&&(fe=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(fe=it(fe)),fe+="n"),ee+=` It must be ${x}. Received ${fe}`,ee},RangeError);function it(H){let x="",k=H.length;const ee=H[0]==="-"?1:0;for(;k>=ee+4;k-=3)x=`_${H.slice(k-3,k)}${x}`;return`${H.slice(0,k)}${x}`}function ot(H,x,k){Nn(x,"offset"),(H[x]===void 0||H[x+k]===void 0)&&At(x,H.length-(k+1))}function _t(H,x,k,ee,fe,ge){if(H>k||H<x){const Ae=typeof x=="bigint"?"n":"";let st;throw x===0||x===BigInt(0)?st=`>= 0${Ae} and < 2${Ae} ** ${(ge+1)*8}${Ae}`:st=`>= -(2${Ae} ** ${(ge+1)*8-1}${Ae}) and < 2 ** ${(ge+1)*8-1}${Ae}`,new Ie.ERR_OUT_OF_RANGE("value",st,H)}ot(ee,fe,ge)}function Nn(H,x){if(typeof H!="number")throw new Ie.ERR_INVALID_ARG_TYPE(x,"number",H)}function At(H,x,k){throw Math.floor(H)!==H?(Nn(H,k),new Ie.ERR_OUT_OF_RANGE("offset","an integer",H)):x<0?new Ie.ERR_BUFFER_OUT_OF_BOUNDS:new Ie.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${x}`,H)}const en=/[^+/0-9A-Za-z-_]/g;function Jr(H){if(H=H.split("=")[0],H=H.trim().replace(en,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function Et(H,x){x=x||1/0;let k;const ee=H.length;let fe=null;const ge=[];for(let Ae=0;Ae<ee;++Ae){if(k=H.charCodeAt(Ae),k>55295&&k<57344){if(!fe){if(k>56319){(x-=3)>-1&&ge.push(239,191,189);continue}else if(Ae+1===ee){(x-=3)>-1&&ge.push(239,191,189);continue}fe=k;continue}if(k<56320){(x-=3)>-1&&ge.push(239,191,189),fe=k;continue}k=(fe-55296<<10|k-56320)+65536}else fe&&(x-=3)>-1&&ge.push(239,191,189);if(fe=null,k<128){if((x-=1)<0)break;ge.push(k)}else if(k<2048){if((x-=2)<0)break;ge.push(k>>6|192,k&63|128)}else if(k<65536){if((x-=3)<0)break;ge.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((x-=4)<0)break;ge.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return ge}function tn(H){const x=[];for(let k=0;k<H.length;++k)x.push(H.charCodeAt(k)&255);return x}function Lr(H,x){let k,ee,fe;const ge=[];for(let Ae=0;Ae<H.length&&!((x-=2)<0);++Ae)k=H.charCodeAt(Ae),ee=k>>8,fe=k%256,ge.push(fe),ge.push(ee);return ge}function qt(H){return e.toByteArray(Jr(H))}function Nt(H,x,k,ee){let fe;for(fe=0;fe<ee&&!(fe+k>=x.length||fe>=H.length);++fe)x[fe+k]=H[fe];return fe}function $n(H,x){return H instanceof x||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===x.name}function Bt(H){return H!==H}const nn=(function(){const H="0123456789abcdef",x=new Array(256);for(let k=0;k<16;++k){const ee=k*16;for(let fe=0;fe<16;++fe)x[ee+fe]=H[k]+H[fe]}return x})();function Zn(H){return typeof BigInt>"u"?ft:H}function ft(){throw new Error("BigInt not supported")}})(ky)),ky}var ht=Cv();const Pc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Uf(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function yf(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function Da(r,...e){if(!Uf(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function kk(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");yf(r.outputLen),yf(r.blockLen)}function mu(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Ck(r,e){Da(r);const n=e.outputLen;if(r.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function N8(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function jo(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function Cy(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Cs(r,e){return r<<32-e|r>>>e}const P8=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function D8(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function L8(r){for(let e=0;e<r.length;e++)r[e]=D8(r[e]);return r}const TT=P8?r=>r:L8,Mk=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",B8=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function xl(r){if(Da(r),Mk)return r.toHex();let e="";for(let n=0;n<r.length;n++)e+=B8[r[n]];return e}const ya={_0:48,_9:57,A:65,F:70,a:97,f:102};function IT(r){if(r>=ya._0&&r<=ya._9)return r-ya._0;if(r>=ya.A&&r<=ya.F)return r-(ya.A-10);if(r>=ya.a&&r<=ya.f)return r-(ya.a-10)}function dm(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(Mk)return Uint8Array.fromHex(r);const e=r.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(n);for(let a=0,o=0;a<n;a++,o+=2){const c=IT(r.charCodeAt(o)),h=IT(r.charCodeAt(o+1));if(c===void 0||h===void 0){const d=r[o]+r[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}i[a]=c*16+h}return i}function U8(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function $m(r){return typeof r=="string"&&(r=U8(r)),Da(r),r}function Ls(...r){let e=0;for(let i=0;i<r.length;i++){const a=r[i];Da(a),e+=a.length}const n=new Uint8Array(e);for(let i=0,a=0;i<r.length;i++){const o=r[i];n.set(o,a),a+=o.length}return n}class Mv{}function Ov(r){const e=i=>r().update($m(i)).digest(),n=r();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>r(),e}function Nv(r=32){if(Pc&&typeof Pc.getRandomValues=="function")return Pc.getRandomValues(new Uint8Array(r));if(Pc&&typeof Pc.randomBytes=="function")return Uint8Array.from(Pc.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}function V8(r,e,n,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,n,i);const a=BigInt(32),o=BigInt(4294967295),c=Number(n>>a&o),h=Number(n&o),d=i?4:0,p=i?0:4;r.setUint32(e+d,c,i),r.setUint32(e+p,h,i)}function z8(r,e,n){return r&e^~r&n}function j8(r,e,n){return r&e^r&n^e&n}class Ok extends Mv{constructor(e,n,i,a){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=a,this.buffer=new Uint8Array(e),this.view=Cy(this.buffer)}update(e){mu(this),e=$m(e),Da(e);const{view:n,buffer:i,blockLen:a}=this,o=e.length;for(let c=0;c<o;){const h=Math.min(a-this.pos,o-c);if(h===a){const d=Cy(e);for(;a<=o-c;c+=a)this.process(d,c);continue}i.set(e.subarray(c,c+h),this.pos),this.pos+=h,c+=h,this.pos===a&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){mu(this),Ck(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:a,isLE:o}=this;let{pos:c}=this;n[c++]=128,jo(this.buffer.subarray(c)),this.padOffset>a-c&&(this.process(i,0),c=0);for(let E=c;E<a;E++)n[E]=0;V8(i,a-8,BigInt(this.length*8),o),this.process(i,0);const h=Cy(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<p;E++)h.setUint32(4*E,g[E],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:a,finished:o,destroyed:c,pos:h}=this;return e.destroyed=c,e.finished=o,e.length=a,e.pos=h,a%n&&e.buffer.set(i),e}clone(){return this._cloneInto()}}const co=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),mp=BigInt(2**32-1),RT=BigInt(32);function q8(r,e=!1){return e?{h:Number(r&mp),l:Number(r>>RT&mp)}:{h:Number(r>>RT&mp)|0,l:Number(r&mp)|0}}function Nk(r,e=!1){const n=r.length;let i=new Uint32Array(n),a=new Uint32Array(n);for(let o=0;o<n;o++){const{h:c,l:h}=q8(r[o],e);[i[o],a[o]]=[c,h]}return[i,a]}const xT=(r,e,n)=>r>>>n,kT=(r,e,n)=>r<<32-n|e>>>n,Dc=(r,e,n)=>r>>>n|e<<32-n,Lc=(r,e,n)=>r<<32-n|e>>>n,gp=(r,e,n)=>r<<64-n|e>>>n-32,yp=(r,e,n)=>r>>>n-32|e<<64-n,W8=(r,e,n)=>r<<n|e>>>32-n,F8=(r,e,n)=>e<<n|r>>>32-n,H8=(r,e,n)=>e<<n-32|r>>>64-n,K8=(r,e,n)=>r<<n-32|e>>>64-n;function wa(r,e,n,i){const a=(e>>>0)+(i>>>0);return{h:r+n+(a/2**32|0)|0,l:a|0}}const $8=(r,e,n)=>(r>>>0)+(e>>>0)+(n>>>0),G8=(r,e,n,i)=>e+n+i+(r/2**32|0)|0,Y8=(r,e,n,i)=>(r>>>0)+(e>>>0)+(n>>>0)+(i>>>0),Q8=(r,e,n,i,a)=>e+n+i+a+(r/2**32|0)|0,X8=(r,e,n,i,a)=>(r>>>0)+(e>>>0)+(n>>>0)+(i>>>0)+(a>>>0),Z8=(r,e,n,i,a,o)=>e+n+i+a+o+(r/2**32|0)|0,J8=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),uo=new Uint32Array(64);class eU extends Ok{constructor(e=32){super(64,e,8,!1),this.A=co[0]|0,this.B=co[1]|0,this.C=co[2]|0,this.D=co[3]|0,this.E=co[4]|0,this.F=co[5]|0,this.G=co[6]|0,this.H=co[7]|0}get(){const{A:e,B:n,C:i,D:a,E:o,F:c,G:h,H:d}=this;return[e,n,i,a,o,c,h,d]}set(e,n,i,a,o,c,h,d){this.A=e|0,this.B=n|0,this.C=i|0,this.D=a|0,this.E=o|0,this.F=c|0,this.G=h|0,this.H=d|0}process(e,n){for(let E=0;E<16;E++,n+=4)uo[E]=e.getUint32(n,!1);for(let E=16;E<64;E++){const A=uo[E-15],T=uo[E-2],N=Cs(A,7)^Cs(A,18)^A>>>3,O=Cs(T,17)^Cs(T,19)^T>>>10;uo[E]=O+uo[E-7]+N+uo[E-16]|0}let{A:i,B:a,C:o,D:c,E:h,F:d,G:p,H:g}=this;for(let E=0;E<64;E++){const A=Cs(h,6)^Cs(h,11)^Cs(h,25),T=g+A+z8(h,d,p)+J8[E]+uo[E]|0,O=(Cs(i,2)^Cs(i,13)^Cs(i,22))+j8(i,a,o)|0;g=p,p=d,d=h,h=c+T|0,c=o,o=a,a=i,i=T+O|0}i=i+this.A|0,a=a+this.B|0,o=o+this.C|0,c=c+this.D|0,h=h+this.E|0,d=d+this.F|0,p=p+this.G|0,g=g+this.H|0,this.set(i,a,o,c,h,d,p,g)}roundClean(){jo(uo)}destroy(){this.set(0,0,0,0,0,0,0,0),jo(this.buffer)}}const Pk=Nk(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),tU=Pk[0],nU=Pk[1],ho=new Uint32Array(80),fo=new Uint32Array(80);class rU extends Ok{constructor(e=64){super(128,e,16,!1),this.Ah=Fr[0]|0,this.Al=Fr[1]|0,this.Bh=Fr[2]|0,this.Bl=Fr[3]|0,this.Ch=Fr[4]|0,this.Cl=Fr[5]|0,this.Dh=Fr[6]|0,this.Dl=Fr[7]|0,this.Eh=Fr[8]|0,this.El=Fr[9]|0,this.Fh=Fr[10]|0,this.Fl=Fr[11]|0,this.Gh=Fr[12]|0,this.Gl=Fr[13]|0,this.Hh=Fr[14]|0,this.Hl=Fr[15]|0}get(){const{Ah:e,Al:n,Bh:i,Bl:a,Ch:o,Cl:c,Dh:h,Dl:d,Eh:p,El:g,Fh:E,Fl:A,Gh:T,Gl:N,Hh:O,Hl:B}=this;return[e,n,i,a,o,c,h,d,p,g,E,A,T,N,O,B]}set(e,n,i,a,o,c,h,d,p,g,E,A,T,N,O,B){this.Ah=e|0,this.Al=n|0,this.Bh=i|0,this.Bl=a|0,this.Ch=o|0,this.Cl=c|0,this.Dh=h|0,this.Dl=d|0,this.Eh=p|0,this.El=g|0,this.Fh=E|0,this.Fl=A|0,this.Gh=T|0,this.Gl=N|0,this.Hh=O|0,this.Hl=B|0}process(e,n){for(let G=0;G<16;G++,n+=4)ho[G]=e.getUint32(n),fo[G]=e.getUint32(n+=4);for(let G=16;G<80;G++){const re=ho[G-15]|0,ae=fo[G-15]|0,le=Dc(re,ae,1)^Dc(re,ae,8)^xT(re,ae,7),Q=Lc(re,ae,1)^Lc(re,ae,8)^kT(re,ae,7),q=ho[G-2]|0,M=fo[G-2]|0,U=Dc(q,M,19)^gp(q,M,61)^xT(q,M,6),W=Lc(q,M,19)^yp(q,M,61)^kT(q,M,6),F=Y8(Q,W,fo[G-7],fo[G-16]),S=Q8(F,le,U,ho[G-7],ho[G-16]);ho[G]=S|0,fo[G]=F|0}let{Ah:i,Al:a,Bh:o,Bl:c,Ch:h,Cl:d,Dh:p,Dl:g,Eh:E,El:A,Fh:T,Fl:N,Gh:O,Gl:B,Hh:K,Hl:$}=this;for(let G=0;G<80;G++){const re=Dc(E,A,14)^Dc(E,A,18)^gp(E,A,41),ae=Lc(E,A,14)^Lc(E,A,18)^yp(E,A,41),le=E&T^~E&O,Q=A&N^~A&B,q=X8($,ae,Q,nU[G],fo[G]),M=Z8(q,K,re,le,tU[G],ho[G]),U=q|0,W=Dc(i,a,28)^gp(i,a,34)^gp(i,a,39),F=Lc(i,a,28)^yp(i,a,34)^yp(i,a,39),S=i&o^i&h^o&h,w=a&c^a&d^c&d;K=O|0,$=B|0,O=T|0,B=N|0,T=E|0,N=A|0,{h:E,l:A}=wa(p|0,g|0,M|0,U|0),p=h|0,g=d|0,h=o|0,d=c|0,o=i|0,c=a|0;const I=$8(U,F,w);i=G8(I,M,W,S),a=I|0}({h:i,l:a}=wa(this.Ah|0,this.Al|0,i|0,a|0)),{h:o,l:c}=wa(this.Bh|0,this.Bl|0,o|0,c|0),{h,l:d}=wa(this.Ch|0,this.Cl|0,h|0,d|0),{h:p,l:g}=wa(this.Dh|0,this.Dl|0,p|0,g|0),{h:E,l:A}=wa(this.Eh|0,this.El|0,E|0,A|0),{h:T,l:N}=wa(this.Fh|0,this.Fl|0,T|0,N|0),{h:O,l:B}=wa(this.Gh|0,this.Gl|0,O|0,B|0),{h:K,l:$}=wa(this.Hh|0,this.Hl|0,K|0,$|0),this.set(i,a,o,c,h,d,p,g,E,A,T,N,O,B,K,$)}roundClean(){jo(ho,fo)}destroy(){jo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Dk=Ov(()=>new eU),iU=Ov(()=>new rU);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pv=BigInt(0),pb=BigInt(1);function Pl(r,e=""){if(typeof r!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof r)}return r}function us(r,e,n=""){const i=Uf(r),a=r?.length,o=e!==void 0;if(!i||o&&a!==e){const c=n&&`"${n}" `,h=o?` of length ${e}`:"",d=i?`length=${a}`:`type=${typeof r}`;throw new Error(c+"expected Uint8Array"+h+", got "+d)}return r}function wp(r){const e=r.toString(16);return e.length&1?"0"+e:e}function Lk(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?Pv:BigInt("0x"+r)}function Gm(r){return Lk(xl(r))}function wf(r){return Da(r),Lk(xl(Uint8Array.from(r).reverse()))}function Dv(r,e){return dm(r.toString(16).padStart(e*2,"0"))}function Bk(r,e){return Dv(r,e).reverse()}function Kn(r,e,n){let i;if(typeof e=="string")try{i=dm(e)}catch(o){throw new Error(r+" must be hex string or Uint8Array, cause: "+o)}else if(Uf(e))i=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const a=i.length;if(typeof n=="number"&&a!==n)throw new Error(r+" of length "+n+" expected, got "+a);return i}function CT(r){return Uint8Array.from(r)}const My=r=>typeof r=="bigint"&&Pv<=r;function sU(r,e,n){return My(r)&&My(e)&&My(n)&&e<=r&&r<n}function mb(r,e,n,i){if(!sU(e,n,i))throw new Error("expected valid "+r+": "+n+" <= n < "+i+", got "+e)}function Uk(r){let e;for(e=0;r>Pv;r>>=pb,e+=1);return e}const Vf=r=>(pb<<BigInt(r))-pb;function aU(r,e,n){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const i=T=>new Uint8Array(T),a=T=>Uint8Array.of(T);let o=i(r),c=i(r),h=0;const d=()=>{o.fill(1),c.fill(0),h=0},p=(...T)=>n(c,o,...T),g=(T=i(0))=>{c=p(a(0),T),o=p(),T.length!==0&&(c=p(a(1),T),o=p())},E=()=>{if(h++>=1e3)throw new Error("drbg: tried 1000 values");let T=0;const N=[];for(;T<e;){o=p();const O=o.slice();N.push(O),T+=o.length}return Ls(...N)};return(T,N)=>{d(),g(T);let O;for(;!(O=N(E()));)g();return d(),O}}function zf(r,e,n={}){if(!r||typeof r!="object")throw new Error("expected valid options object");function i(a,o,c){const h=r[a];if(c&&h===void 0)return;const d=typeof h;if(d!==o||h===null)throw new Error(`param "${a}" is invalid: expected ${o}, got ${d}`)}Object.entries(e).forEach(([a,o])=>i(a,o,!1)),Object.entries(n).forEach(([a,o])=>i(a,o,!0))}function pm(r){const e=new WeakMap;return(n,...i)=>{const a=e.get(n);if(a!==void 0)return a;const o=r(n,...i);return e.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pi=BigInt(0),Pr=BigInt(1),bl=BigInt(2),Vk=BigInt(3),zk=BigInt(4),jk=BigInt(5),oU=BigInt(7),qk=BigInt(8),lU=BigInt(9),Wk=BigInt(16);function rr(r,e){const n=r%e;return n>=pi?n:e+n}function Hn(r,e,n){let i=r;for(;e-- >pi;)i*=i,i%=n;return i}function MT(r,e){if(r===pi)throw new Error("invert: expected non-zero number");if(e<=pi)throw new Error("invert: expected positive modulus, got "+e);let n=rr(r,e),i=e,a=pi,o=Pr;for(;n!==pi;){const h=i/n,d=i%n,p=a-o*h;i=n,n=d,a=o,o=p}if(i!==Pr)throw new Error("invert: does not exist");return rr(a,e)}function Lv(r,e,n){if(!r.eql(r.sqr(e),n))throw new Error("Cannot find square root")}function Fk(r,e){const n=(r.ORDER+Pr)/zk,i=r.pow(e,n);return Lv(r,i,e),i}function cU(r,e){const n=(r.ORDER-jk)/qk,i=r.mul(e,bl),a=r.pow(i,n),o=r.mul(e,a),c=r.mul(r.mul(o,bl),a),h=r.mul(o,r.sub(c,r.ONE));return Lv(r,h,e),h}function uU(r){const e=Wl(r),n=Hk(r),i=n(e,e.neg(e.ONE)),a=n(e,i),o=n(e,e.neg(i)),c=(r+oU)/Wk;return(h,d)=>{let p=h.pow(d,c),g=h.mul(p,i);const E=h.mul(p,a),A=h.mul(p,o),T=h.eql(h.sqr(g),d),N=h.eql(h.sqr(E),d);p=h.cmov(p,g,T),g=h.cmov(A,E,N);const O=h.eql(h.sqr(g),d),B=h.cmov(p,g,O);return Lv(h,B,d),B}}function Hk(r){if(r<Vk)throw new Error("sqrt is not defined for small field");let e=r-Pr,n=0;for(;e%bl===pi;)e/=bl,n++;let i=bl;const a=Wl(r);for(;OT(a,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Fk;let o=a.pow(i,e);const c=(e+Pr)/bl;return function(d,p){if(d.is0(p))return p;if(OT(d,p)!==1)throw new Error("Cannot find square root");let g=n,E=d.mul(d.ONE,o),A=d.pow(p,e),T=d.pow(p,c);for(;!d.eql(A,d.ONE);){if(d.is0(A))return d.ZERO;let N=1,O=d.sqr(A);for(;!d.eql(O,d.ONE);)if(N++,O=d.sqr(O),N===g)throw new Error("Cannot find square root");const B=Pr<<BigInt(g-N-1),K=d.pow(E,B);g=N,E=d.sqr(K),A=d.mul(A,E),T=d.mul(T,K)}return T}}function hU(r){return r%zk===Vk?Fk:r%qk===jk?cU:r%Wk===lU?uU(r):Hk(r)}const fU=(r,e)=>(rr(r,e)&Pr)===Pr,dU=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pU(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=dU.reduce((i,a)=>(i[a]="function",i),e);return zf(r,n),r}function mU(r,e,n){if(n<pi)throw new Error("invalid exponent, negatives unsupported");if(n===pi)return r.ONE;if(n===Pr)return e;let i=r.ONE,a=e;for(;n>pi;)n&Pr&&(i=r.mul(i,a)),a=r.sqr(a),n>>=Pr;return i}function Kk(r,e,n=!1){const i=new Array(e.length).fill(n?r.ZERO:void 0),a=e.reduce((c,h,d)=>r.is0(h)?c:(i[d]=c,r.mul(c,h)),r.ONE),o=r.inv(a);return e.reduceRight((c,h,d)=>r.is0(h)?c:(i[d]=r.mul(c,i[d]),r.mul(c,h)),o),i}function OT(r,e){const n=(r.ORDER-Pr)/bl,i=r.pow(e,n),a=r.eql(i,r.ONE),o=r.eql(i,r.ZERO),c=r.eql(i,r.neg(r.ONE));if(!a&&!o&&!c)throw new Error("invalid Legendre symbol result");return a?1:o?0:-1}function $k(r,e){e!==void 0&&yf(e);const n=e!==void 0?e:r.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function Wl(r,e,n=!1,i={}){if(r<=pi)throw new Error("invalid field: expected ORDER > 0, got "+r);let a,o,c=!1,h;if(typeof e=="object"&&e!=null){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const A=e;A.BITS&&(a=A.BITS),A.sqrt&&(o=A.sqrt),typeof A.isLE=="boolean"&&(n=A.isLE),typeof A.modFromBytes=="boolean"&&(c=A.modFromBytes),h=A.allowedLengths}else typeof e=="number"&&(a=e),i.sqrt&&(o=i.sqrt);const{nBitLength:d,nByteLength:p}=$k(r,a);if(p>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let g;const E=Object.freeze({ORDER:r,isLE:n,BITS:d,BYTES:p,MASK:Vf(d),ZERO:pi,ONE:Pr,allowedLengths:h,create:A=>rr(A,r),isValid:A=>{if(typeof A!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof A);return pi<=A&&A<r},is0:A=>A===pi,isValidNot0:A=>!E.is0(A)&&E.isValid(A),isOdd:A=>(A&Pr)===Pr,neg:A=>rr(-A,r),eql:(A,T)=>A===T,sqr:A=>rr(A*A,r),add:(A,T)=>rr(A+T,r),sub:(A,T)=>rr(A-T,r),mul:(A,T)=>rr(A*T,r),pow:(A,T)=>mU(E,A,T),div:(A,T)=>rr(A*MT(T,r),r),sqrN:A=>A*A,addN:(A,T)=>A+T,subN:(A,T)=>A-T,mulN:(A,T)=>A*T,inv:A=>MT(A,r),sqrt:o||(A=>(g||(g=hU(r)),g(E,A))),toBytes:A=>n?Bk(A,p):Dv(A,p),fromBytes:(A,T=!0)=>{if(h){if(!h.includes(A.length)||A.length>p)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+A.length);const O=new Uint8Array(p);O.set(A,n?0:O.length-A.length),A=O}if(A.length!==p)throw new Error("Field.fromBytes: expected "+p+" bytes, got "+A.length);let N=n?wf(A):Gm(A);if(c&&(N=rr(N,r)),!T&&!E.isValid(N))throw new Error("invalid field element: outside of range 0..ORDER");return N},invertBatch:A=>Kk(E,A),cmov:(A,T,N)=>N?T:A});return Object.freeze(E)}function Gk(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function Yk(r){const e=Gk(r);return e+Math.ceil(e/2)}function gU(r,e,n=!1){const i=r.length,a=Gk(e),o=Yk(e);if(i<16||i<o||i>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+i);const c=n?wf(r):Gm(r),h=rr(c,e-Pr)+Pr;return n?Bk(h,a):Dv(h,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gu=BigInt(0),vl=BigInt(1);function mm(r,e){const n=e.negate();return r?n:e}function _l(r,e){const n=Kk(r.Fp,e.map(i=>i.Z));return e.map((i,a)=>r.fromAffine(i.toAffine(n[a])))}function Qk(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function Oy(r,e){Qk(r,e);const n=Math.ceil(e/r)+1,i=2**(r-1),a=2**r,o=Vf(r),c=BigInt(r);return{windows:n,windowSize:i,mask:o,maxNumber:a,shiftBy:c}}function NT(r,e,n){const{windowSize:i,mask:a,maxNumber:o,shiftBy:c}=n;let h=Number(r&a),d=r>>c;h>i&&(h-=o,d+=vl);const p=e*i,g=p+Math.abs(h)-1,E=h===0,A=h<0,T=e%2!==0;return{nextN:d,offset:g,isZero:E,isNeg:A,isNegF:T,offsetF:p}}function yU(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((n,i)=>{if(!(n instanceof e))throw new Error("invalid point at index "+i)})}function wU(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((n,i)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+i)})}const Ny=new WeakMap,Xk=new WeakMap;function Py(r){return Xk.get(r)||1}function PT(r){if(r!==gu)throw new Error("invalid wNAF")}class Zk{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,i=this.ZERO){let a=e;for(;n>gu;)n&vl&&(i=i.add(a)),a=a.double(),n>>=vl;return i}precomputeWindow(e,n){const{windows:i,windowSize:a}=Oy(n,this.bits),o=[];let c=e,h=c;for(let d=0;d<i;d++){h=c,o.push(h);for(let p=1;p<a;p++)h=h.add(c),o.push(h);c=h.double()}return o}wNAF(e,n,i){if(!this.Fn.isValid(i))throw new Error("invalid scalar");let a=this.ZERO,o=this.BASE;const c=Oy(e,this.bits);for(let h=0;h<c.windows;h++){const{nextN:d,offset:p,isZero:g,isNeg:E,isNegF:A,offsetF:T}=NT(i,h,c);i=d,g?o=o.add(mm(A,n[T])):a=a.add(mm(E,n[p]))}return PT(i),{p:a,f:o}}wNAFUnsafe(e,n,i,a=this.ZERO){const o=Oy(e,this.bits);for(let c=0;c<o.windows&&i!==gu;c++){const{nextN:h,offset:d,isZero:p,isNeg:g}=NT(i,c,o);if(i=h,!p){const E=n[d];a=a.add(g?E.negate():E)}}return PT(i),a}getPrecomputes(e,n,i){let a=Ny.get(n);return a||(a=this.precomputeWindow(n,e),e!==1&&(typeof i=="function"&&(a=i(a)),Ny.set(n,a))),a}cached(e,n,i){const a=Py(e);return this.wNAF(a,this.getPrecomputes(a,e,i),n)}unsafe(e,n,i,a){const o=Py(e);return o===1?this._unsafeLadder(e,n,a):this.wNAFUnsafe(o,this.getPrecomputes(o,e,i),n,a)}createCache(e,n){Qk(n,this.bits),Xk.set(e,n),Ny.delete(e)}hasCache(e){return Py(e)!==1}}function bU(r,e,n,i){let a=e,o=r.ZERO,c=r.ZERO;for(;n>gu||i>gu;)n&vl&&(o=o.add(a)),i&vl&&(c=c.add(a)),a=a.double(),n>>=vl,i>>=vl;return{p1:o,p2:c}}function Jk(r,e,n,i){yU(n,r),wU(i,e);const a=n.length,o=i.length;if(a!==o)throw new Error("arrays of points and scalars must have equal length");const c=r.ZERO,h=Uk(BigInt(a));let d=1;h>12?d=h-3:h>4?d=h-2:h>0&&(d=2);const p=Vf(d),g=new Array(Number(p)+1).fill(c),E=Math.floor((e.BITS-1)/d)*d;let A=c;for(let T=E;T>=0;T-=d){g.fill(c);for(let O=0;O<o;O++){const B=i[O],K=Number(B>>BigInt(T)&p);g[K]=g[K].add(n[O])}let N=c;for(let O=g.length-1,B=c;O>0;O--)B=B.add(g[O]),N=N.add(B);if(A=A.add(N),T!==0)for(let O=0;O<d;O++)A=A.double()}return A}function DT(r,e,n){if(e){if(e.ORDER!==r)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return pU(e),e}else return Wl(r,{isLE:n})}function eC(r,e,n={},i){if(i===void 0&&(i=r==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${r} CURVE object`);for(const d of["p","n","h"]){const p=e[d];if(!(typeof p=="bigint"&&p>gu))throw new Error(`CURVE.${d} must be positive bigint`)}const a=DT(e.p,n.Fp,i),o=DT(e.n,n.Fn,i),h=["Gx","Gy","a",r==="weierstrass"?"b":"d"];for(const d of h)if(!a.isValid(e[d]))throw new Error(`CURVE.${d} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:a,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const po=BigInt(0),yr=BigInt(1),Dy=BigInt(2),vU=BigInt(8);function _U(r,e,n,i){const a=r.sqr(n),o=r.sqr(i),c=r.add(r.mul(e.a,a),o),h=r.add(r.ONE,r.mul(e.d,r.mul(a,o)));return r.eql(c,h)}function EU(r,e={}){const n=eC("edwards",r,e,e.FpFnLE),{Fp:i,Fn:a}=n;let o=n.CURVE;const{h:c}=o;zf(e,{},{uvRatio:"function"});const h=Dy<<BigInt(a.BYTES*8)-yr,d=B=>i.create(B),p=e.uvRatio||((B,K)=>{try{return{isValid:!0,value:i.sqrt(i.div(B,K))}}catch{return{isValid:!1,value:po}}});if(!_U(i,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function g(B,K,$=!1){const G=$?yr:po;return mb("coordinate "+B,K,G,h),K}function E(B){if(!(B instanceof N))throw new Error("ExtendedPoint expected")}const A=pm((B,K)=>{const{X:$,Y:G,Z:re}=B,ae=B.is0();K==null&&(K=ae?vU:i.inv(re));const le=d($*K),Q=d(G*K),q=i.mul(re,K);if(ae)return{x:po,y:yr};if(q!==yr)throw new Error("invZ was invalid");return{x:le,y:Q}}),T=pm(B=>{const{a:K,d:$}=o;if(B.is0())throw new Error("bad point: ZERO");const{X:G,Y:re,Z:ae,T:le}=B,Q=d(G*G),q=d(re*re),M=d(ae*ae),U=d(M*M),W=d(Q*K),F=d(M*d(W+q)),S=d(U+d($*d(Q*q)));if(F!==S)throw new Error("bad point: equation left != right (1)");const w=d(G*re),I=d(ae*le);if(w!==I)throw new Error("bad point: equation left != right (2)");return!0});class N{constructor(K,$,G,re){this.X=g("x",K),this.Y=g("y",$),this.Z=g("z",G,!0),this.T=g("t",re),Object.freeze(this)}static CURVE(){return o}static fromAffine(K){if(K instanceof N)throw new Error("extended point not allowed");const{x:$,y:G}=K||{};return g("x",$),g("y",G),new N($,G,yr,d($*G))}static fromBytes(K,$=!1){const G=i.BYTES,{a:re,d:ae}=o;K=CT(us(K,G,"point")),Pl($,"zip215");const le=CT(K),Q=K[G-1];le[G-1]=Q&-129;const q=wf(le),M=$?h:i.ORDER;mb("point.y",q,po,M);const U=d(q*q),W=d(U-yr),F=d(ae*U-re);let{isValid:S,value:w}=p(W,F);if(!S)throw new Error("bad point: invalid y coordinate");const I=(w&yr)===yr,C=(Q&128)!==0;if(!$&&w===po&&C)throw new Error("bad point: x=0 and x_0=1");return C!==I&&(w=d(-w)),N.fromAffine({x:w,y:q})}static fromHex(K,$=!1){return N.fromBytes(Kn("point",K),$)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(K=8,$=!0){return O.createCache(this,K),$||this.multiply(Dy),this}assertValidity(){T(this)}equals(K){E(K);const{X:$,Y:G,Z:re}=this,{X:ae,Y:le,Z:Q}=K,q=d($*Q),M=d(ae*re),U=d(G*Q),W=d(le*re);return q===M&&U===W}is0(){return this.equals(N.ZERO)}negate(){return new N(d(-this.X),this.Y,this.Z,d(-this.T))}double(){const{a:K}=o,{X:$,Y:G,Z:re}=this,ae=d($*$),le=d(G*G),Q=d(Dy*d(re*re)),q=d(K*ae),M=$+G,U=d(d(M*M)-ae-le),W=q+le,F=W-Q,S=q-le,w=d(U*F),I=d(W*S),C=d(U*S),j=d(F*W);return new N(w,I,j,C)}add(K){E(K);const{a:$,d:G}=o,{X:re,Y:ae,Z:le,T:Q}=this,{X:q,Y:M,Z:U,T:W}=K,F=d(re*q),S=d(ae*M),w=d(Q*G*W),I=d(le*U),C=d((re+ae)*(q+M)-F-S),j=I-w,Y=I+w,te=d(S-$*F),z=d(C*j),P=d(Y*te),b=d(C*te),_=d(j*Y);return new N(z,P,_,b)}subtract(K){return this.add(K.negate())}multiply(K){if(!a.isValidNot0(K))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:$,f:G}=O.cached(this,K,re=>_l(N,re));return _l(N,[$,G])[0]}multiplyUnsafe(K,$=N.ZERO){if(!a.isValid(K))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return K===po?N.ZERO:this.is0()||K===yr?this:O.unsafe(this,K,G=>_l(N,G),$)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return O.unsafe(this,o.n).is0()}toAffine(K){return A(this,K)}clearCofactor(){return c===yr?this:this.multiplyUnsafe(c)}toBytes(){const{x:K,y:$}=this.toAffine(),G=i.toBytes($);return G[G.length-1]|=K&yr?128:0,G}toHex(){return xl(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(K){return _l(N,K)}static msm(K,$){return Jk(N,a,K,$)}_setWindowSize(K){this.precompute(K)}toRawBytes(){return this.toBytes()}}N.BASE=new N(o.Gx,o.Gy,yr,d(o.Gx*o.Gy)),N.ZERO=new N(po,yr,yr,po),N.Fp=i,N.Fn=a;const O=new Zk(N,a.BITS);return N.BASE.precompute(8),N}function SU(r,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');zf(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:i}=n,{BASE:a,Fp:o,Fn:c}=r,h=n.randomBytes||Nv,d=n.adjustScalarBytes||(M=>M),p=n.domain||((M,U,W)=>{if(Pl(W,"phflag"),U.length||W)throw new Error("Contexts/pre-hash are not supported");return M});function g(M){return c.create(wf(M))}function E(M){const U=G.secretKey;M=Kn("private key",M,U);const W=Kn("hashed private key",e(M),2*U),F=d(W.slice(0,U)),S=W.slice(U,2*U),w=g(F);return{head:F,prefix:S,scalar:w}}function A(M){const{head:U,prefix:W,scalar:F}=E(M),S=a.multiply(F),w=S.toBytes();return{head:U,prefix:W,scalar:F,point:S,pointBytes:w}}function T(M){return A(M).pointBytes}function N(M=Uint8Array.of(),...U){const W=Ls(...U);return g(e(p(W,Kn("context",M),!!i)))}function O(M,U,W={}){M=Kn("message",M),i&&(M=i(M));const{prefix:F,scalar:S,pointBytes:w}=A(U),I=N(W.context,F,M),C=a.multiply(I).toBytes(),j=N(W.context,C,w,M),Y=c.create(I+j*S);if(!c.isValid(Y))throw new Error("sign failed: invalid s");const te=Ls(C,c.toBytes(Y));return us(te,G.signature,"result")}const B={zip215:!0};function K(M,U,W,F=B){const{context:S,zip215:w}=F,I=G.signature;M=Kn("signature",M,I),U=Kn("message",U),W=Kn("publicKey",W,G.publicKey),w!==void 0&&Pl(w,"zip215"),i&&(U=i(U));const C=I/2,j=M.subarray(0,C),Y=wf(M.subarray(C,I));let te,z,P;try{te=r.fromBytes(W,w),z=r.fromBytes(j,w),P=a.multiplyUnsafe(Y)}catch{return!1}if(!w&&te.isSmallOrder())return!1;const b=N(S,z.toBytes(),te.toBytes(),U);return z.add(te.multiplyUnsafe(b)).subtract(P).clearCofactor().is0()}const $=o.BYTES,G={secretKey:$,publicKey:$,signature:2*$,seed:$};function re(M=h(G.seed)){return us(M,G.seed,"seed")}function ae(M){const U=q.randomSecretKey(M);return{secretKey:U,publicKey:T(U)}}function le(M){return Uf(M)&&M.length===c.BYTES}function Q(M,U){try{return!!r.fromBytes(M,U)}catch{return!1}}const q={getExtendedPublicKey:A,randomSecretKey:re,isValidSecretKey:le,isValidPublicKey:Q,toMontgomery(M){const{y:U}=r.fromBytes(M),W=G.publicKey,F=W===32;if(!F&&W!==57)throw new Error("only defined for 25519 and 448");const S=F?o.div(yr+U,yr-U):o.div(U-yr,U+yr);return o.toBytes(S)},toMontgomerySecret(M){const U=G.secretKey;us(M,U);const W=e(M.subarray(0,U));return d(W).subarray(0,U)},randomPrivateKey:re,precompute(M=8,U=r.BASE){return U.precompute(M,!1)}};return Object.freeze({keygen:ae,getPublicKey:T,sign:O,verify:K,utils:q,Point:r,lengths:G})}function AU(r){const e={a:r.a,d:r.d,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},n=r.Fp,i=Wl(e.n,r.nBitLength,!0),a={Fp:n,Fn:i,uvRatio:r.uvRatio},o={randomBytes:r.randomBytes,adjustScalarBytes:r.adjustScalarBytes,domain:r.domain,prehash:r.prehash,mapToCurve:r.mapToCurve};return{CURVE:e,curveOpts:a,hash:r.hash,eddsaOpts:o}}function TU(r,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:r,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function IU(r){const{CURVE:e,curveOpts:n,hash:i,eddsaOpts:a}=AU(r),o=EU(e,n),c=SU(o,i,a);return TU(r,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RU=BigInt(1),LT=BigInt(2);BigInt(3);const xU=BigInt(5),kU=BigInt(8),Bv=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),tC={p:Bv,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:kU,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function CU(r){const e=BigInt(10),n=BigInt(20),i=BigInt(40),a=BigInt(80),o=Bv,h=r*r%o*r%o,d=Hn(h,LT,o)*h%o,p=Hn(d,RU,o)*r%o,g=Hn(p,xU,o)*p%o,E=Hn(g,e,o)*g%o,A=Hn(E,n,o)*E%o,T=Hn(A,i,o)*A%o,N=Hn(T,a,o)*T%o,O=Hn(N,a,o)*T%o,B=Hn(O,e,o)*g%o;return{pow_p_5_8:Hn(B,LT,o)*r%o,b2:h}}function MU(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const BT=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function OU(r,e){const n=Bv,i=rr(e*e*e,n),a=rr(i*i*e,n),o=CU(r*a).pow_p_5_8;let c=rr(r*i*o,n);const h=rr(e*c*c,n),d=c,p=rr(c*BT,n),g=h===r,E=h===rr(-r,n),A=h===rr(-r*BT,n);return g&&(c=d),(E||A)&&(c=p),fU(c,n)&&(c=rr(-c,n)),{isValid:g||E,value:c}}const NU=Wl(tC.p,{isLE:!0}),PU={...tC,Fp:NU,hash:iU,adjustScalarBytes:MU,uvRatio:OU},ku=IU(PU);var Vp={exports:{}};const DU={},LU=Object.freeze(Object.defineProperty({__proto__:null,default:DU},Symbol.toStringTag,{value:"Module"})),BU=Af(LU);var UU=Vp.exports,UT;function nC(){return UT||(UT=1,(function(r){(function(e,n){function i(S,w){if(!S)throw new Error(w||"Assertion failed")}function a(S,w){S.super_=w;var I=function(){};I.prototype=w.prototype,S.prototype=new I,S.prototype.constructor=S}function o(S,w,I){if(o.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((w==="le"||w==="be")&&(I=w,w=10),this._init(S||0,w||10,I||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=BU.Buffer}catch{}o.isBN=function(w){return w instanceof o?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===o.wordSize&&Array.isArray(w.words)},o.max=function(w,I){return w.cmp(I)>0?w:I},o.min=function(w,I){return w.cmp(I)<0?w:I},o.prototype._init=function(w,I,C){if(typeof w=="number")return this._initNumber(w,I,C);if(typeof w=="object")return this._initArray(w,I,C);I==="hex"&&(I=16),i(I===(I|0)&&I>=2&&I<=36),w=w.toString().replace(/\s+/g,"");var j=0;w[0]==="-"&&(j++,this.negative=1),j<w.length&&(I===16?this._parseHex(w,j,C):(this._parseBase(w,I,j),C==="le"&&this._initArray(this.toArray(),I,C)))},o.prototype._initNumber=function(w,I,C){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(i(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),I,C)},o.prototype._initArray=function(w,I,C){if(i(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var Y,te,z=0;if(C==="be")for(j=w.length-1,Y=0;j>=0;j-=3)te=w[j]|w[j-1]<<8|w[j-2]<<16,this.words[Y]|=te<<z&67108863,this.words[Y+1]=te>>>26-z&67108863,z+=24,z>=26&&(z-=26,Y++);else if(C==="le")for(j=0,Y=0;j<w.length;j+=3)te=w[j]|w[j+1]<<8|w[j+2]<<16,this.words[Y]|=te<<z&67108863,this.words[Y+1]=te>>>26-z&67108863,z+=24,z>=26&&(z-=26,Y++);return this._strip()};function h(S,w){var I=S.charCodeAt(w);if(I>=48&&I<=57)return I-48;if(I>=65&&I<=70)return I-55;if(I>=97&&I<=102)return I-87;i(!1,"Invalid character in "+S)}function d(S,w,I){var C=h(S,I);return I-1>=w&&(C|=h(S,I-1)<<4),C}o.prototype._parseHex=function(w,I,C){this.length=Math.ceil((w.length-I)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var Y=0,te=0,z;if(C==="be")for(j=w.length-1;j>=I;j-=2)z=d(w,I,j)<<Y,this.words[te]|=z&67108863,Y>=18?(Y-=18,te+=1,this.words[te]|=z>>>26):Y+=8;else{var P=w.length-I;for(j=P%2===0?I+1:I;j<w.length;j+=2)z=d(w,I,j)<<Y,this.words[te]|=z&67108863,Y>=18?(Y-=18,te+=1,this.words[te]|=z>>>26):Y+=8}this._strip()};function p(S,w,I,C){for(var j=0,Y=0,te=Math.min(S.length,I),z=w;z<te;z++){var P=S.charCodeAt(z)-48;j*=C,P>=49?Y=P-49+10:P>=17?Y=P-17+10:Y=P,i(P>=0&&Y<C,"Invalid character"),j+=Y}return j}o.prototype._parseBase=function(w,I,C){this.words=[0],this.length=1;for(var j=0,Y=1;Y<=67108863;Y*=I)j++;j--,Y=Y/I|0;for(var te=w.length-C,z=te%j,P=Math.min(te,te-z)+C,b=0,_=C;_<P;_+=j)b=p(w,_,_+j,I),this.imuln(Y),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(z!==0){var L=1;for(b=p(w,_,w.length,I),_=0;_<z;_++)L*=I;this.imuln(L),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this._strip()},o.prototype.copy=function(w){w.words=new Array(this.length);for(var I=0;I<this.length;I++)w.words[I]=this.words[I];w.length=this.length,w.negative=this.negative,w.red=this.red};function g(S,w){S.words=w.words,S.length=w.length,S.negative=w.negative,S.red=w.red}if(o.prototype._move=function(w){g(w,this)},o.prototype.clone=function(){var w=new o(null);return this.copy(w),w},o.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=E}catch{o.prototype.inspect=E}else o.prototype.inspect=E;function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(w,I){w=w||10,I=I|0||1;var C;if(w===16||w==="hex"){C="";for(var j=0,Y=0,te=0;te<this.length;te++){var z=this.words[te],P=((z<<j|Y)&16777215).toString(16);Y=z>>>24-j&16777215,j+=2,j>=26&&(j-=26,te--),Y!==0||te!==this.length-1?C=A[6-P.length]+P+C:C=P+C}for(Y!==0&&(C=Y.toString(16)+C);C.length%I!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(w===(w|0)&&w>=2&&w<=36){var b=T[w],_=N[w];C="";var L=this.clone();for(L.negative=0;!L.isZero();){var Z=L.modrn(_).toString(w);L=L.idivn(_),L.isZero()?C=Z+C:C=A[b-Z.length]+Z+C}for(this.isZero()&&(C="0"+C);C.length%I!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},o.prototype.toJSON=function(){return this.toString(16,2)},c&&(o.prototype.toBuffer=function(w,I){return this.toArrayLike(c,w,I)}),o.prototype.toArray=function(w,I){return this.toArrayLike(Array,w,I)};var O=function(w,I){return w.allocUnsafe?w.allocUnsafe(I):new w(I)};o.prototype.toArrayLike=function(w,I,C){this._strip();var j=this.byteLength(),Y=C||Math.max(1,j);i(j<=Y,"byte array longer than desired length"),i(Y>0,"Requested array length <= 0");var te=O(w,Y),z=I==="le"?"LE":"BE";return this["_toArrayLike"+z](te,j),te},o.prototype._toArrayLikeLE=function(w,I){for(var C=0,j=0,Y=0,te=0;Y<this.length;Y++){var z=this.words[Y]<<te|j;w[C++]=z&255,C<w.length&&(w[C++]=z>>8&255),C<w.length&&(w[C++]=z>>16&255),te===6?(C<w.length&&(w[C++]=z>>24&255),j=0,te=0):(j=z>>>24,te+=2)}if(C<w.length)for(w[C++]=j;C<w.length;)w[C++]=0},o.prototype._toArrayLikeBE=function(w,I){for(var C=w.length-1,j=0,Y=0,te=0;Y<this.length;Y++){var z=this.words[Y]<<te|j;w[C--]=z&255,C>=0&&(w[C--]=z>>8&255),C>=0&&(w[C--]=z>>16&255),te===6?(C>=0&&(w[C--]=z>>24&255),j=0,te=0):(j=z>>>24,te+=2)}if(C>=0)for(w[C--]=j;C>=0;)w[C--]=0},Math.clz32?o.prototype._countBits=function(w){return 32-Math.clz32(w)}:o.prototype._countBits=function(w){var I=w,C=0;return I>=4096&&(C+=13,I>>>=13),I>=64&&(C+=7,I>>>=7),I>=8&&(C+=4,I>>>=4),I>=2&&(C+=2,I>>>=2),C+I},o.prototype._zeroBits=function(w){if(w===0)return 26;var I=w,C=0;return(I&8191)===0&&(C+=13,I>>>=13),(I&127)===0&&(C+=7,I>>>=7),(I&15)===0&&(C+=4,I>>>=4),(I&3)===0&&(C+=2,I>>>=2),(I&1)===0&&C++,C},o.prototype.bitLength=function(){var w=this.words[this.length-1],I=this._countBits(w);return(this.length-1)*26+I};function B(S){for(var w=new Array(S.bitLength()),I=0;I<w.length;I++){var C=I/26|0,j=I%26;w[I]=S.words[C]>>>j&1}return w}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,I=0;I<this.length;I++){var C=this._zeroBits(this.words[I]);if(w+=C,C!==26)break}return w},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},o.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var I=0;I<w.length;I++)this.words[I]=this.words[I]|w.words[I];return this._strip()},o.prototype.ior=function(w){return i((this.negative|w.negative)===0),this.iuor(w)},o.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},o.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},o.prototype.iuand=function(w){var I;this.length>w.length?I=w:I=this;for(var C=0;C<I.length;C++)this.words[C]=this.words[C]&w.words[C];return this.length=I.length,this._strip()},o.prototype.iand=function(w){return i((this.negative|w.negative)===0),this.iuand(w)},o.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},o.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},o.prototype.iuxor=function(w){var I,C;this.length>w.length?(I=this,C=w):(I=w,C=this);for(var j=0;j<C.length;j++)this.words[j]=I.words[j]^C.words[j];if(this!==I)for(;j<I.length;j++)this.words[j]=I.words[j];return this.length=I.length,this._strip()},o.prototype.ixor=function(w){return i((this.negative|w.negative)===0),this.iuxor(w)},o.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},o.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},o.prototype.inotn=function(w){i(typeof w=="number"&&w>=0);var I=Math.ceil(w/26)|0,C=w%26;this._expand(I),C>0&&I--;for(var j=0;j<I;j++)this.words[j]=~this.words[j]&67108863;return C>0&&(this.words[j]=~this.words[j]&67108863>>26-C),this._strip()},o.prototype.notn=function(w){return this.clone().inotn(w)},o.prototype.setn=function(w,I){i(typeof w=="number"&&w>=0);var C=w/26|0,j=w%26;return this._expand(C+1),I?this.words[C]=this.words[C]|1<<j:this.words[C]=this.words[C]&~(1<<j),this._strip()},o.prototype.iadd=function(w){var I;if(this.negative!==0&&w.negative===0)return this.negative=0,I=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,I=this.isub(w),w.negative=1,I._normSign();var C,j;this.length>w.length?(C=this,j=w):(C=w,j=this);for(var Y=0,te=0;te<j.length;te++)I=(C.words[te]|0)+(j.words[te]|0)+Y,this.words[te]=I&67108863,Y=I>>>26;for(;Y!==0&&te<C.length;te++)I=(C.words[te]|0)+Y,this.words[te]=I&67108863,Y=I>>>26;if(this.length=C.length,Y!==0)this.words[this.length]=Y,this.length++;else if(C!==this)for(;te<C.length;te++)this.words[te]=C.words[te];return this},o.prototype.add=function(w){var I;return w.negative!==0&&this.negative===0?(w.negative=0,I=this.sub(w),w.negative^=1,I):w.negative===0&&this.negative!==0?(this.negative=0,I=w.sub(this),this.negative=1,I):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},o.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var I=this.iadd(w);return w.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var C=this.cmp(w);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var j,Y;C>0?(j=this,Y=w):(j=w,Y=this);for(var te=0,z=0;z<Y.length;z++)I=(j.words[z]|0)-(Y.words[z]|0)+te,te=I>>26,this.words[z]=I&67108863;for(;te!==0&&z<j.length;z++)I=(j.words[z]|0)+te,te=I>>26,this.words[z]=I&67108863;if(te===0&&z<j.length&&j!==this)for(;z<j.length;z++)this.words[z]=j.words[z];return this.length=Math.max(this.length,z),j!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(w){return this.clone().isub(w)};function K(S,w,I){I.negative=w.negative^S.negative;var C=S.length+w.length|0;I.length=C,C=C-1|0;var j=S.words[0]|0,Y=w.words[0]|0,te=j*Y,z=te&67108863,P=te/67108864|0;I.words[0]=z;for(var b=1;b<C;b++){for(var _=P>>>26,L=P&67108863,Z=Math.min(b,w.length-1),ne=Math.max(0,b-S.length+1);ne<=Z;ne++){var de=b-ne|0;j=S.words[de]|0,Y=w.words[ne]|0,te=j*Y+L,_+=te/67108864|0,L=te&67108863}I.words[b]=L|0,P=_|0}return P!==0?I.words[b]=P|0:I.length--,I._strip()}var $=function(w,I,C){var j=w.words,Y=I.words,te=C.words,z=0,P,b,_,L=j[0]|0,Z=L&8191,ne=L>>>13,de=j[1]|0,Ie=de&8191,De=de>>>13,it=j[2]|0,ot=it&8191,_t=it>>>13,Nn=j[3]|0,At=Nn&8191,en=Nn>>>13,Jr=j[4]|0,Et=Jr&8191,tn=Jr>>>13,Lr=j[5]|0,qt=Lr&8191,Nt=Lr>>>13,$n=j[6]|0,Bt=$n&8191,nn=$n>>>13,Zn=j[7]|0,ft=Zn&8191,H=Zn>>>13,x=j[8]|0,k=x&8191,ee=x>>>13,fe=j[9]|0,ge=fe&8191,Ae=fe>>>13,st=Y[0]|0,He=st&8191,Ze=st>>>13,St=Y[1]|0,Je=St&8191,Kt=St>>>13,mi=Y[2]|0,Ut=mi&8191,Wt=mi>>>13,gi=Y[3]|0,bt=gi&8191,hn=gi>>>13,Br=Y[4]|0,fn=Br&8191,rn=Br>>>13,Pi=Y[5]|0,lt=Pi&8191,yt=Pi>>>13,yn=Y[6]|0,Mt=yn&8191,sn=yn>>>13,Di=Y[7]|0,$t=Di&8191,wn=Di>>>13,si=Y[8]|0,Gt=si&8191,Ft=si>>>13,Er=Y[9]|0,Ht=Er&8191,Tt=Er>>>13;C.negative=w.negative^I.negative,C.length=19,P=Math.imul(Z,He),b=Math.imul(Z,Ze),b=b+Math.imul(ne,He)|0,_=Math.imul(ne,Ze);var bn=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(bn>>>26)|0,bn&=67108863,P=Math.imul(Ie,He),b=Math.imul(Ie,Ze),b=b+Math.imul(De,He)|0,_=Math.imul(De,Ze),P=P+Math.imul(Z,Je)|0,b=b+Math.imul(Z,Kt)|0,b=b+Math.imul(ne,Je)|0,_=_+Math.imul(ne,Kt)|0;var Li=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(Li>>>26)|0,Li&=67108863,P=Math.imul(ot,He),b=Math.imul(ot,Ze),b=b+Math.imul(_t,He)|0,_=Math.imul(_t,Ze),P=P+Math.imul(Ie,Je)|0,b=b+Math.imul(Ie,Kt)|0,b=b+Math.imul(De,Je)|0,_=_+Math.imul(De,Kt)|0,P=P+Math.imul(Z,Ut)|0,b=b+Math.imul(Z,Wt)|0,b=b+Math.imul(ne,Ut)|0,_=_+Math.imul(ne,Wt)|0;var yi=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(yi>>>26)|0,yi&=67108863,P=Math.imul(At,He),b=Math.imul(At,Ze),b=b+Math.imul(en,He)|0,_=Math.imul(en,Ze),P=P+Math.imul(ot,Je)|0,b=b+Math.imul(ot,Kt)|0,b=b+Math.imul(_t,Je)|0,_=_+Math.imul(_t,Kt)|0,P=P+Math.imul(Ie,Ut)|0,b=b+Math.imul(Ie,Wt)|0,b=b+Math.imul(De,Ut)|0,_=_+Math.imul(De,Wt)|0,P=P+Math.imul(Z,bt)|0,b=b+Math.imul(Z,hn)|0,b=b+Math.imul(ne,bt)|0,_=_+Math.imul(ne,hn)|0;var hr=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(hr>>>26)|0,hr&=67108863,P=Math.imul(Et,He),b=Math.imul(Et,Ze),b=b+Math.imul(tn,He)|0,_=Math.imul(tn,Ze),P=P+Math.imul(At,Je)|0,b=b+Math.imul(At,Kt)|0,b=b+Math.imul(en,Je)|0,_=_+Math.imul(en,Kt)|0,P=P+Math.imul(ot,Ut)|0,b=b+Math.imul(ot,Wt)|0,b=b+Math.imul(_t,Ut)|0,_=_+Math.imul(_t,Wt)|0,P=P+Math.imul(Ie,bt)|0,b=b+Math.imul(Ie,hn)|0,b=b+Math.imul(De,bt)|0,_=_+Math.imul(De,hn)|0,P=P+Math.imul(Z,fn)|0,b=b+Math.imul(Z,rn)|0,b=b+Math.imul(ne,fn)|0,_=_+Math.imul(ne,rn)|0;var Ur=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,P=Math.imul(qt,He),b=Math.imul(qt,Ze),b=b+Math.imul(Nt,He)|0,_=Math.imul(Nt,Ze),P=P+Math.imul(Et,Je)|0,b=b+Math.imul(Et,Kt)|0,b=b+Math.imul(tn,Je)|0,_=_+Math.imul(tn,Kt)|0,P=P+Math.imul(At,Ut)|0,b=b+Math.imul(At,Wt)|0,b=b+Math.imul(en,Ut)|0,_=_+Math.imul(en,Wt)|0,P=P+Math.imul(ot,bt)|0,b=b+Math.imul(ot,hn)|0,b=b+Math.imul(_t,bt)|0,_=_+Math.imul(_t,hn)|0,P=P+Math.imul(Ie,fn)|0,b=b+Math.imul(Ie,rn)|0,b=b+Math.imul(De,fn)|0,_=_+Math.imul(De,rn)|0,P=P+Math.imul(Z,lt)|0,b=b+Math.imul(Z,yt)|0,b=b+Math.imul(ne,lt)|0,_=_+Math.imul(ne,yt)|0;var ms=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(ms>>>26)|0,ms&=67108863,P=Math.imul(Bt,He),b=Math.imul(Bt,Ze),b=b+Math.imul(nn,He)|0,_=Math.imul(nn,Ze),P=P+Math.imul(qt,Je)|0,b=b+Math.imul(qt,Kt)|0,b=b+Math.imul(Nt,Je)|0,_=_+Math.imul(Nt,Kt)|0,P=P+Math.imul(Et,Ut)|0,b=b+Math.imul(Et,Wt)|0,b=b+Math.imul(tn,Ut)|0,_=_+Math.imul(tn,Wt)|0,P=P+Math.imul(At,bt)|0,b=b+Math.imul(At,hn)|0,b=b+Math.imul(en,bt)|0,_=_+Math.imul(en,hn)|0,P=P+Math.imul(ot,fn)|0,b=b+Math.imul(ot,rn)|0,b=b+Math.imul(_t,fn)|0,_=_+Math.imul(_t,rn)|0,P=P+Math.imul(Ie,lt)|0,b=b+Math.imul(Ie,yt)|0,b=b+Math.imul(De,lt)|0,_=_+Math.imul(De,yt)|0,P=P+Math.imul(Z,Mt)|0,b=b+Math.imul(Z,sn)|0,b=b+Math.imul(ne,Mt)|0,_=_+Math.imul(ne,sn)|0;var gs=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(gs>>>26)|0,gs&=67108863,P=Math.imul(ft,He),b=Math.imul(ft,Ze),b=b+Math.imul(H,He)|0,_=Math.imul(H,Ze),P=P+Math.imul(Bt,Je)|0,b=b+Math.imul(Bt,Kt)|0,b=b+Math.imul(nn,Je)|0,_=_+Math.imul(nn,Kt)|0,P=P+Math.imul(qt,Ut)|0,b=b+Math.imul(qt,Wt)|0,b=b+Math.imul(Nt,Ut)|0,_=_+Math.imul(Nt,Wt)|0,P=P+Math.imul(Et,bt)|0,b=b+Math.imul(Et,hn)|0,b=b+Math.imul(tn,bt)|0,_=_+Math.imul(tn,hn)|0,P=P+Math.imul(At,fn)|0,b=b+Math.imul(At,rn)|0,b=b+Math.imul(en,fn)|0,_=_+Math.imul(en,rn)|0,P=P+Math.imul(ot,lt)|0,b=b+Math.imul(ot,yt)|0,b=b+Math.imul(_t,lt)|0,_=_+Math.imul(_t,yt)|0,P=P+Math.imul(Ie,Mt)|0,b=b+Math.imul(Ie,sn)|0,b=b+Math.imul(De,Mt)|0,_=_+Math.imul(De,sn)|0,P=P+Math.imul(Z,$t)|0,b=b+Math.imul(Z,wn)|0,b=b+Math.imul(ne,$t)|0,_=_+Math.imul(ne,wn)|0;var Vr=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,P=Math.imul(k,He),b=Math.imul(k,Ze),b=b+Math.imul(ee,He)|0,_=Math.imul(ee,Ze),P=P+Math.imul(ft,Je)|0,b=b+Math.imul(ft,Kt)|0,b=b+Math.imul(H,Je)|0,_=_+Math.imul(H,Kt)|0,P=P+Math.imul(Bt,Ut)|0,b=b+Math.imul(Bt,Wt)|0,b=b+Math.imul(nn,Ut)|0,_=_+Math.imul(nn,Wt)|0,P=P+Math.imul(qt,bt)|0,b=b+Math.imul(qt,hn)|0,b=b+Math.imul(Nt,bt)|0,_=_+Math.imul(Nt,hn)|0,P=P+Math.imul(Et,fn)|0,b=b+Math.imul(Et,rn)|0,b=b+Math.imul(tn,fn)|0,_=_+Math.imul(tn,rn)|0,P=P+Math.imul(At,lt)|0,b=b+Math.imul(At,yt)|0,b=b+Math.imul(en,lt)|0,_=_+Math.imul(en,yt)|0,P=P+Math.imul(ot,Mt)|0,b=b+Math.imul(ot,sn)|0,b=b+Math.imul(_t,Mt)|0,_=_+Math.imul(_t,sn)|0,P=P+Math.imul(Ie,$t)|0,b=b+Math.imul(Ie,wn)|0,b=b+Math.imul(De,$t)|0,_=_+Math.imul(De,wn)|0,P=P+Math.imul(Z,Gt)|0,b=b+Math.imul(Z,Ft)|0,b=b+Math.imul(ne,Gt)|0,_=_+Math.imul(ne,Ft)|0;var Ji=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,P=Math.imul(ge,He),b=Math.imul(ge,Ze),b=b+Math.imul(Ae,He)|0,_=Math.imul(Ae,Ze),P=P+Math.imul(k,Je)|0,b=b+Math.imul(k,Kt)|0,b=b+Math.imul(ee,Je)|0,_=_+Math.imul(ee,Kt)|0,P=P+Math.imul(ft,Ut)|0,b=b+Math.imul(ft,Wt)|0,b=b+Math.imul(H,Ut)|0,_=_+Math.imul(H,Wt)|0,P=P+Math.imul(Bt,bt)|0,b=b+Math.imul(Bt,hn)|0,b=b+Math.imul(nn,bt)|0,_=_+Math.imul(nn,hn)|0,P=P+Math.imul(qt,fn)|0,b=b+Math.imul(qt,rn)|0,b=b+Math.imul(Nt,fn)|0,_=_+Math.imul(Nt,rn)|0,P=P+Math.imul(Et,lt)|0,b=b+Math.imul(Et,yt)|0,b=b+Math.imul(tn,lt)|0,_=_+Math.imul(tn,yt)|0,P=P+Math.imul(At,Mt)|0,b=b+Math.imul(At,sn)|0,b=b+Math.imul(en,Mt)|0,_=_+Math.imul(en,sn)|0,P=P+Math.imul(ot,$t)|0,b=b+Math.imul(ot,wn)|0,b=b+Math.imul(_t,$t)|0,_=_+Math.imul(_t,wn)|0,P=P+Math.imul(Ie,Gt)|0,b=b+Math.imul(Ie,Ft)|0,b=b+Math.imul(De,Gt)|0,_=_+Math.imul(De,Ft)|0,P=P+Math.imul(Z,Ht)|0,b=b+Math.imul(Z,Tt)|0,b=b+Math.imul(ne,Ht)|0,_=_+Math.imul(ne,Tt)|0;var ai=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(ai>>>26)|0,ai&=67108863,P=Math.imul(ge,Je),b=Math.imul(ge,Kt),b=b+Math.imul(Ae,Je)|0,_=Math.imul(Ae,Kt),P=P+Math.imul(k,Ut)|0,b=b+Math.imul(k,Wt)|0,b=b+Math.imul(ee,Ut)|0,_=_+Math.imul(ee,Wt)|0,P=P+Math.imul(ft,bt)|0,b=b+Math.imul(ft,hn)|0,b=b+Math.imul(H,bt)|0,_=_+Math.imul(H,hn)|0,P=P+Math.imul(Bt,fn)|0,b=b+Math.imul(Bt,rn)|0,b=b+Math.imul(nn,fn)|0,_=_+Math.imul(nn,rn)|0,P=P+Math.imul(qt,lt)|0,b=b+Math.imul(qt,yt)|0,b=b+Math.imul(Nt,lt)|0,_=_+Math.imul(Nt,yt)|0,P=P+Math.imul(Et,Mt)|0,b=b+Math.imul(Et,sn)|0,b=b+Math.imul(tn,Mt)|0,_=_+Math.imul(tn,sn)|0,P=P+Math.imul(At,$t)|0,b=b+Math.imul(At,wn)|0,b=b+Math.imul(en,$t)|0,_=_+Math.imul(en,wn)|0,P=P+Math.imul(ot,Gt)|0,b=b+Math.imul(ot,Ft)|0,b=b+Math.imul(_t,Gt)|0,_=_+Math.imul(_t,Ft)|0,P=P+Math.imul(Ie,Ht)|0,b=b+Math.imul(Ie,Tt)|0,b=b+Math.imul(De,Ht)|0,_=_+Math.imul(De,Tt)|0;var zr=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(zr>>>26)|0,zr&=67108863,P=Math.imul(ge,Ut),b=Math.imul(ge,Wt),b=b+Math.imul(Ae,Ut)|0,_=Math.imul(Ae,Wt),P=P+Math.imul(k,bt)|0,b=b+Math.imul(k,hn)|0,b=b+Math.imul(ee,bt)|0,_=_+Math.imul(ee,hn)|0,P=P+Math.imul(ft,fn)|0,b=b+Math.imul(ft,rn)|0,b=b+Math.imul(H,fn)|0,_=_+Math.imul(H,rn)|0,P=P+Math.imul(Bt,lt)|0,b=b+Math.imul(Bt,yt)|0,b=b+Math.imul(nn,lt)|0,_=_+Math.imul(nn,yt)|0,P=P+Math.imul(qt,Mt)|0,b=b+Math.imul(qt,sn)|0,b=b+Math.imul(Nt,Mt)|0,_=_+Math.imul(Nt,sn)|0,P=P+Math.imul(Et,$t)|0,b=b+Math.imul(Et,wn)|0,b=b+Math.imul(tn,$t)|0,_=_+Math.imul(tn,wn)|0,P=P+Math.imul(At,Gt)|0,b=b+Math.imul(At,Ft)|0,b=b+Math.imul(en,Gt)|0,_=_+Math.imul(en,Ft)|0,P=P+Math.imul(ot,Ht)|0,b=b+Math.imul(ot,Tt)|0,b=b+Math.imul(_t,Ht)|0,_=_+Math.imul(_t,Tt)|0;var Ln=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,P=Math.imul(ge,bt),b=Math.imul(ge,hn),b=b+Math.imul(Ae,bt)|0,_=Math.imul(Ae,hn),P=P+Math.imul(k,fn)|0,b=b+Math.imul(k,rn)|0,b=b+Math.imul(ee,fn)|0,_=_+Math.imul(ee,rn)|0,P=P+Math.imul(ft,lt)|0,b=b+Math.imul(ft,yt)|0,b=b+Math.imul(H,lt)|0,_=_+Math.imul(H,yt)|0,P=P+Math.imul(Bt,Mt)|0,b=b+Math.imul(Bt,sn)|0,b=b+Math.imul(nn,Mt)|0,_=_+Math.imul(nn,sn)|0,P=P+Math.imul(qt,$t)|0,b=b+Math.imul(qt,wn)|0,b=b+Math.imul(Nt,$t)|0,_=_+Math.imul(Nt,wn)|0,P=P+Math.imul(Et,Gt)|0,b=b+Math.imul(Et,Ft)|0,b=b+Math.imul(tn,Gt)|0,_=_+Math.imul(tn,Ft)|0,P=P+Math.imul(At,Ht)|0,b=b+Math.imul(At,Tt)|0,b=b+Math.imul(en,Ht)|0,_=_+Math.imul(en,Tt)|0;var wi=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(wi>>>26)|0,wi&=67108863,P=Math.imul(ge,fn),b=Math.imul(ge,rn),b=b+Math.imul(Ae,fn)|0,_=Math.imul(Ae,rn),P=P+Math.imul(k,lt)|0,b=b+Math.imul(k,yt)|0,b=b+Math.imul(ee,lt)|0,_=_+Math.imul(ee,yt)|0,P=P+Math.imul(ft,Mt)|0,b=b+Math.imul(ft,sn)|0,b=b+Math.imul(H,Mt)|0,_=_+Math.imul(H,sn)|0,P=P+Math.imul(Bt,$t)|0,b=b+Math.imul(Bt,wn)|0,b=b+Math.imul(nn,$t)|0,_=_+Math.imul(nn,wn)|0,P=P+Math.imul(qt,Gt)|0,b=b+Math.imul(qt,Ft)|0,b=b+Math.imul(Nt,Gt)|0,_=_+Math.imul(Nt,Ft)|0,P=P+Math.imul(Et,Ht)|0,b=b+Math.imul(Et,Tt)|0,b=b+Math.imul(tn,Ht)|0,_=_+Math.imul(tn,Tt)|0;var ys=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(ys>>>26)|0,ys&=67108863,P=Math.imul(ge,lt),b=Math.imul(ge,yt),b=b+Math.imul(Ae,lt)|0,_=Math.imul(Ae,yt),P=P+Math.imul(k,Mt)|0,b=b+Math.imul(k,sn)|0,b=b+Math.imul(ee,Mt)|0,_=_+Math.imul(ee,sn)|0,P=P+Math.imul(ft,$t)|0,b=b+Math.imul(ft,wn)|0,b=b+Math.imul(H,$t)|0,_=_+Math.imul(H,wn)|0,P=P+Math.imul(Bt,Gt)|0,b=b+Math.imul(Bt,Ft)|0,b=b+Math.imul(nn,Gt)|0,_=_+Math.imul(nn,Ft)|0,P=P+Math.imul(qt,Ht)|0,b=b+Math.imul(qt,Tt)|0,b=b+Math.imul(Nt,Ht)|0,_=_+Math.imul(Nt,Tt)|0;var ei=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(ei>>>26)|0,ei&=67108863,P=Math.imul(ge,Mt),b=Math.imul(ge,sn),b=b+Math.imul(Ae,Mt)|0,_=Math.imul(Ae,sn),P=P+Math.imul(k,$t)|0,b=b+Math.imul(k,wn)|0,b=b+Math.imul(ee,$t)|0,_=_+Math.imul(ee,wn)|0,P=P+Math.imul(ft,Gt)|0,b=b+Math.imul(ft,Ft)|0,b=b+Math.imul(H,Gt)|0,_=_+Math.imul(H,Ft)|0,P=P+Math.imul(Bt,Ht)|0,b=b+Math.imul(Bt,Tt)|0,b=b+Math.imul(nn,Ht)|0,_=_+Math.imul(nn,Tt)|0;var Bi=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,P=Math.imul(ge,$t),b=Math.imul(ge,wn),b=b+Math.imul(Ae,$t)|0,_=Math.imul(Ae,wn),P=P+Math.imul(k,Gt)|0,b=b+Math.imul(k,Ft)|0,b=b+Math.imul(ee,Gt)|0,_=_+Math.imul(ee,Ft)|0,P=P+Math.imul(ft,Ht)|0,b=b+Math.imul(ft,Tt)|0,b=b+Math.imul(H,Ht)|0,_=_+Math.imul(H,Tt)|0;var Ui=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,P=Math.imul(ge,Gt),b=Math.imul(ge,Ft),b=b+Math.imul(Ae,Gt)|0,_=Math.imul(Ae,Ft),P=P+Math.imul(k,Ht)|0,b=b+Math.imul(k,Tt)|0,b=b+Math.imul(ee,Ht)|0,_=_+Math.imul(ee,Tt)|0;var es=(z+P|0)+((b&8191)<<13)|0;z=(_+(b>>>13)|0)+(es>>>26)|0,es&=67108863,P=Math.imul(ge,Ht),b=Math.imul(ge,Tt),b=b+Math.imul(Ae,Ht)|0,_=Math.imul(Ae,Tt);var bi=(z+P|0)+((b&8191)<<13)|0;return z=(_+(b>>>13)|0)+(bi>>>26)|0,bi&=67108863,te[0]=bn,te[1]=Li,te[2]=yi,te[3]=hr,te[4]=Ur,te[5]=ms,te[6]=gs,te[7]=Vr,te[8]=Ji,te[9]=ai,te[10]=zr,te[11]=Ln,te[12]=wi,te[13]=ys,te[14]=ei,te[15]=Bi,te[16]=Ui,te[17]=es,te[18]=bi,z!==0&&(te[19]=z,C.length++),C};Math.imul||($=K);function G(S,w,I){I.negative=w.negative^S.negative,I.length=S.length+w.length;for(var C=0,j=0,Y=0;Y<I.length-1;Y++){var te=j;j=0;for(var z=C&67108863,P=Math.min(Y,w.length-1),b=Math.max(0,Y-S.length+1);b<=P;b++){var _=Y-b,L=S.words[_]|0,Z=w.words[b]|0,ne=L*Z,de=ne&67108863;te=te+(ne/67108864|0)|0,de=de+z|0,z=de&67108863,te=te+(de>>>26)|0,j+=te>>>26,te&=67108863}I.words[Y]=z,C=te,te=j}return C!==0?I.words[Y]=C:I.length--,I._strip()}function re(S,w,I){return G(S,w,I)}o.prototype.mulTo=function(w,I){var C,j=this.length+w.length;return this.length===10&&w.length===10?C=$(this,w,I):j<63?C=K(this,w,I):j<1024?C=G(this,w,I):C=re(this,w,I),C},o.prototype.mul=function(w){var I=new o(null);return I.words=new Array(this.length+w.length),this.mulTo(w,I)},o.prototype.mulf=function(w){var I=new o(null);return I.words=new Array(this.length+w.length),re(this,w,I)},o.prototype.imul=function(w){return this.clone().mulTo(w,this)},o.prototype.imuln=function(w){var I=w<0;I&&(w=-w),i(typeof w=="number"),i(w<67108864);for(var C=0,j=0;j<this.length;j++){var Y=(this.words[j]|0)*w,te=(Y&67108863)+(C&67108863);C>>=26,C+=Y/67108864|0,C+=te>>>26,this.words[j]=te&67108863}return C!==0&&(this.words[j]=C,this.length++),this.length=w===0?1:this.length,I?this.ineg():this},o.prototype.muln=function(w){return this.clone().imuln(w)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(w){var I=B(w);if(I.length===0)return new o(1);for(var C=this,j=0;j<I.length&&I[j]===0;j++,C=C.sqr());if(++j<I.length)for(var Y=C.sqr();j<I.length;j++,Y=Y.sqr())I[j]!==0&&(C=C.mul(Y));return C},o.prototype.iushln=function(w){i(typeof w=="number"&&w>=0);var I=w%26,C=(w-I)/26,j=67108863>>>26-I<<26-I,Y;if(I!==0){var te=0;for(Y=0;Y<this.length;Y++){var z=this.words[Y]&j,P=(this.words[Y]|0)-z<<I;this.words[Y]=P|te,te=z>>>26-I}te&&(this.words[Y]=te,this.length++)}if(C!==0){for(Y=this.length-1;Y>=0;Y--)this.words[Y+C]=this.words[Y];for(Y=0;Y<C;Y++)this.words[Y]=0;this.length+=C}return this._strip()},o.prototype.ishln=function(w){return i(this.negative===0),this.iushln(w)},o.prototype.iushrn=function(w,I,C){i(typeof w=="number"&&w>=0);var j;I?j=(I-I%26)/26:j=0;var Y=w%26,te=Math.min((w-Y)/26,this.length),z=67108863^67108863>>>Y<<Y,P=C;if(j-=te,j=Math.max(0,j),P){for(var b=0;b<te;b++)P.words[b]=this.words[b];P.length=te}if(te!==0)if(this.length>te)for(this.length-=te,b=0;b<this.length;b++)this.words[b]=this.words[b+te];else this.words[0]=0,this.length=1;var _=0;for(b=this.length-1;b>=0&&(_!==0||b>=j);b--){var L=this.words[b]|0;this.words[b]=_<<26-Y|L>>>Y,_=L&z}return P&&_!==0&&(P.words[P.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(w,I,C){return i(this.negative===0),this.iushrn(w,I,C)},o.prototype.shln=function(w){return this.clone().ishln(w)},o.prototype.ushln=function(w){return this.clone().iushln(w)},o.prototype.shrn=function(w){return this.clone().ishrn(w)},o.prototype.ushrn=function(w){return this.clone().iushrn(w)},o.prototype.testn=function(w){i(typeof w=="number"&&w>=0);var I=w%26,C=(w-I)/26,j=1<<I;if(this.length<=C)return!1;var Y=this.words[C];return!!(Y&j)},o.prototype.imaskn=function(w){i(typeof w=="number"&&w>=0);var I=w%26,C=(w-I)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(I!==0&&C++,this.length=Math.min(C,this.length),I!==0){var j=67108863^67108863>>>I<<I;this.words[this.length-1]&=j}return this._strip()},o.prototype.maskn=function(w){return this.clone().imaskn(w)},o.prototype.iaddn=function(w){return i(typeof w=="number"),i(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<=w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},o.prototype._iaddn=function(w){this.words[0]+=w;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},o.prototype.isubn=function(w){if(i(typeof w=="number"),i(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this._strip()},o.prototype.addn=function(w){return this.clone().iaddn(w)},o.prototype.subn=function(w){return this.clone().isubn(w)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(w,I,C){var j=w.length+C,Y;this._expand(j);var te,z=0;for(Y=0;Y<w.length;Y++){te=(this.words[Y+C]|0)+z;var P=(w.words[Y]|0)*I;te-=P&67108863,z=(te>>26)-(P/67108864|0),this.words[Y+C]=te&67108863}for(;Y<this.length-C;Y++)te=(this.words[Y+C]|0)+z,z=te>>26,this.words[Y+C]=te&67108863;if(z===0)return this._strip();for(i(z===-1),z=0,Y=0;Y<this.length;Y++)te=-(this.words[Y]|0)+z,z=te>>26,this.words[Y]=te&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(w,I){var C=this.length-w.length,j=this.clone(),Y=w,te=Y.words[Y.length-1]|0,z=this._countBits(te);C=26-z,C!==0&&(Y=Y.ushln(C),j.iushln(C),te=Y.words[Y.length-1]|0);var P=j.length-Y.length,b;if(I!=="mod"){b=new o(null),b.length=P+1,b.words=new Array(b.length);for(var _=0;_<b.length;_++)b.words[_]=0}var L=j.clone()._ishlnsubmul(Y,1,P);L.negative===0&&(j=L,b&&(b.words[P]=1));for(var Z=P-1;Z>=0;Z--){var ne=(j.words[Y.length+Z]|0)*67108864+(j.words[Y.length+Z-1]|0);for(ne=Math.min(ne/te|0,67108863),j._ishlnsubmul(Y,ne,Z);j.negative!==0;)ne--,j.negative=0,j._ishlnsubmul(Y,1,Z),j.isZero()||(j.negative^=1);b&&(b.words[Z]=ne)}return b&&b._strip(),j._strip(),I!=="div"&&C!==0&&j.iushrn(C),{div:b||null,mod:j}},o.prototype.divmod=function(w,I,C){if(i(!w.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var j,Y,te;return this.negative!==0&&w.negative===0?(te=this.neg().divmod(w,I),I!=="mod"&&(j=te.div.neg()),I!=="div"&&(Y=te.mod.neg(),C&&Y.negative!==0&&Y.iadd(w)),{div:j,mod:Y}):this.negative===0&&w.negative!==0?(te=this.divmod(w.neg(),I),I!=="mod"&&(j=te.div.neg()),{div:j,mod:te.mod}):(this.negative&w.negative)!==0?(te=this.neg().divmod(w.neg(),I),I!=="div"&&(Y=te.mod.neg(),C&&Y.negative!==0&&Y.isub(w)),{div:te.div,mod:Y}):w.length>this.length||this.cmp(w)<0?{div:new o(0),mod:this}:w.length===1?I==="div"?{div:this.divn(w.words[0]),mod:null}:I==="mod"?{div:null,mod:new o(this.modrn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new o(this.modrn(w.words[0]))}:this._wordDiv(w,I)},o.prototype.div=function(w){return this.divmod(w,"div",!1).div},o.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},o.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},o.prototype.divRound=function(w){var I=this.divmod(w);if(I.mod.isZero())return I.div;var C=I.div.negative!==0?I.mod.isub(w):I.mod,j=w.ushrn(1),Y=w.andln(1),te=C.cmp(j);return te<0||Y===1&&te===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},o.prototype.modrn=function(w){var I=w<0;I&&(w=-w),i(w<=67108863);for(var C=(1<<26)%w,j=0,Y=this.length-1;Y>=0;Y--)j=(C*j+(this.words[Y]|0))%w;return I?-j:j},o.prototype.modn=function(w){return this.modrn(w)},o.prototype.idivn=function(w){var I=w<0;I&&(w=-w),i(w<=67108863);for(var C=0,j=this.length-1;j>=0;j--){var Y=(this.words[j]|0)+C*67108864;this.words[j]=Y/w|0,C=Y%w}return this._strip(),I?this.ineg():this},o.prototype.divn=function(w){return this.clone().idivn(w)},o.prototype.egcd=function(w){i(w.negative===0),i(!w.isZero());var I=this,C=w.clone();I.negative!==0?I=I.umod(w):I=I.clone();for(var j=new o(1),Y=new o(0),te=new o(0),z=new o(1),P=0;I.isEven()&&C.isEven();)I.iushrn(1),C.iushrn(1),++P;for(var b=C.clone(),_=I.clone();!I.isZero();){for(var L=0,Z=1;(I.words[0]&Z)===0&&L<26;++L,Z<<=1);if(L>0)for(I.iushrn(L);L-- >0;)(j.isOdd()||Y.isOdd())&&(j.iadd(b),Y.isub(_)),j.iushrn(1),Y.iushrn(1);for(var ne=0,de=1;(C.words[0]&de)===0&&ne<26;++ne,de<<=1);if(ne>0)for(C.iushrn(ne);ne-- >0;)(te.isOdd()||z.isOdd())&&(te.iadd(b),z.isub(_)),te.iushrn(1),z.iushrn(1);I.cmp(C)>=0?(I.isub(C),j.isub(te),Y.isub(z)):(C.isub(I),te.isub(j),z.isub(Y))}return{a:te,b:z,gcd:C.iushln(P)}},o.prototype._invmp=function(w){i(w.negative===0),i(!w.isZero());var I=this,C=w.clone();I.negative!==0?I=I.umod(w):I=I.clone();for(var j=new o(1),Y=new o(0),te=C.clone();I.cmpn(1)>0&&C.cmpn(1)>0;){for(var z=0,P=1;(I.words[0]&P)===0&&z<26;++z,P<<=1);if(z>0)for(I.iushrn(z);z-- >0;)j.isOdd()&&j.iadd(te),j.iushrn(1);for(var b=0,_=1;(C.words[0]&_)===0&&b<26;++b,_<<=1);if(b>0)for(C.iushrn(b);b-- >0;)Y.isOdd()&&Y.iadd(te),Y.iushrn(1);I.cmp(C)>=0?(I.isub(C),j.isub(Y)):(C.isub(I),Y.isub(j))}var L;return I.cmpn(1)===0?L=j:L=Y,L.cmpn(0)<0&&L.iadd(w),L},o.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var I=this.clone(),C=w.clone();I.negative=0,C.negative=0;for(var j=0;I.isEven()&&C.isEven();j++)I.iushrn(1),C.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;C.isEven();)C.iushrn(1);var Y=I.cmp(C);if(Y<0){var te=I;I=C,C=te}else if(Y===0||C.cmpn(1)===0)break;I.isub(C)}while(!0);return C.iushln(j)},o.prototype.invm=function(w){return this.egcd(w).a.umod(w)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(w){return this.words[0]&w},o.prototype.bincn=function(w){i(typeof w=="number");var I=w%26,C=(w-I)/26,j=1<<I;if(this.length<=C)return this._expand(C+1),this.words[C]|=j,this;for(var Y=j,te=C;Y!==0&&te<this.length;te++){var z=this.words[te]|0;z+=Y,Y=z>>>26,z&=67108863,this.words[te]=z}return Y!==0&&(this.words[te]=Y,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(w){var I=w<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this._strip();var C;if(this.length>1)C=1;else{I&&(w=-w),i(w<=67108863,"Number is too big");var j=this.words[0]|0;C=j===w?0:j<w?-1:1}return this.negative!==0?-C|0:C},o.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var I=this.ucmp(w);return this.negative!==0?-I|0:I},o.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var I=0,C=this.length-1;C>=0;C--){var j=this.words[C]|0,Y=w.words[C]|0;if(j!==Y){j<Y?I=-1:j>Y&&(I=1);break}}return I},o.prototype.gtn=function(w){return this.cmpn(w)===1},o.prototype.gt=function(w){return this.cmp(w)===1},o.prototype.gten=function(w){return this.cmpn(w)>=0},o.prototype.gte=function(w){return this.cmp(w)>=0},o.prototype.ltn=function(w){return this.cmpn(w)===-1},o.prototype.lt=function(w){return this.cmp(w)===-1},o.prototype.lten=function(w){return this.cmpn(w)<=0},o.prototype.lte=function(w){return this.cmp(w)<=0},o.prototype.eqn=function(w){return this.cmpn(w)===0},o.prototype.eq=function(w){return this.cmp(w)===0},o.red=function(w){return new W(w)},o.prototype.toRed=function(w){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(w){return this.red=w,this},o.prototype.forceRed=function(w){return i(!this.red,"Already a number in reduction context"),this._forceRed(w)},o.prototype.redAdd=function(w){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},o.prototype.redIAdd=function(w){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},o.prototype.redSub=function(w){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},o.prototype.redISub=function(w){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},o.prototype.redShl=function(w){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},o.prototype.redMul=function(w){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},o.prototype.redIMul=function(w){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(w){return i(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var ae={k256:null,p224:null,p192:null,p25519:null};function le(S,w){this.name=S,this.p=new o(w,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}le.prototype._tmp=function(){var w=new o(null);return w.words=new Array(Math.ceil(this.n/13)),w},le.prototype.ireduce=function(w){var I=w,C;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),C=I.bitLength();while(C>this.n);var j=C<this.n?-1:I.ucmp(this.p);return j===0?(I.words[0]=0,I.length=1):j>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},le.prototype.split=function(w,I){w.iushrn(this.n,0,I)},le.prototype.imulK=function(w){return w.imul(this.k)};function Q(){le.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(Q,le),Q.prototype.split=function(w,I){for(var C=4194303,j=Math.min(w.length,9),Y=0;Y<j;Y++)I.words[Y]=w.words[Y];if(I.length=j,w.length<=9){w.words[0]=0,w.length=1;return}var te=w.words[9];for(I.words[I.length++]=te&C,Y=10;Y<w.length;Y++){var z=w.words[Y]|0;w.words[Y-10]=(z&C)<<4|te>>>22,te=z}te>>>=22,w.words[Y-10]=te,te===0&&w.length>10?w.length-=10:w.length-=9},Q.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var I=0,C=0;C<w.length;C++){var j=w.words[C]|0;I+=j*977,w.words[C]=I&67108863,I=j*64+(I/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function q(){le.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(q,le);function M(){le.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(M,le);function U(){le.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(U,le),U.prototype.imulK=function(w){for(var I=0,C=0;C<w.length;C++){var j=(w.words[C]|0)*19+I,Y=j&67108863;j>>>=26,w.words[C]=Y,I=j}return I!==0&&(w.words[w.length++]=I),w},o._prime=function(w){if(ae[w])return ae[w];var I;if(w==="k256")I=new Q;else if(w==="p224")I=new q;else if(w==="p192")I=new M;else if(w==="p25519")I=new U;else throw new Error("Unknown prime "+w);return ae[w]=I,I};function W(S){if(typeof S=="string"){var w=o._prime(S);this.m=w.p,this.prime=w}else i(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}W.prototype._verify1=function(w){i(w.negative===0,"red works only with positives"),i(w.red,"red works only with red numbers")},W.prototype._verify2=function(w,I){i((w.negative|I.negative)===0,"red works only with positives"),i(w.red&&w.red===I.red,"red works only with red numbers")},W.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):(g(w,w.umod(this.m)._forceRed(this)),w)},W.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},W.prototype.add=function(w,I){this._verify2(w,I);var C=w.add(I);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},W.prototype.iadd=function(w,I){this._verify2(w,I);var C=w.iadd(I);return C.cmp(this.m)>=0&&C.isub(this.m),C},W.prototype.sub=function(w,I){this._verify2(w,I);var C=w.sub(I);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},W.prototype.isub=function(w,I){this._verify2(w,I);var C=w.isub(I);return C.cmpn(0)<0&&C.iadd(this.m),C},W.prototype.shl=function(w,I){return this._verify1(w),this.imod(w.ushln(I))},W.prototype.imul=function(w,I){return this._verify2(w,I),this.imod(w.imul(I))},W.prototype.mul=function(w,I){return this._verify2(w,I),this.imod(w.mul(I))},W.prototype.isqr=function(w){return this.imul(w,w.clone())},W.prototype.sqr=function(w){return this.mul(w,w)},W.prototype.sqrt=function(w){if(w.isZero())return w.clone();var I=this.m.andln(3);if(i(I%2===1),I===3){var C=this.m.add(new o(1)).iushrn(2);return this.pow(w,C)}for(var j=this.m.subn(1),Y=0;!j.isZero()&&j.andln(1)===0;)Y++,j.iushrn(1);i(!j.isZero());var te=new o(1).toRed(this),z=te.redNeg(),P=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new o(2*b*b).toRed(this);this.pow(b,P).cmp(z)!==0;)b.redIAdd(z);for(var _=this.pow(b,j),L=this.pow(w,j.addn(1).iushrn(1)),Z=this.pow(w,j),ne=Y;Z.cmp(te)!==0;){for(var de=Z,Ie=0;de.cmp(te)!==0;Ie++)de=de.redSqr();i(Ie<ne);var De=this.pow(_,new o(1).iushln(ne-Ie-1));L=L.redMul(De),_=De.redSqr(),Z=Z.redMul(_),ne=Ie}return L},W.prototype.invm=function(w){var I=w._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},W.prototype.pow=function(w,I){if(I.isZero())return new o(1).toRed(this);if(I.cmpn(1)===0)return w.clone();var C=4,j=new Array(1<<C);j[0]=new o(1).toRed(this),j[1]=w;for(var Y=2;Y<j.length;Y++)j[Y]=this.mul(j[Y-1],w);var te=j[0],z=0,P=0,b=I.bitLength()%26;for(b===0&&(b=26),Y=I.length-1;Y>=0;Y--){for(var _=I.words[Y],L=b-1;L>=0;L--){var Z=_>>L&1;if(te!==j[0]&&(te=this.sqr(te)),Z===0&&z===0){P=0;continue}z<<=1,z|=Z,P++,!(P!==C&&(Y!==0||L!==0))&&(te=this.mul(te,j[z]),P=0,z=0)}b=26}return te},W.prototype.convertTo=function(w){var I=w.umod(this.m);return I===w?I.clone():I},W.prototype.convertFrom=function(w){var I=w.clone();return I.red=null,I},o.mont=function(w){return new F(w)};function F(S){W.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(F,W),F.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},F.prototype.convertFrom=function(w){var I=this.imod(w.mul(this.rinv));return I.red=null,I},F.prototype.imul=function(w,I){if(w.isZero()||I.isZero())return w.words[0]=0,w.length=1,w;var C=w.imul(I),j=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Y=C.isub(j).iushrn(this.shift),te=Y;return Y.cmp(this.m)>=0?te=Y.isub(this.m):Y.cmpn(0)<0&&(te=Y.iadd(this.m)),te._forceRed(this)},F.prototype.mul=function(w,I){if(w.isZero()||I.isZero())return new o(0)._forceRed(this);var C=w.mul(I),j=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Y=C.isub(j).iushrn(this.shift),te=Y;return Y.cmp(this.m)>=0?te=Y.isub(this.m):Y.cmpn(0)<0&&(te=Y.iadd(this.m)),te._forceRed(this)},F.prototype.invm=function(w){var I=this.imod(w._invmp(this.m).mul(this.r2));return I._forceRed(this)}})(r,UU)})(Vp)),Vp.exports}var VU=nC();const VT=qo(VU);var bp={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var zT;function rC(){return zT||(zT=1,(function(r,e){var n=Cv(),i=n.Buffer;function a(c,h){for(var d in c)h[d]=c[d]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=n:(a(n,e),e.Buffer=o);function o(c,h,d){return i(c,h,d)}o.prototype=Object.create(i.prototype),a(i,o),o.from=function(c,h,d){if(typeof c=="number")throw new TypeError("Argument must not be a number");return i(c,h,d)},o.alloc=function(c,h,d){if(typeof c!="number")throw new TypeError("Argument must be a number");var p=i(c);return h!==void 0?typeof d=="string"?p.fill(h,d):p.fill(h):p.fill(0),p},o.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i(c)},o.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(c)}})(bp,bp.exports)),bp.exports}var Ly,jT;function zU(){if(jT)return Ly;jT=1;var r=rC().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),a=0;a<i.length;a++)i[a]=255;for(var o=0;o<n.length;o++){var c=n.charAt(o),h=c.charCodeAt(0);if(i[h]!==255)throw new TypeError(c+" is ambiguous");i[h]=o}var d=n.length,p=n.charAt(0),g=Math.log(d)/Math.log(256),E=Math.log(256)/Math.log(d);function A(O){if((Array.isArray(O)||O instanceof Uint8Array)&&(O=r.from(O)),!r.isBuffer(O))throw new TypeError("Expected Buffer");if(O.length===0)return"";for(var B=0,K=0,$=0,G=O.length;$!==G&&O[$]===0;)$++,B++;for(var re=(G-$)*E+1>>>0,ae=new Uint8Array(re);$!==G;){for(var le=O[$],Q=0,q=re-1;(le!==0||Q<K)&&q!==-1;q--,Q++)le+=256*ae[q]>>>0,ae[q]=le%d>>>0,le=le/d>>>0;if(le!==0)throw new Error("Non-zero carry");K=Q,$++}for(var M=re-K;M!==re&&ae[M]===0;)M++;for(var U=p.repeat(B);M<re;++M)U+=n.charAt(ae[M]);return U}function T(O){if(typeof O!="string")throw new TypeError("Expected String");if(O.length===0)return r.alloc(0);for(var B=0,K=0,$=0;O[B]===p;)K++,B++;for(var G=(O.length-B)*g+1>>>0,re=new Uint8Array(G);B<O.length;){var ae=O.charCodeAt(B);if(ae>255)return;var le=i[ae];if(le===255)return;for(var Q=0,q=G-1;(le!==0||Q<$)&&q!==-1;q--,Q++)le+=d*re[q]>>>0,re[q]=le%256>>>0,le=le/256>>>0;if(le!==0)throw new Error("Non-zero carry");$=Q,B++}for(var M=G-$;M!==G&&re[M]===0;)M++;var U=r.allocUnsafe(K+(G-M));U.fill(0,0,K);for(var W=K;M!==G;)U[W++]=re[M++];return U}function N(O){var B=T(O);if(B)return B;throw new Error("Non-base"+d+" character")}return{encode:A,decodeUnsafe:T,decode:N}}return Ly=e,Ly}var By,qT;function jU(){if(qT)return By;qT=1;var r=zU(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return By=r(e),By}var qU=jU();const Or=qo(qU),WT=Dk;var En={},Uy,FT;function WU(){if(FT)return Uy;FT=1;var r=rC().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),a=0;a<i.length;a++)i[a]=255;for(var o=0;o<n.length;o++){var c=n.charAt(o),h=c.charCodeAt(0);if(i[h]!==255)throw new TypeError(c+" is ambiguous");i[h]=o}var d=n.length,p=n.charAt(0),g=Math.log(d)/Math.log(256),E=Math.log(256)/Math.log(d);function A(O){if((Array.isArray(O)||O instanceof Uint8Array)&&(O=r.from(O)),!r.isBuffer(O))throw new TypeError("Expected Buffer");if(O.length===0)return"";for(var B=0,K=0,$=0,G=O.length;$!==G&&O[$]===0;)$++,B++;for(var re=(G-$)*E+1>>>0,ae=new Uint8Array(re);$!==G;){for(var le=O[$],Q=0,q=re-1;(le!==0||Q<K)&&q!==-1;q--,Q++)le+=256*ae[q]>>>0,ae[q]=le%d>>>0,le=le/d>>>0;if(le!==0)throw new Error("Non-zero carry");K=Q,$++}for(var M=re-K;M!==re&&ae[M]===0;)M++;for(var U=p.repeat(B);M<re;++M)U+=n.charAt(ae[M]);return U}function T(O){if(typeof O!="string")throw new TypeError("Expected String");if(O.length===0)return r.alloc(0);for(var B=0,K=0,$=0;O[B]===p;)K++,B++;for(var G=(O.length-B)*g+1>>>0,re=new Uint8Array(G);B<O.length;){var ae=O.charCodeAt(B);if(ae>255)return;var le=i[ae];if(le===255)return;for(var Q=0,q=G-1;(le!==0||Q<$)&&q!==-1;q--,Q++)le+=d*re[q]>>>0,re[q]=le%256>>>0,le=le/256>>>0;if(le!==0)throw new Error("Non-zero carry");$=Q,B++}for(var M=G-$;M!==G&&re[M]===0;)M++;var U=r.allocUnsafe(K+(G-M));U.fill(0,0,K);for(var W=K;M!==G;)U[W++]=re[M++];return U}function N(O){var B=T(O);if(B)return B;throw new Error("Non-base"+d+" character")}return{encode:A,decodeUnsafe:T,decode:N}}return Uy=e,Uy}var Vy,HT;function FU(){if(HT)return Vy;HT=1;var r=WU(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Vy=r(e),Vy}function _a(r,e,n){return e<=r&&r<=n}function Ym(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function HU(r){for(var e=String(r),n=e.length,i=0,a=[];i<n;){var o=e.charCodeAt(i);if(o<55296||o>57343)a.push(o);else if(56320<=o&&o<=57343)a.push(65533);else if(55296<=o&&o<=56319)if(i===n-1)a.push(65533);else{var c=r.charCodeAt(i+1);if(56320<=c&&c<=57343){var h=o&1023,d=c&1023;a.push(65536+(h<<10)+d),i+=1}else a.push(65533)}i+=1}return a}function KU(r){for(var e="",n=0;n<r.length;++n){var i=r[n];i<=65535?e+=String.fromCharCode(i):(i-=65536,e+=String.fromCharCode((i>>10)+55296,(i&1023)+56320))}return e}var gm=-1;function Uv(r){this.tokens=[].slice.call(r)}Uv.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():gm},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var yu=-1;function zy(r,e){if(r)throw TypeError("Decoder error");return e||65533}var ym="utf-8";function wm(r,e){if(!(this instanceof wm))return new wm(r,e);if(r=r!==void 0?String(r).toLowerCase():ym,r!==ym)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ym(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}wm.prototype={decode:function(e,n){var i;typeof e=="object"&&e instanceof ArrayBuffer?i=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):i=new Uint8Array(0),n=Ym(n),this._streaming||(this._decoder=new $U({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var a=new Uv(i),o=[],c;!a.endOfStream()&&(c=this._decoder.handler(a,a.read()),c!==yu);)c!==null&&(Array.isArray(c)?o.push.apply(o,c):o.push(c));if(!this._streaming){do{if(c=this._decoder.handler(a,a.read()),c===yu)break;c!==null&&(Array.isArray(c)?o.push.apply(o,c):o.push(c))}while(!a.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),KU(o)}};function bm(r,e){if(!(this instanceof bm))return new bm(r,e);if(r=r!==void 0?String(r).toLowerCase():ym,r!==ym)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ym(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}bm.prototype={encode:function(e,n){e=e?String(e):"",n=Ym(n),this._streaming||(this._encoder=new GU(this._options)),this._streaming=!!n.stream;for(var i=[],a=new Uv(HU(e)),o;!a.endOfStream()&&(o=this._encoder.handler(a,a.read()),o!==yu);)Array.isArray(o)?i.push.apply(i,o):i.push(o);if(!this._streaming){for(;o=this._encoder.handler(a,a.read()),o!==yu;)Array.isArray(o)?i.push.apply(i,o):i.push(o);this._encoder=null}return new Uint8Array(i)}};function $U(r){var e=r.fatal,n=0,i=0,a=0,o=128,c=191;this.handler=function(h,d){if(d===gm&&a!==0)return a=0,zy(e);if(d===gm)return yu;if(a===0){if(_a(d,0,127))return d;if(_a(d,194,223))a=1,n=d-192;else if(_a(d,224,239))d===224&&(o=160),d===237&&(c=159),a=2,n=d-224;else if(_a(d,240,244))d===240&&(o=144),d===244&&(c=143),a=3,n=d-240;else return zy(e);return n=n<<6*a,null}if(!_a(d,o,c))return n=a=i=0,o=128,c=191,h.prepend(d),zy(e);if(o=128,c=191,i+=1,n+=d-128<<6*(a-i),i!==a)return null;var p=n;return n=a=i=0,p}}function GU(r){r.fatal,this.handler=function(e,n){if(n===gm)return yu;if(_a(n,0,127))return n;var i,a;_a(n,128,2047)?(i=1,a=192):_a(n,2048,65535)?(i=2,a=224):_a(n,65536,1114111)&&(i=3,a=240);for(var o=[(n>>6*i)+a];i>0;){var c=n>>6*(i-1);o.push(128|c&63),i-=1}return o}}const YU=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:wm,TextEncoder:bm},Symbol.toStringTag,{value:"Module"})),QU=Af(YU);var KT;function XU(){if(KT)return En;KT=1;var r=En&&En.__createBinding||(Object.create?(function(M,U,W,F){F===void 0&&(F=W),Object.defineProperty(M,F,{enumerable:!0,get:function(){return U[W]}})}):(function(M,U,W,F){F===void 0&&(F=W),M[F]=U[W]})),e=En&&En.__setModuleDefault||(Object.create?(function(M,U){Object.defineProperty(M,"default",{enumerable:!0,value:U})}):function(M,U){M.default=U}),n=En&&En.__decorate||function(M,U,W,F){var S=arguments.length,w=S<3?U:F===null?F=Object.getOwnPropertyDescriptor(U,W):F,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(M,U,W,F);else for(var C=M.length-1;C>=0;C--)(I=M[C])&&(w=(S<3?I(w):S>3?I(U,W,w):I(U,W))||w);return S>3&&w&&Object.defineProperty(U,W,w),w},i=En&&En.__importStar||function(M){if(M&&M.__esModule)return M;var U={};if(M!=null)for(var W in M)W!=="default"&&Object.hasOwnProperty.call(M,W)&&r(U,M,W);return e(U,M),U},a=En&&En.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(En,"__esModule",{value:!0}),En.deserializeUnchecked=En.deserialize=En.serialize=En.BinaryReader=En.BinaryWriter=En.BorshError=En.baseDecode=En.baseEncode=void 0;const o=a(nC()),c=a(FU()),h=i(QU),d=typeof TextDecoder!="function"?h.TextDecoder:TextDecoder,p=new d("utf-8",{fatal:!0});function g(M){return typeof M=="string"&&(M=Buffer.from(M,"utf8")),c.default.encode(Buffer.from(M))}En.baseEncode=g;function E(M){return Buffer.from(c.default.decode(M))}En.baseDecode=E;const A=1024;class T extends Error{constructor(U){super(U),this.fieldPath=[],this.originalMessage=U}addToFieldPath(U){this.fieldPath.splice(0,0,U),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}En.BorshError=T;class N{constructor(){this.buf=Buffer.alloc(A),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(A)]))}writeU8(U){this.maybeResize(),this.buf.writeUInt8(U,this.length),this.length+=1}writeU16(U){this.maybeResize(),this.buf.writeUInt16LE(U,this.length),this.length+=2}writeU32(U){this.maybeResize(),this.buf.writeUInt32LE(U,this.length),this.length+=4}writeU64(U){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(U).toArray("le",8)))}writeU128(U){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(U).toArray("le",16)))}writeU256(U){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(U).toArray("le",32)))}writeU512(U){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(U).toArray("le",64)))}writeBuffer(U){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),U,Buffer.alloc(A)]),this.length+=U.length}writeString(U){this.maybeResize();const W=Buffer.from(U,"utf8");this.writeU32(W.length),this.writeBuffer(W)}writeFixedArray(U){this.writeBuffer(Buffer.from(U))}writeArray(U,W){this.maybeResize(),this.writeU32(U.length);for(const F of U)this.maybeResize(),W(F)}toArray(){return this.buf.subarray(0,this.length)}}En.BinaryWriter=N;function O(M,U,W){const F=W.value;W.value=function(...S){try{return F.apply(this,S)}catch(w){if(w instanceof RangeError){const I=w.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(I)>=0)throw new T("Reached the end of buffer when deserializing")}throw w}}}class B{constructor(U){this.buf=U,this.offset=0}readU8(){const U=this.buf.readUInt8(this.offset);return this.offset+=1,U}readU16(){const U=this.buf.readUInt16LE(this.offset);return this.offset+=2,U}readU32(){const U=this.buf.readUInt32LE(this.offset);return this.offset+=4,U}readU64(){const U=this.readBuffer(8);return new o.default(U,"le")}readU128(){const U=this.readBuffer(16);return new o.default(U,"le")}readU256(){const U=this.readBuffer(32);return new o.default(U,"le")}readU512(){const U=this.readBuffer(64);return new o.default(U,"le")}readBuffer(U){if(this.offset+U>this.buf.length)throw new T(`Expected buffer length ${U} isn't within bounds`);const W=this.buf.slice(this.offset,this.offset+U);return this.offset+=U,W}readString(){const U=this.readU32(),W=this.readBuffer(U);try{return p.decode(W)}catch(F){throw new T(`Error decoding UTF-8 string: ${F}`)}}readFixedArray(U){return new Uint8Array(this.readBuffer(U))}readArray(U){const W=this.readU32(),F=Array();for(let S=0;S<W;++S)F.push(U());return F}}n([O],B.prototype,"readU8",null),n([O],B.prototype,"readU16",null),n([O],B.prototype,"readU32",null),n([O],B.prototype,"readU64",null),n([O],B.prototype,"readU128",null),n([O],B.prototype,"readU256",null),n([O],B.prototype,"readU512",null),n([O],B.prototype,"readString",null),n([O],B.prototype,"readFixedArray",null),n([O],B.prototype,"readArray",null),En.BinaryReader=B;function K(M){return M.charAt(0).toUpperCase()+M.slice(1)}function $(M,U,W,F,S){try{if(typeof F=="string")S[`write${K(F)}`](W);else if(F instanceof Array)if(typeof F[0]=="number"){if(W.length!==F[0])throw new T(`Expecting byte array of length ${F[0]}, but got ${W.length} bytes`);S.writeFixedArray(W)}else if(F.length===2&&typeof F[1]=="number"){if(W.length!==F[1])throw new T(`Expecting byte array of length ${F[1]}, but got ${W.length} bytes`);for(let w=0;w<F[1];w++)$(M,null,W[w],F[0],S)}else S.writeArray(W,w=>{$(M,U,w,F[0],S)});else if(F.kind!==void 0)switch(F.kind){case"option":{W==null?S.writeU8(0):(S.writeU8(1),$(M,U,W,F.type,S));break}case"map":{S.writeU32(W.size),W.forEach((w,I)=>{$(M,U,I,F.key,S),$(M,U,w,F.value,S)});break}default:throw new T(`FieldType ${F} unrecognized`)}else G(M,W,S)}catch(w){throw w instanceof T&&w.addToFieldPath(U),w}}function G(M,U,W){if(typeof U.borshSerialize=="function"){U.borshSerialize(W);return}const F=M.get(U.constructor);if(!F)throw new T(`Class ${U.constructor.name} is missing in schema`);if(F.kind==="struct")F.fields.map(([S,w])=>{$(M,S,U[S],w,W)});else if(F.kind==="enum"){const S=U[F.field];for(let w=0;w<F.values.length;++w){const[I,C]=F.values[w];if(I===S){W.writeU8(w),$(M,I,U[I],C,W);break}}}else throw new T(`Unexpected schema kind: ${F.kind} for ${U.constructor.name}`)}function re(M,U,W=N){const F=new W;return G(M,U,F),F.toArray()}En.serialize=re;function ae(M,U,W,F){try{if(typeof W=="string")return F[`read${K(W)}`]();if(W instanceof Array){if(typeof W[0]=="number")return F.readFixedArray(W[0]);if(typeof W[1]=="number"){const S=[];for(let w=0;w<W[1];w++)S.push(ae(M,null,W[0],F));return S}else return F.readArray(()=>ae(M,U,W[0],F))}if(W.kind==="option")return F.readU8()?ae(M,U,W.type,F):void 0;if(W.kind==="map"){let S=new Map;const w=F.readU32();for(let I=0;I<w;I++){const C=ae(M,U,W.key,F),j=ae(M,U,W.value,F);S.set(C,j)}return S}return le(M,W,F)}catch(S){throw S instanceof T&&S.addToFieldPath(U),S}}function le(M,U,W){if(typeof U.borshDeserialize=="function")return U.borshDeserialize(W);const F=M.get(U);if(!F)throw new T(`Class ${U.name} is missing in schema`);if(F.kind==="struct"){const S={};for(const[w,I]of M.get(U).fields)S[w]=ae(M,w,I,W);return new U(S)}if(F.kind==="enum"){const S=W.readU8();if(S>=F.values.length)throw new T(`Enum index: ${S} is out of range`);const[w,I]=F.values[S],C=ae(M,w,I,W);return new U({[w]:C})}throw new T(`Unexpected schema kind: ${F.kind} for ${U.constructor.name}`)}function Q(M,U,W,F=B){const S=new F(W),w=le(M,U,S);if(S.offset<W.length)throw new T(`Unexpected ${W.length-S.offset} bytes after deserialized data`);return w}En.deserialize=Q;function q(M,U,W,F=B){const S=new F(W);return le(M,U,S)}return En.deserializeUnchecked=q,En}var jy=XU(),Ee={},$T;function ZU(){if($T)return Ee;$T=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.s16=Ee.s8=Ee.nu64be=Ee.u48be=Ee.u40be=Ee.u32be=Ee.u24be=Ee.u16be=Ee.nu64=Ee.u48=Ee.u40=Ee.u32=Ee.u24=Ee.u16=Ee.u8=Ee.offset=Ee.greedy=Ee.Constant=Ee.UTF8=Ee.CString=Ee.Blob=Ee.Boolean=Ee.BitField=Ee.BitStructure=Ee.VariantLayout=Ee.Union=Ee.UnionLayoutDiscriminator=Ee.UnionDiscriminator=Ee.Structure=Ee.Sequence=Ee.DoubleBE=Ee.Double=Ee.FloatBE=Ee.Float=Ee.NearInt64BE=Ee.NearInt64=Ee.NearUInt64BE=Ee.NearUInt64=Ee.IntBE=Ee.Int=Ee.UIntBE=Ee.UInt=Ee.OffsetLayout=Ee.GreedyCount=Ee.ExternalLayout=Ee.bindConstructorLayout=Ee.nameWithProperty=Ee.Layout=Ee.uint8ArrayToBuffer=Ee.checkUint8Array=void 0,Ee.constant=Ee.utf8=Ee.cstr=Ee.blob=Ee.unionLayoutDiscriminator=Ee.union=Ee.seq=Ee.bits=Ee.struct=Ee.f64be=Ee.f64=Ee.f32be=Ee.f32=Ee.ns64be=Ee.s48be=Ee.s40be=Ee.s32be=Ee.s24be=Ee.s16be=Ee.ns64=Ee.s48=Ee.s40=Ee.s32=Ee.s24=void 0;const r=Cv();function e(b){if(!(b instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Ee.checkUint8Array=e;function n(b){return e(b),r.Buffer.from(b.buffer,b.byteOffset,b.length)}Ee.uint8ArrayToBuffer=n;let i=class{constructor(_,L){if(!Number.isInteger(_))throw new TypeError("span must be an integer");this.span=_,this.property=L}makeDestinationObject(){return{}}getSpan(_,L){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(_){const L=Object.create(this.constructor.prototype);return Object.assign(L,this),L.property=_,L}fromArray(_){}};Ee.Layout=i;function a(b,_){return _.property?b+"["+_.property+"]":b}Ee.nameWithProperty=a;function o(b,_){if(typeof b!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(b,"layout_"))throw new Error("Class is already bound to a layout");if(!(_&&_ instanceof i))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(_,"boundConstructor_"))throw new Error("layout is already bound to a constructor");b.layout_=_,_.boundConstructor_=b,_.makeDestinationObject=(()=>new b),Object.defineProperty(b.prototype,"encode",{value(L,Z){return _.encode(this,L,Z)},writable:!0}),Object.defineProperty(b,"decode",{value(L,Z){return _.decode(L,Z)},writable:!0})}Ee.bindConstructorLayout=o;class c extends i{isCount(){throw new Error("ExternalLayout is abstract")}}Ee.ExternalLayout=c;class h extends c{constructor(_=1,L){if(!Number.isInteger(_)||0>=_)throw new TypeError("elementSpan must be a (positive) integer");super(-1,L),this.elementSpan=_}isCount(){return!0}decode(_,L=0){e(_);const Z=_.length-L;return Math.floor(Z/this.elementSpan)}encode(_,L,Z){return 0}}Ee.GreedyCount=h;class d extends c{constructor(_,L=0,Z){if(!(_ instanceof i))throw new TypeError("layout must be a Layout");if(!Number.isInteger(L))throw new TypeError("offset must be integer or undefined");super(_.span,Z||_.property),this.layout=_,this.offset=L}isCount(){return this.layout instanceof p||this.layout instanceof g}decode(_,L=0){return this.layout.decode(_,L+this.offset)}encode(_,L,Z=0){return this.layout.encode(_,L,Z+this.offset)}}Ee.OffsetLayout=d;class p extends i{constructor(_,L){if(super(_,L),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,L=0){return n(_).readUIntLE(L,this.span)}encode(_,L,Z=0){return n(L).writeUIntLE(_,Z,this.span),this.span}}Ee.UInt=p;class g extends i{constructor(_,L){if(super(_,L),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,L=0){return n(_).readUIntBE(L,this.span)}encode(_,L,Z=0){return n(L).writeUIntBE(_,Z,this.span),this.span}}Ee.UIntBE=g;class E extends i{constructor(_,L){if(super(_,L),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,L=0){return n(_).readIntLE(L,this.span)}encode(_,L,Z=0){return n(L).writeIntLE(_,Z,this.span),this.span}}Ee.Int=E;class A extends i{constructor(_,L){if(super(_,L),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,L=0){return n(_).readIntBE(L,this.span)}encode(_,L,Z=0){return n(L).writeIntBE(_,Z,this.span),this.span}}Ee.IntBE=A;const T=Math.pow(2,32);function N(b){const _=Math.floor(b/T),L=b-_*T;return{hi32:_,lo32:L}}function O(b,_){return b*T+_}class B extends i{constructor(_){super(8,_)}decode(_,L=0){const Z=n(_),ne=Z.readUInt32LE(L),de=Z.readUInt32LE(L+4);return O(de,ne)}encode(_,L,Z=0){const ne=N(_),de=n(L);return de.writeUInt32LE(ne.lo32,Z),de.writeUInt32LE(ne.hi32,Z+4),8}}Ee.NearUInt64=B;class K extends i{constructor(_){super(8,_)}decode(_,L=0){const Z=n(_),ne=Z.readUInt32BE(L),de=Z.readUInt32BE(L+4);return O(ne,de)}encode(_,L,Z=0){const ne=N(_),de=n(L);return de.writeUInt32BE(ne.hi32,Z),de.writeUInt32BE(ne.lo32,Z+4),8}}Ee.NearUInt64BE=K;class $ extends i{constructor(_){super(8,_)}decode(_,L=0){const Z=n(_),ne=Z.readUInt32LE(L),de=Z.readInt32LE(L+4);return O(de,ne)}encode(_,L,Z=0){const ne=N(_),de=n(L);return de.writeUInt32LE(ne.lo32,Z),de.writeInt32LE(ne.hi32,Z+4),8}}Ee.NearInt64=$;class G extends i{constructor(_){super(8,_)}decode(_,L=0){const Z=n(_),ne=Z.readInt32BE(L),de=Z.readUInt32BE(L+4);return O(ne,de)}encode(_,L,Z=0){const ne=N(_),de=n(L);return de.writeInt32BE(ne.hi32,Z),de.writeUInt32BE(ne.lo32,Z+4),8}}Ee.NearInt64BE=G;class re extends i{constructor(_){super(4,_)}decode(_,L=0){return n(_).readFloatLE(L)}encode(_,L,Z=0){return n(L).writeFloatLE(_,Z),4}}Ee.Float=re;class ae extends i{constructor(_){super(4,_)}decode(_,L=0){return n(_).readFloatBE(L)}encode(_,L,Z=0){return n(L).writeFloatBE(_,Z),4}}Ee.FloatBE=ae;class le extends i{constructor(_){super(8,_)}decode(_,L=0){return n(_).readDoubleLE(L)}encode(_,L,Z=0){return n(L).writeDoubleLE(_,Z),8}}Ee.Double=le;class Q extends i{constructor(_){super(8,_)}decode(_,L=0){return n(_).readDoubleBE(L)}encode(_,L,Z=0){return n(L).writeDoubleBE(_,Z),8}}Ee.DoubleBE=Q;class q extends i{constructor(_,L,Z){if(!(_ instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(L instanceof c&&L.isCount()||Number.isInteger(L)&&0<=L))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let ne=-1;!(L instanceof c)&&0<_.span&&(ne=L*_.span),super(ne,Z),this.elementLayout=_,this.count=L}getSpan(_,L=0){if(0<=this.span)return this.span;let Z=0,ne=this.count;if(ne instanceof c&&(ne=ne.decode(_,L)),0<this.elementLayout.span)Z=ne*this.elementLayout.span;else{let de=0;for(;de<ne;)Z+=this.elementLayout.getSpan(_,L+Z),++de}return Z}decode(_,L=0){const Z=[];let ne=0,de=this.count;for(de instanceof c&&(de=de.decode(_,L));ne<de;)Z.push(this.elementLayout.decode(_,L)),L+=this.elementLayout.getSpan(_,L),ne+=1;return Z}encode(_,L,Z=0){const ne=this.elementLayout,de=_.reduce((Ie,De)=>Ie+ne.encode(De,L,Z+Ie),0);return this.count instanceof c&&this.count.encode(_.length,L,Z),de}}Ee.Sequence=q;class M extends i{constructor(_,L,Z){if(!(Array.isArray(_)&&_.reduce((de,Ie)=>de&&Ie instanceof i,!0)))throw new TypeError("fields must be array of Layout instances");typeof L=="boolean"&&Z===void 0&&(Z=L,L=void 0);for(const de of _)if(0>de.span&&de.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let ne=-1;try{ne=_.reduce((de,Ie)=>de+Ie.getSpan(),0)}catch{}super(ne,L),this.fields=_,this.decodePrefixes=!!Z}getSpan(_,L=0){if(0<=this.span)return this.span;let Z=0;try{Z=this.fields.reduce((ne,de)=>{const Ie=de.getSpan(_,L);return L+=Ie,ne+Ie},0)}catch{throw new RangeError("indeterminate span")}return Z}decode(_,L=0){e(_);const Z=this.makeDestinationObject();for(const ne of this.fields)if(ne.property!==void 0&&(Z[ne.property]=ne.decode(_,L)),L+=ne.getSpan(_,L),this.decodePrefixes&&_.length===L)break;return Z}encode(_,L,Z=0){const ne=Z;let de=0,Ie=0;for(const De of this.fields){let it=De.span;if(Ie=0<it?it:0,De.property!==void 0){const ot=_[De.property];ot!==void 0&&(Ie=De.encode(ot,L,Z),0>it&&(it=De.getSpan(L,Z)))}de=Z,Z+=it}return de+Ie-ne}fromArray(_){const L=this.makeDestinationObject();for(const Z of this.fields)Z.property!==void 0&&0<_.length&&(L[Z.property]=_.shift());return L}layoutFor(_){if(typeof _!="string")throw new TypeError("property must be string");for(const L of this.fields)if(L.property===_)return L}offsetOf(_){if(typeof _!="string")throw new TypeError("property must be string");let L=0;for(const Z of this.fields){if(Z.property===_)return L;0>Z.span?L=-1:0<=L&&(L+=Z.span)}}}Ee.Structure=M;class U{constructor(_){this.property=_}decode(_,L){throw new Error("UnionDiscriminator is abstract")}encode(_,L,Z){throw new Error("UnionDiscriminator is abstract")}}Ee.UnionDiscriminator=U;class W extends U{constructor(_,L){if(!(_ instanceof c&&_.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(L||_.property||"variant"),this.layout=_}decode(_,L){return this.layout.decode(_,L)}encode(_,L,Z){return this.layout.encode(_,L,Z)}}Ee.UnionLayoutDiscriminator=W;class F extends i{constructor(_,L,Z){let ne;if(_ instanceof p||_ instanceof g)ne=new W(new d(_));else if(_ instanceof c&&_.isCount())ne=new W(_);else if(_ instanceof U)ne=_;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(L===void 0&&(L=null),!(L===null||L instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(L!==null){if(0>L.span)throw new Error("defaultLayout must have constant span");L.property===void 0&&(L=L.replicate("content"))}let de=-1;L&&(de=L.span,0<=de&&(_ instanceof p||_ instanceof g)&&(de+=ne.layout.span)),super(de,Z),this.discriminator=ne,this.usesPrefixDiscriminator=_ instanceof p||_ instanceof g,this.defaultLayout=L,this.registry={};let Ie=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(De){return Ie(De)},this.configGetSourceVariant=function(De){Ie=De.bind(this)}}getSpan(_,L=0){if(0<=this.span)return this.span;const Z=this.getVariant(_,L);if(!Z)throw new Error("unable to determine span for unrecognized variant");return Z.getSpan(_,L)}defaultGetSourceVariant(_){if(Object.prototype.hasOwnProperty.call(_,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(_,this.defaultLayout.property))return;const L=this.registry[_[this.discriminator.property]];if(L&&(!L.layout||L.property&&Object.prototype.hasOwnProperty.call(_,L.property)))return L}else for(const L in this.registry){const Z=this.registry[L];if(Z.property&&Object.prototype.hasOwnProperty.call(_,Z.property))return Z}throw new Error("unable to infer src variant")}decode(_,L=0){let Z;const ne=this.discriminator,de=ne.decode(_,L),Ie=this.registry[de];if(Ie===void 0){const De=this.defaultLayout;let it=0;this.usesPrefixDiscriminator&&(it=ne.layout.span),Z=this.makeDestinationObject(),Z[ne.property]=de,Z[De.property]=De.decode(_,L+it)}else Z=Ie.decode(_,L);return Z}encode(_,L,Z=0){const ne=this.getSourceVariant(_);if(ne===void 0){const de=this.discriminator,Ie=this.defaultLayout;let De=0;return this.usesPrefixDiscriminator&&(De=de.layout.span),de.encode(_[de.property],L,Z),De+Ie.encode(_[Ie.property],L,Z+De)}return ne.encode(_,L,Z)}addVariant(_,L,Z){const ne=new S(this,_,L,Z);return this.registry[_]=ne,ne}getVariant(_,L=0){let Z;return _ instanceof Uint8Array?Z=this.discriminator.decode(_,L):Z=_,this.registry[Z]}}Ee.Union=F;class S extends i{constructor(_,L,Z,ne){if(!(_ instanceof F))throw new TypeError("union must be a Union");if(!Number.isInteger(L)||0>L)throw new TypeError("variant must be a (non-negative) integer");if(typeof Z=="string"&&ne===void 0&&(ne=Z,Z=null),Z){if(!(Z instanceof i))throw new TypeError("layout must be a Layout");if(_.defaultLayout!==null&&0<=Z.span&&Z.span>_.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof ne!="string")throw new TypeError("variant must have a String property")}let de=_.span;0>_.span&&(de=Z?Z.span:0,0<=de&&_.usesPrefixDiscriminator&&(de+=_.discriminator.layout.span)),super(de,ne),this.union=_,this.variant=L,this.layout=Z||null}getSpan(_,L=0){if(0<=this.span)return this.span;let Z=0;this.union.usesPrefixDiscriminator&&(Z=this.union.discriminator.layout.span);let ne=0;return this.layout&&(ne=this.layout.getSpan(_,L+Z)),Z+ne}decode(_,L=0){const Z=this.makeDestinationObject();if(this!==this.union.getVariant(_,L))throw new Error("variant mismatch");let ne=0;return this.union.usesPrefixDiscriminator&&(ne=this.union.discriminator.layout.span),this.layout?Z[this.property]=this.layout.decode(_,L+ne):this.property?Z[this.property]=!0:this.union.usesPrefixDiscriminator&&(Z[this.union.discriminator.property]=this.variant),Z}encode(_,L,Z=0){let ne=0;if(this.union.usesPrefixDiscriminator&&(ne=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(_,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,L,Z);let de=ne;if(this.layout&&(this.layout.encode(_[this.property],L,Z+ne),de+=this.layout.getSpan(L,Z+ne),0<=this.union.span&&de>this.union.span))throw new Error("encoded variant overruns containing union");return de}fromArray(_){if(this.layout)return this.layout.fromArray(_)}}Ee.VariantLayout=S;function w(b){return 0>b&&(b+=4294967296),b}class I extends i{constructor(_,L,Z){if(!(_ instanceof p||_ instanceof g))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof L=="string"&&Z===void 0&&(Z=L,L=!1),4<_.span)throw new RangeError("word cannot exceed 32 bits");super(_.span,Z),this.word=_,this.msb=!!L,this.fields=[];let ne=0;this._packedSetValue=function(de){return ne=w(de),this},this._packedGetValue=function(){return ne}}decode(_,L=0){const Z=this.makeDestinationObject(),ne=this.word.decode(_,L);this._packedSetValue(ne);for(const de of this.fields)de.property!==void 0&&(Z[de.property]=de.decode(_));return Z}encode(_,L,Z=0){const ne=this.word.decode(L,Z);this._packedSetValue(ne);for(const de of this.fields)if(de.property!==void 0){const Ie=_[de.property];Ie!==void 0&&de.encode(Ie)}return this.word.encode(this._packedGetValue(),L,Z)}addField(_,L){const Z=new C(this,_,L);return this.fields.push(Z),Z}addBoolean(_){const L=new j(this,_);return this.fields.push(L),L}fieldFor(_){if(typeof _!="string")throw new TypeError("property must be string");for(const L of this.fields)if(L.property===_)return L}}Ee.BitStructure=I;class C{constructor(_,L,Z){if(!(_ instanceof I))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(L)||0>=L)throw new TypeError("bits must be positive integer");const ne=8*_.span,de=_.fields.reduce((Ie,De)=>Ie+De.bits,0);if(L+de>ne)throw new Error("bits too long for span remainder ("+(ne-de)+" of "+ne+" remain)");this.container=_,this.bits=L,this.valueMask=(1<<L)-1,L===32&&(this.valueMask=4294967295),this.start=de,this.container.msb&&(this.start=ne-de-L),this.wordMask=w(this.valueMask<<this.start),this.property=Z}decode(_,L){const Z=this.container._packedGetValue();return w(Z&this.wordMask)>>>this.start}encode(_){if(typeof _!="number"||!Number.isInteger(_)||_!==w(_&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const L=this.container._packedGetValue(),Z=w(_<<this.start);this.container._packedSetValue(w(L&~this.wordMask)|Z)}}Ee.BitField=C;class j extends C{constructor(_,L){super(_,1,L)}decode(_,L){return!!super.decode(_,L)}encode(_){typeof _=="boolean"&&(_=+_),super.encode(_)}}Ee.Boolean=j;class Y extends i{constructor(_,L){if(!(_ instanceof c&&_.isCount()||Number.isInteger(_)&&0<=_))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let Z=-1;_ instanceof c||(Z=_),super(Z,L),this.length=_}getSpan(_,L){let Z=this.span;return 0>Z&&(Z=this.length.decode(_,L)),Z}decode(_,L=0){let Z=this.span;return 0>Z&&(Z=this.length.decode(_,L)),n(_).slice(L,L+Z)}encode(_,L,Z){let ne=this.length;if(this.length instanceof c&&(ne=_.length),!(_ instanceof Uint8Array&&ne===_.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+ne+") Uint8Array as src");if(Z+ne>L.length)throw new RangeError("encoding overruns Uint8Array");const de=n(_);return n(L).write(de.toString("hex"),Z,ne,"hex"),this.length instanceof c&&this.length.encode(ne,L,Z),ne}}Ee.Blob=Y;class te extends i{constructor(_){super(-1,_)}getSpan(_,L=0){e(_);let Z=L;for(;Z<_.length&&_[Z]!==0;)Z+=1;return 1+Z-L}decode(_,L=0){const Z=this.getSpan(_,L);return n(_).slice(L,L+Z-1).toString("utf-8")}encode(_,L,Z=0){typeof _!="string"&&(_=String(_));const ne=r.Buffer.from(_,"utf8"),de=ne.length;if(Z+de>L.length)throw new RangeError("encoding overruns Buffer");const Ie=n(L);return ne.copy(Ie,Z),Ie[Z+de]=0,de+1}}Ee.CString=te;class z extends i{constructor(_,L){if(typeof _=="string"&&L===void 0&&(L=_,_=void 0),_===void 0)_=-1;else if(!Number.isInteger(_))throw new TypeError("maxSpan must be an integer");super(-1,L),this.maxSpan=_}getSpan(_,L=0){return e(_),_.length-L}decode(_,L=0){const Z=this.getSpan(_,L);if(0<=this.maxSpan&&this.maxSpan<Z)throw new RangeError("text length exceeds maxSpan");return n(_).slice(L,L+Z).toString("utf-8")}encode(_,L,Z=0){typeof _!="string"&&(_=String(_));const ne=r.Buffer.from(_,"utf8"),de=ne.length;if(0<=this.maxSpan&&this.maxSpan<de)throw new RangeError("text length exceeds maxSpan");if(Z+de>L.length)throw new RangeError("encoding overruns Buffer");return ne.copy(n(L),Z),de}}Ee.UTF8=z;class P extends i{constructor(_,L){super(0,L),this.value=_}decode(_,L){return this.value}encode(_,L,Z){return 0}}return Ee.Constant=P,Ee.greedy=((b,_)=>new h(b,_)),Ee.offset=((b,_,L)=>new d(b,_,L)),Ee.u8=(b=>new p(1,b)),Ee.u16=(b=>new p(2,b)),Ee.u24=(b=>new p(3,b)),Ee.u32=(b=>new p(4,b)),Ee.u40=(b=>new p(5,b)),Ee.u48=(b=>new p(6,b)),Ee.nu64=(b=>new B(b)),Ee.u16be=(b=>new g(2,b)),Ee.u24be=(b=>new g(3,b)),Ee.u32be=(b=>new g(4,b)),Ee.u40be=(b=>new g(5,b)),Ee.u48be=(b=>new g(6,b)),Ee.nu64be=(b=>new K(b)),Ee.s8=(b=>new E(1,b)),Ee.s16=(b=>new E(2,b)),Ee.s24=(b=>new E(3,b)),Ee.s32=(b=>new E(4,b)),Ee.s40=(b=>new E(5,b)),Ee.s48=(b=>new E(6,b)),Ee.ns64=(b=>new $(b)),Ee.s16be=(b=>new A(2,b)),Ee.s24be=(b=>new A(3,b)),Ee.s32be=(b=>new A(4,b)),Ee.s40be=(b=>new A(5,b)),Ee.s48be=(b=>new A(6,b)),Ee.ns64be=(b=>new G(b)),Ee.f32=(b=>new re(b)),Ee.f32be=(b=>new ae(b)),Ee.f64=(b=>new le(b)),Ee.f64be=(b=>new Q(b)),Ee.struct=((b,_,L)=>new M(b,_,L)),Ee.bits=((b,_,L)=>new I(b,_,L)),Ee.seq=((b,_,L)=>new q(b,_,L)),Ee.union=((b,_,L)=>new F(b,_,L)),Ee.unionLayoutDiscriminator=((b,_)=>new W(b,_)),Ee.blob=((b,_)=>new Y(b,_)),Ee.cstr=(b=>new te(b)),Ee.utf8=((b,_)=>new z(b,_)),Ee.constant=((b,_)=>new P(b,_)),Ee}var ie=ZU(),JU=8078e3,e9=8078001,t9=8078004,n9=8078005,r9=8078006,i9=8078011;function iC(r){return Array.isArray(r)?"%5B"+r.map(iC).join("%2C%20")+"%5D":typeof r=="bigint"?`${r}n`:encodeURIComponent(String(r!=null&&Object.getPrototypeOf(r)===null?{...r}:r))}function s9([r,e]){return`${r}=${iC(e)}`}function a9(r){const e=Object.entries(r).map(s9).join("&");return btoa(e)}function o9(r,e={}){{let n=`Solana error #${r}; Decode this error by running \`npx @solana/errors decode -- ${r}`;return Object.keys(e).length&&(n+=` '${a9(e)}'`),`${n}\``}}var tu=class extends Error{cause=this.cause;context;constructor(...[r,e]){let n,i;if(e){const{cause:o,...c}=e;o&&(i={cause:o}),Object.keys(c).length>0&&(n=c)}const a=o9(r,n);super(a,i),this.context={__code:r,...n},this.name="SolanaError"}};function l9(r,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(r)}function c9(r){return Object.freeze({...r,encode:e=>{const n=new Uint8Array(l9(e,r));return r.write(e,n,0),n}})}function u9(r){return Object.freeze({...r,decode:(e,n=0)=>r.read(e,n)[0]})}function Bc(r){return"fixedSize"in r&&typeof r.fixedSize=="number"}function h9(r,e){if(Bc(r)!==Bc(e))throw new tu(t9);if(Bc(r)&&Bc(e)&&r.fixedSize!==e.fixedSize)throw new tu(n9,{decoderFixedSize:e.fixedSize,encoderFixedSize:r.fixedSize});if(!Bc(r)&&!Bc(e)&&r.maxSize!==e.maxSize)throw new tu(r9,{decoderMaxSize:e.maxSize,encoderMaxSize:r.maxSize});return{...e,...r,decode:e.decode,encode:r.encode,read:e.read,write:r.write}}function f9(r,e,n=0){if(e.length-n<=0)throw new tu(JU,{codecDescription:r})}function d9(r,e,n,i=0){const a=n.length-i;if(a<e)throw new tu(e9,{bytesLength:a,codecDescription:r,expected:e})}function p9(r,e,n,i){if(i<e||i>n)throw new tu(i9,{codecDescription:r,max:n,min:e,value:i})}function sC(r){return r?.endian!==1}function m9(r){return c9({fixedSize:r.size,write(e,n,i){r.range&&p9(r.name,r.range[0],r.range[1],e);const a=new ArrayBuffer(r.size);return r.set(new DataView(a),e,sC(r.config)),n.set(new Uint8Array(a),i),i+r.size}})}function g9(r){return u9({fixedSize:r.size,read(e,n=0){f9(r.name,e,n),d9(r.name,r.size,e,n);const i=new DataView(y9(e,n,r.size));return[r.get(i,sC(r.config)),n+r.size]}})}function y9(r,e,n){const i=r.byteOffset+(e??0),a=n??r.byteLength;return r.buffer.slice(i,i+a)}var aC=(r={})=>m9({config:r,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,i)=>e.setBigUint64(0,BigInt(n),i),size:8}),w9=(r={})=>g9({config:r,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),b9=(r={})=>h9(aC(r),w9(r));class v9 extends TypeError{constructor(e,n){let i;const{message:a,explanation:o,...c}=e,{path:h}=e,d=h.length===0?a:`At path: ${h.join(".")} -- ${a}`;super(o??d),o!=null&&(this.cause=d),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>i??(i=[e,...n()])}}function _9(r){return jf(r)&&typeof r[Symbol.iterator]=="function"}function jf(r){return typeof r=="object"&&r!=null}function vm(r){return jf(r)&&!Array.isArray(r)}function ds(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function E9(r){const{done:e,value:n}=r.next();return e?void 0:n}function S9(r,e,n,i){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:a,branch:o}=e,{type:c}=n,{refinement:h,message:d=`Expected a value of type \`${c}\`${h?` with refinement \`${h}\``:""}, but received: \`${ds(i)}\``}=r;return{value:i,type:c,refinement:h,key:a[a.length-1],path:a,branch:o,...r,message:d}}function*GT(r,e,n,i){_9(r)||(r=[r]);for(const a of r){const o=S9(a,e,n,i);o&&(yield o)}}function*Vv(r,e,n={}){const{path:i=[],branch:a=[r],coerce:o=!1,mask:c=!1}=n,h={path:i,branch:a,mask:c};o&&(r=e.coercer(r,h));let d="valid";for(const p of e.validator(r,h))p.explanation=n.message,d="not_valid",yield[p,void 0];for(let[p,g,E]of e.entries(r,h)){const A=Vv(g,E,{path:p===void 0?i:[...i,p],branch:p===void 0?a:[...a,g],coerce:o,mask:c,message:n.message});for(const T of A)T[0]?(d=T[0].refinement!=null?"not_refined":"not_valid",yield[T[0],void 0]):o&&(g=T[1],p===void 0?r=g:r instanceof Map?r.set(p,g):r instanceof Set?r.add(g):jf(r)&&(g!==void 0||p in r)&&(r[p]=g))}if(d!=="not_valid")for(const p of e.refiner(r,h))p.explanation=n.message,d="not_refined",yield[p,void 0];d==="valid"&&(yield[void 0,r])}let Qs=class{constructor(e){const{type:n,schema:i,validator:a,refiner:o,coercer:c=d=>d,entries:h=function*(){}}=e;this.type=n,this.schema=i,this.entries=h,this.coercer=c,a?this.validator=(d,p)=>{const g=a(d,p);return GT(g,p,this,d)}:this.validator=()=>[],o?this.refiner=(d,p)=>{const g=o(d,p);return GT(g,p,this,d)}:this.refiner=()=>[]}assert(e,n){return oC(e,this,n)}create(e,n){return qe(e,this,n)}is(e){return lC(e,this)}mask(e,n){return A9(e,this,n)}validate(e,n={}){return qf(e,this,n)}};function oC(r,e,n){const i=qf(r,e,{message:n});if(i[0])throw i[0]}function qe(r,e,n){const i=qf(r,e,{coerce:!0,message:n});if(i[0])throw i[0];return i[1]}function A9(r,e,n){const i=qf(r,e,{coerce:!0,mask:!0,message:n});if(i[0])throw i[0];return i[1]}function lC(r,e){return!qf(r,e)[0]}function qf(r,e,n={}){const i=Vv(r,e,n),a=E9(i);return a[0]?[new v9(a[0],function*(){for(const c of i)c[0]&&(yield c[0])}),void 0]:[void 0,a[1]]}function Fl(r,e){return new Qs({type:r,schema:null,validator:e})}function T9(){return Fl("any",()=>!0)}function We(r){return new Qs({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(const[n,i]of e.entries())yield[n,i,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ds(e)}`}})}function Gs(){return Fl("boolean",r=>typeof r=="boolean")}function zv(r){return Fl("instance",e=>e instanceof r||`Expected a \`${r.name}\` instance, but received: ${ds(e)}`)}function Vn(r){const e=ds(r),n=typeof r;return new Qs({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?r:null,validator(i){return i===r||`Expected the literal \`${e}\`, but received: ${ds(i)}`}})}function I9(){return Fl("never",()=>!1)}function Fe(r){return new Qs({...r,validator:(e,n)=>e===null||r.validator(e,n),refiner:(e,n)=>e===null||r.refiner(e,n)})}function be(){return Fl("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${ds(r)}`)}function at(r){return new Qs({...r,validator:(e,n)=>e===void 0||r.validator(e,n),refiner:(e,n)=>e===void 0||r.refiner(e,n)})}function cC(r,e){return new Qs({type:"record",schema:null,*entries(n){if(jf(n))for(const i in n){const a=n[i];yield[i,i,r],yield[i,a,e]}},validator(n){return vm(n)||`Expected an object, but received: ${ds(n)}`},coercer(n){return vm(n)?{...n}:n}})}function Ue(){return Fl("string",r=>typeof r=="string"||`Expected a string, but received: ${ds(r)}`)}function jv(r){const e=I9();return new Qs({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const i=Math.max(r.length,n.length);for(let a=0;a<i;a++)yield[a,n[a],r[a]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${ds(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Pe(r){const e=Object.keys(r);return new Qs({type:"type",schema:r,*entries(n){if(jf(n))for(const i of e)yield[i,n[i],r[i]]},validator(n){return vm(n)||`Expected an object, but received: ${ds(n)}`},coercer(n){return vm(n)?{...n}:n}})}function ii(r){const e=r.map(n=>n.type).join(" | ");return new Qs({type:"union",schema:null,coercer(n,i){for(const a of r){const[o,c]=a.validate(n,{coerce:!0,mask:i.mask});if(!o)return c}return n},validator(n,i){const a=[];for(const o of r){const[...c]=Vv(n,o,i),[h]=c;if(h[0])for(const[d]of c)d&&a.push(d);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ds(n)}`,...a]}})}function Cu(){return Fl("unknown",()=>!0)}function Wf(r,e,n){return new Qs({...r,coercer:(i,a)=>lC(i,e)?r.coercer(n(i,a),a):r.coercer(i,a)})}var vp,R9=new Uint8Array(16);function uC(){if(!vp&&(vp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!vp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vp(R9)}const x9=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Qm(r){return typeof r=="string"&&x9.test(r)}var xr=[];for(var qy=0;qy<256;++qy)xr.push((qy+256).toString(16).substr(1));function Xm(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(xr[r[e+0]]+xr[r[e+1]]+xr[r[e+2]]+xr[r[e+3]]+"-"+xr[r[e+4]]+xr[r[e+5]]+"-"+xr[r[e+6]]+xr[r[e+7]]+"-"+xr[r[e+8]]+xr[r[e+9]]+"-"+xr[r[e+10]]+xr[r[e+11]]+xr[r[e+12]]+xr[r[e+13]]+xr[r[e+14]]+xr[r[e+15]]).toLowerCase();if(!Qm(n))throw TypeError("Stringified UUID is invalid");return n}var YT,Wy,Fy=0,Hy=0;function k9(r,e,n){var i=e&&n||0,a=e||new Array(16);r=r||{};var o=r.node||YT,c=r.clockseq!==void 0?r.clockseq:Wy;if(o==null||c==null){var h=r.random||(r.rng||uC)();o==null&&(o=YT=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),c==null&&(c=Wy=(h[6]<<8|h[7])&16383)}var d=r.msecs!==void 0?r.msecs:Date.now(),p=r.nsecs!==void 0?r.nsecs:Hy+1,g=d-Fy+(p-Hy)/1e4;if(g<0&&r.clockseq===void 0&&(c=c+1&16383),(g<0||d>Fy)&&r.nsecs===void 0&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Fy=d,Hy=p,Wy=c,d+=122192928e5;var E=((d&268435455)*1e4+p)%4294967296;a[i++]=E>>>24&255,a[i++]=E>>>16&255,a[i++]=E>>>8&255,a[i++]=E&255;var A=d/4294967296*1e4&268435455;a[i++]=A>>>8&255,a[i++]=A&255,a[i++]=A>>>24&15|16,a[i++]=A>>>16&255,a[i++]=c>>>8|128,a[i++]=c&255;for(var T=0;T<6;++T)a[i+T]=o[T];return e||Xm(a)}function hC(r){if(!Qm(r))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(r.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(r.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(r.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(r.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function C9(r){r=unescape(encodeURIComponent(r));for(var e=[],n=0;n<r.length;++n)e.push(r.charCodeAt(n));return e}var M9="6ba7b810-9dad-11d1-80b4-00c04fd430c8",O9="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function fC(r,e,n){function i(a,o,c,h){if(typeof a=="string"&&(a=C9(a)),typeof o=="string"&&(o=hC(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+a.length);if(d.set(o),d.set(a,o.length),d=n(d),d[6]=d[6]&15|e,d[8]=d[8]&63|128,c){h=h||0;for(var p=0;p<16;++p)c[h+p]=d[p];return c}return Xm(d)}try{i.name=r}catch{}return i.DNS=M9,i.URL=O9,i}function N9(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var n=0;n<e.length;++n)r[n]=e.charCodeAt(n)}return P9(D9(L9(r),r.length*8))}function P9(r){for(var e=[],n=r.length*32,i="0123456789abcdef",a=0;a<n;a+=8){var o=r[a>>5]>>>a%32&255,c=parseInt(i.charAt(o>>>4&15)+i.charAt(o&15),16);e.push(c)}return e}function dC(r){return(r+64>>>9<<4)+14+1}function D9(r,e){r[e>>5]|=128<<e%32,r[dC(e)-1]=e;for(var n=1732584193,i=-271733879,a=-1732584194,o=271733878,c=0;c<r.length;c+=16){var h=n,d=i,p=a,g=o;n=Hr(n,i,a,o,r[c],7,-680876936),o=Hr(o,n,i,a,r[c+1],12,-389564586),a=Hr(a,o,n,i,r[c+2],17,606105819),i=Hr(i,a,o,n,r[c+3],22,-1044525330),n=Hr(n,i,a,o,r[c+4],7,-176418897),o=Hr(o,n,i,a,r[c+5],12,1200080426),a=Hr(a,o,n,i,r[c+6],17,-1473231341),i=Hr(i,a,o,n,r[c+7],22,-45705983),n=Hr(n,i,a,o,r[c+8],7,1770035416),o=Hr(o,n,i,a,r[c+9],12,-1958414417),a=Hr(a,o,n,i,r[c+10],17,-42063),i=Hr(i,a,o,n,r[c+11],22,-1990404162),n=Hr(n,i,a,o,r[c+12],7,1804603682),o=Hr(o,n,i,a,r[c+13],12,-40341101),a=Hr(a,o,n,i,r[c+14],17,-1502002290),i=Hr(i,a,o,n,r[c+15],22,1236535329),n=Kr(n,i,a,o,r[c+1],5,-165796510),o=Kr(o,n,i,a,r[c+6],9,-1069501632),a=Kr(a,o,n,i,r[c+11],14,643717713),i=Kr(i,a,o,n,r[c],20,-373897302),n=Kr(n,i,a,o,r[c+5],5,-701558691),o=Kr(o,n,i,a,r[c+10],9,38016083),a=Kr(a,o,n,i,r[c+15],14,-660478335),i=Kr(i,a,o,n,r[c+4],20,-405537848),n=Kr(n,i,a,o,r[c+9],5,568446438),o=Kr(o,n,i,a,r[c+14],9,-1019803690),a=Kr(a,o,n,i,r[c+3],14,-187363961),i=Kr(i,a,o,n,r[c+8],20,1163531501),n=Kr(n,i,a,o,r[c+13],5,-1444681467),o=Kr(o,n,i,a,r[c+2],9,-51403784),a=Kr(a,o,n,i,r[c+7],14,1735328473),i=Kr(i,a,o,n,r[c+12],20,-1926607734),n=$r(n,i,a,o,r[c+5],4,-378558),o=$r(o,n,i,a,r[c+8],11,-2022574463),a=$r(a,o,n,i,r[c+11],16,1839030562),i=$r(i,a,o,n,r[c+14],23,-35309556),n=$r(n,i,a,o,r[c+1],4,-1530992060),o=$r(o,n,i,a,r[c+4],11,1272893353),a=$r(a,o,n,i,r[c+7],16,-155497632),i=$r(i,a,o,n,r[c+10],23,-1094730640),n=$r(n,i,a,o,r[c+13],4,681279174),o=$r(o,n,i,a,r[c],11,-358537222),a=$r(a,o,n,i,r[c+3],16,-722521979),i=$r(i,a,o,n,r[c+6],23,76029189),n=$r(n,i,a,o,r[c+9],4,-640364487),o=$r(o,n,i,a,r[c+12],11,-421815835),a=$r(a,o,n,i,r[c+15],16,530742520),i=$r(i,a,o,n,r[c+2],23,-995338651),n=Gr(n,i,a,o,r[c],6,-198630844),o=Gr(o,n,i,a,r[c+7],10,1126891415),a=Gr(a,o,n,i,r[c+14],15,-1416354905),i=Gr(i,a,o,n,r[c+5],21,-57434055),n=Gr(n,i,a,o,r[c+12],6,1700485571),o=Gr(o,n,i,a,r[c+3],10,-1894986606),a=Gr(a,o,n,i,r[c+10],15,-1051523),i=Gr(i,a,o,n,r[c+1],21,-2054922799),n=Gr(n,i,a,o,r[c+8],6,1873313359),o=Gr(o,n,i,a,r[c+15],10,-30611744),a=Gr(a,o,n,i,r[c+6],15,-1560198380),i=Gr(i,a,o,n,r[c+13],21,1309151649),n=Gr(n,i,a,o,r[c+4],6,-145523070),o=Gr(o,n,i,a,r[c+11],10,-1120210379),a=Gr(a,o,n,i,r[c+2],15,718787259),i=Gr(i,a,o,n,r[c+9],21,-343485551),n=To(n,h),i=To(i,d),a=To(a,p),o=To(o,g)}return[n,i,a,o]}function L9(r){if(r.length===0)return[];for(var e=r.length*8,n=new Uint32Array(dC(e)),i=0;i<e;i+=8)n[i>>5]|=(r[i/8]&255)<<i%32;return n}function To(r,e){var n=(r&65535)+(e&65535),i=(r>>16)+(e>>16)+(n>>16);return i<<16|n&65535}function B9(r,e){return r<<e|r>>>32-e}function Zm(r,e,n,i,a,o){return To(B9(To(To(e,r),To(i,o)),a),n)}function Hr(r,e,n,i,a,o,c){return Zm(e&n|~e&i,r,e,a,o,c)}function Kr(r,e,n,i,a,o,c){return Zm(e&i|n&~i,r,e,a,o,c)}function $r(r,e,n,i,a,o,c){return Zm(e^n^i,r,e,a,o,c)}function Gr(r,e,n,i,a,o,c){return Zm(n^(e|~i),r,e,a,o,c)}var U9=fC("v3",48,N9);function V9(r,e,n){r=r||{};var i=r.random||(r.rng||uC)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=i[a];return e}return Xm(i)}function z9(r,e,n,i){switch(r){case 0:return e&n^~e&i;case 1:return e^n^i;case 2:return e&n^e&i^n&i;case 3:return e^n^i}}function Ky(r,e){return r<<e|r>>>32-e}function j9(r){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var i=unescape(encodeURIComponent(r));r=[];for(var a=0;a<i.length;++a)r.push(i.charCodeAt(a))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,c=Math.ceil(o/16),h=new Array(c),d=0;d<c;++d){for(var p=new Uint32Array(16),g=0;g<16;++g)p[g]=r[d*64+g*4]<<24|r[d*64+g*4+1]<<16|r[d*64+g*4+2]<<8|r[d*64+g*4+3];h[d]=p}h[c-1][14]=(r.length-1)*8/Math.pow(2,32),h[c-1][14]=Math.floor(h[c-1][14]),h[c-1][15]=(r.length-1)*8&4294967295;for(var E=0;E<c;++E){for(var A=new Uint32Array(80),T=0;T<16;++T)A[T]=h[E][T];for(var N=16;N<80;++N)A[N]=Ky(A[N-3]^A[N-8]^A[N-14]^A[N-16],1);for(var O=n[0],B=n[1],K=n[2],$=n[3],G=n[4],re=0;re<80;++re){var ae=Math.floor(re/20),le=Ky(O,5)+z9(ae,B,K,$)+G+e[ae]+A[re]>>>0;G=$,$=K,K=Ky(B,30)>>>0,B=O,O=le}n[0]=n[0]+O>>>0,n[1]=n[1]+B>>>0,n[2]=n[2]+K>>>0,n[3]=n[3]+$>>>0,n[4]=n[4]+G>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var q9=fC("v5",80,j9);const W9="00000000-0000-0000-0000-000000000000";function F9(r){if(!Qm(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const H9=Object.freeze(Object.defineProperty({__proto__:null,NIL:W9,parse:hC,stringify:Xm,v1:k9,v3:U9,v4:V9,v5:q9,validate:Qm,version:F9},Symbol.toStringTag,{value:"Module"})),pC=Af(H9);var $y,QT;function K9(){if(QT)return $y;QT=1;const r=pC.v4;return $y=function(n,i,a,o){if(typeof n!="string")throw new TypeError(n+" must be a string");o=o||{};const c=typeof o.version=="number"?o.version:2;if(c!==1&&c!==2)throw new TypeError(c+" must be 1 or 2");const h={method:n};if(c===2&&(h.jsonrpc="2.0"),i){if(typeof i!="object"&&!Array.isArray(i))throw new TypeError(i+" must be an object, array or omitted");h.params=i}if(typeof a>"u"){const d=typeof o.generator=="function"?o.generator:function(){return r()};h.id=d(h,o)}else c===2&&a===null?o.notificationIdNull&&(h.id=null):h.id=a;return h},$y}var Gy,XT;function $9(){if(XT)return Gy;XT=1;const r=pC.v4,e=K9(),n=function(i,a){if(!(this instanceof n))return new n(i,a);a||(a={}),this.options={reviver:typeof a.reviver<"u"?a.reviver:null,replacer:typeof a.replacer<"u"?a.replacer:null,generator:typeof a.generator<"u"?a.generator:function(){return r()},version:typeof a.version<"u"?a.version:2,notificationIdNull:typeof a.notificationIdNull=="boolean"?a.notificationIdNull:!1},this.callServer=i};return Gy=n,n.prototype.request=function(i,a,o,c){const h=this;let d=null;const p=Array.isArray(i)&&typeof a=="function";if(this.options.version===1&&p)throw new TypeError("JSON-RPC 1.0 does not support batching");if(p||!p&&i&&typeof i=="object"&&typeof a=="function")c=a,d=i;else{typeof o=="function"&&(c=o,o=void 0);const A=typeof c=="function";try{d=e(i,a,o,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(T){if(A)return c(T);throw T}if(!A)return d}let E;try{E=JSON.stringify(d,this.options.replacer)}catch(A){return c(A)}return this.callServer(E,function(A,T){h._parseResponse(A,T,c)}),d},n.prototype._parseResponse=function(i,a,o){if(i){o(i);return}if(!a)return o();let c;try{c=JSON.parse(a,this.options.reviver)}catch(h){return o(h)}if(o.length===3)if(Array.isArray(c)){const h=function(p){return typeof p.error<"u"},d=function(p){return!h(p)};return o(null,c.filter(h),c.filter(d))}else return o(null,c.error,c.result);o(null,c)},Gy}var G9=$9();const Y9=qo(G9);var Yy={exports:{}},ZT;function mC(){return ZT||(ZT=1,(function(r){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function a(d,p,g){this.fn=d,this.context=p,this.once=g||!1}function o(d,p,g,E,A){if(typeof g!="function")throw new TypeError("The listener must be a function");var T=new a(g,E||d,A),N=n?n+p:p;return d._events[N]?d._events[N].fn?d._events[N]=[d._events[N],T]:d._events[N].push(T):(d._events[N]=T,d._eventsCount++),d}function c(d,p){--d._eventsCount===0?d._events=new i:delete d._events[p]}function h(){this._events=new i,this._eventsCount=0}h.prototype.eventNames=function(){var p=[],g,E;if(this._eventsCount===0)return p;for(E in g=this._events)e.call(g,E)&&p.push(n?E.slice(1):E);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},h.prototype.listeners=function(p){var g=n?n+p:p,E=this._events[g];if(!E)return[];if(E.fn)return[E.fn];for(var A=0,T=E.length,N=new Array(T);A<T;A++)N[A]=E[A].fn;return N},h.prototype.listenerCount=function(p){var g=n?n+p:p,E=this._events[g];return E?E.fn?1:E.length:0},h.prototype.emit=function(p,g,E,A,T,N){var O=n?n+p:p;if(!this._events[O])return!1;var B=this._events[O],K=arguments.length,$,G;if(B.fn){switch(B.once&&this.removeListener(p,B.fn,void 0,!0),K){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,g),!0;case 3:return B.fn.call(B.context,g,E),!0;case 4:return B.fn.call(B.context,g,E,A),!0;case 5:return B.fn.call(B.context,g,E,A,T),!0;case 6:return B.fn.call(B.context,g,E,A,T,N),!0}for(G=1,$=new Array(K-1);G<K;G++)$[G-1]=arguments[G];B.fn.apply(B.context,$)}else{var re=B.length,ae;for(G=0;G<re;G++)switch(B[G].once&&this.removeListener(p,B[G].fn,void 0,!0),K){case 1:B[G].fn.call(B[G].context);break;case 2:B[G].fn.call(B[G].context,g);break;case 3:B[G].fn.call(B[G].context,g,E);break;case 4:B[G].fn.call(B[G].context,g,E,A);break;default:if(!$)for(ae=1,$=new Array(K-1);ae<K;ae++)$[ae-1]=arguments[ae];B[G].fn.apply(B[G].context,$)}}return!0},h.prototype.on=function(p,g,E){return o(this,p,g,E,!1)},h.prototype.once=function(p,g,E){return o(this,p,g,E,!0)},h.prototype.removeListener=function(p,g,E,A){var T=n?n+p:p;if(!this._events[T])return this;if(!g)return c(this,T),this;var N=this._events[T];if(N.fn)N.fn===g&&(!A||N.once)&&(!E||N.context===E)&&c(this,T);else{for(var O=0,B=[],K=N.length;O<K;O++)(N[O].fn!==g||A&&!N[O].once||E&&N[O].context!==E)&&B.push(N[O]);B.length?this._events[T]=B.length===1?B[0]:B:c(this,T)}return this},h.prototype.removeAllListeners=function(p){var g;return p?(g=n?n+p:p,this._events[g]&&c(this,g)):(this._events=new i,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=n,h.EventEmitter=h,r.exports=h})(Yy)),Yy.exports}var Q9=mC();const qv=qo(Q9);var X9=class extends qv{socket;constructor(r,e,n){super(),this.socket=new window.WebSocket(r,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(r,e,n){const i=n||e;try{this.socket.send(r),i()}catch(a){i(a)}}close(r,e){this.socket.close(r,e)}addEventListener(r,e,n){this.socket.addEventListener(r,e,n)}};function Z9(r,e){return new X9(r,e)}var J9=class{encode(r){return JSON.stringify(r)}decode(r){return JSON.parse(r)}},eV=class extends qv{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(r,e="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:a=1e3,max_reconnects:o=5,...c}={},h,d){super(),this.webSocketFactory=r,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=a,this.max_reconnects=o,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=h||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),d?this.dataPack=d:this.dataPack=new J9,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(r,e,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((a,o)=>{if(!this.ready)return o(new Error("socket not ready"));const c=this.generate_request_id(r,e),h={jsonrpc:"2.0",method:r,params:e||void 0,id:c};this.socket.send(this.dataPack.encode(h),i,d=>{if(d)return o(d);this.queue[c]={promise:[a,o]},n&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],o(new Error("reply timeout"))},n))})})}async login(r){const e=await this.call("rpc.login",r);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(r,e){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const a={jsonrpc:"2.0",method:r,params:e};this.socket.send(this.dataPack.encode(a),o=>{if(o)return i(o);n()})})}async subscribe(r){typeof r=="string"&&(r=[r]);const e=await this.call("rpc.on",r);if(typeof r=="string"&&e[r]!=="ok")throw new Error("Failed subscribing to an event '"+r+"' with: "+e[r]);return e}async unsubscribe(r){typeof r=="string"&&(r=[r]);const e=await this.call("rpc.off",r);if(typeof r=="string"&&e[r]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(r,e){this.socket.close(r||1e3,e)}setAutoReconnect(r){this.reconnect=r}setReconnectInterval(r){this.reconnect_interval=r}setMaxReconnects(r){this.max_reconnects=r}_connect(r,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(r,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=ht.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let a=0;a<n.params.length;a++)i.push(n.params[a]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(r,e),this.reconnect_interval)))})}};const tV=BigInt(0),Ph=BigInt(1),nV=BigInt(2),rV=BigInt(7),iV=BigInt(256),sV=BigInt(113),gC=[],yC=[],wC=[];for(let r=0,e=Ph,n=1,i=0;r<24;r++){[n,i]=[i,(2*n+3*i)%5],gC.push(2*(5*i+n)),yC.push((r+1)*(r+2)/2%64);let a=tV;for(let o=0;o<7;o++)e=(e<<Ph^(e>>rV)*sV)%iV,e&nV&&(a^=Ph<<(Ph<<BigInt(o))-Ph);wC.push(a)}const bC=Nk(wC,!0),aV=bC[0],oV=bC[1],JT=(r,e,n)=>n>32?H8(r,e,n):W8(r,e,n),e2=(r,e,n)=>n>32?K8(r,e,n):F8(r,e,n);function lV(r,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let c=0;c<10;c++)n[c]=r[c]^r[c+10]^r[c+20]^r[c+30]^r[c+40];for(let c=0;c<10;c+=2){const h=(c+8)%10,d=(c+2)%10,p=n[d],g=n[d+1],E=JT(p,g,1)^n[h],A=e2(p,g,1)^n[h+1];for(let T=0;T<50;T+=10)r[c+T]^=E,r[c+T+1]^=A}let a=r[2],o=r[3];for(let c=0;c<24;c++){const h=yC[c],d=JT(a,o,h),p=e2(a,o,h),g=gC[c];a=r[g],o=r[g+1],r[g]=d,r[g+1]=p}for(let c=0;c<50;c+=10){for(let h=0;h<10;h++)n[h]=r[c+h];for(let h=0;h<10;h++)r[c+h]^=~n[(h+2)%10]&n[(h+4)%10]}r[0]^=aV[i],r[1]^=oV[i]}jo(n)}class Wv extends Mv{constructor(e,n,i,a=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=a,this.rounds=o,yf(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=N8(this.state)}clone(){return this._cloneInto()}keccak(){TT(this.state32),lV(this.state32,this.rounds),TT(this.state32),this.posOut=0,this.pos=0}update(e){mu(this),e=$m(e),Da(e);const{blockLen:n,state:i}=this,a=e.length;for(let o=0;o<a;){const c=Math.min(n-this.pos,a-o);for(let h=0;h<c;h++)i[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:a}=this;e[i]^=n,(n&128)!==0&&i===a-1&&this.keccak(),e[a-1]^=128,this.keccak()}writeInto(e){mu(this,!1),Da(e),this.finish();const n=this.state,{blockLen:i}=this;for(let a=0,o=e.length;a<o;){this.posOut>=i&&this.keccak();const c=Math.min(i-this.posOut,o-a);e.set(n.subarray(this.posOut,this.posOut+c),a),this.posOut+=c,a+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return yf(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ck(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,jo(this.state)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:a,rounds:o,enableXOF:c}=this;return e||(e=new Wv(n,i,a,c,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=a,e.enableXOF=c,e.destroyed=this.destroyed,e}}const cV=(r,e,n)=>Ov(()=>new Wv(e,r,n)),t2=cV(1,136,256/8);class vC extends Mv{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,kk(e);const i=$m(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,o=new Uint8Array(a);o.set(i.length>a?e.create().update(i).digest():i);for(let c=0;c<o.length;c++)o[c]^=54;this.iHash.update(o),this.oHash=e.create();for(let c=0;c<o.length;c++)o[c]^=106;this.oHash.update(o),jo(o)}update(e){return mu(this),this.iHash.update(e),this}digestInto(e){mu(this),Da(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:a,destroyed:o,blockLen:c,outputLen:h}=this;return e=e,e.finished=a,e.destroyed=o,e.blockLen=c,e.outputLen=h,e.oHash=n._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const _C=(r,e,n)=>new vC(r,e).update(n).digest();_C.create=(r,e)=>new vC(r,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n2=(r,e)=>(r+(r>=0?e:-e)/EC)/e;function uV(r,e,n){const[[i,a],[o,c]]=e,h=n2(c*r,n),d=n2(-a*r,n);let p=r-h*i-d*o,g=-h*a-d*c;const E=p<Ta,A=g<Ta;E&&(p=-p),A&&(g=-g);const T=Vf(Math.ceil(Uk(n)/2))+nu;if(p<Ta||p>=T||g<Ta||g>=T)throw new Error("splitScalar (endomorphism): failed, k="+r);return{k1neg:E,k1:p,k2neg:A,k2:g}}function gb(r){if(!["compact","recovered","der"].includes(r))throw new Error('Signature format must be "compact", "recovered", or "der"');return r}function Qy(r,e){const n={};for(let i of Object.keys(e))n[i]=r[i]===void 0?e[i]:r[i];return Pl(n.lowS,"lowS"),Pl(n.prehash,"prehash"),n.format!==void 0&&gb(n.format),n}class hV extends Error{constructor(e=""){super(e)}}const va={Err:hV,_tlv:{encode:(r,e)=>{const{Err:n}=va;if(r<0||r>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const i=e.length/2,a=wp(i);if(a.length/2&128)throw new n("tlv.encode: long form length too big");const o=i>127?wp(a.length/2|128):"";return wp(r)+o+a+e},decode(r,e){const{Err:n}=va;let i=0;if(r<0||r>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[i++]!==r)throw new n("tlv.decode: wrong tlv");const a=e[i++],o=!!(a&128);let c=0;if(!o)c=a;else{const d=a&127;if(!d)throw new n("tlv.decode(long): indefinite length not supported");if(d>4)throw new n("tlv.decode(long): byte length is too big");const p=e.subarray(i,i+d);if(p.length!==d)throw new n("tlv.decode: length bytes not complete");if(p[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const g of p)c=c<<8|g;if(i+=d,c<128)throw new n("tlv.decode(long): not minimal encoding")}const h=e.subarray(i,i+c);if(h.length!==c)throw new n("tlv.decode: wrong value length");return{v:h,l:e.subarray(i+c)}}},_int:{encode(r){const{Err:e}=va;if(r<Ta)throw new e("integer: negative integers are not allowed");let n=wp(r);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(r){const{Err:e}=va;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Gm(r)}},toSig(r){const{Err:e,_int:n,_tlv:i}=va,a=Kn("signature",r),{v:o,l:c}=i.decode(48,a);if(c.length)throw new e("invalid signature: left bytes after parsing");const{v:h,l:d}=i.decode(2,o),{v:p,l:g}=i.decode(2,d);if(g.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(h),s:n.decode(p)}},hexFromSig(r){const{_tlv:e,_int:n}=va,i=e.encode(2,n.encode(r.r)),a=e.encode(2,n.encode(r.s)),o=i+a;return e.encode(48,o)}},Ta=BigInt(0),nu=BigInt(1),EC=BigInt(2),_p=BigInt(3),fV=BigInt(4);function Fc(r,e){const{BYTES:n}=r;let i;if(typeof e=="bigint")i=e;else{let a=Kn("private key",e);try{i=r.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!r.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}function dV(r,e={}){const n=eC("weierstrass",r,e),{Fp:i,Fn:a}=n;let o=n.CURVE;const{h:c,n:h}=o;zf(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:d}=e;if(d&&(!i.is0(o.a)||typeof d.beta!="bigint"||!Array.isArray(d.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const p=AC(i,a);function g(){if(!i.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function E(F,S,w){const{x:I,y:C}=S.toAffine(),j=i.toBytes(I);if(Pl(w,"isCompressed"),w){g();const Y=!i.isOdd(C);return Ls(SC(Y),j)}else return Ls(Uint8Array.of(4),j,i.toBytes(C))}function A(F){us(F,void 0,"Point");const{publicKey:S,publicKeyUncompressed:w}=p,I=F.length,C=F[0],j=F.subarray(1);if(I===S&&(C===2||C===3)){const Y=i.fromBytes(j);if(!i.isValid(Y))throw new Error("bad point: is not on curve, wrong x");const te=O(Y);let z;try{z=i.sqrt(te)}catch(_){const L=_ instanceof Error?": "+_.message:"";throw new Error("bad point: is not on curve, sqrt error"+L)}g();const P=i.isOdd(z);return(C&1)===1!==P&&(z=i.neg(z)),{x:Y,y:z}}else if(I===w&&C===4){const Y=i.BYTES,te=i.fromBytes(j.subarray(0,Y)),z=i.fromBytes(j.subarray(Y,Y*2));if(!B(te,z))throw new Error("bad point: is not on curve");return{x:te,y:z}}else throw new Error(`bad point: got length ${I}, expected compressed=${S} or uncompressed=${w}`)}const T=e.toBytes||E,N=e.fromBytes||A;function O(F){const S=i.sqr(F),w=i.mul(S,F);return i.add(i.add(w,i.mul(F,o.a)),o.b)}function B(F,S){const w=i.sqr(S),I=O(F);return i.eql(w,I)}if(!B(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const K=i.mul(i.pow(o.a,_p),fV),$=i.mul(i.sqr(o.b),BigInt(27));if(i.is0(i.add(K,$)))throw new Error("bad curve params: a or b");function G(F,S,w=!1){if(!i.isValid(S)||w&&i.is0(S))throw new Error(`bad point coordinate ${F}`);return S}function re(F){if(!(F instanceof M))throw new Error("ProjectivePoint expected")}function ae(F){if(!d||!d.basises)throw new Error("no endo");return uV(F,d.basises,a.ORDER)}const le=pm((F,S)=>{const{X:w,Y:I,Z:C}=F;if(i.eql(C,i.ONE))return{x:w,y:I};const j=F.is0();S==null&&(S=j?i.ONE:i.inv(C));const Y=i.mul(w,S),te=i.mul(I,S),z=i.mul(C,S);if(j)return{x:i.ZERO,y:i.ZERO};if(!i.eql(z,i.ONE))throw new Error("invZ was invalid");return{x:Y,y:te}}),Q=pm(F=>{if(F.is0()){if(e.allowInfinityPoint&&!i.is0(F.Y))return;throw new Error("bad point: ZERO")}const{x:S,y:w}=F.toAffine();if(!i.isValid(S)||!i.isValid(w))throw new Error("bad point: x or y not field elements");if(!B(S,w))throw new Error("bad point: equation left != right");if(!F.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function q(F,S,w,I,C){return w=new M(i.mul(w.X,F),w.Y,w.Z),S=mm(I,S),w=mm(C,w),S.add(w)}class M{constructor(S,w,I){this.X=G("x",S),this.Y=G("y",w,!0),this.Z=G("z",I),Object.freeze(this)}static CURVE(){return o}static fromAffine(S){const{x:w,y:I}=S||{};if(!S||!i.isValid(w)||!i.isValid(I))throw new Error("invalid affine point");if(S instanceof M)throw new Error("projective point not allowed");return i.is0(w)&&i.is0(I)?M.ZERO:new M(w,I,i.ONE)}static fromBytes(S){const w=M.fromAffine(N(us(S,void 0,"point")));return w.assertValidity(),w}static fromHex(S){return M.fromBytes(Kn("pointHex",S))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(S=8,w=!0){return W.createCache(this,S),w||this.multiply(_p),this}assertValidity(){Q(this)}hasEvenY(){const{y:S}=this.toAffine();if(!i.isOdd)throw new Error("Field doesn't support isOdd");return!i.isOdd(S)}equals(S){re(S);const{X:w,Y:I,Z:C}=this,{X:j,Y,Z:te}=S,z=i.eql(i.mul(w,te),i.mul(j,C)),P=i.eql(i.mul(I,te),i.mul(Y,C));return z&&P}negate(){return new M(this.X,i.neg(this.Y),this.Z)}double(){const{a:S,b:w}=o,I=i.mul(w,_p),{X:C,Y:j,Z:Y}=this;let te=i.ZERO,z=i.ZERO,P=i.ZERO,b=i.mul(C,C),_=i.mul(j,j),L=i.mul(Y,Y),Z=i.mul(C,j);return Z=i.add(Z,Z),P=i.mul(C,Y),P=i.add(P,P),te=i.mul(S,P),z=i.mul(I,L),z=i.add(te,z),te=i.sub(_,z),z=i.add(_,z),z=i.mul(te,z),te=i.mul(Z,te),P=i.mul(I,P),L=i.mul(S,L),Z=i.sub(b,L),Z=i.mul(S,Z),Z=i.add(Z,P),P=i.add(b,b),b=i.add(P,b),b=i.add(b,L),b=i.mul(b,Z),z=i.add(z,b),L=i.mul(j,Y),L=i.add(L,L),b=i.mul(L,Z),te=i.sub(te,b),P=i.mul(L,_),P=i.add(P,P),P=i.add(P,P),new M(te,z,P)}add(S){re(S);const{X:w,Y:I,Z:C}=this,{X:j,Y,Z:te}=S;let z=i.ZERO,P=i.ZERO,b=i.ZERO;const _=o.a,L=i.mul(o.b,_p);let Z=i.mul(w,j),ne=i.mul(I,Y),de=i.mul(C,te),Ie=i.add(w,I),De=i.add(j,Y);Ie=i.mul(Ie,De),De=i.add(Z,ne),Ie=i.sub(Ie,De),De=i.add(w,C);let it=i.add(j,te);return De=i.mul(De,it),it=i.add(Z,de),De=i.sub(De,it),it=i.add(I,C),z=i.add(Y,te),it=i.mul(it,z),z=i.add(ne,de),it=i.sub(it,z),b=i.mul(_,De),z=i.mul(L,de),b=i.add(z,b),z=i.sub(ne,b),b=i.add(ne,b),P=i.mul(z,b),ne=i.add(Z,Z),ne=i.add(ne,Z),de=i.mul(_,de),De=i.mul(L,De),ne=i.add(ne,de),de=i.sub(Z,de),de=i.mul(_,de),De=i.add(De,de),Z=i.mul(ne,De),P=i.add(P,Z),Z=i.mul(it,De),z=i.mul(Ie,z),z=i.sub(z,Z),Z=i.mul(Ie,ne),b=i.mul(it,b),b=i.add(b,Z),new M(z,P,b)}subtract(S){return this.add(S.negate())}is0(){return this.equals(M.ZERO)}multiply(S){const{endo:w}=e;if(!a.isValidNot0(S))throw new Error("invalid scalar: out of range");let I,C;const j=Y=>W.cached(this,Y,te=>_l(M,te));if(w){const{k1neg:Y,k1:te,k2neg:z,k2:P}=ae(S),{p:b,f:_}=j(te),{p:L,f:Z}=j(P);C=_.add(Z),I=q(w.beta,b,L,Y,z)}else{const{p:Y,f:te}=j(S);I=Y,C=te}return _l(M,[I,C])[0]}multiplyUnsafe(S){const{endo:w}=e,I=this;if(!a.isValid(S))throw new Error("invalid scalar: out of range");if(S===Ta||I.is0())return M.ZERO;if(S===nu)return I;if(W.hasCache(this))return this.multiply(S);if(w){const{k1neg:C,k1:j,k2neg:Y,k2:te}=ae(S),{p1:z,p2:P}=bU(M,I,j,te);return q(w.beta,z,P,C,Y)}else return W.unsafe(I,S)}multiplyAndAddUnsafe(S,w,I){const C=this.multiplyUnsafe(w).add(S.multiplyUnsafe(I));return C.is0()?void 0:C}toAffine(S){return le(this,S)}isTorsionFree(){const{isTorsionFree:S}=e;return c===nu?!0:S?S(M,this):W.unsafe(this,h).is0()}clearCofactor(){const{clearCofactor:S}=e;return c===nu?this:S?S(M,this):this.multiplyUnsafe(c)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}toBytes(S=!0){return Pl(S,"isCompressed"),this.assertValidity(),T(M,this,S)}toHex(S=!0){return xl(this.toBytes(S))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(S=!0){return this.toBytes(S)}_setWindowSize(S){this.precompute(S)}static normalizeZ(S){return _l(M,S)}static msm(S,w){return Jk(M,a,S,w)}static fromPrivateKey(S){return M.BASE.multiply(Fc(a,S))}}M.BASE=new M(o.Gx,o.Gy,i.ONE),M.ZERO=new M(i.ZERO,i.ONE,i.ZERO),M.Fp=i,M.Fn=a;const U=a.BITS,W=new Zk(M,e.endo?Math.ceil(U/2):U);return M.BASE.precompute(8),M}function SC(r){return Uint8Array.of(r?2:3)}function AC(r,e){return{secretKey:e.BYTES,publicKey:1+r.BYTES,publicKeyUncompressed:1+2*r.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function pV(r,e={}){const{Fn:n}=r,i=e.randomBytes||Nv,a=Object.assign(AC(r.Fp,n),{seed:Yk(n.ORDER)});function o(T){try{return!!Fc(n,T)}catch{return!1}}function c(T,N){const{publicKey:O,publicKeyUncompressed:B}=a;try{const K=T.length;return N===!0&&K!==O||N===!1&&K!==B?!1:!!r.fromBytes(T)}catch{return!1}}function h(T=i(a.seed)){return gU(us(T,a.seed,"seed"),n.ORDER)}function d(T,N=!0){return r.BASE.multiply(Fc(n,T)).toBytes(N)}function p(T){const N=h(T);return{secretKey:N,publicKey:d(N)}}function g(T){if(typeof T=="bigint")return!1;if(T instanceof r)return!0;const{secretKey:N,publicKey:O,publicKeyUncompressed:B}=a;if(n.allowedLengths||N===O)return;const K=Kn("key",T).length;return K===O||K===B}function E(T,N,O=!0){if(g(T)===!0)throw new Error("first arg must be private key");if(g(N)===!1)throw new Error("second arg must be public key");const B=Fc(n,T);return r.fromHex(N).multiply(B).toBytes(O)}return Object.freeze({getPublicKey:d,getSharedSecret:E,keygen:p,Point:r,utils:{isValidSecretKey:o,isValidPublicKey:c,randomSecretKey:h,isValidPrivateKey:o,randomPrivateKey:h,normPrivateKeyToScalar:T=>Fc(n,T),precompute(T=8,N=r.BASE){return N.precompute(T,!1)}},lengths:a})}function mV(r,e,n={}){kk(e),zf(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const i=n.randomBytes||Nv,a=n.hmac||((w,...I)=>_C(e,w,Ls(...I))),{Fp:o,Fn:c}=r,{ORDER:h,BITS:d}=c,{keygen:p,getPublicKey:g,getSharedSecret:E,utils:A,lengths:T}=pV(r,n),N={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},O="compact";function B(w){const I=h>>nu;return w>I}function K(w,I){if(!c.isValidNot0(I))throw new Error(`invalid signature ${w}: out of range 1..Point.Fn.ORDER`);return I}function $(w,I){gb(I);const C=T.signature,j=I==="compact"?C:I==="recovered"?C+1:void 0;return us(w,j,`${I} signature`)}class G{constructor(I,C,j){this.r=K("r",I),this.s=K("s",C),j!=null&&(this.recovery=j),Object.freeze(this)}static fromBytes(I,C=O){$(I,C);let j;if(C==="der"){const{r:P,s:b}=va.toSig(us(I));return new G(P,b)}C==="recovered"&&(j=I[0],C="compact",I=I.subarray(1));const Y=c.BYTES,te=I.subarray(0,Y),z=I.subarray(Y,Y*2);return new G(c.fromBytes(te),c.fromBytes(z),j)}static fromHex(I,C){return this.fromBytes(dm(I),C)}addRecoveryBit(I){return new G(this.r,this.s,I)}recoverPublicKey(I){const C=o.ORDER,{r:j,s:Y,recovery:te}=this;if(te==null||![0,1,2,3].includes(te))throw new Error("recovery id invalid");if(h*EC<C&&te>1)throw new Error("recovery id is ambiguous for h>1 curve");const P=te===2||te===3?j+h:j;if(!o.isValid(P))throw new Error("recovery id 2 or 3 invalid");const b=o.toBytes(P),_=r.fromBytes(Ls(SC((te&1)===0),b)),L=c.inv(P),Z=ae(Kn("msgHash",I)),ne=c.create(-Z*L),de=c.create(Y*L),Ie=r.BASE.multiplyUnsafe(ne).add(_.multiplyUnsafe(de));if(Ie.is0())throw new Error("point at infinify");return Ie.assertValidity(),Ie}hasHighS(){return B(this.s)}toBytes(I=O){if(gb(I),I==="der")return dm(va.hexFromSig(this));const C=c.toBytes(this.r),j=c.toBytes(this.s);if(I==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Ls(Uint8Array.of(this.recovery),C,j)}return Ls(C,j)}toHex(I){return xl(this.toBytes(I))}assertValidity(){}static fromCompact(I){return G.fromBytes(Kn("sig",I),"compact")}static fromDER(I){return G.fromBytes(Kn("sig",I),"der")}normalizeS(){return this.hasHighS()?new G(this.r,c.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return xl(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return xl(this.toBytes("compact"))}}const re=n.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const C=Gm(I),j=I.length*8-d;return j>0?C>>BigInt(j):C},ae=n.bits2int_modN||function(I){return c.create(re(I))},le=Vf(d);function Q(w){return mb("num < 2^"+d,w,Ta,le),c.toBytes(w)}function q(w,I){return us(w,void 0,"message"),I?us(e(w),void 0,"prehashed message"):w}function M(w,I,C){if(["recovered","canonical"].some(ne=>ne in C))throw new Error("sign() legacy options not supported");const{lowS:j,prehash:Y,extraEntropy:te}=Qy(C,N);w=q(w,Y);const z=ae(w),P=Fc(c,I),b=[Q(P),Q(z)];if(te!=null&&te!==!1){const ne=te===!0?i(T.secretKey):te;b.push(Kn("extraEntropy",ne))}const _=Ls(...b),L=z;function Z(ne){const de=re(ne);if(!c.isValidNot0(de))return;const Ie=c.inv(de),De=r.BASE.multiply(de).toAffine(),it=c.create(De.x);if(it===Ta)return;const ot=c.create(Ie*c.create(L+it*P));if(ot===Ta)return;let _t=(De.x===it?0:2)|Number(De.y&nu),Nn=ot;return j&&B(ot)&&(Nn=c.neg(ot),_t^=1),new G(it,Nn,_t)}return{seed:_,k2sig:Z}}function U(w,I,C={}){w=Kn("message",w);const{seed:j,k2sig:Y}=M(w,I,C);return aU(e.outputLen,c.BYTES,a)(j,Y)}function W(w){let I;const C=typeof w=="string"||Uf(w),j=!C&&w!==null&&typeof w=="object"&&typeof w.r=="bigint"&&typeof w.s=="bigint";if(!C&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(j)I=new G(w.r,w.s);else if(C){try{I=G.fromBytes(Kn("sig",w),"der")}catch(Y){if(!(Y instanceof va.Err))throw Y}if(!I)try{I=G.fromBytes(Kn("sig",w),"compact")}catch{return!1}}return I||!1}function F(w,I,C,j={}){const{lowS:Y,prehash:te,format:z}=Qy(j,N);if(C=Kn("publicKey",C),I=q(Kn("message",I),te),"strict"in j)throw new Error("options.strict was renamed to lowS");const P=z===void 0?W(w):G.fromBytes(Kn("sig",w),z);if(P===!1)return!1;try{const b=r.fromBytes(C);if(Y&&P.hasHighS())return!1;const{r:_,s:L}=P,Z=ae(I),ne=c.inv(L),de=c.create(Z*ne),Ie=c.create(_*ne),De=r.BASE.multiplyUnsafe(de).add(b.multiplyUnsafe(Ie));return De.is0()?!1:c.create(De.x)===_}catch{return!1}}function S(w,I,C={}){const{prehash:j}=Qy(C,N);return I=q(I,j),G.fromBytes(w,"recovered").recoverPublicKey(I).toBytes()}return Object.freeze({keygen:p,getPublicKey:g,getSharedSecret:E,utils:A,lengths:T,Point:r,sign:U,verify:F,recoverPublicKey:S,Signature:G,hash:e})}function gV(r){const e={a:r.a,b:r.b,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},n=r.Fp;let i=r.allowedPrivateKeyLengths?Array.from(new Set(r.allowedPrivateKeyLengths.map(c=>Math.ceil(c/2)))):void 0;const a=Wl(e.n,{BITS:r.nBitLength,allowedLengths:i,modFromBytes:r.wrapPrivateKey}),o={Fp:n,Fn:a,allowInfinityPoint:r.allowInfinityPoint,endo:r.endo,isTorsionFree:r.isTorsionFree,clearCofactor:r.clearCofactor,fromBytes:r.fromBytes,toBytes:r.toBytes};return{CURVE:e,curveOpts:o}}function yV(r){const{CURVE:e,curveOpts:n}=gV(r),i={hmac:r.hmac,randomBytes:r.randomBytes,lowS:r.lowS,bits2int:r.bits2int,bits2int_modN:r.bits2int_modN};return{CURVE:e,curveOpts:n,hash:r.hash,ecdsaOpts:i}}function wV(r,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},r,$k(n.Fn.ORDER,n.Fn.BITS))})}function bV(r){const{CURVE:e,curveOpts:n,hash:i,ecdsaOpts:a}=yV(r),o=dV(e,n),c=mV(o,i,a);return wV(r,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vV(r,e){const n=i=>bV({...r,hash:i});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fv={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},_V={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},r2=BigInt(2);function EV(r){const e=Fv.p,n=BigInt(3),i=BigInt(6),a=BigInt(11),o=BigInt(22),c=BigInt(23),h=BigInt(44),d=BigInt(88),p=r*r*r%e,g=p*p*r%e,E=Hn(g,n,e)*g%e,A=Hn(E,n,e)*g%e,T=Hn(A,r2,e)*p%e,N=Hn(T,a,e)*T%e,O=Hn(N,o,e)*N%e,B=Hn(O,h,e)*O%e,K=Hn(B,d,e)*B%e,$=Hn(K,h,e)*O%e,G=Hn($,n,e)*g%e,re=Hn(G,c,e)*N%e,ae=Hn(re,i,e)*p%e,le=Hn(ae,r2,e);if(!yb.eql(yb.sqr(le),r))throw new Error("Cannot find square root");return le}const yb=Wl(Fv.p,{sqrt:EV}),Hv=vV({...Fv,Fp:yb,lowS:!0,endo:_V},Dk),SV=ku.utils.randomPrivateKey,i2=()=>{const r=ku.utils.randomPrivateKey(),e=_m(r),n=new Uint8Array(64);return n.set(r),n.set(e,32),{publicKey:e,secretKey:n}},_m=ku.getPublicKey;function s2(r){try{return ku.ExtendedPoint.fromHex(r),!0}catch{return!1}}const Kv=(r,e)=>ku.sign(r,e.slice(0,32)),AV=ku.verify,xt=r=>ht.Buffer.isBuffer(r)?r:r instanceof Uint8Array?ht.Buffer.from(r.buffer,r.byteOffset,r.byteLength):ht.Buffer.from(r);class $v{constructor(e){Object.assign(this,e)}encode(){return ht.Buffer.from(jy.serialize(rf,this))}static decode(e){return jy.deserialize(rf,this,e)}static decodeUnchecked(e){return jy.deserializeUnchecked(rf,this,e)}}class TV extends $v{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const rf=new Map;var TC;const IC=32,Ks=32;function IV(r){return r._bn!==void 0}let a2=1;class ze extends $v{constructor(e){if(super({}),this._bn=void 0,IV(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Or.decode(e);if(n.length!=Ks)throw new Error("Invalid public key input");this._bn=new VT(n)}else this._bn=new VT(e);if(this._bn.byteLength()>Ks)throw new Error("Invalid public key input")}}static unique(){const e=new ze(a2);return a2+=1,new ze(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Or.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ht.Buffer);if(e.length===Ks)return e;const n=ht.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,i){const a=ht.Buffer.concat([e.toBuffer(),ht.Buffer.from(n),i.toBuffer()]),o=WT(a);return new ze(o)}static createProgramAddressSync(e,n){let i=ht.Buffer.alloc(0);e.forEach(function(o){if(o.length>IC)throw new TypeError("Max seed length exceeded");i=ht.Buffer.concat([i,xt(o)])}),i=ht.Buffer.concat([i,n.toBuffer(),ht.Buffer.from("ProgramDerivedAddress")]);const a=WT(i);if(s2(a))throw new Error("Invalid seeds, address must fall off the curve");return new ze(a)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let i=255,a;for(;i!=0;){try{const o=e.concat(ht.Buffer.from([i]));a=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;i--;continue}return[a,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new ze(e);return s2(n.toBytes())}}TC=ze;ze.default=new TC("11111111111111111111111111111111");rf.set(ze,{kind:"struct",fields:[["_bn","u256"]]});class RV{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=xt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=xt(SV()),this._publicKey=xt(_m(this._secretKey))}get publicKey(){return new ze(this._publicKey)}get secretKey(){return ht.Buffer.concat([this._secretKey,this._publicKey],64)}}const xV=new ze("BPFLoader1111111111111111111111111111111111"),Po=1232,Jm=127,bf=64;class Gv extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Gv.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Yv extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Yv.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Hc extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Hc.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class vf{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const i=new Map;this.keySegments().flat().forEach((o,c)=>{i.set(o.toBase58(),c)});const a=o=>{const c=i.get(o.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(o=>({programIdIndex:a(o.programId),accountKeyIndexes:o.keys.map(c=>a(c.pubkey)),data:o.data}))}}const Lt=(r="publicKey")=>ie.blob(32,r),kV=(r="signature")=>ie.blob(64,r),El=(r="string")=>{const e=ie.struct([ie.u32("length"),ie.u32("lengthPadding"),ie.blob(ie.offset(ie.u32(),-8),"chars")],r),n=e.decode.bind(e),i=e.encode.bind(e),a=e;return a.decode=(o,c)=>n(o,c).chars.toString(),a.encode=(o,c,h)=>{const d={chars:ht.Buffer.from(o,"utf8")};return i(d,c,h)},a.alloc=o=>ie.u32().span+ie.u32().span+ht.Buffer.from(o,"utf8").length,a},CV=(r="authorized")=>ie.struct([Lt("staker"),Lt("withdrawer")],r),MV=(r="lockup")=>ie.struct([ie.ns64("unixTimestamp"),ie.ns64("epoch"),Lt("custodian")],r),OV=(r="voteInit")=>ie.struct([Lt("nodePubkey"),Lt("authorizedVoter"),Lt("authorizedWithdrawer"),ie.u8("commission")],r),NV=(r="voteAuthorizeWithSeedArgs")=>ie.struct([ie.u32("voteAuthorizationType"),Lt("currentAuthorityDerivedKeyOwnerPubkey"),El("currentAuthorityDerivedKeySeed"),Lt("newAuthorized")],r);function RC(r,e){const n=a=>{if(a.span>=0)return a.span;if(typeof a.alloc=="function")return a.alloc(e[a.property]);if("count"in a&&"elementLayout"in a){const o=e[a.property];if(Array.isArray(o))return o.length*n(a.elementLayout)}else if("fields"in a)return RC({layout:a},e[a.property]);return 0};let i=0;return r.layout.fields.forEach(a=>{i+=n(a)}),i}function fi(r){let e=0,n=0;for(;;){let i=r.shift();if(e|=(i&127)<<n*7,n+=1,(i&128)===0)break}return e}function Ci(r,e){let n=e;for(;;){let i=n&127;if(n>>=7,n==0){r.push(i);break}else i|=128,r.push(i)}}function cn(r,e){if(!r)throw new Error(e||"Assertion failed")}class eg{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const i=new Map,a=c=>{const h=c.toBase58();let d=i.get(h);return d===void 0&&(d={isSigner:!1,isWritable:!1,isInvoked:!1},i.set(h,d)),d},o=a(n);o.isSigner=!0,o.isWritable=!0;for(const c of e){a(c.programId).isInvoked=!0;for(const h of c.keys){const d=a(h.pubkey);d.isSigner||=h.isSigner,d.isWritable||=h.isWritable}}return new eg(n,i)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];cn(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,d])=>d.isSigner&&d.isWritable),i=e.filter(([,d])=>d.isSigner&&!d.isWritable),a=e.filter(([,d])=>!d.isSigner&&d.isWritable),o=e.filter(([,d])=>!d.isSigner&&!d.isWritable),c={numRequiredSignatures:n.length+i.length,numReadonlySignedAccounts:i.length,numReadonlyUnsignedAccounts:o.length};{cn(n.length>0,"Expected at least one writable signer key");const[d]=n[0];cn(d===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const h=[...n.map(([d])=>new ze(d)),...i.map(([d])=>new ze(d)),...a.map(([d])=>new ze(d)),...o.map(([d])=>new ze(d))];return[c,h]}extractTableLookup(e){const[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[a,o]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(n.length===0&&a.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:a},{writable:i,readonly:o}]}drainKeysFoundInLookupTable(e,n){const i=new Array,a=new Array;for(const[o,c]of this.keyMetaMap.entries())if(n(c)){const h=new ze(o),d=e.findIndex(p=>p.equals(h));d>=0&&(cn(d<256,"Max lookup table index exceeded"),i.push(d),a.push(h),this.keyMetaMap.delete(o))}return[i,a]}}const xC="Reached end of buffer unexpectedly";function Bs(r){if(r.length===0)throw new Error(xC);return r.shift()}function di(r,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>r.length:n>=r.length)throw new Error(xC);return r.splice(...e)}class ps{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new ze(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Or.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new vf(this.staticAccountKeys)}static compile(e){const n=eg.compile(e.instructions,e.payerKey),[i,a]=n.getMessageComponents(),c=new vf(a).compileInstructions(e.instructions).map(h=>({programIdIndex:h.programIdIndex,accounts:h.accountKeyIndexes,data:Or.encode(h.data)}));return new ps({header:i,accountKeys:a,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const i=e-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Ci(n,e);const i=this.instructions.map(E=>{const{accounts:A,programIdIndex:T}=E,N=Array.from(Or.decode(E.data));let O=[];Ci(O,A.length);let B=[];return Ci(B,N.length),{programIdIndex:T,keyIndicesCount:ht.Buffer.from(O),keyIndices:A,dataLength:ht.Buffer.from(B),data:N}});let a=[];Ci(a,i.length);let o=ht.Buffer.alloc(Po);ht.Buffer.from(a).copy(o);let c=a.length;i.forEach(E=>{const T=ie.struct([ie.u8("programIdIndex"),ie.blob(E.keyIndicesCount.length,"keyIndicesCount"),ie.seq(ie.u8("keyIndex"),E.keyIndices.length,"keyIndices"),ie.blob(E.dataLength.length,"dataLength"),ie.seq(ie.u8("userdatum"),E.data.length,"data")]).encode(E,o,c);c+=T}),o=o.slice(0,c);const h=ie.struct([ie.blob(1,"numRequiredSignatures"),ie.blob(1,"numReadonlySignedAccounts"),ie.blob(1,"numReadonlyUnsignedAccounts"),ie.blob(n.length,"keyCount"),ie.seq(Lt("key"),e,"keys"),Lt("recentBlockhash")]),d={numRequiredSignatures:ht.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ht.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ht.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ht.Buffer.from(n),keys:this.accountKeys.map(E=>xt(E.toBytes())),recentBlockhash:Or.decode(this.recentBlockhash)};let p=ht.Buffer.alloc(2048);const g=h.encode(d,p);return o.copy(p,g),p.slice(0,g+o.length)}static from(e){let n=[...e];const i=Bs(n);if(i!==(i&Jm))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const a=Bs(n),o=Bs(n),c=fi(n);let h=[];for(let A=0;A<c;A++){const T=di(n,0,Ks);h.push(new ze(ht.Buffer.from(T)))}const d=di(n,0,Ks),p=fi(n);let g=[];for(let A=0;A<p;A++){const T=Bs(n),N=fi(n),O=di(n,0,N),B=fi(n),K=di(n,0,B),$=Or.encode(ht.Buffer.from(K));g.push({programIdIndex:T,accounts:O,data:$})}const E={header:{numRequiredSignatures:i,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:o},recentBlockhash:Or.encode(ht.Buffer.from(d)),accountKeys:h,instructions:g};return new ps(E)}}class Dl{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new vf(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,i=this.staticAccountKeys.length;if(e>=i){const a=e-i,o=this.addressTableLookups.reduce((c,h)=>c+h.writableIndexes.length,0);return a<o}else if(e>=this.header.numRequiredSignatures){const a=e-n,c=i-n-this.header.numReadonlyUnsignedAccounts;return a<c}else{const a=n-this.header.numReadonlySignedAccounts;return e<a}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const i of this.addressTableLookups){const a=e.find(o=>o.key.equals(i.accountKey));if(!a)throw new Error(`Failed to find address lookup table account for table key ${i.accountKey.toBase58()}`);for(const o of i.writableIndexes)if(o<a.state.addresses.length)n.writable.push(a.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${i.accountKey.toBase58()}`);for(const o of i.readonlyIndexes)if(o<a.state.addresses.length)n.readonly.push(a.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${i.accountKey.toBase58()}`)}return n}static compile(e){const n=eg.compile(e.instructions,e.payerKey),i=new Array,a={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const g of o){const E=n.extractTableLookup(g);if(E!==void 0){const[A,{writable:T,readonly:N}]=E;i.push(A),a.writable.push(...T),a.readonly.push(...N)}}const[c,h]=n.getMessageComponents(),p=new vf(h,a).compileInstructions(e.instructions);return new Dl({header:c,staticAccountKeys:h,recentBlockhash:e.recentBlockhash,compiledInstructions:p,addressTableLookups:i})}serialize(){const e=Array();Ci(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),i=Array();Ci(i,this.compiledInstructions.length);const a=this.serializeAddressTableLookups(),o=Array();Ci(o,this.addressTableLookups.length);const c=ie.struct([ie.u8("prefix"),ie.struct([ie.u8("numRequiredSignatures"),ie.u8("numReadonlySignedAccounts"),ie.u8("numReadonlyUnsignedAccounts")],"header"),ie.blob(e.length,"staticAccountKeysLength"),ie.seq(Lt(),this.staticAccountKeys.length,"staticAccountKeys"),Lt("recentBlockhash"),ie.blob(i.length,"instructionsLength"),ie.blob(n.length,"serializedInstructions"),ie.blob(o.length,"addressTableLookupsLength"),ie.blob(a.length,"serializedAddressTableLookups")]),h=new Uint8Array(Po),p=c.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(g=>g.toBytes()),recentBlockhash:Or.decode(this.recentBlockhash),instructionsLength:new Uint8Array(i),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:a},h);return h.slice(0,p)}serializeInstructions(){let e=0;const n=new Uint8Array(Po);for(const i of this.compiledInstructions){const a=Array();Ci(a,i.accountKeyIndexes.length);const o=Array();Ci(o,i.data.length);const c=ie.struct([ie.u8("programIdIndex"),ie.blob(a.length,"encodedAccountKeyIndexesLength"),ie.seq(ie.u8(),i.accountKeyIndexes.length,"accountKeyIndexes"),ie.blob(o.length,"encodedDataLength"),ie.blob(i.data.length,"data")]);e+=c.encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(a),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:i.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(Po);for(const i of this.addressTableLookups){const a=Array();Ci(a,i.writableIndexes.length);const o=Array();Ci(o,i.readonlyIndexes.length);const c=ie.struct([Lt("accountKey"),ie.blob(a.length,"encodedWritableIndexesLength"),ie.seq(ie.u8(),i.writableIndexes.length,"writableIndexes"),ie.blob(o.length,"encodedReadonlyIndexesLength"),ie.seq(ie.u8(),i.readonlyIndexes.length,"readonlyIndexes")]);e+=c.encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(a),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:i.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const i=Bs(n),a=i&Jm;cn(i!==a,"Expected versioned message but received legacy message");const o=a;cn(o===0,`Expected versioned message with version 0 but found version ${o}`);const c={numRequiredSignatures:Bs(n),numReadonlySignedAccounts:Bs(n),numReadonlyUnsignedAccounts:Bs(n)},h=[],d=fi(n);for(let N=0;N<d;N++)h.push(new ze(di(n,0,Ks)));const p=Or.encode(di(n,0,Ks)),g=fi(n),E=[];for(let N=0;N<g;N++){const O=Bs(n),B=fi(n),K=di(n,0,B),$=fi(n),G=new Uint8Array(di(n,0,$));E.push({programIdIndex:O,accountKeyIndexes:K,data:G})}const A=fi(n),T=[];for(let N=0;N<A;N++){const O=new ze(di(n,0,Ks)),B=fi(n),K=di(n,0,B),$=fi(n),G=di(n,0,$);T.push({accountKey:O,writableIndexes:K,readonlyIndexes:G})}return new Dl({header:c,staticAccountKeys:h,recentBlockhash:p,compiledInstructions:E,addressTableLookups:T})}}const Qv={deserializeMessageVersion(r){const e=r[0],n=e&Jm;return n===e?"legacy":n},deserialize:r=>{const e=Qv.deserializeMessageVersion(r);if(e==="legacy")return ps.from(r);if(e===0)return Dl.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let ba=(function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r})({});const PV=ht.Buffer.alloc(bf).fill(0);class xn{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ht.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:i})=>({pubkey:e.toJSON(),isSigner:n,isWritable:i})),programId:this.programId.toJSON(),data:[...this.data]}}}class an{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:i}=e;this.minNonceContextSlot=n,this.nonceInfo=i}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:i}=e;this.recentBlockhash=n,this.lastValidBlockHeight=i}else{const{recentBlockhash:n,nonceInfo:i}=e;i&&(this.nonceInfo=i),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new xn(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let i;if(this.feePayer)i=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)i=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let O=0;O<n.length;O++)if(n[O].programId===void 0)throw new Error(`Transaction instruction index ${O} has undefined program id`);const a=[],o=[];n.forEach(O=>{O.keys.forEach(K=>{o.push({...K})});const B=O.programId.toString();a.includes(B)||a.push(B)}),a.forEach(O=>{o.push({pubkey:new ze(O),isSigner:!1,isWritable:!1})});const c=[];o.forEach(O=>{const B=O.pubkey.toString(),K=c.findIndex($=>$.pubkey.toString()===B);K>-1?(c[K].isWritable=c[K].isWritable||O.isWritable,c[K].isSigner=c[K].isSigner||O.isSigner):c.push(O)}),c.sort(function(O,B){if(O.isSigner!==B.isSigner)return O.isSigner?-1:1;if(O.isWritable!==B.isWritable)return O.isWritable?-1:1;const K={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return O.pubkey.toBase58().localeCompare(B.pubkey.toBase58(),"en",K)});const h=c.findIndex(O=>O.pubkey.equals(i));if(h>-1){const[O]=c.splice(h,1);O.isSigner=!0,O.isWritable=!0,c.unshift(O)}else c.unshift({pubkey:i,isSigner:!0,isWritable:!0});for(const O of this.signatures){const B=c.findIndex(K=>K.pubkey.equals(O.publicKey));if(B>-1)c[B].isSigner||(c[B].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${O.publicKey.toString()}`)}let d=0,p=0,g=0;const E=[],A=[];c.forEach(({pubkey:O,isSigner:B,isWritable:K})=>{B?(E.push(O.toString()),d+=1,K||(p+=1)):(A.push(O.toString()),K||(g+=1))});const T=E.concat(A),N=n.map(O=>{const{data:B,programId:K}=O;return{programIdIndex:T.indexOf(K.toString()),accounts:O.keys.map($=>T.indexOf($.pubkey.toString())),data:Or.encode(B)}});return N.forEach(O=>{cn(O.programIdIndex>=0),O.accounts.forEach(B=>cn(B>=0))}),new ps({header:{numRequiredSignatures:d,numReadonlySignedAccounts:p,numReadonlyUnsignedAccounts:g},accountKeys:T,recentBlockhash:e,instructions:N})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((a,o)=>n[o].equals(a.publicKey))||(this.signatures=n.map(i=>({signature:null,publicKey:i}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(i=>{const a=i.toString();return n.has(a)?!1:(n.add(a),!0)}).map(i=>({signature:null,publicKey:i}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,i=[];for(const o of e){const c=o.publicKey.toString();n.has(c)||(n.add(c),i.push(o))}this.signatures=i.map(o=>({signature:null,publicKey:o.publicKey}));const a=this._compile();this._partialSign(a,...i)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,i=[];for(const o of e){const c=o.publicKey.toString();n.has(c)||(n.add(c),i.push(o))}const a=this._compile();this._partialSign(a,...i)}_partialSign(e,...n){const i=e.serialize();n.forEach(a=>{const o=Kv(i,a.secretKey);this._addSignature(a.publicKey,xt(o))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){cn(n.length===64);const i=this.signatures.findIndex(a=>e.equals(a.publicKey));if(i<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[i].signature=ht.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const i={};for(const{signature:a,publicKey:o}of this.signatures)a===null?n&&(i.missing||=[]).push(o):AV(a,e,o.toBytes())||(i.invalid||=[]).push(o);return i.invalid||i.missing?i:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:i}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),a=this.serializeMessage();if(i){const o=this._getMessageSignednessErrors(a,n);if(o){let c="Signature verification failed.";throw o.invalid&&(c+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(h=>h.toBase58()).join("`, `")}\`].`),o.missing&&(c+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(h=>h.toBase58()).join("`, `")}\`].`),new Error(c)}}return this._serialize(a)}_serialize(e){const{signatures:n}=this,i=[];Ci(i,n.length);const a=i.length+n.length*64+e.length,o=ht.Buffer.alloc(a);return cn(n.length<256),ht.Buffer.from(i).copy(o,0),n.forEach(({signature:c},h)=>{c!==null&&(cn(c.length===64,"signature has invalid length"),ht.Buffer.from(c).copy(o,i.length+h*64))}),e.copy(o,i.length+n.length*64),cn(o.length<=Po,`Transaction too large: ${o.length} > ${Po}`),o}get keys(){return cn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return cn(this.instructions.length===1),this.instructions[0].programId}get data(){return cn(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const i=fi(n);let a=[];for(let o=0;o<i;o++){const c=di(n,0,bf);a.push(Or.encode(ht.Buffer.from(c)))}return an.populate(ps.from(n),a)}static populate(e,n=[]){const i=new an;return i.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(i.feePayer=e.accountKeys[0]),n.forEach((a,o)=>{const c={signature:a==Or.encode(PV)?null:Or.decode(a),publicKey:e.accountKeys[o]};i.signatures.push(c)}),e.instructions.forEach(a=>{const o=a.accounts.map(c=>{const h=e.accountKeys[c];return{pubkey:h,isSigner:i.signatures.some(d=>d.publicKey.toString()===h.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});i.instructions.push(new xn({keys:o,programId:e.accountKeys[a.programIdIndex],data:Or.decode(a.data)}))}),i._message=e,i._json=i.toJSON(),i}}class Xv{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:i,compiledInstructions:a,recentBlockhash:o}=e,{numRequiredSignatures:c,numReadonlySignedAccounts:h,numReadonlyUnsignedAccounts:d}=i,p=c-h;cn(p>0,"Message header is invalid");const g=e.staticAccountKeys.length-c-d;cn(g>=0,"Message header is invalid");const E=e.getAccountKeys(n),A=E.get(0);if(A===void 0)throw new Error("Failed to decompile message because no account keys were found");const T=[];for(const N of a){const O=[];for(const K of N.accountKeyIndexes){const $=E.get(K);if($===void 0)throw new Error(`Failed to find key for account key index ${K}`);const G=K<c;let re;G?re=K<p:K<E.staticAccountKeys.length?re=K-c<g:re=K-E.staticAccountKeys.length<E.accountKeysFromLookups.writable.length,O.push({pubkey:$,isSigner:K<i.numRequiredSignatures,isWritable:re})}const B=E.get(N.programIdIndex);if(B===void 0)throw new Error(`Failed to find program id for program id index ${N.programIdIndex}`);T.push(new xn({programId:B,data:xt(N.data),keys:O}))}return new Xv({payerKey:A,instructions:T,recentBlockhash:o})}compileToLegacyMessage(){return ps.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Dl.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class _f{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)cn(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const i=[];for(let a=0;a<e.header.numRequiredSignatures;a++)i.push(new Uint8Array(bf));this.signatures=i}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Ci(n,this.signatures.length);const i=ie.struct([ie.blob(n.length,"encodedSignaturesLength"),ie.seq(kV(),this.signatures.length,"signatures"),ie.blob(e.length,"serializedMessage")]),a=new Uint8Array(2048),o=i.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},a);return a.slice(0,o)}static deserialize(e){let n=[...e];const i=[],a=fi(n);for(let c=0;c<a;c++)i.push(new Uint8Array(di(n,0,bf)));const o=Qv.deserialize(new Uint8Array(n));return new _f(o,i)}sign(e){const n=this.message.serialize(),i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const a of e){const o=i.findIndex(c=>c.equals(a.publicKey));cn(o>=0,`Cannot sign with non signer key ${a.publicKey.toBase58()}`),this.signatures[o]=Kv(n,a.secretKey)}}addSignature(e,n){cn(n.byteLength===64,"Signature must be 64 bytes long");const a=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));cn(a>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[a]=n}}const DV=160,LV=64,BV=DV/LV,kC=1e3/BV,Ps=new ze("SysvarC1ock11111111111111111111111111111111"),UV=new ze("SysvarEpochSchedu1e111111111111111111111111"),VV=new ze("Sysvar1nstructions1111111111111111111111111"),zp=new ze("SysvarRecentB1ockHashes11111111111111111111"),wu=new ze("SysvarRent111111111111111111111111111111111"),zV=new ze("SysvarRewards111111111111111111111111111111"),jV=new ze("SysvarS1otHashes111111111111111111111111111"),qV=new ze("SysvarS1otHistory11111111111111111111111111"),jp=new ze("SysvarStakeHistory1111111111111111111111111");class Ef extends Error{constructor({action:e,signature:n,transactionMessage:i,logs:a}){const o=a?`Logs: 
${JSON.stringify(a.slice(-10),null,2)}. `:"",c="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let h;switch(e){case"send":h=`Transaction ${n} resulted in an error. 
${i}. `+o+c;break;case"simulate":h=`Simulation failed. 
Message: ${i}. 
`+o+c;break;default:h=`Unknown action '${(d=>d)(e)}'`}super(h),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=i,this.transactionLogs=a||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,i)=>{e.getTransaction(this.signature).then(a=>{if(a&&a.meta&&a.meta.logMessages){const o=a.meta.logMessages;this.transactionLogs=o,n(o)}else i(new Error("Log messages not found"))}).catch(i)})),await this.transactionLogs}}const WV={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class tt extends Error{constructor({code:e,message:n,data:i},a){super(a!=null?`${a}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=i,this.name="SolanaJSONRPCError"}}async function wb(r,e,n,i){const a=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},o=await r.sendTransaction(e,n,a);let c;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)c=(await r.confirmTransaction({abortSignal:i?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},i&&i.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:h}=e.nonceInfo,d=h.keys[0].pubkey;c=(await r.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:d,nonceValue:e.nonceInfo.nonce,signature:o},i&&i.commitment)).value}else i?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),c=(await r.confirmTransaction(o,i&&i.commitment)).value;if(c.err)throw o!=null?new Ef({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(c)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(c)})`);return o}function yl(r){return new Promise(e=>setTimeout(e,r))}function Jt(r,e){const n=r.layout.span>=0?r.layout.span:RC(r,e),i=ht.Buffer.alloc(n),a=Object.assign({instruction:r.index},e);return r.layout.encode(a,i),i}function mn(r,e){let n;try{n=r.layout.decode(e)}catch(i){throw new Error("invalid instruction; "+i)}if(n.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${r.index}`);return n}const CC=ie.nu64("lamportsPerSignature"),MC=ie.struct([ie.u32("version"),ie.u32("state"),Lt("authorizedPubkey"),Lt("nonce"),ie.struct([CC],"feeCalculator")]),bb=MC.span;class tg{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=MC.decode(xt(e),0);return new tg({authorizedPubkey:new ze(n.authorizedPubkey),nonce:new ze(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function bu(r){const e=ie.blob(8,r),n=e.decode.bind(e),i=e.encode.bind(e),a=e,o=b9();return a.decode=(c,h)=>{const d=n(c,h);return o.decode(d)},a.encode=(c,h,d)=>{const p=o.encode(c);return i(p,h,d)},a}class FV{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=ie.u32("instruction").decode(e.data);let a;for(const[o,c]of Object.entries(Mn))if(c.index==i){a=o;break}if(!a)throw new Error("Instruction type incorrect; not a SystemInstruction");return a}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:i,programId:a}=mn(Mn.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:i,programId:new ze(a)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=mn(Mn.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:i,programId:a}=mn(Mn.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:i,programId:new ze(a)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=mn(Mn.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:i,space:a,programId:o}=mn(Mn.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ze(n),seed:i,space:a,programId:new ze(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=mn(Mn.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ze(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:i,programId:a}=mn(Mn.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ze(n),seed:i,programId:new ze(a)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:i,lamports:a,space:o,programId:c}=mn(Mn.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ze(n),seed:i,lamports:a,space:o,programId:new ze(c)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=mn(Mn.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ze(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),mn(Mn.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=mn(Mn.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=mn(Mn.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ze(n)}}static checkProgramId(e){if(!e.equals(vr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const Mn=Object.freeze({Create:{index:0,layout:ie.struct([ie.u32("instruction"),ie.ns64("lamports"),ie.ns64("space"),Lt("programId")])},Assign:{index:1,layout:ie.struct([ie.u32("instruction"),Lt("programId")])},Transfer:{index:2,layout:ie.struct([ie.u32("instruction"),bu("lamports")])},CreateWithSeed:{index:3,layout:ie.struct([ie.u32("instruction"),Lt("base"),El("seed"),ie.ns64("lamports"),ie.ns64("space"),Lt("programId")])},AdvanceNonceAccount:{index:4,layout:ie.struct([ie.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:ie.struct([ie.u32("instruction"),ie.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:ie.struct([ie.u32("instruction"),Lt("authorized")])},AuthorizeNonceAccount:{index:7,layout:ie.struct([ie.u32("instruction"),Lt("authorized")])},Allocate:{index:8,layout:ie.struct([ie.u32("instruction"),ie.ns64("space")])},AllocateWithSeed:{index:9,layout:ie.struct([ie.u32("instruction"),Lt("base"),El("seed"),ie.ns64("space"),Lt("programId")])},AssignWithSeed:{index:10,layout:ie.struct([ie.u32("instruction"),Lt("base"),El("seed"),Lt("programId")])},TransferWithSeed:{index:11,layout:ie.struct([ie.u32("instruction"),bu("lamports"),El("seed"),Lt("programId")])},UpgradeNonceAccount:{index:12,layout:ie.struct([ie.u32("instruction")])}});class vr{constructor(){}static createAccount(e){const n=Mn.Create,i=Jt(n,{lamports:e.lamports,space:e.space,programId:xt(e.programId.toBuffer())});return new xn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:i})}static transfer(e){let n,i;if("basePubkey"in e){const a=Mn.TransferWithSeed;n=Jt(a,{lamports:BigInt(e.lamports),seed:e.seed,programId:xt(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const a=Mn.Transfer;n=Jt(a,{lamports:BigInt(e.lamports)}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new xn({keys:i,programId:this.programId,data:n})}static assign(e){let n,i;if("basePubkey"in e){const a=Mn.AssignWithSeed;n=Jt(a,{base:xt(e.basePubkey.toBuffer()),seed:e.seed,programId:xt(e.programId.toBuffer())}),i=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const a=Mn.Assign;n=Jt(a,{programId:xt(e.programId.toBuffer())}),i=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new xn({keys:i,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=Mn.CreateWithSeed,i=Jt(n,{base:xt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:xt(e.programId.toBuffer())});let a=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||a.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new xn({keys:a,programId:this.programId,data:i})}static createNonceAccount(e){const n=new an;"basePubkey"in e&&"seed"in e?n.add(vr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:bb,programId:this.programId})):n.add(vr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:bb,programId:this.programId}));const i={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(i)),n}static nonceInitialize(e){const n=Mn.InitializeNonceAccount,i=Jt(n,{authorized:xt(e.authorizedPubkey.toBuffer())}),a={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:zp,isSigner:!1,isWritable:!1},{pubkey:wu,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new xn(a)}static nonceAdvance(e){const n=Mn.AdvanceNonceAccount,i=Jt(n),a={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:zp,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new xn(a)}static nonceWithdraw(e){const n=Mn.WithdrawNonceAccount,i=Jt(n,{lamports:e.lamports});return new xn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:zp,isSigner:!1,isWritable:!1},{pubkey:wu,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static nonceAuthorize(e){const n=Mn.AuthorizeNonceAccount,i=Jt(n,{authorized:xt(e.newAuthorizedPubkey.toBuffer())});return new xn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static allocate(e){let n,i;if("basePubkey"in e){const a=Mn.AllocateWithSeed;n=Jt(a,{base:xt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:xt(e.programId.toBuffer())}),i=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const a=Mn.Allocate;n=Jt(a,{space:e.space}),i=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new xn({keys:i,programId:this.programId,data:n})}}vr.programId=new ze("11111111111111111111111111111111");const HV=Po-300;class Ll{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Ll.chunkSize)+1+1)}static async load(e,n,i,a,o){{const E=await e.getMinimumBalanceForRentExemption(o.length),A=await e.getAccountInfo(i.publicKey,"confirmed");let T=null;if(A!==null){if(A.executable)return console.error("Program load failed, account is already executable"),!1;A.data.length!==o.length&&(T=T||new an,T.add(vr.allocate({accountPubkey:i.publicKey,space:o.length}))),A.owner.equals(a)||(T=T||new an,T.add(vr.assign({accountPubkey:i.publicKey,programId:a}))),A.lamports<E&&(T=T||new an,T.add(vr.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:E-A.lamports})))}else T=new an().add(vr.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:E>0?E:1,space:o.length,programId:a}));T!==null&&await wb(e,T,[n,i],{commitment:"confirmed"})}const c=ie.struct([ie.u32("instruction"),ie.u32("offset"),ie.u32("bytesLength"),ie.u32("bytesLengthPadding"),ie.seq(ie.u8("byte"),ie.offset(ie.u32(),-8),"bytes")]),h=Ll.chunkSize;let d=0,p=o,g=[];for(;p.length>0;){const E=p.slice(0,h),A=ht.Buffer.alloc(h+16);c.encode({instruction:0,offset:d,bytes:E,bytesLength:0,bytesLengthPadding:0},A);const T=new an().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:a,data:A});g.push(wb(e,T,[n,i],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await yl(1e3/4),d+=h,p=p.slice(h)}await Promise.all(g);{const E=ie.struct([ie.u32("instruction")]),A=ht.Buffer.alloc(E.span);E.encode({instruction:1},A);const T=new an().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:wu,isSigner:!1,isWritable:!1}],programId:a,data:A}),N="processed",O=await e.sendTransaction(T,[n,i],{preflightCommitment:N}),{context:B,value:K}=await e.confirmTransaction({signature:O,lastValidBlockHeight:T.lastValidBlockHeight,blockhash:T.recentBlockhash},N);if(K.err)throw new Error(`Transaction ${O} failed (${JSON.stringify(K)})`);for(;;){try{if(await e.getSlot({commitment:N})>B.slot)break}catch{}await new Promise($=>setTimeout($,Math.round(kC/2)))}}return!0}}Ll.chunkSize=HV;const KV=new ze("BPFLoader2111111111111111111111111111111111");class $V{static getMinNumSignatures(e){return Ll.getMinNumSignatures(e)}static load(e,n,i,a,o){return Ll.load(e,n,i,o,a)}}function GV(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xy,o2;function YV(){if(o2)return Xy;o2=1;var r=Object.prototype.toString,e=Object.keys||function(i){var a=[];for(var o in i)a.push(o);return a};function n(i,a){var o,c,h,d,p,g,E;if(i===!0)return"true";if(i===!1)return"false";switch(typeof i){case"object":if(i===null)return null;if(i.toJSON&&typeof i.toJSON=="function")return n(i.toJSON(),a);if(E=r.call(i),E==="[object Array]"){for(h="[",c=i.length-1,o=0;o<c;o++)h+=n(i[o],!0)+",";return c>-1&&(h+=n(i[o],!0)),h+"]"}else if(E==="[object Object]"){for(d=e(i).sort(),c=d.length,h="",o=0;o<c;)p=d[o],g=n(i[p],!1),g!==void 0&&(h&&(h+=","),h+=JSON.stringify(p)+":"+g),o++;return"{"+h+"}"}else return JSON.stringify(i);case"function":case"undefined":return a?null:void 0;case"string":return JSON.stringify(i);default:return isFinite(i)?i:null}}return Xy=function(i){var a=n(i,!1);if(a!==void 0)return""+a},Xy}var QV=YV(),l2=GV(QV);const Dh=32;function Zy(r){let e=0;for(;r>1;)r/=2,e++;return e}function XV(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}class OC{constructor(e,n,i,a,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=i,this.firstNormalEpoch=a,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Zy(XV(e+Dh+1))-Zy(Dh)-1,i=this.getSlotsInEpoch(n),a=e-(i-Dh);return[n,a]}else{const n=e-this.firstNormalSlot,i=Math.floor(n/this.slotsPerEpoch),a=this.firstNormalEpoch+i,o=n%this.slotsPerEpoch;return[a,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Dh:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Zy(Dh)):this.slotsPerEpoch}}var ZV=globalThis.fetch;class JV extends eV{constructor(e,n,i){const a=o=>{const c=Z9(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in c?this.underlyingSocket=c.socket:this.underlyingSocket=c,c};super(a,e,n,i),this.underlyingSocket=void 0}call(...e){const n=this.underlyingSocket?.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function e7(r,e){let n;try{n=r.layout.decode(e)}catch(i){throw new Error("invalid instruction; "+i)}if(n.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${r.index}`);return n}const c2=56;class vb{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=e7(t7,e),i=e.length-c2;cn(i>=0,"lookup table is invalid"),cn(i%32===0,"lookup table is invalid");const a=i/32,{addresses:o}=ie.struct([ie.seq(Lt(),a,"addresses")]).decode(e.slice(c2));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new ze(n.authority[0]):void 0,addresses:o.map(c=>new ze(c))}}}const t7={index:1,layout:ie.struct([ie.u32("typeIndex"),bu("deactivationSlot"),ie.nu64("lastExtendedSlot"),ie.u8("lastExtendedStartIndex"),ie.u8(),ie.seq(Lt(),ie.offset(ie.u8(),-1),"authority")])},n7=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function r7(r){const e=r.match(n7);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);const[n,i,a,o]=e,c=r.startsWith("https:")?"wss:":"ws:",h=a==null?null:parseInt(a.slice(1),10),d=h==null?"":`:${h+1}`;return`${c}//${i}${d}${o}`}const qn=Wf(zv(ze),Ue(),r=>new ze(r)),NC=jv([Ue(),Vn("base64")]),Zv=Wf(zv(ht.Buffer),NC,r=>ht.Buffer.from(r[0],"base64")),PC=30*1e3;function i7(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function Cn(r){let e,n;if(typeof r=="string")e=r;else if(r){const{commitment:i,...a}=r;e=i,n=a}return{commitment:e,config:n}}function u2(r){return r.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function DC(r){return ii([Pe({jsonrpc:Vn("2.0"),id:Ue(),result:r}),Pe({jsonrpc:Vn("2.0"),id:Ue(),error:Pe({code:Cu(),message:Ue(),data:at(T9())})})])}const s7=DC(Cu());function Rt(r){return Wf(DC(r),s7,e=>"error"in e?e:{...e,result:qe(e.result,r)})}function Qn(r){return Rt(Pe({context:Pe({slot:be()}),value:r}))}function ng(r){return Pe({context:Pe({slot:be()}),value:r})}function Jy(r,e){return r===0?new Dl({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new ze(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Or.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new ps(e)}const a7=Pe({foundation:be(),foundationTerm:be(),initial:be(),taper:be(),terminal:be()}),o7=Rt(We(Fe(Pe({epoch:be(),effectiveSlot:be(),amount:be(),postBalance:be(),commission:at(Fe(be()))})))),l7=We(Pe({slot:be(),prioritizationFee:be()})),c7=Pe({total:be(),validator:be(),foundation:be(),epoch:be()}),u7=Pe({epoch:be(),slotIndex:be(),slotsInEpoch:be(),absoluteSlot:be(),blockHeight:at(be()),transactionCount:at(be())}),h7=Pe({slotsPerEpoch:be(),leaderScheduleSlotOffset:be(),warmup:Gs(),firstNormalEpoch:be(),firstNormalSlot:be()}),f7=cC(Ue(),We(be())),Hl=Fe(ii([Pe({}),Ue()])),d7=Pe({err:Hl}),p7=Vn("receivedSignature"),m7=Pe({"solana-core":Ue(),"feature-set":at(be())}),g7=Pe({program:Ue(),programId:qn,parsed:Cu()}),y7=Pe({programId:qn,accounts:We(qn),data:Ue()}),h2=Qn(Pe({err:Fe(ii([Pe({}),Ue()])),logs:Fe(We(Ue())),accounts:at(Fe(We(Fe(Pe({executable:Gs(),owner:Ue(),lamports:be(),data:We(Ue()),rentEpoch:at(be())}))))),unitsConsumed:at(be()),returnData:at(Fe(Pe({programId:Ue(),data:jv([Ue(),Vn("base64")])}))),innerInstructions:at(Fe(We(Pe({index:be(),instructions:We(ii([g7,y7]))}))))})),w7=Qn(Pe({byIdentity:cC(Ue(),We(be())),range:Pe({firstSlot:be(),lastSlot:be()})}));function b7(r,e,n,i,a,o){const c=n||ZV;let h;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let d;return i&&(d=async(g,E)=>{const A=await new Promise((T,N)=>{try{i(g,E,(O,B)=>T([O,B]))}catch(O){N(O)}});return await c(...A)}),new Y9(async(g,E)=>{const A={method:"POST",body:g,agent:h,headers:Object.assign({"Content-Type":"application/json"},e||{},bz)};try{let T=5,N,O=500;for(;d?N=await d(r,A):N=await c(r,A),!(N.status!==429||a===!0||(T-=1,T===0));)console.error(`Server responded with ${N.status} ${N.statusText}.  Retrying after ${O}ms delay...`),await yl(O),O*=2;const B=await N.text();N.ok?E(null,B):E(new Error(`${N.status} ${N.statusText}: ${B}`))}catch(T){T instanceof Error&&E(T)}},{})}function v7(r){return(e,n)=>new Promise((i,a)=>{r.request(e,n,(o,c)=>{if(o){a(o);return}i(c)})})}function _7(r){return e=>new Promise((n,i)=>{e.length===0&&n([]);const a=e.map(o=>r.request(o.methodName,o.args));r.request(a,(o,c)=>{if(o){i(o);return}n(c)})})}const E7=Rt(a7),S7=Rt(c7),A7=Rt(l7),T7=Rt(u7),I7=Rt(h7),R7=Rt(f7),x7=Rt(be()),k7=Qn(Pe({total:be(),circulating:be(),nonCirculating:be(),nonCirculatingAccounts:We(qn)})),_b=Pe({amount:Ue(),uiAmount:Fe(be()),decimals:be(),uiAmountString:at(Ue())}),C7=Qn(We(Pe({address:qn,amount:Ue(),uiAmount:Fe(be()),decimals:be(),uiAmountString:at(Ue())}))),M7=Qn(We(Pe({pubkey:qn,account:Pe({executable:Gs(),owner:qn,lamports:be(),data:Zv,rentEpoch:be()})}))),Eb=Pe({program:Ue(),parsed:Cu(),space:be()}),O7=Qn(We(Pe({pubkey:qn,account:Pe({executable:Gs(),owner:qn,lamports:be(),data:Eb,rentEpoch:be()})}))),N7=Qn(We(Pe({lamports:be(),address:qn}))),Sf=Pe({executable:Gs(),owner:qn,lamports:be(),data:Zv,rentEpoch:be()}),P7=Pe({pubkey:qn,account:Sf}),D7=Wf(ii([zv(ht.Buffer),Eb]),ii([NC,Eb]),r=>Array.isArray(r)?qe(r,Zv):r),Sb=Pe({executable:Gs(),owner:qn,lamports:be(),data:D7,rentEpoch:be()}),L7=Pe({pubkey:qn,account:Sb}),B7=Pe({state:ii([Vn("active"),Vn("inactive"),Vn("activating"),Vn("deactivating")]),active:be(),inactive:be()}),U7=Rt(We(Pe({signature:Ue(),slot:be(),err:Hl,memo:Fe(Ue()),blockTime:at(Fe(be()))}))),V7=Rt(We(Pe({signature:Ue(),slot:be(),err:Hl,memo:Fe(Ue()),blockTime:at(Fe(be()))}))),z7=Pe({subscription:be(),result:ng(Sf)}),j7=Pe({pubkey:qn,account:Sf}),q7=Pe({subscription:be(),result:ng(j7)}),W7=Pe({parent:be(),slot:be(),root:be()}),F7=Pe({subscription:be(),result:W7}),H7=ii([Pe({type:ii([Vn("firstShredReceived"),Vn("completed"),Vn("optimisticConfirmation"),Vn("root")]),slot:be(),timestamp:be()}),Pe({type:Vn("createdBank"),parent:be(),slot:be(),timestamp:be()}),Pe({type:Vn("frozen"),slot:be(),timestamp:be(),stats:Pe({numTransactionEntries:be(),numSuccessfulTransactions:be(),numFailedTransactions:be(),maxTransactionsPerEntry:be()})}),Pe({type:Vn("dead"),slot:be(),timestamp:be(),err:Ue()})]),K7=Pe({subscription:be(),result:H7}),$7=Pe({subscription:be(),result:ng(ii([d7,p7]))}),G7=Pe({subscription:be(),result:be()}),Y7=Pe({pubkey:Ue(),gossip:Fe(Ue()),tpu:Fe(Ue()),rpc:Fe(Ue()),version:Fe(Ue())}),f2=Pe({votePubkey:Ue(),nodePubkey:Ue(),activatedStake:be(),epochVoteAccount:Gs(),epochCredits:We(jv([be(),be(),be()])),commission:be(),lastVote:be(),rootSlot:Fe(be())}),Q7=Rt(Pe({current:We(f2),delinquent:We(f2)})),X7=ii([Vn("processed"),Vn("confirmed"),Vn("finalized")]),Z7=Pe({slot:be(),confirmations:Fe(be()),err:Hl,confirmationStatus:at(X7)}),J7=Qn(We(Fe(Z7))),ez=Rt(be()),LC=Pe({accountKey:qn,writableIndexes:We(be()),readonlyIndexes:We(be())}),Jv=Pe({signatures:We(Ue()),message:Pe({accountKeys:We(Ue()),header:Pe({numRequiredSignatures:be(),numReadonlySignedAccounts:be(),numReadonlyUnsignedAccounts:be()}),instructions:We(Pe({accounts:We(be()),data:Ue(),programIdIndex:be()})),recentBlockhash:Ue(),addressTableLookups:at(We(LC))})}),BC=Pe({pubkey:qn,signer:Gs(),writable:Gs(),source:at(ii([Vn("transaction"),Vn("lookupTable")]))}),UC=Pe({accountKeys:We(BC),signatures:We(Ue())}),VC=Pe({parsed:Cu(),program:Ue(),programId:qn}),zC=Pe({accounts:We(qn),data:Ue(),programId:qn}),tz=ii([zC,VC]),nz=ii([Pe({parsed:Cu(),program:Ue(),programId:Ue()}),Pe({accounts:We(Ue()),data:Ue(),programId:Ue()})]),jC=Wf(tz,nz,r=>"accounts"in r?qe(r,zC):qe(r,VC)),qC=Pe({signatures:We(Ue()),message:Pe({accountKeys:We(BC),instructions:We(jC),recentBlockhash:Ue(),addressTableLookups:at(Fe(We(LC)))})}),Em=Pe({accountIndex:be(),mint:Ue(),owner:at(Ue()),programId:at(Ue()),uiTokenAmount:_b}),WC=Pe({writable:We(qn),readonly:We(qn)}),rg=Pe({err:Hl,fee:be(),innerInstructions:at(Fe(We(Pe({index:be(),instructions:We(Pe({accounts:We(be()),data:Ue(),programIdIndex:be()}))})))),preBalances:We(be()),postBalances:We(be()),logMessages:at(Fe(We(Ue()))),preTokenBalances:at(Fe(We(Em))),postTokenBalances:at(Fe(We(Em))),loadedAddresses:at(WC),computeUnitsConsumed:at(be()),costUnits:at(be())}),e1=Pe({err:Hl,fee:be(),innerInstructions:at(Fe(We(Pe({index:be(),instructions:We(jC)})))),preBalances:We(be()),postBalances:We(be()),logMessages:at(Fe(We(Ue()))),preTokenBalances:at(Fe(We(Em))),postTokenBalances:at(Fe(We(Em))),loadedAddresses:at(WC),computeUnitsConsumed:at(be()),costUnits:at(be())}),Mu=ii([Vn(0),Vn("legacy")]),Kl=Pe({pubkey:Ue(),lamports:be(),postBalance:Fe(be()),rewardType:Fe(Ue()),commission:at(Fe(be()))}),rz=Rt(Fe(Pe({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:be(),transactions:We(Pe({transaction:Jv,meta:Fe(rg),version:at(Mu)})),rewards:at(We(Kl)),blockTime:Fe(be()),blockHeight:Fe(be())}))),iz=Rt(Fe(Pe({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:be(),rewards:at(We(Kl)),blockTime:Fe(be()),blockHeight:Fe(be())}))),sz=Rt(Fe(Pe({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:be(),transactions:We(Pe({transaction:UC,meta:Fe(rg),version:at(Mu)})),rewards:at(We(Kl)),blockTime:Fe(be()),blockHeight:Fe(be())}))),az=Rt(Fe(Pe({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:be(),transactions:We(Pe({transaction:qC,meta:Fe(e1),version:at(Mu)})),rewards:at(We(Kl)),blockTime:Fe(be()),blockHeight:Fe(be())}))),oz=Rt(Fe(Pe({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:be(),transactions:We(Pe({transaction:UC,meta:Fe(e1),version:at(Mu)})),rewards:at(We(Kl)),blockTime:Fe(be()),blockHeight:Fe(be())}))),lz=Rt(Fe(Pe({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:be(),rewards:at(We(Kl)),blockTime:Fe(be()),blockHeight:Fe(be())}))),cz=Rt(Fe(Pe({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:be(),transactions:We(Pe({transaction:Jv,meta:Fe(rg)})),rewards:at(We(Kl)),blockTime:Fe(be())}))),d2=Rt(Fe(Pe({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:be(),signatures:We(Ue()),blockTime:Fe(be())}))),ew=Rt(Fe(Pe({slot:be(),meta:Fe(rg),blockTime:at(Fe(be())),transaction:Jv,version:at(Mu)}))),Ep=Rt(Fe(Pe({slot:be(),transaction:qC,meta:Fe(e1),blockTime:at(Fe(be())),version:at(Mu)}))),uz=Qn(Pe({blockhash:Ue(),lastValidBlockHeight:be()})),hz=Qn(Gs()),fz=Pe({slot:be(),numTransactions:be(),numSlots:be(),samplePeriodSecs:be()}),dz=Rt(We(fz)),pz=Qn(Fe(Pe({feeCalculator:Pe({lamportsPerSignature:be()})}))),mz=Rt(Ue()),gz=Rt(Ue()),yz=Pe({err:Hl,logs:We(Ue()),signature:Ue()}),wz=Pe({result:ng(yz),subscription:be()}),bz={"solana-client":"js/1.0.0-maintenance"};class FC{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const p={};return async g=>{const{commitment:E,config:A}=Cn(g),T=this._buildArgs([],E,void 0,A),N=l2(T);return p[N]=p[N]??(async()=>{try{const O=await this._rpcRequest("getBlockHeight",T),B=qe(O,Rt(be()));if("error"in B)throw new tt(B.error,"failed to get block height information");return B.result}finally{delete p[N]}})(),await p[N]}})();let i,a,o,c,h,d;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,i=n.wsEndpoint,a=n.httpHeaders,o=n.fetch,c=n.fetchMiddleware,h=n.disableRetryOnRateLimit,d=n.httpAgent),this._rpcEndpoint=i7(e),this._rpcWsEndpoint=i||r7(e),this._rpcClient=b7(e,a,o,c,h,d),this._rpcRequest=v7(this._rpcClient),this._rpcBatchRequest=_7(this._rpcClient),this._rpcWebSocket=new JV(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:i,config:a}=Cn(n),o=this._buildArgs([e.toBase58()],i,void 0,a),c=await this._rpcRequest("getBalance",o),h=qe(c,Qn(be()));if("error"in h)throw new tt(h.error,`failed to get balance for ${e.toBase58()}`);return h.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(i=>i.value).catch(i=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+i)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),i=qe(n,Rt(Fe(be())));if("error"in i)throw new tt(i.error,`failed to get block time for slot ${e}`);return i.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=qe(e,Rt(be()));if("error"in n)throw new tt(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=qe(e,x7);if("error"in n)throw new tt(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const i=await this._rpcRequest("getSupply",[n]),a=qe(i,k7);if("error"in a)throw new tt(a.error,"failed to get supply");return a.result}async getTokenSupply(e,n){const i=this._buildArgs([e.toBase58()],n),a=await this._rpcRequest("getTokenSupply",i),o=qe(a,Qn(_b));if("error"in o)throw new tt(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,n){const i=this._buildArgs([e.toBase58()],n),a=await this._rpcRequest("getTokenAccountBalance",i),o=qe(a,Qn(_b));if("error"in o)throw new tt(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,n,i){const{commitment:a,config:o}=Cn(i);let c=[e.toBase58()];"mint"in n?c.push({mint:n.mint.toBase58()}):c.push({programId:n.programId.toBase58()});const h=this._buildArgs(c,a,"base64",o),d=await this._rpcRequest("getTokenAccountsByOwner",h),p=qe(d,M7);if("error"in p)throw new tt(p.error,`failed to get token accounts owned by account ${e.toBase58()}`);return p.result}async getParsedTokenAccountsByOwner(e,n,i){let a=[e.toBase58()];"mint"in n?a.push({mint:n.mint.toBase58()}):a.push({programId:n.programId.toBase58()});const o=this._buildArgs(a,i,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",o),h=qe(c,O7);if("error"in h)throw new tt(h.error,`failed to get token accounts owned by account ${e.toBase58()}`);return h.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},i=n.filter||n.commitment?[n]:[],a=await this._rpcRequest("getLargestAccounts",i),o=qe(a,N7);if("error"in o)throw new tt(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,n){const i=this._buildArgs([e.toBase58()],n),a=await this._rpcRequest("getTokenLargestAccounts",i),o=qe(a,C7);if("error"in o)throw new tt(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,n){const{commitment:i,config:a}=Cn(n),o=this._buildArgs([e.toBase58()],i,"base64",a),c=await this._rpcRequest("getAccountInfo",o),h=qe(c,Qn(Fe(Sf)));if("error"in h)throw new tt(h.error,`failed to get info about account ${e.toBase58()}`);return h.result}async getParsedAccountInfo(e,n){const{commitment:i,config:a}=Cn(n),o=this._buildArgs([e.toBase58()],i,"jsonParsed",a),c=await this._rpcRequest("getAccountInfo",o),h=qe(c,Qn(Fe(Sb)));if("error"in h)throw new tt(h.error,`failed to get info about account ${e.toBase58()}`);return h.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(i){throw new Error("failed to get info about account "+e.toBase58()+": "+i)}}async getMultipleParsedAccounts(e,n){const{commitment:i,config:a}=Cn(n),o=e.map(p=>p.toBase58()),c=this._buildArgs([o],i,"jsonParsed",a),h=await this._rpcRequest("getMultipleAccounts",c),d=qe(h,Qn(We(Fe(Sb))));if("error"in d)throw new tt(d.error,`failed to get info for accounts ${o}`);return d.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:i,config:a}=Cn(n),o=e.map(p=>p.toBase58()),c=this._buildArgs([o],i,"base64",a),h=await this._rpcRequest("getMultipleAccounts",c),d=qe(h,Qn(We(Fe(Sf))));if("error"in d)throw new tt(d.error,`failed to get info for accounts ${o}`);return d.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,i){const{commitment:a,config:o}=Cn(n),c=this._buildArgs([e.toBase58()],a,void 0,{...o,epoch:i??o?.epoch}),h=await this._rpcRequest("getStakeActivation",c),d=qe(h,Rt(B7));if("error"in d)throw new tt(d.error,`failed to get Stake Activation ${e.toBase58()}`);return d.result}async getProgramAccounts(e,n){const{commitment:i,config:a}=Cn(n),{encoding:o,...c}=a||{},h=this._buildArgs([e.toBase58()],i,o||"base64",{...c,...c.filters?{filters:u2(c.filters)}:null}),d=await this._rpcRequest("getProgramAccounts",h),p=We(P7),g=c.withContext===!0?qe(d,Qn(p)):qe(d,Rt(p));if("error"in g)throw new tt(g.error,`failed to get accounts owned by program ${e.toBase58()}`);return g.result}async getParsedProgramAccounts(e,n){const{commitment:i,config:a}=Cn(n),o=this._buildArgs([e.toBase58()],i,"jsonParsed",a),c=await this._rpcRequest("getProgramAccounts",o),h=qe(c,Rt(We(L7)));if("error"in h)throw new tt(h.error,`failed to get accounts owned by program ${e.toBase58()}`);return h.result}async confirmTransaction(e,n){let i;if(typeof e=="string")i=e;else{const o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);i=o.signature}let a;try{a=Or.decode(i)}catch{throw new Error("signature must be base58 encoded: "+i)}return cn(a.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:i}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,i)=>{e!=null&&(e.aborted?i(e.reason):e.addEventListener("abort",()=>{i(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let i,a,o=!1;const c=new Promise((d,p)=>{try{i=this.onSignature(n,(E,A)=>{i=void 0;const T={context:A,value:E};d({__type:ba.PROCESSED,response:T})},e);const g=new Promise(E=>{i==null?E():a=this._onSubscriptionStateChange(i,A=>{A==="subscribed"&&E()})});(async()=>{if(await g,o)return;const E=await this.getSignatureStatus(n);if(o||E==null)return;const{context:A,value:T}=E;if(T!=null)if(T?.err)p(T.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(T.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(T.confirmationStatus==="processed"||T.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,d({__type:ba.PROCESSED,response:{context:A,value:T}})}})()}catch(g){p(g)}});return{abortConfirmation:()=>{a&&(a(),a=void 0),i!=null&&(this.removeSignatureListener(i),i=void 0)},confirmationPromise:c}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:i,signature:a}}){let o=!1;const c=new Promise(E=>{const A=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let T=await A();if(!o){for(;T<=i;)if(await yl(1e3),o||(T=await A(),o))return;E({__type:ba.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:h,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),p=this.getCancellationPromise(n);let g;try{const E=await Promise.race([p,d,c]);if(E.__type===ba.PROCESSED)g=E.response;else throw new Gv(a)}finally{o=!0,h()}return g}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:i,nonceAccountPubkey:a,nonceValue:o,signature:c}}){let h=!1;const d=new Promise(T=>{let N=o,O=null;const B=async()=>{try{const{context:K,value:$}=await this.getNonceAndContext(a,{commitment:e,minContextSlot:i});return O=K.slot,$?.nonce}catch{return N}};(async()=>{if(N=await B(),!h)for(;;){if(o!==N){T({__type:ba.NONCE_INVALID,slotInWhichNonceDidAdvance:O});return}if(await yl(2e3),h||(N=await B(),h))return}})()}),{abortConfirmation:p,confirmationPromise:g}=this.getTransactionConfirmationPromise({commitment:e,signature:c}),E=this.getCancellationPromise(n);let A;try{const T=await Promise.race([E,g,d]);if(T.__type===ba.PROCESSED)A=T.response;else{let N;for(;;){const O=await this.getSignatureStatus(c);if(O==null)break;if(O.context.slot<(T.slotInWhichNonceDidAdvance??i)){await yl(400);continue}N=O;break}if(N?.value){const O=e||"finalized",{confirmationStatus:B}=N.value;switch(O){case"processed":case"recent":if(B!=="processed"&&B!=="confirmed"&&B!=="finalized")throw new Hc(c);break;case"confirmed":case"single":case"singleGossip":if(B!=="confirmed"&&B!=="finalized")throw new Hc(c);break;case"finalized":case"max":case"root":if(B!=="finalized")throw new Hc(c);break;default:}A={context:N.context,value:{err:N.value.err}}}else throw new Hc(c)}}finally{h=!0,p()}return A}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let i;const a=new Promise(d=>{let p=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{p=this._confirmTransactionInitialTimeout||3e4;break}}i=setTimeout(()=>d({__type:ba.TIMED_OUT,timeoutMs:p}),p)}),{abortConfirmation:o,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let h;try{const d=await Promise.race([c,a]);if(d.__type===ba.PROCESSED)h=d.response;else throw new Yv(n,d.timeoutMs/1e3)}finally{clearTimeout(i),o()}return h}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=qe(e,Rt(We(Y7)));if("error"in n)throw new tt(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),i=await this._rpcRequest("getVoteAccounts",n),a=qe(i,Q7);if("error"in a)throw new tt(a.error,"failed to get vote accounts");return a.result}async getSlot(e){const{commitment:n,config:i}=Cn(e),a=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getSlot",a),c=qe(o,Rt(be()));if("error"in c)throw new tt(c.error,"failed to get slot");return c.result}async getSlotLeader(e){const{commitment:n,config:i}=Cn(e),a=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getSlotLeader",a),c=qe(o,Rt(Ue()));if("error"in c)throw new tt(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(e,n){const i=[e,n],a=await this._rpcRequest("getSlotLeaders",i),o=qe(a,Rt(We(qn)));if("error"in o)throw new tt(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,n){const{context:i,value:a}=await this.getSignatureStatuses([e],n);cn(a.length===1);const o=a[0];return{context:i,value:o}}async getSignatureStatuses(e,n){const i=[e];n&&i.push(n);const a=await this._rpcRequest("getSignatureStatuses",i),o=qe(a,J7);if("error"in o)throw new tt(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:n,config:i}=Cn(e),a=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getTransactionCount",a),c=qe(o,Rt(be()));if("error"in c)throw new tt(c.error,"failed to get transaction count");return c.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),i=await this._rpcRequest("getInflationGovernor",n),a=qe(i,E7);if("error"in a)throw new tt(a.error,"failed to get inflation");return a.result}async getInflationReward(e,n,i){const{commitment:a,config:o}=Cn(i),c=this._buildArgs([e.map(p=>p.toBase58())],a,void 0,{...o,epoch:n??o?.epoch}),h=await this._rpcRequest("getInflationReward",c),d=qe(h,o7);if("error"in d)throw new tt(d.error,"failed to get inflation reward");return d.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=qe(e,S7);if("error"in n)throw new tt(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:i}=Cn(e),a=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getEpochInfo",a),c=qe(o,T7);if("error"in c)throw new tt(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=qe(e,I7);if("error"in n)throw new tt(n.error,"failed to get epoch schedule");const i=n.result;return new OC(i.slotsPerEpoch,i.leaderScheduleSlotOffset,i.warmup,i.firstNormalEpoch,i.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=qe(e,R7);if("error"in n)throw new tt(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const i=this._buildArgs([e],n),a=await this._rpcRequest("getMinimumBalanceForRentExemption",i),o=qe(a,ez);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:i}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:i,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),i=qe(n,dz);if("error"in i)throw new tt(i.error,"failed to get recent performance samples");return i.result}async getFeeCalculatorForBlockhash(e,n){const i=this._buildArgs([e],n),a=await this._rpcRequest("getFeeCalculatorForBlockhash",i),o=qe(a,pz);if("error"in o)throw new tt(o.error,"failed to get fee calculator");const{context:c,value:h}=o.result;return{context:c,value:h!==null?h.feeCalculator:null}}async getFeeForMessage(e,n){const i=xt(e.serialize()).toString("base64"),a=this._buildArgs([i],n),o=await this._rpcRequest("getFeeForMessage",a),c=qe(o,Qn(Fe(be())));if("error"in c)throw new tt(c.error,"failed to get fee for message");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentPrioritizationFees(e){const n=e?.lockedWritableAccounts?.map(c=>c.toBase58()),i=n?.length?[n]:[],a=await this._rpcRequest("getRecentPrioritizationFees",i),o=qe(a,A7);if("error"in o)throw new tt(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:i}=Cn(e),a=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getLatestBlockhash",a),c=qe(o,uz);if("error"in c)throw new tt(c.error,"failed to get latest blockhash");return c.result}async isBlockhashValid(e,n){const{commitment:i,config:a}=Cn(n),o=this._buildArgs([e],i,void 0,a),c=await this._rpcRequest("isBlockhashValid",o),h=qe(c,hz);if("error"in h)throw new tt(h.error,"failed to determine if the blockhash `"+e+"`is valid");return h.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=qe(e,Rt(m7));if("error"in n)throw new tt(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=qe(e,Rt(Ue()));if("error"in n)throw new tt(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:i,config:a}=Cn(n),o=this._buildArgsAtLeastConfirmed([e],i,void 0,a),c=await this._rpcRequest("getBlock",o);try{switch(a?.transactionDetails){case"accounts":{const h=qe(c,sz);if("error"in h)throw h.error;return h.result}case"none":{const h=qe(c,iz);if("error"in h)throw h.error;return h.result}default:{const h=qe(c,rz);if("error"in h)throw h.error;const{result:d}=h;return d?{...d,transactions:d.transactions.map(({transaction:p,meta:g,version:E})=>({meta:g,transaction:{...p,message:Jy(E,p.message)},version:E}))}:null}}}catch(h){throw new tt(h,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:i,config:a}=Cn(n),o=this._buildArgsAtLeastConfirmed([e],i,"jsonParsed",a),c=await this._rpcRequest("getBlock",o);try{switch(a?.transactionDetails){case"accounts":{const h=qe(c,oz);if("error"in h)throw h.error;return h.result}case"none":{const h=qe(c,lz);if("error"in h)throw h.error;return h.result}default:{const h=qe(c,az);if("error"in h)throw h.error;return h.result}}}catch(h){throw new tt(h,"failed to get block")}}async getBlockProduction(e){let n,i;if(typeof e=="string")i=e;else if(e){const{commitment:h,...d}=e;i=h,n=d}const a=this._buildArgs([],i,"base64",n),o=await this._rpcRequest("getBlockProduction",a),c=qe(o,w7);if("error"in c)throw new tt(c.error,"failed to get block production information");return c.result}async getTransaction(e,n){const{commitment:i,config:a}=Cn(n),o=this._buildArgsAtLeastConfirmed([e],i,void 0,a),c=await this._rpcRequest("getTransaction",o),h=qe(c,ew);if("error"in h)throw new tt(h.error,"failed to get transaction");const d=h.result;return d&&{...d,transaction:{...d.transaction,message:Jy(d.version,d.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:i,config:a}=Cn(n),o=this._buildArgsAtLeastConfirmed([e],i,"jsonParsed",a),c=await this._rpcRequest("getTransaction",o),h=qe(c,Ep);if("error"in h)throw new tt(h.error,"failed to get transaction");return h.result}async getParsedTransactions(e,n){const{commitment:i,config:a}=Cn(n),o=e.map(d=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([d],i,"jsonParsed",a)}));return(await this._rpcBatchRequest(o)).map(d=>{const p=qe(d,Ep);if("error"in p)throw new tt(p.error,"failed to get transactions");return p.result})}async getTransactions(e,n){const{commitment:i,config:a}=Cn(n),o=e.map(d=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([d],i,void 0,a)}));return(await this._rpcBatchRequest(o)).map(d=>{const p=qe(d,ew);if("error"in p)throw new tt(p.error,"failed to get transactions");const g=p.result;return g&&{...g,transaction:{...g.transaction,message:Jy(g.version,g.transaction.message)}}})}async getConfirmedBlock(e,n){const i=this._buildArgsAtLeastConfirmed([e],n),a=await this._rpcRequest("getBlock",i),o=qe(a,cz);if("error"in o)throw new tt(o.error,"failed to get confirmed block");const c=o.result;if(!c)throw new Error("Confirmed block "+e+" not found");const h={...c,transactions:c.transactions.map(({transaction:d,meta:p})=>{const g=new ps(d.message);return{meta:p,transaction:{...d,message:g}}})};return{...h,transactions:h.transactions.map(({transaction:d,meta:p})=>({meta:p,transaction:an.populate(d.message,d.signatures)}))}}async getBlocks(e,n,i){const a=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],i),o=await this._rpcRequest("getBlocks",a),c=qe(o,Rt(We(be())));if("error"in c)throw new tt(c.error,"failed to get blocks");return c.result}async getBlockSignatures(e,n){const i=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),a=await this._rpcRequest("getBlock",i),o=qe(a,d2);if("error"in o)throw new tt(o.error,"failed to get block");const c=o.result;if(!c)throw new Error("Block "+e+" not found");return c}async getConfirmedBlockSignatures(e,n){const i=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),a=await this._rpcRequest("getBlock",i),o=qe(a,d2);if("error"in o)throw new tt(o.error,"failed to get confirmed block");const c=o.result;if(!c)throw new Error("Confirmed block "+e+" not found");return c}async getConfirmedTransaction(e,n){const i=this._buildArgsAtLeastConfirmed([e],n),a=await this._rpcRequest("getTransaction",i),o=qe(a,ew);if("error"in o)throw new tt(o.error,"failed to get transaction");const c=o.result;if(!c)return c;const h=new ps(c.transaction.message),d=c.transaction.signatures;return{...c,transaction:an.populate(h,d)}}async getParsedConfirmedTransaction(e,n){const i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),a=await this._rpcRequest("getTransaction",i),o=qe(a,Ep);if("error"in o)throw new tt(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,n){const i=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed")}));return(await this._rpcBatchRequest(i)).map(c=>{const h=qe(c,Ep);if("error"in h)throw new tt(h.error,"failed to get confirmed transactions");return h.result})}async getConfirmedSignaturesForAddress(e,n,i){let a={},o=await this.getFirstAvailableBlock();for(;!("until"in a)&&(n--,!(n<=0||n<o));)try{const d=await this.getConfirmedBlockSignatures(n,"finalized");d.signatures.length>0&&(a.until=d.signatures[d.signatures.length-1].toString())}catch(d){if(d instanceof Error&&d.message.includes("skipped"))continue;throw d}let c=await this.getSlot("finalized");for(;!("before"in a)&&(i++,!(i>c));)try{const d=await this.getConfirmedBlockSignatures(i);d.signatures.length>0&&(a.before=d.signatures[d.signatures.length-1].toString())}catch(d){if(d instanceof Error&&d.message.includes("skipped"))continue;throw d}return(await this.getConfirmedSignaturesForAddress2(e,a)).map(d=>d.signature)}async getConfirmedSignaturesForAddress2(e,n,i){const a=this._buildArgsAtLeastConfirmed([e.toBase58()],i,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",a),c=qe(o,U7);if("error"in c)throw new tt(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(e,n,i){const a=this._buildArgsAtLeastConfirmed([e.toBase58()],i,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",a),c=qe(o,V7);if("error"in c)throw new tt(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(e,n){const{context:i,value:a}=await this.getAccountInfoAndContext(e,n);let o=null;return a!==null&&(o=new vb({key:e,state:vb.deserialize(a.data)})),{context:i,value:o}}async getNonceAndContext(e,n){const{context:i,value:a}=await this.getAccountInfoAndContext(e,n);let o=null;return a!==null&&(o=tg.fromAccountData(a.data)),{context:i,value:o}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(i=>i.value).catch(i=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+i)})}async requestAirdrop(e,n){const i=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),a=qe(i,mz);if("error"in a)throw new tt(a.error,`airdrop to ${e.toBase58()} failed`);return a.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await yl(100);const i=Date.now()-this._blockhashInfo.lastFetch>=PC;if(this._blockhashInfo.latestBlockhash!==null&&!i)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,i=n?n.blockhash:null;for(let a=0;a<50;a++){const o=await this.getLatestBlockhash("finalized");if(i!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await yl(kC/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:i}=Cn(e),a=this._buildArgs([],n,"base64",i),o=await this._rpcRequest("getStakeMinimumDelegation",a),c=qe(o,Qn(be()));if("error"in c)throw new tt(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(e,n,i){if("message"in e){const O=e.serialize(),B=ht.Buffer.from(O).toString("base64");if(Array.isArray(n)||i!==void 0)throw new Error("Invalid arguments");const K=n||{};K.encoding="base64","commitment"in K||(K.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(K.innerInstructions=n.innerInstructions);const $=[B,K],G=await this._rpcRequest("simulateTransaction",$),re=qe(G,h2);if("error"in re)throw new Error("failed to simulate transaction: "+re.error.message);return re.result}let a;if(e instanceof an){let N=e;a=new an,a.feePayer=N.feePayer,a.instructions=e.instructions,a.nonceInfo=N.nonceInfo,a.signatures=N.signatures}else a=an.populate(e),a._message=a._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(a.nonceInfo&&o)a.sign(...o);else{let N=this._disableBlockhashCaching;for(;;){const O=await this._blockhashWithExpiryBlockHeight(N);if(a.lastValidBlockHeight=O.lastValidBlockHeight,a.recentBlockhash=O.blockhash,!o)break;if(a.sign(...o),!a.signature)throw new Error("!signature");const B=a.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(B)&&!this._blockhashInfo.transactionSignatures.includes(B)){this._blockhashInfo.simulatedSignatures.push(B);break}else N=!0}}const c=a._compile(),h=c.serialize(),p=a._serialize(h).toString("base64"),g={encoding:"base64",commitment:this.commitment};if(i){const N=(Array.isArray(i)?i:c.nonProgramIds()).map(O=>O.toBase58());g.accounts={encoding:"base64",addresses:N}}o&&(g.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(g.innerInstructions=n.innerInstructions);const E=[p,g],A=await this._rpcRequest("simulateTransaction",E),T=qe(A,h2);if("error"in T){let N;if("data"in T.error&&(N=T.error.data.logs,N&&Array.isArray(N))){const O=`
    `,B=O+N.join(O);console.error(T.error.message,B)}throw new Ef({action:"simulate",signature:"",transactionMessage:T.error.message,logs:N})}return T.result}async sendTransaction(e,n,i){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const c=e.serialize();return await this.sendRawTransaction(c,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const a=n;if(e.nonceInfo)e.sign(...a);else{let c=this._disableBlockhashCaching;for(;;){const h=await this._blockhashWithExpiryBlockHeight(c);if(e.lastValidBlockHeight=h.lastValidBlockHeight,e.recentBlockhash=h.blockhash,e.sign(...a),!e.signature)throw new Error("!signature");const d=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(d))c=!0;else{this._blockhashInfo.transactionSignatures.push(d);break}}}const o=e.serialize();return await this.sendRawTransaction(o,i)}async sendRawTransaction(e,n){const i=xt(e).toString("base64");return await this.sendEncodedTransaction(i,n)}async sendEncodedTransaction(e,n){const i={encoding:"base64"},a=n&&n.skipPreflight,o=a===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(i.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(i.minContextSlot=n.minContextSlot),a&&(i.skipPreflight=a),o&&(i.preflightCommitment=o);const c=[e,i],h=await this._rpcRequest("sendTransaction",c),d=qe(h,gz);if("error"in d){let p;throw"data"in d.error&&(p=d.error.data.logs),new Ef({action:a?"send":"simulate",signature:"",transactionMessage:d.error.message,logs:p})}return d.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,i])=>{this._setSubscription(n,{...i,state:"pending"})})}_setSubscription(e,n){const i=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=n,i!==n.state){const a=this._subscriptionStateChangeCallbacksByHash[e];a&&a.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){const i=this._subscriptionHashByClientSubscriptionId[e];if(i==null)return()=>{};const a=this._subscriptionStateChangeCallbacksByHash[i]||=new Set;return a.add(n),()=>{a.delete(n),a.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(i){i instanceof Error&&console.log(`Error when closing socket connection: ${i.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async i=>{const a=this._subscriptionsByHash[i];if(a!==void 0)switch(a.state){case"pending":case"unsubscribed":if(a.callbacks.size===0){delete this._subscriptionsByHash[i],a.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[a.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:c}=a;try{this._setSubscription(i,{...a,state:"subscribing"});const h=await this._rpcWebSocket.call(c,o);this._setSubscription(i,{...a,serverSubscriptionId:h,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[h]=a.callbacks,await this._updateSubscriptions()}catch(h){if(console.error(`Received ${h instanceof Error?"":"JSON-RPC "}error calling \`${c}\``,{args:o,error:h}),!n())return;this._setSubscription(i,{...a,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":a.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:c}=a;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(i,{...a,state:"unsubscribing"}),this._setSubscription(i,{...a,state:"unsubscribing"});try{await this._rpcWebSocket.call(c,[o])}catch(h){if(h instanceof Error&&console.error(`${c} error:`,h.message),!n())return;this._setSubscription(i,{...a,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(i,{...a,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const i=this._subscriptionCallbacksByServerSubscriptionId[e];i!==void 0&&i.forEach(a=>{try{a(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:n,subscription:i}=qe(e,z7);this._handleServerNotification(i,[n.value,n.context])}_makeSubscription(e,n){const i=this._nextClientSubscriptionId++,a=l2([e.method,n]),o=this._subscriptionsByHash[a];return o===void 0?this._subscriptionsByHash[a]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[i]=a,this._subscriptionDisposeFunctionsByClientSubscriptionId[i]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[i],delete this._subscriptionHashByClientSubscriptionId[i];const c=this._subscriptionsByHash[a];cn(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${i}`),c.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),i}onAccountChange(e,n,i){const{commitment:a,config:o}=Cn(i),c=this._buildArgs([e.toBase58()],a||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},c)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:i}=qe(e,q7);this._handleServerNotification(i,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,i,a){const{commitment:o,config:c}=Cn(i),h=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",c||(a?{filters:u2(a)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},h)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,i){const a=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],i||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},a)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:i}=qe(e,wz);this._handleServerNotification(i,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:i}=qe(e,F7);this._handleServerNotification(i,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:i}=qe(e,K7);this._handleServerNotification(i,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const i=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];i?await i():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,i,a){const o=n||this._commitment;if(o||i||a){let c={};i&&(c.encoding=i),o&&(c.commitment=o),a&&(c=Object.assign(c,a)),e.push(c)}return e}_buildArgsAtLeastConfirmed(e,n,i,a){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,i,a)}_wsOnSignatureNotification(e){const{result:n,subscription:i}=qe(e,$7);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(i),this._handleServerNotification(i,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,i){const a=this._buildArgs([e],i||this._commitment||"finalized"),o=this._makeSubscription({callback:(c,h)=>{if(c.type==="status"){n(c.result,h);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return o}onSignatureWithOptions(e,n,i){const{commitment:a,...o}={...i,commitment:i&&i.commitment||this._commitment||"finalized"},c=this._buildArgs([e],a,void 0,o),h=this._makeSubscription({callback:(d,p)=>{n(d,p);try{this.removeSignatureListener(h)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return h}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:i}=qe(e,G7);this._handleServerNotification(i,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class ru{constructor(e){this._keypair=void 0,this._keypair=e??i2()}static generate(){return new ru(i2())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const i=e.slice(32,64);if(!n||!n.skipValidation){const a=e.slice(0,32),o=_m(a);for(let c=0;c<32;c++)if(i[c]!==o[c])throw new Error("provided secretKey is invalid")}return new ru({publicKey:i,secretKey:e})}static fromSeed(e){const n=_m(e),i=new Uint8Array(64);return i.set(e),i.set(n,32),new ru({publicKey:n,secretKey:i})}get publicKey(){return new ze(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Ea=Object.freeze({CreateLookupTable:{index:0,layout:ie.struct([ie.u32("instruction"),bu("recentSlot"),ie.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:ie.struct([ie.u32("instruction")])},ExtendLookupTable:{index:2,layout:ie.struct([ie.u32("instruction"),bu(),ie.seq(Lt(),ie.offset(ie.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ie.struct([ie.u32("instruction")])},CloseLookupTable:{index:4,layout:ie.struct([ie.u32("instruction")])}});class vz{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=ie.u32("instruction").decode(e.data);let a;for(const[o,c]of Object.entries(Ea))if(c.index==i){a=o;break}if(!a)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return a}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=mn(Ea.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=mn(Ea.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(i=>new ze(i))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(t1.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class t1{constructor(){}static createLookupTable(e){const[n,i]=ze.findProgramAddressSync([e.authority.toBuffer(),aC().encode(e.recentSlot)],this.programId),a=Ea.CreateLookupTable,o=Jt(a,{recentSlot:BigInt(e.recentSlot),bumpSeed:i}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:vr.programId,isSigner:!1,isWritable:!1}];return[new xn({programId:this.programId,keys:c,data:o}),n]}static freezeLookupTable(e){const n=Ea.FreezeLookupTable,i=Jt(n),a=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new xn({programId:this.programId,keys:a,data:i})}static extendLookupTable(e){const n=Ea.ExtendLookupTable,i=Jt(n,{addresses:e.addresses.map(o=>o.toBytes())}),a=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&a.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:vr.programId,isSigner:!1,isWritable:!1}),new xn({programId:this.programId,keys:a,data:i})}static deactivateLookupTable(e){const n=Ea.DeactivateLookupTable,i=Jt(n),a=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new xn({programId:this.programId,keys:a,data:i})}static closeLookupTable(e){const n=Ea.CloseLookupTable,i=Jt(n),a=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new xn({programId:this.programId,keys:a,data:i})}}t1.programId=new ze("AddressLookupTab1e1111111111111111111111111");class _z{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=ie.u8("instruction").decode(e.data);let a;for(const[o,c]of Object.entries(Us))if(c.index==i){a=o;break}if(!a)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return a}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:i}=mn(Us.RequestUnits,e.data);return{units:n,additionalFee:i}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=mn(Us.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=mn(Us.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=mn(Us.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(n1.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Us=Object.freeze({RequestUnits:{index:0,layout:ie.struct([ie.u8("instruction"),ie.u32("units"),ie.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:ie.struct([ie.u8("instruction"),ie.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:ie.struct([ie.u8("instruction"),ie.u32("units")])},SetComputeUnitPrice:{index:3,layout:ie.struct([ie.u8("instruction"),bu("microLamports")])}});class n1{constructor(){}static requestUnits(e){const n=Us.RequestUnits,i=Jt(n,e);return new xn({keys:[],programId:this.programId,data:i})}static requestHeapFrame(e){const n=Us.RequestHeapFrame,i=Jt(n,e);return new xn({keys:[],programId:this.programId,data:i})}static setComputeUnitLimit(e){const n=Us.SetComputeUnitLimit,i=Jt(n,e);return new xn({keys:[],programId:this.programId,data:i})}static setComputeUnitPrice(e){const n=Us.SetComputeUnitPrice,i=Jt(n,{microLamports:BigInt(e.microLamports)});return new xn({keys:[],programId:this.programId,data:i})}}n1.programId=new ze("ComputeBudget111111111111111111111111111111");const p2=64,m2=32,g2=64,y2=ie.struct([ie.u8("numSignatures"),ie.u8("padding"),ie.u16("signatureOffset"),ie.u16("signatureInstructionIndex"),ie.u16("publicKeyOffset"),ie.u16("publicKeyInstructionIndex"),ie.u16("messageDataOffset"),ie.u16("messageDataSize"),ie.u16("messageInstructionIndex")]);class ig{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:i,signature:a,instructionIndex:o}=e;cn(n.length===m2,`Public Key must be ${m2} bytes but received ${n.length} bytes`),cn(a.length===g2,`Signature must be ${g2} bytes but received ${a.length} bytes`);const c=y2.span,h=c+n.length,d=h+a.length,p=1,g=ht.Buffer.alloc(d+i.length),E=o??65535;return y2.encode({numSignatures:p,padding:0,signatureOffset:h,signatureInstructionIndex:E,publicKeyOffset:c,publicKeyInstructionIndex:E,messageDataOffset:d,messageDataSize:i.length,messageInstructionIndex:E},g),g.fill(n,c),g.fill(a,h),g.fill(i,d),new xn({keys:[],programId:ig.programId,data:g})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:i,instructionIndex:a}=e;cn(n.length===p2,`Private key must be ${p2} bytes but received ${n.length} bytes`);try{const o=ru.fromSecretKey(n),c=o.publicKey.toBytes(),h=Kv(i,o.secretKey);return this.createInstructionWithPublicKey({publicKey:c,message:i,signature:h,instructionIndex:a})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}ig.programId=new ze("Ed25519SigVerify111111111111111111111111111");const Ez=(r,e)=>{const n=Hv.sign(r,e);return[n.toCompactRawBytes(),n.recovery]};Hv.utils.isValidPrivateKey;const Sz=Hv.getPublicKey,w2=32,tw=20,b2=64,Az=11,nw=ie.struct([ie.u8("numSignatures"),ie.u16("signatureOffset"),ie.u8("signatureInstructionIndex"),ie.u16("ethAddressOffset"),ie.u8("ethAddressInstructionIndex"),ie.u16("messageDataOffset"),ie.u16("messageDataSize"),ie.u8("messageInstructionIndex"),ie.blob(20,"ethAddress"),ie.blob(64,"signature"),ie.u8("recoveryId")]);class iu{constructor(){}static publicKeyToEthAddress(e){cn(e.length===b2,`Public key must be ${b2} bytes but received ${e.length} bytes`);try{return ht.Buffer.from(t2(xt(e))).slice(-tw)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:i,signature:a,recoveryId:o,instructionIndex:c}=e;return iu.createInstructionWithEthAddress({ethAddress:iu.publicKeyToEthAddress(n),message:i,signature:a,recoveryId:o,instructionIndex:c})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:i,signature:a,recoveryId:o,instructionIndex:c=0}=e;let h;typeof n=="string"?n.startsWith("0x")?h=ht.Buffer.from(n.substr(2),"hex"):h=ht.Buffer.from(n,"hex"):h=n,cn(h.length===tw,`Address must be ${tw} bytes but received ${h.length} bytes`);const d=1+Az,p=d,g=d+h.length,E=g+a.length+1,A=1,T=ht.Buffer.alloc(nw.span+i.length);return nw.encode({numSignatures:A,signatureOffset:g,signatureInstructionIndex:c,ethAddressOffset:p,ethAddressInstructionIndex:c,messageDataOffset:E,messageDataSize:i.length,messageInstructionIndex:c,signature:xt(a),ethAddress:xt(h),recoveryId:o},T),T.fill(xt(i),nw.span),new xn({keys:[],programId:iu.programId,data:T})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:i,instructionIndex:a}=e;cn(n.length===w2,`Private key must be ${w2} bytes but received ${n.length} bytes`);try{const o=xt(n),c=Sz(o,!1).slice(1),h=ht.Buffer.from(t2(xt(i))),[d,p]=Ez(h,o);return this.createInstructionWithPublicKey({publicKey:c,message:i,signature:d,recoveryId:p,instructionIndex:a})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}iu.programId=new ze("KeccakSecp256k11111111111111111111111111111");var HC;const KC=new ze("StakeConfig11111111111111111111111111111111");class $C{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class Ff{constructor(e,n,i){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=i}}HC=Ff;Ff.default=new HC(0,0,ze.default);class Tz{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=ie.u32("instruction").decode(e.data);let a;for(const[o,c]of Object.entries(br))if(c.index==i){a=o;break}if(!a)throw new Error("Instruction type incorrect; not a StakeInstruction");return a}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:i}=mn(br.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new $C(new ze(n.staker),new ze(n.withdrawer)),lockup:new Ff(i.unixTimestamp,i.epoch,new ze(i.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),mn(br.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:i}=mn(br.Authorize,e.data),a={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ze(n),stakeAuthorizationType:{index:i}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:i,authoritySeed:a,authorityOwner:o}=mn(br.AuthorizeWithSeed,e.data),c={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:a,authorityOwner:new ze(o),newAuthorizedPubkey:new ze(n),stakeAuthorizationType:{index:i}};return e.keys.length>3&&(c.custodianPubkey=e.keys[3].pubkey),c}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=mn(br.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),mn(br.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=mn(br.Withdraw,e.data),i={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(i.custodianPubkey=e.keys[5].pubkey),i}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),mn(br.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(sg.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const br=Object.freeze({Initialize:{index:0,layout:ie.struct([ie.u32("instruction"),CV(),MV()])},Authorize:{index:1,layout:ie.struct([ie.u32("instruction"),Lt("newAuthorized"),ie.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:ie.struct([ie.u32("instruction")])},Split:{index:3,layout:ie.struct([ie.u32("instruction"),ie.ns64("lamports")])},Withdraw:{index:4,layout:ie.struct([ie.u32("instruction"),ie.ns64("lamports")])},Deactivate:{index:5,layout:ie.struct([ie.u32("instruction")])},Merge:{index:7,layout:ie.struct([ie.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:ie.struct([ie.u32("instruction"),Lt("newAuthorized"),ie.u32("stakeAuthorizationType"),El("authoritySeed"),Lt("authorityOwner")])}}),Iz=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class sg{constructor(){}static initialize(e){const{stakePubkey:n,authorized:i,lockup:a}=e,o=a||Ff.default,c=br.Initialize,h=Jt(c,{authorized:{staker:xt(i.staker.toBuffer()),withdrawer:xt(i.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:xt(o.custodian.toBuffer())}}),d={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:wu,isSigner:!1,isWritable:!1}],programId:this.programId,data:h};return new xn(d)}static createAccountWithSeed(e){const n=new an;n.add(vr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:a,lockup:o}=e;return n.add(this.initialize({stakePubkey:i,authorized:a,lockup:o}))}static createAccount(e){const n=new an;n.add(vr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:a,lockup:o}=e;return n.add(this.initialize({stakePubkey:i,authorized:a,lockup:o}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:i,votePubkey:a}=e,o=br.Delegate,c=Jt(o);return new an().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:Ps,isSigner:!1,isWritable:!1},{pubkey:jp,isSigner:!1,isWritable:!1},{pubkey:KC,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static authorize(e){const{stakePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:a,stakeAuthorizationType:o,custodianPubkey:c}=e,h=br.Authorize,d=Jt(h,{newAuthorized:xt(a.toBuffer()),stakeAuthorizationType:o.index}),p=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Ps,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!0,isWritable:!1}),new an().add({keys:p,programId:this.programId,data:d})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:i,authoritySeed:a,authorityOwner:o,newAuthorizedPubkey:c,stakeAuthorizationType:h,custodianPubkey:d}=e,p=br.AuthorizeWithSeed,g=Jt(p,{newAuthorized:xt(c.toBuffer()),stakeAuthorizationType:h.index,authoritySeed:a,authorityOwner:xt(o.toBuffer())}),E=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:Ps,isSigner:!1,isWritable:!1}];return d&&E.push({pubkey:d,isSigner:!0,isWritable:!1}),new an().add({keys:E,programId:this.programId,data:g})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:a,lamports:o}=e,c=br.Split,h=Jt(c,{lamports:o});return new xn({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:h})}static split(e,n){const i=new an;return i.add(vr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),i.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:i,authorizedPubkey:a,splitStakePubkey:o,basePubkey:c,seed:h,lamports:d}=e,p=new an;return p.add(vr.allocate({accountPubkey:o,basePubkey:c,seed:h,space:this.space,programId:this.programId})),n&&n>0&&p.add(vr.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:n})),p.add(this.splitInstruction({stakePubkey:i,authorizedPubkey:a,splitStakePubkey:o,lamports:d}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:i,authorizedPubkey:a}=e,o=br.Merge,c=Jt(o);return new an().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Ps,isSigner:!1,isWritable:!1},{pubkey:jp,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:i,toPubkey:a,lamports:o,custodianPubkey:c}=e,h=br.Withdraw,d=Jt(h,{lamports:o}),p=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Ps,isSigner:!1,isWritable:!1},{pubkey:jp,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!0,isWritable:!1}),new an().add({keys:p,programId:this.programId,data:d})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:i}=e,a=br.Deactivate,o=Jt(a);return new an().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Ps,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}sg.programId=new ze("Stake11111111111111111111111111111111111111");sg.space=200;class GC{constructor(e,n,i,a){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=i,this.commission=a}}class Rz{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=ie.u32("instruction").decode(e.data);let a;for(const[o,c]of Object.entries(Vs))if(c.index==i){a=o;break}if(!a)throw new Error("Instruction type incorrect; not a VoteInstruction");return a}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=mn(Vs.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new GC(new ze(n.nodePubkey),new ze(n.authorizedVoter),new ze(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:i}=mn(Vs.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ze(n),voteAuthorizationType:{index:i}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorized:a,voteAuthorizationType:o}}=mn(Vs.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ze(n),currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:new ze(a),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=mn(Vs.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Ou.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const Vs=Object.freeze({InitializeAccount:{index:0,layout:ie.struct([ie.u32("instruction"),OV()])},Authorize:{index:1,layout:ie.struct([ie.u32("instruction"),Lt("newAuthorized"),ie.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:ie.struct([ie.u32("instruction"),ie.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:ie.struct([ie.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:ie.struct([ie.u32("instruction"),NV()])}}),xz=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Ou{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:i,voteInit:a}=e,o=Vs.InitializeAccount,c=Jt(o,{voteInit:{nodePubkey:xt(a.nodePubkey.toBuffer()),authorizedVoter:xt(a.authorizedVoter.toBuffer()),authorizedWithdrawer:xt(a.authorizedWithdrawer.toBuffer()),commission:a.commission}}),h={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:wu,isSigner:!1,isWritable:!1},{pubkey:Ps,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:c};return new xn(h)}static createAccount(e){const n=new an;return n.add(vr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:a,voteAuthorizationType:o}=e,c=Vs.Authorize,h=Jt(c,{newAuthorized:xt(a.toBuffer()),voteAuthorizationType:o.index}),d=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Ps,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new an().add({keys:d,programId:this.programId,data:h})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:i,currentAuthorityDerivedKeySeed:a,newAuthorizedPubkey:o,voteAuthorizationType:c,votePubkey:h}=e,d=Vs.AuthorizeWithSeed,p=Jt(d,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:xt(i.toBuffer()),currentAuthorityDerivedKeySeed:a,newAuthorized:xt(o.toBuffer()),voteAuthorizationType:c.index}}),g=[{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:Ps,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new an().add({keys:g,programId:this.programId,data:p})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:i,lamports:a,toPubkey:o}=e,c=Vs.Withdraw,h=Jt(c,{lamports:a}),d=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new an().add({keys:d,programId:this.programId,data:h})}static safeWithdraw(e,n,i){if(e.lamports>n-i)throw new Error("Withdraw will leave vote account with insufficient funds.");return Ou.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:i,nodePubkey:a}=e,o=Vs.UpdateValidatorIdentity,c=Jt(o),h=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new an().add({keys:h,programId:this.programId,data:c})}}Ou.programId=new ze("Vote111111111111111111111111111111111111111");Ou.space=3762;const YC=new ze("Va1idator1nfo111111111111111111111111111111"),kz=Pe({name:Ue(),website:at(Ue()),details:at(Ue()),iconUrl:at(Ue()),keybaseUsername:at(Ue())});class r1{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(fi(n)!==2)return null;const a=[];for(let o=0;o<2;o++){const c=new ze(di(n,0,Ks)),h=Bs(n)===1;a.push({publicKey:c,isSigner:h})}if(a[0].publicKey.equals(YC)&&a[1].isSigner){const o=El().decode(ht.Buffer.from(n)),c=JSON.parse(o);return oC(c,kz),new r1(a[1].publicKey,c)}return null}}const Cz=new ze("Vote111111111111111111111111111111111111111"),Mz=ie.struct([Lt("nodePubkey"),Lt("authorizedWithdrawer"),ie.u8("commission"),ie.nu64(),ie.seq(ie.struct([ie.nu64("slot"),ie.u32("confirmationCount")]),ie.offset(ie.u32(),-8),"votes"),ie.u8("rootSlotValid"),ie.nu64("rootSlot"),ie.nu64(),ie.seq(ie.struct([ie.nu64("epoch"),Lt("authorizedVoter")]),ie.offset(ie.u32(),-8),"authorizedVoters"),ie.struct([ie.seq(ie.struct([Lt("authorizedPubkey"),ie.nu64("epochOfLastAuthorizedSwitch"),ie.nu64("targetEpoch")]),32,"buf"),ie.nu64("idx"),ie.u8("isEmpty")],"priorVoters"),ie.nu64(),ie.seq(ie.struct([ie.nu64("epoch"),ie.nu64("credits"),ie.nu64("prevCredits")]),ie.offset(ie.u32(),-8),"epochCredits"),ie.struct([ie.nu64("slot"),ie.nu64("timestamp")],"lastTimestamp")]);class i1{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const i=Mz.decode(xt(e),4);let a=i.rootSlot;return i.rootSlotValid||(a=null),new i1({nodePubkey:new ze(i.nodePubkey),authorizedWithdrawer:new ze(i.authorizedWithdrawer),commission:i.commission,votes:i.votes,rootSlot:a,authorizedVoters:i.authorizedVoters.map(Oz),priorVoters:Nz(i.priorVoters),epochCredits:i.epochCredits,lastTimestamp:i.lastTimestamp})}}function Oz({authorizedVoter:r,epoch:e}){return{epoch:e,authorizedVoter:new ze(r)}}function v2({authorizedPubkey:r,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new ze(r),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function Nz({buf:r,idx:e,isEmpty:n}){return n?[]:[...r.slice(e+1).map(v2),...r.slice(0,e).map(v2)]}const _2={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Pz(r,e){const n=e===!1?"http":"https";if(!r)return _2[n].devnet;const i=_2[n][r];if(!i)throw new Error(`Unknown ${n} cluster: ${r}`);return i}async function Dz(r,e,n,i){let a,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(a=n,o=i):o=n;const c=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},h=await r.sendRawTransaction(e,c),d=o&&o.commitment,g=(await(a?r.confirmTransaction(a,d):r.confirmTransaction(h,d))).value;if(g.err)throw h!=null?new Ef({action:c?.skipPreflight?"send":"simulate",signature:h,transactionMessage:`Status: (${JSON.stringify(g)})`}):new Error(`Raw transaction ${h} failed (${JSON.stringify(g)})`);return h}const Lz=1e9,Bz=Object.freeze(Object.defineProperty({__proto__:null,Account:RV,AddressLookupTableAccount:vb,AddressLookupTableInstruction:vz,AddressLookupTableProgram:t1,Authorized:$C,BLOCKHASH_CACHE_TIMEOUT_MS:PC,BPF_LOADER_DEPRECATED_PROGRAM_ID:xV,BPF_LOADER_PROGRAM_ID:KV,BpfLoader:$V,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Us,ComputeBudgetInstruction:_z,ComputeBudgetProgram:n1,Connection:FC,Ed25519Program:ig,Enum:TV,EpochSchedule:OC,FeeCalculatorLayout:CC,Keypair:ru,LAMPORTS_PER_SOL:Lz,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Ea,Loader:Ll,Lockup:Ff,MAX_SEED_LENGTH:IC,Message:ps,MessageAccountKeys:vf,MessageV0:Dl,NONCE_ACCOUNT_LENGTH:bb,NonceAccount:tg,PACKET_DATA_SIZE:Po,PUBLIC_KEY_LENGTH:Ks,PublicKey:ze,SIGNATURE_LENGTH_IN_BYTES:bf,SOLANA_SCHEMA:rf,STAKE_CONFIG_ID:KC,STAKE_INSTRUCTION_LAYOUTS:br,SYSTEM_INSTRUCTION_LAYOUTS:Mn,SYSVAR_CLOCK_PUBKEY:Ps,SYSVAR_EPOCH_SCHEDULE_PUBKEY:UV,SYSVAR_INSTRUCTIONS_PUBKEY:VV,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:zp,SYSVAR_RENT_PUBKEY:wu,SYSVAR_REWARDS_PUBKEY:zV,SYSVAR_SLOT_HASHES_PUBKEY:jV,SYSVAR_SLOT_HISTORY_PUBKEY:qV,SYSVAR_STAKE_HISTORY_PUBKEY:jp,Secp256k1Program:iu,SendTransactionError:Ef,SolanaJSONRPCError:tt,SolanaJSONRPCErrorCode:WV,StakeAuthorizationLayout:Iz,StakeInstruction:Tz,StakeProgram:sg,Struct:$v,SystemInstruction:FV,SystemProgram:vr,Transaction:an,TransactionExpiredBlockheightExceededError:Gv,TransactionExpiredNonceInvalidError:Hc,TransactionExpiredTimeoutError:Yv,TransactionInstruction:xn,TransactionMessage:Xv,TransactionStatus:ba,VALIDATOR_INFO_KEY:YC,VERSION_PREFIX_MASK:Jm,VOTE_PROGRAM_ID:Cz,ValidatorInfo:r1,VersionedMessage:Qv,VersionedTransaction:_f,VoteAccount:i1,VoteAuthorizationLayout:xz,VoteInit:GC,VoteInstruction:Rz,VoteProgram:Ou,clusterApiUrl:Pz,sendAndConfirmRawTransaction:Dz,sendAndConfirmTransaction:wb},Symbol.toStringTag,{value:"Module"})),QC=ce.createContext({});function Uz(){return ce.useContext(QC)}const Vz=({children:r,endpoint:e,config:n={commitment:"confirmed"}})=>{const i=ce.useMemo(()=>new FC(e,n),[e,n]);return Le.createElement(QC.Provider,{value:{connection:i}},r)};class Zr extends Error{constructor(e,n){super(e),this.error=n}}class Sm extends Zr{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Gh extends Zr{constructor(){super(...arguments),this.name="WalletConfigError"}}class XC extends Zr{constructor(){super(...arguments),this.name="WalletConnectionError"}}class ZC extends Zr{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class JC extends Zr{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Sl extends Zr{constructor(){super(...arguments),this.name="WalletAccountError"}}class Ab extends Zr{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Mi extends Zr{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Al extends Zr{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Io extends Zr{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class eM extends Zr{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class E2 extends Zr{constructor(){super(...arguments),this.name="WalletSignInError"}}var Un;(function(r){r.Installed="Installed",r.NotDetected="NotDetected",r.Loadable="Loadable",r.Unsupported="Unsupported"})(Un||(Un={}));class tM extends qv{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,i={}){const a=this.publicKey;if(!a)throw new Mi;return e.feePayer=e.feePayer||a,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:i.preflightCommitment,minContextSlot:i.minContextSlot})).blockhash,e}}function zz(r){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(r())for(const o of e)o()}const i=setInterval(n,1e3);e.push(()=>clearInterval(i)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function jz(){if(!navigator)return!1;const r=navigator.userAgent.toLowerCase(),e=r.includes("iphone")||r.includes("ipad"),n=r.includes("safari");return e&&n}function Ro(r){return"version"in r}class qz extends tM{async sendTransaction(e,n,i={}){let a=!0;try{if(Ro(e)){if(!this.supportedTransactionVersions)throw new Al("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Al(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const o=e.serialize();return await n.sendRawTransaction(o,i)}catch(o){throw o instanceof Io?(a=!1,o):new Al(o?.message,o)}}else try{const{signers:o,...c}=i;e=await this.prepareTransaction(e,n,c),o?.length&&e.partialSign(...o),e=await this.signTransaction(e);const h=e.serialize();return await n.sendRawTransaction(h,c)}catch(o){throw o instanceof Io?(a=!1,o):new Al(o?.message,o)}}catch(o){throw a&&this.emit("error",o),o}}async signAllTransactions(e){for(const i of e)if(Ro(i)){if(!this.supportedTransactionVersions)throw new Io("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(i.version))throw new Io(`Signing transaction version ${i.version} isn't supported by this wallet`)}const n=[];for(const i of e)n.push(await this.signTransaction(i));return n}}class Wz extends qz{}const Eo="solana:signAndSendTransaction",rw="solana:signIn",Lh="solana:signMessage",kr="solana:signTransaction",nM="standard:connect",S2="standard:disconnect",rM="standard:events";function Fz(r){return nM in r.features&&rM in r.features&&(Eo in r.features||kr in r.features)}class A2 extends Zr{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const Hz=[],ag={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){as("call","select")},connect(){return Promise.reject(as("call","connect"))},disconnect(){return Promise.reject(as("call","disconnect"))},sendTransaction(){return Promise.reject(as("call","sendTransaction"))},signTransaction(){return Promise.reject(as("call","signTransaction"))},signAllTransactions(){return Promise.reject(as("call","signAllTransactions"))},signMessage(){return Promise.reject(as("call","signMessage"))},signIn(){return Promise.reject(as("call","signIn"))}};Object.defineProperty(ag,"wallets",{get(){return as("read","wallets"),Hz}});Object.defineProperty(ag,"wallet",{get(){return as("read","wallet"),null}});Object.defineProperty(ag,"publicKey",{get(){return as("read","publicKey"),null}});function as(r,e){const n=new Error(`You have tried to ${r} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const iM=ce.createContext(ag);function Kz(){return ce.useContext(iM)}function $z(r,e){const n=ce.useState(()=>{try{const o=localStorage.getItem(r);if(o)return JSON.parse(o)}catch(o){typeof window<"u"&&console.error(o)}return e}),i=n[0],a=ce.useRef(!0);return ce.useEffect(()=>{if(a.current){a.current=!1;return}try{i===null?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(i))}catch(o){typeof window<"u"&&console.error(o)}},[i,r]),n}var Ms={},fl={},ri={},Ct={},T2;function s1(){if(T2)return Ct;T2=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.WalletWindowClosedError=Ct.WalletWindowBlockedError=Ct.WalletTimeoutError=Ct.WalletSignInError=Ct.WalletSignMessageError=Ct.WalletSignTransactionError=Ct.WalletSendTransactionError=Ct.WalletNotConnectedError=Ct.WalletKeypairError=Ct.WalletPublicKeyError=Ct.WalletAccountError=Ct.WalletDisconnectionError=Ct.WalletDisconnectedError=Ct.WalletConnectionError=Ct.WalletConfigError=Ct.WalletLoadError=Ct.WalletNotReadyError=Ct.WalletError=void 0;class r extends Error{constructor(G,re){super(G),this.error=re}}Ct.WalletError=r;class e extends r{constructor(){super(...arguments),this.name="WalletNotReadyError"}}Ct.WalletNotReadyError=e;class n extends r{constructor(){super(...arguments),this.name="WalletLoadError"}}Ct.WalletLoadError=n;class i extends r{constructor(){super(...arguments),this.name="WalletConfigError"}}Ct.WalletConfigError=i;class a extends r{constructor(){super(...arguments),this.name="WalletConnectionError"}}Ct.WalletConnectionError=a;class o extends r{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}Ct.WalletDisconnectedError=o;class c extends r{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}Ct.WalletDisconnectionError=c;class h extends r{constructor(){super(...arguments),this.name="WalletAccountError"}}Ct.WalletAccountError=h;class d extends r{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}Ct.WalletPublicKeyError=d;class p extends r{constructor(){super(...arguments),this.name="WalletKeypairError"}}Ct.WalletKeypairError=p;class g extends r{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}Ct.WalletNotConnectedError=g;class E extends r{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}Ct.WalletSendTransactionError=E;class A extends r{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}Ct.WalletSignTransactionError=A;class T extends r{constructor(){super(...arguments),this.name="WalletSignMessageError"}}Ct.WalletSignMessageError=T;class N extends r{constructor(){super(...arguments),this.name="WalletSignInError"}}Ct.WalletSignInError=N;class O extends r{constructor(){super(...arguments),this.name="WalletTimeoutError"}}Ct.WalletTimeoutError=O;class B extends r{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}Ct.WalletWindowBlockedError=B;class K extends r{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}return Ct.WalletWindowClosedError=K,Ct}var I2;function sM(){if(I2)return ri;I2=1;var r=ri&&ri.__awaiter||function(d,p,g,E){function A(T){return T instanceof g?T:new g(function(N){N(T)})}return new(g||(g=Promise))(function(T,N){function O($){try{K(E.next($))}catch(G){N(G)}}function B($){try{K(E.throw($))}catch(G){N(G)}}function K($){$.done?T($.value):A($.value).then(O,B)}K((E=E.apply(d,p||[])).next())})},e=ri&&ri.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(ri,"__esModule",{value:!0}),ri.BaseWalletAdapter=ri.WalletReadyState=ri.EventEmitter=void 0,ri.scopePollingDetectionStrategy=c,ri.isIosAndRedirectable=h;const n=e(mC());ri.EventEmitter=n.default;const i=s1();var a;(function(d){d.Installed="Installed",d.NotDetected="NotDetected",d.Loadable="Loadable",d.Unsupported="Unsupported"})(a||(ri.WalletReadyState=a={}));class o extends n.default{get connected(){return!!this.publicKey}autoConnect(){return r(this,void 0,void 0,function*(){yield this.connect()})}prepareTransaction(p,g){return r(this,arguments,void 0,function*(E,A,T={}){const N=this.publicKey;if(!N)throw new i.WalletNotConnectedError;return E.feePayer=E.feePayer||N,E.recentBlockhash=E.recentBlockhash||(yield A.getLatestBlockhash({commitment:T.preflightCommitment,minContextSlot:T.minContextSlot})).blockhash,E})}}ri.BaseWalletAdapter=o;function c(d){if(typeof window>"u"||typeof document>"u")return;const p=[];function g(){if(d())for(const T of p)T()}const E=setInterval(g,1e3);p.push(()=>clearInterval(E)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",g,{once:!0}),p.push(()=>document.removeEventListener("DOMContentLoaded",g))),document.readyState!=="complete"&&(window.addEventListener("load",g,{once:!0}),p.push(()=>window.removeEventListener("load",g))),g()}function h(){if(!navigator)return!1;const d=navigator.userAgent.toLowerCase(),p=d.includes("iphone")||d.includes("ipad"),g=d.includes("safari");return p&&g}return ri}var xi={},Sp={},R2;function aM(){if(R2)return Sp;R2=1,Object.defineProperty(Sp,"__esModule",{value:!0}),Sp.isVersionedTransaction=r;function r(e){return"version"in e}return Sp}var x2;function Gz(){if(x2)return xi;x2=1;var r=xi&&xi.__awaiter||function(d,p,g,E){function A(T){return T instanceof g?T:new g(function(N){N(T)})}return new(g||(g=Promise))(function(T,N){function O($){try{K(E.next($))}catch(G){N(G)}}function B($){try{K(E.throw($))}catch(G){N(G)}}function K($){$.done?T($.value):A($.value).then(O,B)}K((E=E.apply(d,p||[])).next())})},e=xi&&xi.__rest||function(d,p){var g={};for(var E in d)Object.prototype.hasOwnProperty.call(d,E)&&p.indexOf(E)<0&&(g[E]=d[E]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,E=Object.getOwnPropertySymbols(d);A<E.length;A++)p.indexOf(E[A])<0&&Object.prototype.propertyIsEnumerable.call(d,E[A])&&(g[E[A]]=d[E[A]]);return g};Object.defineProperty(xi,"__esModule",{value:!0}),xi.BaseSignInMessageSignerWalletAdapter=xi.BaseMessageSignerWalletAdapter=xi.BaseSignerWalletAdapter=void 0;const n=sM(),i=s1(),a=aM();class o extends n.BaseWalletAdapter{sendTransaction(p,g){return r(this,arguments,void 0,function*(E,A,T={}){let N=!0;try{if((0,a.isVersionedTransaction)(E)){if(!this.supportedTransactionVersions)throw new i.WalletSendTransactionError("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(E.version))throw new i.WalletSendTransactionError(`Sending transaction version ${E.version} isn't supported by this wallet`);try{E=yield this.signTransaction(E);const O=E.serialize();return yield A.sendRawTransaction(O,T)}catch(O){throw O instanceof i.WalletSignTransactionError?(N=!1,O):new i.WalletSendTransactionError(O?.message,O)}}else try{const{signers:O}=T,B=e(T,["signers"]);E=yield this.prepareTransaction(E,A,B),O?.length&&E.partialSign(...O),E=yield this.signTransaction(E);const K=E.serialize();return yield A.sendRawTransaction(K,B)}catch(O){throw O instanceof i.WalletSignTransactionError?(N=!1,O):new i.WalletSendTransactionError(O?.message,O)}}catch(O){throw N&&this.emit("error",O),O}})}signAllTransactions(p){return r(this,void 0,void 0,function*(){for(const E of p)if((0,a.isVersionedTransaction)(E)){if(!this.supportedTransactionVersions)throw new i.WalletSignTransactionError("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(E.version))throw new i.WalletSignTransactionError(`Signing transaction version ${E.version} isn't supported by this wallet`)}const g=[];for(const E of p)g.push(yield this.signTransaction(E));return g})}}xi.BaseSignerWalletAdapter=o;class c extends o{}xi.BaseMessageSignerWalletAdapter=c;class h extends c{}return xi.BaseSignInMessageSignerWalletAdapter=h,xi}var Ap={},dl={},Bh={},k2;function Yz(){return k2||(k2=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.SolanaSignAndSendTransaction=void 0,Bh.SolanaSignAndSendTransaction="solana:signAndSendTransaction"),Bh}var Uh={},C2;function Qz(){return C2||(C2=1,Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.SolanaSignIn=void 0,Uh.SolanaSignIn="solana:signIn"),Uh}var Vh={},M2;function Xz(){return M2||(M2=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.SolanaSignMessage=void 0,Vh.SolanaSignMessage="solana:signMessage"),Vh}var zh={},O2;function Zz(){return O2||(O2=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.SolanaSignTransaction=void 0,zh.SolanaSignTransaction="solana:signTransaction"),zh}var jh={},N2;function Jz(){return N2||(N2=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.SignAndSendAllTransactions=void 0,jh.SignAndSendAllTransactions="solana:signAndSendAllTransactions"),jh}var P2;function a1(){return P2||(P2=1,(function(r){var e=dl&&dl.__createBinding||(Object.create?(function(i,a,o,c){c===void 0&&(c=o);var h=Object.getOwnPropertyDescriptor(a,o);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,c,h)}):(function(i,a,o,c){c===void 0&&(c=o),i[c]=a[o]})),n=dl&&dl.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,i,o)};Object.defineProperty(r,"__esModule",{value:!0}),n(Yz(),r),n(Qz(),r),n(Xz(),r),n(Zz(),r),n(Jz(),r)})(dl)),dl}var pl={},iw={},D2;function ej(){return D2||(D2=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Connect=r.StandardConnect=void 0,r.StandardConnect="standard:connect",r.Connect=r.StandardConnect})(iw)),iw}var sw={},L2;function tj(){return L2||(L2=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Disconnect=r.StandardDisconnect=void 0,r.StandardDisconnect="standard:disconnect",r.Disconnect=r.StandardDisconnect})(sw)),sw}var aw={},B2;function nj(){return B2||(B2=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Events=r.StandardEvents=void 0,r.StandardEvents="standard:events",r.Events=r.StandardEvents})(aw)),aw}var U2;function oM(){return U2||(U2=1,(function(r){var e=pl&&pl.__createBinding||(Object.create?(function(i,a,o,c){c===void 0&&(c=o);var h=Object.getOwnPropertyDescriptor(a,o);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,c,h)}):(function(i,a,o,c){c===void 0&&(c=o),i[c]=a[o]})),n=pl&&pl.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,i,o)};Object.defineProperty(r,"__esModule",{value:!0}),n(ej(),r),n(tj(),r),n(nj(),r)})(pl)),pl}var V2;function rj(){if(V2)return Ap;V2=1,Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.isWalletAdapterCompatibleStandardWallet=n;const r=a1(),e=oM();function n(i){return e.StandardConnect in i.features&&e.StandardEvents in i.features&&(r.SolanaSignAndSendTransaction in i.features||r.SolanaSignTransaction in i.features)}return Ap}var qh={},z2;function ij(){if(z2)return qh;z2=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.WalletAdapterNetwork=void 0;var r;return(function(e){e.Mainnet="mainnet-beta",e.Testnet="testnet",e.Devnet="devnet"})(r||(qh.WalletAdapterNetwork=r={})),qh}var j2;function sj(){return j2||(j2=1,(function(r){var e=fl&&fl.__createBinding||(Object.create?(function(i,a,o,c){c===void 0&&(c=o);var h=Object.getOwnPropertyDescriptor(a,o);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,c,h)}):(function(i,a,o,c){c===void 0&&(c=o),i[c]=a[o]})),n=fl&&fl.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,i,o)};Object.defineProperty(r,"__esModule",{value:!0}),n(sM(),r),n(s1(),r),n(Gz(),r),n(rj(),r),n(aM(),r),n(ij(),r)})(fl)),fl}const aj=Af(Bz);var ss={},Uc={},ow,q2;function oj(){return q2||(q2=1,ow=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),ow}var lw={},mo={},W2;function $l(){if(W2)return mo;W2=1;let r;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return mo.getSymbolSize=function(i){if(!i)throw new Error('"version" cannot be null or undefined');if(i<1||i>40)throw new Error('"version" should be in range from 1 to 40');return i*4+17},mo.getSymbolTotalCodewords=function(i){return e[i]},mo.getBCHDigit=function(n){let i=0;for(;n!==0;)i++,n>>>=1;return i},mo.setToSJISFunction=function(i){if(typeof i!="function")throw new Error('"toSJISFunc" is not a valid function.');r=i},mo.isKanjiModeEnabled=function(){return typeof r<"u"},mo.toSJIS=function(i){return r(i)},mo}var cw={},F2;function o1(){return F2||(F2=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}r.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},r.from=function(i,a){if(r.isValid(i))return i;try{return e(i)}catch{return a}}})(cw)),cw}var uw,H2;function lj(){if(H2)return uw;H2=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let i=0;i<n;i++)this.putBit((e>>>n-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},uw=r,uw}var hw,K2;function cj(){if(K2)return hw;K2=1;function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return r.prototype.set=function(e,n,i,a){const o=e*this.size+n;this.data[o]=i,a&&(this.reservedBit[o]=!0)},r.prototype.get=function(e,n){return this.data[e*this.size+n]},r.prototype.xor=function(e,n,i){this.data[e*this.size+n]^=i},r.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},hw=r,hw}var fw={},$2;function uj(){return $2||($2=1,(function(r){const e=$l().getSymbolSize;r.getRowColCoords=function(i){if(i===1)return[];const a=Math.floor(i/7)+2,o=e(i),c=o===145?26:Math.ceil((o-13)/(2*a-2))*2,h=[o-7];for(let d=1;d<a-1;d++)h[d]=h[d-1]-c;return h.push(6),h.reverse()},r.getPositions=function(i){const a=[],o=r.getRowColCoords(i),c=o.length;for(let h=0;h<c;h++)for(let d=0;d<c;d++)h===0&&d===0||h===0&&d===c-1||h===c-1&&d===0||a.push([o[h],o[d]]);return a}})(fw)),fw}var dw={},G2;function hj(){if(G2)return dw;G2=1;const r=$l().getSymbolSize,e=7;return dw.getPositions=function(i){const a=r(i);return[[0,0],[a-e,0],[0,a-e]]},dw}var pw={},Y2;function fj(){return Y2||(Y2=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},r.from=function(a){return r.isValid(a)?parseInt(a,10):void 0},r.getPenaltyN1=function(a){const o=a.size;let c=0,h=0,d=0,p=null,g=null;for(let E=0;E<o;E++){h=d=0,p=g=null;for(let A=0;A<o;A++){let T=a.get(E,A);T===p?h++:(h>=5&&(c+=e.N1+(h-5)),p=T,h=1),T=a.get(A,E),T===g?d++:(d>=5&&(c+=e.N1+(d-5)),g=T,d=1)}h>=5&&(c+=e.N1+(h-5)),d>=5&&(c+=e.N1+(d-5))}return c},r.getPenaltyN2=function(a){const o=a.size;let c=0;for(let h=0;h<o-1;h++)for(let d=0;d<o-1;d++){const p=a.get(h,d)+a.get(h,d+1)+a.get(h+1,d)+a.get(h+1,d+1);(p===4||p===0)&&c++}return c*e.N2},r.getPenaltyN3=function(a){const o=a.size;let c=0,h=0,d=0;for(let p=0;p<o;p++){h=d=0;for(let g=0;g<o;g++)h=h<<1&2047|a.get(p,g),g>=10&&(h===1488||h===93)&&c++,d=d<<1&2047|a.get(g,p),g>=10&&(d===1488||d===93)&&c++}return c*e.N3},r.getPenaltyN4=function(a){let o=0;const c=a.data.length;for(let d=0;d<c;d++)o+=a.data[d];return Math.abs(Math.ceil(o*100/c/5)-10)*e.N4};function n(i,a,o){switch(i){case r.Patterns.PATTERN000:return(a+o)%2===0;case r.Patterns.PATTERN001:return a%2===0;case r.Patterns.PATTERN010:return o%3===0;case r.Patterns.PATTERN011:return(a+o)%3===0;case r.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(o/3))%2===0;case r.Patterns.PATTERN101:return a*o%2+a*o%3===0;case r.Patterns.PATTERN110:return(a*o%2+a*o%3)%2===0;case r.Patterns.PATTERN111:return(a*o%3+(a+o)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}r.applyMask=function(a,o){const c=o.size;for(let h=0;h<c;h++)for(let d=0;d<c;d++)o.isReserved(d,h)||o.xor(d,h,n(a,d,h))},r.getBestMask=function(a,o){const c=Object.keys(r.Patterns).length;let h=0,d=1/0;for(let p=0;p<c;p++){o(p),r.applyMask(p,a);const g=r.getPenaltyN1(a)+r.getPenaltyN2(a)+r.getPenaltyN3(a)+r.getPenaltyN4(a);r.applyMask(p,a),g<d&&(d=g,h=p)}return h}})(pw)),pw}var Tp={},Q2;function lM(){if(Q2)return Tp;Q2=1;const r=o1(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Tp.getBlocksCount=function(a,o){switch(o){case r.L:return e[(a-1)*4+0];case r.M:return e[(a-1)*4+1];case r.Q:return e[(a-1)*4+2];case r.H:return e[(a-1)*4+3];default:return}},Tp.getTotalCodewordsCount=function(a,o){switch(o){case r.L:return n[(a-1)*4+0];case r.M:return n[(a-1)*4+1];case r.Q:return n[(a-1)*4+2];case r.H:return n[(a-1)*4+3];default:return}},Tp}var mw={},Wh={},X2;function dj(){if(X2)return Wh;X2=1;const r=new Uint8Array(512),e=new Uint8Array(256);return(function(){let i=1;for(let a=0;a<255;a++)r[a]=i,e[i]=a,i<<=1,i&256&&(i^=285);for(let a=255;a<512;a++)r[a]=r[a-255]})(),Wh.log=function(i){if(i<1)throw new Error("log("+i+")");return e[i]},Wh.exp=function(i){return r[i]},Wh.mul=function(i,a){return i===0||a===0?0:r[e[i]+e[a]]},Wh}var Z2;function pj(){return Z2||(Z2=1,(function(r){const e=dj();r.mul=function(i,a){const o=new Uint8Array(i.length+a.length-1);for(let c=0;c<i.length;c++)for(let h=0;h<a.length;h++)o[c+h]^=e.mul(i[c],a[h]);return o},r.mod=function(i,a){let o=new Uint8Array(i);for(;o.length-a.length>=0;){const c=o[0];for(let d=0;d<a.length;d++)o[d]^=e.mul(a[d],c);let h=0;for(;h<o.length&&o[h]===0;)h++;o=o.slice(h)}return o},r.generateECPolynomial=function(i){let a=new Uint8Array([1]);for(let o=0;o<i;o++)a=r.mul(a,new Uint8Array([1,e.exp(o)]));return a}})(mw)),mw}var gw,J2;function mj(){if(J2)return gw;J2=1;const r=pj();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(i){this.degree=i,this.genPoly=r.generateECPolynomial(this.degree)},e.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(i.length+this.degree);a.set(i);const o=r.mod(a,this.genPoly),c=this.degree-o.length;if(c>0){const h=new Uint8Array(this.degree);return h.set(o,c),h}return o},gw=e,gw}var yw={},ww={},bw={},eI;function cM(){return eI||(eI=1,bw.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),bw}var Os={},tI;function uM(){if(tI)return Os;tI=1;const r="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Os.KANJI=new RegExp(n,"g"),Os.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Os.BYTE=new RegExp(i,"g"),Os.NUMERIC=new RegExp(r,"g"),Os.ALPHANUMERIC=new RegExp(e,"g");const a=new RegExp("^"+n+"$"),o=new RegExp("^"+r+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Os.testKanji=function(d){return a.test(d)},Os.testNumeric=function(d){return o.test(d)},Os.testAlphanumeric=function(d){return c.test(d)},Os}var nI;function Gl(){return nI||(nI=1,(function(r){const e=cM(),n=uM();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(o,c){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?o.ccBits[0]:c<27?o.ccBits[1]:o.ccBits[2]},r.getBestModeForData=function(o){return n.testNumeric(o)?r.NUMERIC:n.testAlphanumeric(o)?r.ALPHANUMERIC:n.testKanji(o)?r.KANJI:r.BYTE},r.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},r.isValid=function(o){return o&&o.bit&&o.ccBits};function i(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+a)}}r.from=function(o,c){if(r.isValid(o))return o;try{return i(o)}catch{return c}}})(ww)),ww}var rI;function gj(){return rI||(rI=1,(function(r){const e=$l(),n=lM(),i=o1(),a=Gl(),o=cM(),c=7973,h=e.getBCHDigit(c);function d(A,T,N){for(let O=1;O<=40;O++)if(T<=r.getCapacity(O,N,A))return O}function p(A,T){return a.getCharCountIndicator(A,T)+4}function g(A,T){let N=0;return A.forEach(function(O){const B=p(O.mode,T);N+=B+O.getBitsLength()}),N}function E(A,T){for(let N=1;N<=40;N++)if(g(A,N)<=r.getCapacity(N,T,a.MIXED))return N}r.from=function(T,N){return o.isValid(T)?parseInt(T,10):N},r.getCapacity=function(T,N,O){if(!o.isValid(T))throw new Error("Invalid QR Code version");typeof O>"u"&&(O=a.BYTE);const B=e.getSymbolTotalCodewords(T),K=n.getTotalCodewordsCount(T,N),$=(B-K)*8;if(O===a.MIXED)return $;const G=$-p(O,T);switch(O){case a.NUMERIC:return Math.floor(G/10*3);case a.ALPHANUMERIC:return Math.floor(G/11*2);case a.KANJI:return Math.floor(G/13);case a.BYTE:default:return Math.floor(G/8)}},r.getBestVersionForData=function(T,N){let O;const B=i.from(N,i.M);if(Array.isArray(T)){if(T.length>1)return E(T,B);if(T.length===0)return 1;O=T[0]}else O=T;return d(O.mode,O.getLength(),B)},r.getEncodedBits=function(T){if(!o.isValid(T)||T<7)throw new Error("Invalid QR Code version");let N=T<<12;for(;e.getBCHDigit(N)-h>=0;)N^=c<<e.getBCHDigit(N)-h;return T<<12|N}})(yw)),yw}var vw={},iI;function yj(){if(iI)return vw;iI=1;const r=$l(),e=1335,n=21522,i=r.getBCHDigit(e);return vw.getEncodedBits=function(o,c){const h=o.bit<<3|c;let d=h<<10;for(;r.getBCHDigit(d)-i>=0;)d^=e<<r.getBCHDigit(d)-i;return(h<<10|d)^n},vw}var _w={},Ew,sI;function wj(){if(sI)return Ew;sI=1;const r=Gl();function e(n){this.mode=r.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(i){let a,o,c;for(a=0;a+3<=this.data.length;a+=3)o=this.data.substr(a,3),c=parseInt(o,10),i.put(c,10);const h=this.data.length-a;h>0&&(o=this.data.substr(a),c=parseInt(o,10),i.put(c,h*3+1))},Ew=e,Ew}var Sw,aI;function bj(){if(aI)return Sw;aI=1;const r=Gl(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(i){this.mode=r.ALPHANUMERIC,this.data=i}return n.getBitsLength=function(a){return 11*Math.floor(a/2)+6*(a%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){let o;for(o=0;o+2<=this.data.length;o+=2){let c=e.indexOf(this.data[o])*45;c+=e.indexOf(this.data[o+1]),a.put(c,11)}this.data.length%2&&a.put(e.indexOf(this.data[o]),6)},Sw=n,Sw}var Aw,oI;function vj(){if(oI)return Aw;oI=1;const r=Gl();function e(n){this.mode=r.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(i){return i*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let i=0,a=this.data.length;i<a;i++)n.put(this.data[i],8)},Aw=e,Aw}var Tw,lI;function _j(){if(lI)return Tw;lI=1;const r=Gl(),e=$l();function n(i){this.mode=r.KANJI,this.data=i}return n.getBitsLength=function(a){return a*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let a;for(a=0;a<this.data.length;a++){let o=e.toSJIS(this.data[a]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[a]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),i.put(o,13)}},Tw=n,Tw}var Iw={exports:{}},cI;function Ej(){return cI||(cI=1,(function(r){var e={single_source_shortest_paths:function(n,i,a){var o={},c={};c[i]=0;var h=e.PriorityQueue.make();h.push(i,0);for(var d,p,g,E,A,T,N,O,B;!h.empty();){d=h.pop(),p=d.value,E=d.cost,A=n[p]||{};for(g in A)A.hasOwnProperty(g)&&(T=A[g],N=E+T,O=c[g],B=typeof c[g]>"u",(B||O>N)&&(c[g]=N,h.push(g,N),o[g]=p))}if(typeof a<"u"&&typeof c[a]>"u"){var K=["Could not find a path from ",i," to ",a,"."].join("");throw new Error(K)}return o},extract_shortest_path_from_predecessor_list:function(n,i){for(var a=[],o=i;o;)a.push(o),n[o],o=n[o];return a.reverse(),a},find_path:function(n,i,a){var o=e.single_source_shortest_paths(n,i,a);return e.extract_shortest_path_from_predecessor_list(o,a)},PriorityQueue:{make:function(n){var i=e.PriorityQueue,a={},o;n=n||{};for(o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);return a.queue=[],a.sorter=n.sorter||i.default_sorter,a},default_sorter:function(n,i){return n.cost-i.cost},push:function(n,i){var a={value:n,cost:i};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(Iw)),Iw.exports}var uI;function Sj(){return uI||(uI=1,(function(r){const e=Gl(),n=wj(),i=bj(),a=vj(),o=_j(),c=uM(),h=$l(),d=Ej();function p(K){return unescape(encodeURIComponent(K)).length}function g(K,$,G){const re=[];let ae;for(;(ae=K.exec(G))!==null;)re.push({data:ae[0],index:ae.index,mode:$,length:ae[0].length});return re}function E(K){const $=g(c.NUMERIC,e.NUMERIC,K),G=g(c.ALPHANUMERIC,e.ALPHANUMERIC,K);let re,ae;return h.isKanjiModeEnabled()?(re=g(c.BYTE,e.BYTE,K),ae=g(c.KANJI,e.KANJI,K)):(re=g(c.BYTE_KANJI,e.BYTE,K),ae=[]),$.concat(G,re,ae).sort(function(Q,q){return Q.index-q.index}).map(function(Q){return{data:Q.data,mode:Q.mode,length:Q.length}})}function A(K,$){switch($){case e.NUMERIC:return n.getBitsLength(K);case e.ALPHANUMERIC:return i.getBitsLength(K);case e.KANJI:return o.getBitsLength(K);case e.BYTE:return a.getBitsLength(K)}}function T(K){return K.reduce(function($,G){const re=$.length-1>=0?$[$.length-1]:null;return re&&re.mode===G.mode?($[$.length-1].data+=G.data,$):($.push(G),$)},[])}function N(K){const $=[];for(let G=0;G<K.length;G++){const re=K[G];switch(re.mode){case e.NUMERIC:$.push([re,{data:re.data,mode:e.ALPHANUMERIC,length:re.length},{data:re.data,mode:e.BYTE,length:re.length}]);break;case e.ALPHANUMERIC:$.push([re,{data:re.data,mode:e.BYTE,length:re.length}]);break;case e.KANJI:$.push([re,{data:re.data,mode:e.BYTE,length:p(re.data)}]);break;case e.BYTE:$.push([{data:re.data,mode:e.BYTE,length:p(re.data)}])}}return $}function O(K,$){const G={},re={start:{}};let ae=["start"];for(let le=0;le<K.length;le++){const Q=K[le],q=[];for(let M=0;M<Q.length;M++){const U=Q[M],W=""+le+M;q.push(W),G[W]={node:U,lastCount:0},re[W]={};for(let F=0;F<ae.length;F++){const S=ae[F];G[S]&&G[S].node.mode===U.mode?(re[S][W]=A(G[S].lastCount+U.length,U.mode)-A(G[S].lastCount,U.mode),G[S].lastCount+=U.length):(G[S]&&(G[S].lastCount=U.length),re[S][W]=A(U.length,U.mode)+4+e.getCharCountIndicator(U.mode,$))}}ae=q}for(let le=0;le<ae.length;le++)re[ae[le]].end=0;return{map:re,table:G}}function B(K,$){let G;const re=e.getBestModeForData(K);if(G=e.from($,re),G!==e.BYTE&&G.bit<re.bit)throw new Error('"'+K+'" cannot be encoded with mode '+e.toString(G)+`.
 Suggested mode is: `+e.toString(re));switch(G===e.KANJI&&!h.isKanjiModeEnabled()&&(G=e.BYTE),G){case e.NUMERIC:return new n(K);case e.ALPHANUMERIC:return new i(K);case e.KANJI:return new o(K);case e.BYTE:return new a(K)}}r.fromArray=function($){return $.reduce(function(G,re){return typeof re=="string"?G.push(B(re,null)):re.data&&G.push(B(re.data,re.mode)),G},[])},r.fromString=function($,G){const re=E($,h.isKanjiModeEnabled()),ae=N(re),le=O(ae,G),Q=d.find_path(le.map,"start","end"),q=[];for(let M=1;M<Q.length-1;M++)q.push(le.table[Q[M]].node);return r.fromArray(T(q))},r.rawSplit=function($){return r.fromArray(E($,h.isKanjiModeEnabled()))}})(_w)),_w}var hI;function Aj(){if(hI)return lw;hI=1;const r=$l(),e=o1(),n=lj(),i=cj(),a=uj(),o=hj(),c=fj(),h=lM(),d=mj(),p=gj(),g=yj(),E=Gl(),A=Sj();function T(le,Q){const q=le.size,M=o.getPositions(Q);for(let U=0;U<M.length;U++){const W=M[U][0],F=M[U][1];for(let S=-1;S<=7;S++)if(!(W+S<=-1||q<=W+S))for(let w=-1;w<=7;w++)F+w<=-1||q<=F+w||(S>=0&&S<=6&&(w===0||w===6)||w>=0&&w<=6&&(S===0||S===6)||S>=2&&S<=4&&w>=2&&w<=4?le.set(W+S,F+w,!0,!0):le.set(W+S,F+w,!1,!0))}}function N(le){const Q=le.size;for(let q=8;q<Q-8;q++){const M=q%2===0;le.set(q,6,M,!0),le.set(6,q,M,!0)}}function O(le,Q){const q=a.getPositions(Q);for(let M=0;M<q.length;M++){const U=q[M][0],W=q[M][1];for(let F=-2;F<=2;F++)for(let S=-2;S<=2;S++)F===-2||F===2||S===-2||S===2||F===0&&S===0?le.set(U+F,W+S,!0,!0):le.set(U+F,W+S,!1,!0)}}function B(le,Q){const q=le.size,M=p.getEncodedBits(Q);let U,W,F;for(let S=0;S<18;S++)U=Math.floor(S/3),W=S%3+q-8-3,F=(M>>S&1)===1,le.set(U,W,F,!0),le.set(W,U,F,!0)}function K(le,Q,q){const M=le.size,U=g.getEncodedBits(Q,q);let W,F;for(W=0;W<15;W++)F=(U>>W&1)===1,W<6?le.set(W,8,F,!0):W<8?le.set(W+1,8,F,!0):le.set(M-15+W,8,F,!0),W<8?le.set(8,M-W-1,F,!0):W<9?le.set(8,15-W-1+1,F,!0):le.set(8,15-W-1,F,!0);le.set(M-8,8,1,!0)}function $(le,Q){const q=le.size;let M=-1,U=q-1,W=7,F=0;for(let S=q-1;S>0;S-=2)for(S===6&&S--;;){for(let w=0;w<2;w++)if(!le.isReserved(U,S-w)){let I=!1;F<Q.length&&(I=(Q[F]>>>W&1)===1),le.set(U,S-w,I),W--,W===-1&&(F++,W=7)}if(U+=M,U<0||q<=U){U-=M,M=-M;break}}}function G(le,Q,q){const M=new n;q.forEach(function(w){M.put(w.mode.bit,4),M.put(w.getLength(),E.getCharCountIndicator(w.mode,le)),w.write(M)});const U=r.getSymbolTotalCodewords(le),W=h.getTotalCodewordsCount(le,Q),F=(U-W)*8;for(M.getLengthInBits()+4<=F&&M.put(0,4);M.getLengthInBits()%8!==0;)M.putBit(0);const S=(F-M.getLengthInBits())/8;for(let w=0;w<S;w++)M.put(w%2?17:236,8);return re(M,le,Q)}function re(le,Q,q){const M=r.getSymbolTotalCodewords(Q),U=h.getTotalCodewordsCount(Q,q),W=M-U,F=h.getBlocksCount(Q,q),S=M%F,w=F-S,I=Math.floor(M/F),C=Math.floor(W/F),j=C+1,Y=I-C,te=new d(Y);let z=0;const P=new Array(F),b=new Array(F);let _=0;const L=new Uint8Array(le.buffer);for(let De=0;De<F;De++){const it=De<w?C:j;P[De]=L.slice(z,z+it),b[De]=te.encode(P[De]),z+=it,_=Math.max(_,it)}const Z=new Uint8Array(M);let ne=0,de,Ie;for(de=0;de<_;de++)for(Ie=0;Ie<F;Ie++)de<P[Ie].length&&(Z[ne++]=P[Ie][de]);for(de=0;de<Y;de++)for(Ie=0;Ie<F;Ie++)Z[ne++]=b[Ie][de];return Z}function ae(le,Q,q,M){let U;if(Array.isArray(le))U=A.fromArray(le);else if(typeof le=="string"){let I=Q;if(!I){const C=A.rawSplit(le);I=p.getBestVersionForData(C,q)}U=A.fromString(le,I||40)}else throw new Error("Invalid data");const W=p.getBestVersionForData(U,q);if(!W)throw new Error("The amount of data is too big to be stored in a QR Code");if(!Q)Q=W;else if(Q<W)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+W+`.
`);const F=G(Q,q,U),S=r.getSymbolSize(Q),w=new i(S);return T(w,Q),N(w),O(w,Q),K(w,q,0),Q>=7&&B(w,Q),$(w,F),isNaN(M)&&(M=c.getBestMask(w,K.bind(null,w,q))),c.applyMask(M,w),K(w,q,M),{modules:w,version:Q,errorCorrectionLevel:q,maskPattern:M,segments:U}}return lw.create=function(Q,q){if(typeof Q>"u"||Q==="")throw new Error("No input text");let M=e.M,U,W;return typeof q<"u"&&(M=e.from(q.errorCorrectionLevel,e.M),U=p.from(q.version),W=c.from(q.maskPattern),q.toSJISFunc&&r.setToSJISFunction(q.toSJISFunc)),ae(Q,U,M,W)},lw}var Rw={},xw={},fI;function hM(){return fI||(fI=1,(function(r){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let i=n.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+n);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(o){return[o,o]}))),i.length===6&&i.push("F","F");const a=parseInt(i.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+i.slice(0,6).join("")}}r.getOptions=function(i){i||(i={}),i.color||(i.color={});const a=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,o=i.width&&i.width>=21?i.width:void 0,c=i.scale||4;return{width:o,scale:o?4:c,margin:a,color:{dark:e(i.color.dark||"#000000ff"),light:e(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},r.getScale=function(i,a){return a.width&&a.width>=i+a.margin*2?a.width/(i+a.margin*2):a.scale},r.getImageWidth=function(i,a){const o=r.getScale(i,a);return Math.floor((i+a.margin*2)*o)},r.qrToImageData=function(i,a,o){const c=a.modules.size,h=a.modules.data,d=r.getScale(c,o),p=Math.floor((c+o.margin*2)*d),g=o.margin*d,E=[o.color.light,o.color.dark];for(let A=0;A<p;A++)for(let T=0;T<p;T++){let N=(A*p+T)*4,O=o.color.light;if(A>=g&&T>=g&&A<p-g&&T<p-g){const B=Math.floor((A-g)/d),K=Math.floor((T-g)/d);O=E[h[B*c+K]?1:0]}i[N++]=O.r,i[N++]=O.g,i[N++]=O.b,i[N]=O.a}}})(xw)),xw}var dI;function Tj(){return dI||(dI=1,(function(r){const e=hM();function n(a,o,c){a.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=c,o.width=c,o.style.height=c+"px",o.style.width=c+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(o,c,h){let d=h,p=c;typeof d>"u"&&(!c||!c.getContext)&&(d=c,c=void 0),c||(p=i()),d=e.getOptions(d);const g=e.getImageWidth(o.modules.size,d),E=p.getContext("2d"),A=E.createImageData(g,g);return e.qrToImageData(A.data,o,d),n(E,p,g),E.putImageData(A,0,0),p},r.renderToDataURL=function(o,c,h){let d=h;typeof d>"u"&&(!c||!c.getContext)&&(d=c,c=void 0),d||(d={});const p=r.render(o,c,d),g=d.type||"image/png",E=d.rendererOpts||{};return p.toDataURL(g,E.quality)}})(Rw)),Rw}var kw={},pI;function Ij(){if(pI)return kw;pI=1;const r=hM();function e(a,o){const c=a.a/255,h=o+'="'+a.hex+'"';return c<1?h+" "+o+'-opacity="'+c.toFixed(2).slice(1)+'"':h}function n(a,o,c){let h=a+o;return typeof c<"u"&&(h+=" "+c),h}function i(a,o,c){let h="",d=0,p=!1,g=0;for(let E=0;E<a.length;E++){const A=Math.floor(E%o),T=Math.floor(E/o);!A&&!p&&(p=!0),a[E]?(g++,E>0&&A>0&&a[E-1]||(h+=p?n("M",A+c,.5+T+c):n("m",d,0),d=0,p=!1),A+1<o&&a[E+1]||(h+=n("h",g),g=0)):d++}return h}return kw.render=function(o,c,h){const d=r.getOptions(c),p=o.modules.size,g=o.modules.data,E=p+d.margin*2,A=d.color.light.a?"<path "+e(d.color.light,"fill")+' d="M0 0h'+E+"v"+E+'H0z"/>':"",T="<path "+e(d.color.dark,"stroke")+' d="'+i(g,p,d.margin)+'"/>',N='viewBox="0 0 '+E+" "+E+'"',B='<svg xmlns="http://www.w3.org/2000/svg" '+(d.width?'width="'+d.width+'" height="'+d.width+'" ':"")+N+' shape-rendering="crispEdges">'+A+T+`</svg>
`;return typeof h=="function"&&h(null,B),B},kw}var mI;function Rj(){if(mI)return Uc;mI=1;const r=oj(),e=Aj(),n=Tj(),i=Ij();function a(o,c,h,d,p){const g=[].slice.call(arguments,1),E=g.length,A=typeof g[E-1]=="function";if(!A&&!r())throw new Error("Callback required as last argument");if(A){if(E<2)throw new Error("Too few arguments provided");E===2?(p=h,h=c,c=d=void 0):E===3&&(c.getContext&&typeof p>"u"?(p=d,d=void 0):(p=d,d=h,h=c,c=void 0))}else{if(E<1)throw new Error("Too few arguments provided");return E===1?(h=c,c=d=void 0):E===2&&!c.getContext&&(d=h,h=c,c=void 0),new Promise(function(T,N){try{const O=e.create(h,d);T(o(O,c,d))}catch(O){N(O)}})}try{const T=e.create(h,d);p(null,o(T,c,d))}catch(T){p(T)}}return Uc.create=e.create,Uc.toCanvas=a.bind(null,n.render),Uc.toDataURL=a.bind(null,n.renderToDataURL),Uc.toString=a.bind(null,function(o,c,h){return i.render(o,h)}),Uc}function Cw(r){switch(r){case"processed":case"confirmed":case"finalized":case void 0:return r;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const gI="solana:mainnet",xj="solana:devnet",kj="solana:testnet",Cj="solana:localnet",Mj="https://api.mainnet-beta.solana.com";function Oj(r){return r.includes(Mj)?gI:/\bdevnet\b/i.test(r)?xj:/\btestnet\b/i.test(r)?kj:/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?Cj:gI}function Nj(r){let e=`${r.domain} wants you to sign in with your Solana account:
`;e+=`${r.address}`,r.statement&&(e+=`

${r.statement}`);const n=[];if(r.uri&&n.push(`URI: ${r.uri}`),r.version&&n.push(`Version: ${r.version}`),r.chainId&&n.push(`Chain ID: ${r.chainId}`),r.nonce&&n.push(`Nonce: ${r.nonce}`),r.issuedAt&&n.push(`Issued At: ${r.issuedAt}`),r.expirationTime&&n.push(`Expiration Time: ${r.expirationTime}`),r.notBefore&&n.push(`Not Before: ${r.notBefore}`),r.requestId&&n.push(`Request ID: ${r.requestId}`),r.resources){n.push("Resources:");for(const i of r.resources)n.push(`- ${i}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const Oi={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class Ni extends Error{constructor(...e){const[n,i,a]=e;super(i),this.code=n,this.data=a,this.name="SolanaMobileWalletAdapterError"}}const Pj={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class og extends Error{constructor(...e){const[n,i,a,o]=e;super(a),this.code=i,this.data=o,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function Sn(r,e,n,i){function a(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(g){try{p(i.next(g))}catch(E){c(E)}}function d(g){try{p(i.throw(g))}catch(E){c(E)}}function p(g){g.done?o(g.value):a(g.value).then(h,d)}p((i=i.apply(r,[])).next())})}function Dj(r){return window.btoa(r)}function Tb(r,e){const n=window.btoa(String.fromCharCode.call(null,...r));return e?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):n}function Lj(r){return new Uint8Array(window.atob(r).split("").map(e=>e.charCodeAt(0)))}function qp(r,e){return Sn(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",r),i=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),a=new Uint8Array(n.byteLength+i.byteLength);return a.set(new Uint8Array(n),0),a.set(new Uint8Array(i),n.byteLength),a})}function Bj(r){return Nj(r)}function Uj(r){return Dj(Bj(r))}const fM="solana:signTransactions",Ib="solana:cloneAuthorization",Vj="solana:signInWithSolana";function dM(r,e){return new Proxy({},{get(n,i){return i==="then"?null:(n[i]==null&&(n[i]=function(a){return Sn(this,void 0,void 0,function*(){const{method:o,params:c}=zj(i,a,r),h=yield e(o,c);return o==="authorize"&&c.sign_in_payload&&!h.sign_in_result&&(h.sign_in_result=yield qj(c.sign_in_payload,h,e)),jj(i,h,r)})}),n[i])},defineProperty(){return!1},deleteProperty(){return!1}})}function zj(r,e,n){let i=e,a=r.toString().replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`).toLowerCase();switch(r){case"authorize":{let{chain:o}=i;if(n==="legacy"){switch(o){case"solana:testnet":{o="testnet";break}case"solana:devnet":{o="devnet";break}case"solana:mainnet":{o="mainnet-beta";break}default:o=i.cluster}i.cluster=o}else{switch(o){case"testnet":case"devnet":{o=`solana:${o}`;break}case"mainnet-beta":{o="solana:mainnet";break}}i.chain=o}}case"reauthorize":{const{auth_token:o,identity:c}=i;if(o)switch(n){case"legacy":{a="reauthorize",i={auth_token:o,identity:c};break}default:{a="authorize";break}}break}}return{method:a,params:i}}function jj(r,e,n){switch(r){case"getCapabilities":{const i=e;switch(n){case"legacy":{const a=[fM];return i.supports_clone_authorization===!0&&a.push(Ib),Object.assign(Object.assign({},i),{features:a})}case"v1":return Object.assign(Object.assign({},i),{supports_sign_and_send_transactions:!0,supports_clone_authorization:i.features.includes(Ib)})}}}return e}function qj(r,e,n){var i;return Sn(this,void 0,void 0,function*(){const a=(i=r.domain)!==null&&i!==void 0?i:window.location.host,o=e.accounts[0].address,c=Uj(Object.assign(Object.assign({},r),{domain:a,address:o})),h=yield n("sign_messages",{addresses:[o],payloads:[c]});return{address:o,signed_message:c,signature:h.signed_payloads[0].slice(c.length)}})}const Ia=4;function Wj(r){if(r>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(Ia);return new DataView(e).setUint32(0,r,!1),new Uint8Array(e)}const Rb=12,l1=65;function Fj(r,e,n){return Sn(this,void 0,void 0,function*(){const i=Wj(e),a=new Uint8Array(Rb);crypto.getRandomValues(a);const o=yield crypto.subtle.encrypt(mM(i,a),n,new TextEncoder().encode(r)),c=new Uint8Array(i.byteLength+a.byteLength+o.byteLength);return c.set(new Uint8Array(i),0),c.set(new Uint8Array(a),i.byteLength),c.set(new Uint8Array(o),i.byteLength+a.byteLength),c})}function pM(r,e){return Sn(this,void 0,void 0,function*(){const n=r.slice(0,Ia),i=r.slice(Ia,Ia+Rb),a=r.slice(Ia+Rb),o=yield crypto.subtle.decrypt(mM(n,i),e,a);return Hj().decode(o)})}function mM(r,e){return{additionalData:r,iv:e,name:"AES-GCM",tagLength:128}}let Mw;function Hj(){return Mw===void 0&&(Mw=new TextDecoder("utf-8")),Mw}function gM(){return Sn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Wp(){return Sn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function yM(r){let e="";const n=new Uint8Array(r),i=n.byteLength;for(let a=0;a<i;a++)e+=String.fromCharCode(n[a]);return window.btoa(e)}function Kj(){return wM(49152+Math.floor(Math.random()*16384))}function wM(r){if(r<49152||r>65535)throw new Ni(Oi.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${r} given.`,{port:r});return r}function bM(r){return r.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const $j="solana-wallet";function yI(r){return r.replace(/(^\/+|\/+$)/g,"").split("/")}function vM(r,e){let n=null;if(e){try{n=new URL(e)}catch{}if(n?.protocol!=="https:")throw new Ni(Oi.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${$j}:/`));const i=r.startsWith("/")?r:[...yI(n.pathname),...yI(r)].join("/");return new URL(i,n)}function Gj(r,e,n,i=["v1"]){return Sn(this,void 0,void 0,function*(){const a=wM(e),o=yield crypto.subtle.exportKey("raw",r),c=yM(o),h=vM("v1/associate/local",n);return h.searchParams.set("association",bM(c)),h.searchParams.set("port",`${a}`),i.forEach(d=>{h.searchParams.set("v",d)}),h})}function Yj(r,e,n,i,a=["v1"]){return Sn(this,void 0,void 0,function*(){const o=yield crypto.subtle.exportKey("raw",r),c=yM(o),h=vM("v1/associate/remote",i);return h.searchParams.set("association",bM(c)),h.searchParams.set("reflector",`${e}`),h.searchParams.set("id",`${Tb(n,!0)}`),a.forEach(d=>{h.searchParams.set("v",d)}),h})}function _M(r,e){return Sn(this,void 0,void 0,function*(){const n=JSON.stringify(r),i=r.id;return Fj(n,i,e)})}function EM(r,e){return Sn(this,void 0,void 0,function*(){const n=yield pM(r,e),i=JSON.parse(n);if(Object.hasOwnProperty.call(i,"error"))throw new og(i.id,i.error.code,i.error.message);return i})}function SM(r,e,n){return Sn(this,void 0,void 0,function*(){const[i,a]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",r.slice(0,l1),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:a},n,256),c=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(i),info:new Uint8Array},c,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function AM(r,e){return Sn(this,void 0,void 0,function*(){const n=yield pM(r,e),i=JSON.parse(n);let a="legacy";if(Object.hasOwnProperty.call(i,"v"))switch(i.v){case 1:case"1":case"v1":a="v1";break;case"legacy":a="legacy";break;default:throw new Ni(Oi.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${i.v}`)}return{protocol_version:a}})}const Am={Firefox:0,Other:1};function Qj(){return navigator.userAgent.indexOf("Firefox/")!==-1?Am.Firefox:Am.Other}function Xj(){return new Promise((r,e)=>{function n(){clearTimeout(a),window.removeEventListener("blur",i)}function i(){n(),r()}window.addEventListener("blur",i);const a=setTimeout(()=>{n(),e()},3e3)})}let Fh=null;function Zj(r){Fh==null&&(Fh=document.createElement("iframe"),Fh.style.display="none",document.body.appendChild(Fh)),Fh.contentWindow.location.href=r.toString()}function Jj(r){return Sn(this,void 0,void 0,function*(){if(r.protocol==="https:")window.location.assign(r);else try{const e=Qj();switch(e){case Am.Firefox:Zj(r);break;case Am.Other:{const n=Xj();window.location.assign(r),yield n;break}default:}}catch{throw new Ni(Oi.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function eq(r,e){return Sn(this,void 0,void 0,function*(){const n=Kj(),i=yield Gj(r,n,e);return yield Jj(i),n})}const Tm={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},TM="com.solana.mobilewalletadapter.v1",wI="com.solana.mobilewalletadapter.v1.base64";function IM(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Ni(Oi.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function RM(r){let e;try{e=new URL(r)}catch{throw new Ni(Oi.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new Ni(Oi.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Im(r){return new DataView(r).getUint32(0,!1)}function tq(r){var e=new Uint8Array(r),n=r.byteLength,i=10,a=0,o=0,c;do{if(o>=n||o>i)throw new RangeError("Failed to decode varint");c=e[o++],a|=(c&127)<<7*o}while(c>=128);return{value:a,offset:o}}function nq(r){let{value:e,offset:n}=tq(r);return new Uint8Array(r.slice(n,n+e))}function rq(r,e){return Sn(this,void 0,void 0,function*(){IM();const n=yield gM(),a=`ws://localhost:${yield eq(n.publicKey,e?.baseUri)}/solana-wallet`;let o;const c=(()=>{const g=[...Tm.retryDelayScheduleMs];return()=>g.length>1?g.shift():g[0]})();let h=1,d=0,p={__type:"disconnected"};return new Promise((g,E)=>{let A;const T={},N=()=>Sn(this,void 0,void 0,function*(){if(p.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${p.__type}\`.`);return}A.removeEventListener("open",N);const{associationKeypair:ae}=p,le=yield Wp();A.send(yield qp(le.publicKey,ae.privateKey)),p={__type:"hello_req_sent",associationPublicKey:ae.publicKey,ecdhPrivateKey:le.privateKey}}),O=ae=>{ae.wasClean?p={__type:"disconnected"}:E(new Ni(Oi.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${ae.code}: ${ae.reason}).`,{closeEvent:ae})),$()},B=ae=>Sn(this,void 0,void 0,function*(){$(),Date.now()-o>=Tm.timeoutMs?E(new Ni(Oi.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${a}.`)):(yield new Promise(le=>{const Q=c();G=window.setTimeout(le,Q)}),re())}),K=ae=>Sn(this,void 0,void 0,function*(){const le=yield ae.data.arrayBuffer();switch(p.__type){case"connecting":if(le.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const Q=yield Wp();A.send(yield qp(Q.publicKey,n.privateKey)),p={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:Q.privateKey};break;case"connected":try{const q=le.slice(0,Ia),M=Im(q);if(M!==d+1)throw new Error("Encrypted message has invalid sequence number");d=M;const U=yield EM(le,p.sharedSecret),W=T[U.id];delete T[U.id],W.resolve(U.result)}catch(q){if(q instanceof og){const M=T[q.jsonRpcMessageId];delete T[q.jsonRpcMessageId],M.reject(q)}else throw q}break;case"hello_req_sent":{if(le.byteLength===0){const F=yield Wp();A.send(yield qp(F.publicKey,n.privateKey)),p={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:F.privateKey};break}const q=yield SM(le,p.associationPublicKey,p.ecdhPrivateKey),M=le.slice(l1),U=M.byteLength!==0?yield Sn(this,void 0,void 0,function*(){const F=M.slice(0,Ia),S=Im(F);if(S!==d+1)throw new Error("Encrypted message has invalid sequence number");return d=S,AM(M,q)}):{protocol_version:"legacy"};p={__type:"connected",sharedSecret:q,sessionProperties:U};const W=dM(U.protocol_version,(F,S)=>Sn(this,void 0,void 0,function*(){const w=h++;return A.send(yield _M({id:w,jsonrpc:"2.0",method:F,params:S??{}},q)),new Promise((I,C)=>{T[w]={resolve(j){switch(F){case"authorize":case"reauthorize":{const{wallet_uri_base:Y}=j;if(Y!=null)try{RM(Y)}catch(te){C(te);return}break}}I(j)},reject:C}})}));try{g(yield r(W))}catch(F){E(F)}finally{$(),A.close()}break}}});let $,G;const re=()=>{$&&$(),p={__type:"connecting",associationKeypair:n},o===void 0&&(o=Date.now()),A=new WebSocket(a,[TM]),A.addEventListener("open",N),A.addEventListener("close",O),A.addEventListener("error",B),A.addEventListener("message",K),$=()=>{window.clearTimeout(G),A.removeEventListener("open",N),A.removeEventListener("close",O),A.removeEventListener("error",B),A.removeEventListener("message",K)}};re()})})}function iq(r){return Sn(this,void 0,void 0,function*(){IM();const e=yield gM(),n=`wss://${r?.remoteHostAuthority}/reflect`;let i;const a=(()=>{const O=[...Tm.retryDelayScheduleMs];return()=>O.length>1?O.shift():O[0]})();let o=1,c=0,h,d={__type:"disconnected"},p,g,E=O=>Sn(this,void 0,void 0,function*(){if(h=="base64"){const B=yield O.data;return Lj(B).buffer}else return yield O.data.arrayBuffer()});const A=yield new Promise((O,B)=>{const K=()=>Sn(this,void 0,void 0,function*(){if(d.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${d.__type}\`.`);return}p.protocol.includes(wI)?h="base64":h="binary",p.removeEventListener("open",K)}),$=Q=>{Q.wasClean?d={__type:"disconnected"}:B(new Ni(Oi.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${Q.code}: ${Q.reason}).`,{closeEvent:Q})),g()},G=Q=>Sn(this,void 0,void 0,function*(){g(),Date.now()-i>=Tm.timeoutMs?B(new Ni(Oi.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${n}.`)):(yield new Promise(q=>{const M=a();ae=window.setTimeout(q,M)}),le())}),re=Q=>Sn(this,void 0,void 0,function*(){const q=yield E(Q);if(d.__type==="connecting"){if(q.byteLength==0)throw new Error("Encountered unexpected message while connecting");const M=nq(q);d={__type:"reflector_id_received",reflectorId:M};const U=yield Yj(e.publicKey,r.remoteHostAuthority,M,r?.baseUri);p.removeEventListener("message",re),O(U)}});let ae;const le=()=>{g&&g(),d={__type:"connecting",associationKeypair:e},i===void 0&&(i=Date.now()),p=new WebSocket(n,[TM,wI]),p.addEventListener("open",K),p.addEventListener("close",$),p.addEventListener("error",G),p.addEventListener("message",re),g=()=>{window.clearTimeout(ae),p.removeEventListener("open",K),p.removeEventListener("close",$),p.removeEventListener("error",G),p.removeEventListener("message",re)}};le()});let T=!1,N;return{associationUrl:A,close:()=>{p.close(),N()},wallet:new Promise((O,B)=>{const K={},$=G=>Sn(this,void 0,void 0,function*(){const re=yield E(G);switch(d.__type){case"reflector_id_received":if(re.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const ae=yield Wp(),le=yield qp(ae.publicKey,e.privateKey);h=="base64"?p.send(Tb(le)):p.send(le),d={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:ae.privateKey};break;case"connected":try{const Q=re.slice(0,Ia),q=Im(Q);if(q!==c+1)throw new Error("Encrypted message has invalid sequence number");c=q;const M=yield EM(re,d.sharedSecret),U=K[M.id];delete K[M.id],U.resolve(M.result)}catch(Q){if(Q instanceof og){const q=K[Q.jsonRpcMessageId];delete K[Q.jsonRpcMessageId],q.reject(Q)}else throw Q}break;case"hello_req_sent":{const Q=yield SM(re,d.associationPublicKey,d.ecdhPrivateKey),q=re.slice(l1),M=q.byteLength!==0?yield Sn(this,void 0,void 0,function*(){const W=q.slice(0,Ia),F=Im(W);if(F!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=F,AM(q,Q)}):{protocol_version:"legacy"};d={__type:"connected",sharedSecret:Q,sessionProperties:M};const U=dM(M.protocol_version,(W,F)=>Sn(this,void 0,void 0,function*(){const S=o++,w=yield _M({id:S,jsonrpc:"2.0",method:W,params:F??{}},Q);return h=="base64"?p.send(Tb(w)):p.send(w),new Promise((I,C)=>{K[S]={resolve(j){switch(W){case"authorize":case"reauthorize":{const{wallet_uri_base:Y}=j;if(Y!=null)try{RM(Y)}catch(te){C(te);return}break}}I(j)},reject:C}})}));T=!0;try{O(U)}catch(W){B(W)}break}}});p.addEventListener("message",$),N=()=>{p.removeEventListener("message",$),g(),T||B(new Ni(Oi.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}const sq=Object.freeze(Object.defineProperty({__proto__:null,SolanaCloneAuthorization:Ib,SolanaMobileWalletAdapterError:Ni,SolanaMobileWalletAdapterErrorCode:Oi,SolanaMobileWalletAdapterProtocolError:og,SolanaMobileWalletAdapterProtocolErrorCode:Pj,SolanaSignInWithSolana:Vj,SolanaSignTransactions:fM,startRemoteScenario:iq,transact:rq},Symbol.toStringTag,{value:"Module"})),aq=Af(sq);var Ow,bI;function oq(){if(bI)return Ow;bI=1;function r(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var a=0;a<e.length;a++){var o=e.charAt(a),c=o.charCodeAt(0);if(n[c]!==255)throw new TypeError(o+" is ambiguous");n[c]=a}var h=e.length,d=e.charAt(0),p=Math.log(h)/Math.log(256),g=Math.log(256)/Math.log(h);function E(N){if(N instanceof Uint8Array||(ArrayBuffer.isView(N)?N=new Uint8Array(N.buffer,N.byteOffset,N.byteLength):Array.isArray(N)&&(N=Uint8Array.from(N))),!(N instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(N.length===0)return"";for(var O=0,B=0,K=0,$=N.length;K!==$&&N[K]===0;)K++,O++;for(var G=($-K)*g+1>>>0,re=new Uint8Array(G);K!==$;){for(var ae=N[K],le=0,Q=G-1;(ae!==0||le<B)&&Q!==-1;Q--,le++)ae+=256*re[Q]>>>0,re[Q]=ae%h>>>0,ae=ae/h>>>0;if(ae!==0)throw new Error("Non-zero carry");B=le,K++}for(var q=G-B;q!==G&&re[q]===0;)q++;for(var M=d.repeat(O);q<G;++q)M+=e.charAt(re[q]);return M}function A(N){if(typeof N!="string")throw new TypeError("Expected String");if(N.length===0)return new Uint8Array;for(var O=0,B=0,K=0;N[O]===d;)B++,O++;for(var $=(N.length-O)*p+1>>>0,G=new Uint8Array($);N[O];){var re=N.charCodeAt(O);if(re>255)return;var ae=n[re];if(ae===255)return;for(var le=0,Q=$-1;(ae!==0||le<K)&&Q!==-1;Q--,le++)ae+=h*G[Q]>>>0,G[Q]=ae%256>>>0,ae=ae/256>>>0;if(ae!==0)throw new Error("Non-zero carry");K=le,O++}for(var q=$-K;q!==$&&G[q]===0;)q++;for(var M=new Uint8Array(B+($-q)),U=B;q!==$;)M[U++]=G[q++];return M}function T(N){var O=A(N);if(O)return O;throw new Error("Non-base"+h+" character")}return{encode:E,decodeUnsafe:A,decode:T}}return Ow=r,Ow}var Nw,vI;function lq(){return vI||(vI=1,Nw=oq()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),Nw}var Pw={},_I;function cq(){return _I||(_I=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.SOLANA_CHAINS=r.SOLANA_LOCALNET_CHAIN=r.SOLANA_TESTNET_CHAIN=r.SOLANA_DEVNET_CHAIN=r.SOLANA_MAINNET_CHAIN=void 0,r.isSolanaChain=e,r.SOLANA_MAINNET_CHAIN="solana:mainnet",r.SOLANA_DEVNET_CHAIN="solana:devnet",r.SOLANA_TESTNET_CHAIN="solana:testnet",r.SOLANA_LOCALNET_CHAIN="solana:localnet",r.SOLANA_CHAINS=[r.SOLANA_MAINNET_CHAIN,r.SOLANA_DEVNET_CHAIN,r.SOLANA_TESTNET_CHAIN,r.SOLANA_LOCALNET_CHAIN];function e(n){return r.SOLANA_CHAINS.includes(n)}})(Pw)),Pw}var EI;function uq(){if(EI)return ss;EI=1,Object.defineProperty(ss,"__esModule",{value:!0});var r=a1(),e=Rj(),n=aq,i=oM(),a=lq(),o=cq();function c(Ke){return Ke&&typeof Ke=="object"&&"default"in Ke?Ke:{default:Ke}}var h=c(e),d=c(a);function p(Ke,Ne,pe,ue){function ke(je){return je instanceof pe?je:new pe(function(Be){Be(je)})}return new(pe||(pe=Promise))(function(je,Be){function Qe(dn){try{vt(ue.next(dn))}catch(vi){Be(vi)}}function $e(dn){try{vt(ue.throw(dn))}catch(vi){Be(vi)}}function vt(dn){dn.done?je(dn.value):ke(dn.value).then(Qe,$e)}vt((ue=ue.apply(Ke,[])).next())})}function g(Ke,Ne,pe,ue){if(pe==="a"&&!ue)throw new TypeError("Private accessor was defined without a getter");if(typeof Ne=="function"?Ke!==Ne||!ue:!Ne.has(Ke))throw new TypeError("Cannot read private member from an object whose class did not declare it");return pe==="m"?ue:pe==="a"?ue.call(Ke):ue?ue.value:Ne.get(Ke)}function E(Ke,Ne,pe,ue,ke){if(typeof Ne=="function"?Ke!==Ne||!0:!Ne.has(Ke))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Ne.set(Ke,pe),pe}var A,T,N,O,B,K,$,G;const re=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,ae=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,le=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class Q{constructor(){A.add(this),T.set(this,null),N.set(this,{}),O.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),g(this,A,"m",K).call(this),g(this,T,"f")&&(g(this,T,"f").style.display="flex")},this.close=(Ne=void 0)=>{var pe;console.debug("Modal close"),g(this,A,"m",$).call(this),g(this,T,"f")&&(g(this,T,"f").style.display="none"),(pe=g(this,N,"f").close)===null||pe===void 0||pe.forEach(ue=>ue(Ne))},G.set(this,Ne=>{Ne.key==="Escape"&&this.close(Ne)}),this.init=this.init.bind(this),E(this,T,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return p(this,void 0,void 0,function*(){console.log("Injecting modal"),g(this,A,"m",B).call(this)})}addEventListener(Ne,pe){var ue;return!((ue=g(this,N,"f")[Ne])===null||ue===void 0)&&ue.push(pe)||(g(this,N,"f")[Ne]=[pe]),()=>this.removeEventListener(Ne,pe)}removeEventListener(Ne,pe){var ue;g(this,N,"f")[Ne]=(ue=g(this,N,"f")[Ne])===null||ue===void 0?void 0:ue.filter(ke=>pe!==ke)}}T=new WeakMap,N=new WeakMap,O=new WeakMap,G=new WeakMap,A=new WeakSet,B=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){g(this,T,"f")||E(this,T,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}E(this,T,document.createElement("div")),g(this,T,"f").id="mobile-wallet-adapter-embedded-root-ui",g(this,T,"f").innerHTML=re,g(this,T,"f").style.display="none";const Ne=g(this,T,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");Ne&&(Ne.innerHTML=this.contentHtml);const pe=document.createElement("style");pe.id="mobile-wallet-adapter-embedded-modal-styles",pe.textContent=ae+this.contentStyles;const ue=document.createElement("div");ue.innerHTML=le,this.dom=ue.attachShadow({mode:"closed"}),this.dom.appendChild(pe),this.dom.appendChild(g(this,T,"f")),document.body.appendChild(ue)},K=function(){if(!g(this,T,"f")||g(this,O,"f"))return;[...g(this,T,"f").querySelectorAll("[data-modal-close]")].forEach(pe=>pe?.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",g(this,G,"f")),E(this,O,!0)},$=function(){if(!g(this,O,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",g(this,G,"f")),!g(this,T,"f")))return;[...g(this,T,"f").querySelectorAll("[data-modal-close]")].forEach(pe=>pe?.removeEventListener("click",this.close)),E(this,O,!1)};class q extends Q{constructor(){super(...arguments),this.contentStyles=U,this.contentHtml=M}initWithQR(Ne){const pe=Object.create(null,{init:{get:()=>super.init}});return p(this,void 0,void 0,function*(){pe.init.call(this),this.populateQRCode(Ne)})}populateQRCode(Ne){var pe;return p(this,void 0,void 0,function*(){const ue=(pe=this.dom)===null||pe===void 0?void 0:pe.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(ue){const ke=yield h.default.toCanvas(Ne,{width:200,margin:0});ue.firstElementChild!==null?ue.replaceChild(ke,ue.firstElementChild):ue.appendChild(ke)}else console.error("QRCode Container not found")})}}const M=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,U=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,W="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function F(Ke){return window.btoa(String.fromCharCode.call(null,...Ke))}function S(Ke){return new Uint8Array(window.atob(Ke).split("").map(Ne=>Ne.charCodeAt(0)))}var w,I,C,j,Y,te,z,P,b,_,L,Z,ne,de,Ie,De,it,ot,_t,Nn,At,en,Jr,Et,tn,Lr,qt,Nt,$n,Bt,nn,Zn,ft,H,x,k,ee,fe,ge,Ae,st,He,Ze,St,Je,Kt,mi,Ut,Wt,gi,bt,hn,Br,fn,rn,Pi,lt,yt,yn,Mt,sn,Di,$t,wn,si,Gt,Ft,Er,Ht,Tt;const bn="Mobile Wallet Adapter",Li=64,yi=[r.SolanaSignAndSendTransaction,r.SolanaSignTransaction,r.SolanaSignMessage,r.SolanaSignIn];class hr{constructor(Ne){w.add(this),I.set(this,{}),C.set(this,"1.0.0"),j.set(this,bn),Y.set(this,"https://solanamobile.com/wallets"),te.set(this,W),z.set(this,void 0),P.set(this,void 0),b.set(this,void 0),_.set(this,!1),L.set(this,0),Z.set(this,[]),ne.set(this,void 0),de.set(this,void 0),Ie.set(this,void 0),De.set(this,(pe,ue)=>{var ke;return!((ke=g(this,I,"f")[pe])===null||ke===void 0)&&ke.push(ue)||(g(this,I,"f")[pe]=[ue]),()=>g(this,w,"m",ot).call(this,pe,ue)}),_t.set(this,({silent:pe}={})=>p(this,void 0,void 0,function*(){if(g(this,_,"f")||this.connected)return{accounts:this.accounts};E(this,_,!0);try{if(pe){const ue=yield g(this,b,"f").get();if(ue)yield g(this,en,"f").call(this,ue.capabilities),yield g(this,At,"f").call(this,ue);else return{accounts:this.accounts}}else yield g(this,Nn,"f").call(this)}catch(ue){throw new Error(ue instanceof Error&&ue.message||"Unknown error")}finally{E(this,_,!1)}return{accounts:this.accounts}})),Nn.set(this,pe=>p(this,void 0,void 0,function*(){try{const ue=yield g(this,b,"f").get();if(ue)return g(this,At,"f").call(this,ue),ue;const ke=yield g(this,ne,"f").select(g(this,Z,"f"));return yield g(this,tn,"f").call(this,je=>p(this,void 0,void 0,function*(){const[Be,Qe]=yield Promise.all([je.getCapabilities(),je.authorize({chain:ke,identity:g(this,z,"f"),sign_in_payload:pe})]),$e=g(this,qt,"f").call(this,Qe.accounts),vt=Object.assign(Object.assign({},Qe),{accounts:$e,chain:ke,capabilities:Be});return Promise.all([g(this,en,"f").call(this,Be),g(this,b,"f").set(vt),g(this,At,"f").call(this,vt)]),vt}))}catch(ue){throw new Error(ue instanceof Error&&ue.message||"Unknown error")}})),At.set(this,pe=>p(this,void 0,void 0,function*(){var ue;const ke=g(this,P,"f")==null||((ue=g(this,P,"f"))===null||ue===void 0?void 0:ue.accounts.length)!==pe.accounts.length||g(this,P,"f").accounts.some((je,Be)=>je.address!==pe.accounts[Be].address);E(this,P,pe),ke&&g(this,w,"m",it).call(this,"change",{accounts:this.accounts})})),en.set(this,pe=>p(this,void 0,void 0,function*(){const ue=pe.features.includes("solana:signTransactions"),ke=pe.supports_sign_and_send_transactions,je=r.SolanaSignAndSendTransaction in this.features!==ke||r.SolanaSignTransaction in this.features!==ue;E(this,de,Object.assign(Object.assign({},(ke||!ke&&!ue)&&{[r.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:g(this,Bt,"f")}}),ue&&{[r.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:g(this,nn,"f")}})),je&&g(this,w,"m",it).call(this,"change",{features:this.features})})),Jr.set(this,(pe,ue,ke)=>p(this,void 0,void 0,function*(){var je,Be;try{const[Qe,$e]=yield Promise.all([(Be=(je=g(this,P,"f"))===null||je===void 0?void 0:je.capabilities)!==null&&Be!==void 0?Be:yield pe.getCapabilities(),pe.authorize({auth_token:ue,identity:g(this,z,"f"),chain:ke})]),vt=g(this,qt,"f").call(this,$e.accounts),dn=Object.assign(Object.assign({},$e),{accounts:vt,chain:ke,capabilities:Qe});Promise.all([g(this,b,"f").set(dn),g(this,At,"f").call(this,dn)])}catch(Qe){throw g(this,Et,"f").call(this),new Error(Qe instanceof Error&&Qe.message||"Unknown error")}})),Et.set(this,()=>p(this,void 0,void 0,function*(){var pe;g(this,b,"f").clear(),E(this,_,!1),E(this,L,(pe=g(this,L,"f"),pe++,pe)),E(this,P,void 0),g(this,w,"m",it).call(this,"change",{accounts:this.accounts})})),tn.set(this,pe=>p(this,void 0,void 0,function*(){var ue;const ke=(ue=g(this,P,"f"))===null||ue===void 0?void 0:ue.wallet_uri_base,je=ke?{baseUri:ke}:void 0,Be=g(this,L,"f");try{return yield n.transact(pe,je)}catch(Qe){throw g(this,L,"f")!==Be&&(yield new Promise(()=>{})),Qe instanceof Error&&Qe.name==="SolanaMobileWalletAdapterError"&&Qe.code==="ERROR_WALLET_NOT_FOUND"&&(yield g(this,Ie,"f").call(this,this)),Qe}})),Lr.set(this,()=>{if(!g(this,P,"f"))throw new Error("Wallet not connected");return{authToken:g(this,P,"f").auth_token,chain:g(this,P,"f").chain}}),qt.set(this,pe=>pe.map(ue=>{var ke,je;const Be=S(ue.address);return{address:d.default.encode(Be),publicKey:Be,label:ue.label,icon:ue.icon,chains:(ke=ue.chains)!==null&&ke!==void 0?ke:g(this,Z,"f"),features:(je=ue.features)!==null&&je!==void 0?je:yi}})),Nt.set(this,pe=>p(this,void 0,void 0,function*(){const{authToken:ue,chain:ke}=g(this,Lr,"f").call(this);try{const je=pe.map(Be=>F(Be));return yield g(this,tn,"f").call(this,Be=>p(this,void 0,void 0,function*(){return yield g(this,Jr,"f").call(this,Be,ue,ke),(yield Be.signTransactions({payloads:je})).signed_payloads.map(S)}))}catch(je){throw new Error(je instanceof Error&&je.message||"Unknown error")}})),$n.set(this,(pe,ue)=>p(this,void 0,void 0,function*(){const{authToken:ke,chain:je}=g(this,Lr,"f").call(this);try{return yield g(this,tn,"f").call(this,Be=>p(this,void 0,void 0,function*(){const[Qe,$e]=yield Promise.all([Be.getCapabilities(),g(this,Jr,"f").call(this,Be,ke,je)]);if(Qe.supports_sign_and_send_transactions){const vt=F(pe);return(yield Be.signAndSendTransactions(Object.assign(Object.assign({},ue),{payloads:[vt]}))).signatures.map(S)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(Be){throw new Error(Be instanceof Error&&Be.message||"Unknown error")}})),Bt.set(this,(...pe)=>p(this,void 0,void 0,function*(){const ue=[];for(const ke of pe){const je=yield g(this,$n,"f").call(this,ke.transaction,ke.options);ue.push({signature:je})}return ue})),nn.set(this,(...pe)=>p(this,void 0,void 0,function*(){return(yield g(this,Nt,"f").call(this,pe.map(({transaction:ue})=>ue))).map(ue=>({signedTransaction:ue}))})),Zn.set(this,(...pe)=>p(this,void 0,void 0,function*(){const{authToken:ue,chain:ke}=g(this,Lr,"f").call(this),je=pe.map(({account:Qe})=>F(Qe.publicKey)),Be=pe.map(({message:Qe})=>F(Qe));try{return yield g(this,tn,"f").call(this,Qe=>p(this,void 0,void 0,function*(){return yield g(this,Jr,"f").call(this,Qe,ue,ke),(yield Qe.signMessages({addresses:je,payloads:Be})).signed_payloads.map(S).map(vt=>({signedMessage:vt,signature:vt.slice(-Li)}))}))}catch(Qe){throw new Error(Qe instanceof Error&&Qe.message||"Unknown error")}})),ft.set(this,(...pe)=>p(this,void 0,void 0,function*(){const ue=[];if(pe.length>1)for(const ke of pe)ue.push(yield g(this,H,"f").call(this,ke));else return[yield g(this,H,"f").call(this,pe[0])];return ue})),H.set(this,pe=>p(this,void 0,void 0,function*(){var ue,ke,je;E(this,_,!0);try{const Be=yield g(this,Nn,"f").call(this,Object.assign(Object.assign({},pe),{domain:(ue=pe?.domain)!==null&&ue!==void 0?ue:window.location.host}));if(!Be.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const Qe=Be.sign_in_result.address,$e=Be.accounts.find(vt=>vt.address==Qe);return{account:Object.assign(Object.assign({},$e??{address:d.default.encode(S(Qe))}),{publicKey:S(Qe),chains:(ke=$e?.chains)!==null&&ke!==void 0?ke:g(this,Z,"f"),features:(je=$e?.features)!==null&&je!==void 0?je:Be.capabilities.features}),signedMessage:S(Be.sign_in_result.signed_message),signature:S(Be.sign_in_result.signature)}}catch(Be){throw new Error(Be instanceof Error&&Be.message||"Unknown error")}finally{E(this,_,!1)}})),E(this,b,Ne.authorizationCache),E(this,z,Ne.appIdentity),E(this,Z,Ne.chains),E(this,ne,Ne.chainSelector),E(this,Ie,Ne.onWalletNotFound),E(this,de,{[r.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:g(this,Bt,"f")},[r.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:g(this,nn,"f")}})}get version(){return g(this,C,"f")}get name(){return g(this,j,"f")}get url(){return g(this,Y,"f")}get icon(){return g(this,te,"f")}get chains(){return g(this,Z,"f")}get features(){return Object.assign({[i.StandardConnect]:{version:"1.0.0",connect:g(this,_t,"f")},[i.StandardDisconnect]:{version:"1.0.0",disconnect:g(this,Et,"f")},[i.StandardEvents]:{version:"1.0.0",on:g(this,De,"f")},[r.SolanaSignMessage]:{version:"1.0.0",signMessage:g(this,Zn,"f")},[r.SolanaSignIn]:{version:"1.0.0",signIn:g(this,ft,"f")}},g(this,de,"f"))}get accounts(){var Ne,pe;return(pe=(Ne=g(this,P,"f"))===null||Ne===void 0?void 0:Ne.accounts)!==null&&pe!==void 0?pe:[]}get connected(){return!!g(this,P,"f")}get isAuthorized(){return!!g(this,P,"f")}get currentAuthorization(){return g(this,P,"f")}get cachedAuthorizationResult(){return g(this,b,"f").get()}}I=new WeakMap,C=new WeakMap,j=new WeakMap,Y=new WeakMap,te=new WeakMap,z=new WeakMap,P=new WeakMap,b=new WeakMap,_=new WeakMap,L=new WeakMap,Z=new WeakMap,ne=new WeakMap,de=new WeakMap,Ie=new WeakMap,De=new WeakMap,_t=new WeakMap,Nn=new WeakMap,At=new WeakMap,en=new WeakMap,Jr=new WeakMap,Et=new WeakMap,tn=new WeakMap,Lr=new WeakMap,qt=new WeakMap,Nt=new WeakMap,$n=new WeakMap,Bt=new WeakMap,nn=new WeakMap,Zn=new WeakMap,ft=new WeakMap,H=new WeakMap,w=new WeakSet,it=function(Ne,...pe){var ue;(ue=g(this,I,"f")[Ne])===null||ue===void 0||ue.forEach(ke=>ke.apply(null,pe))},ot=function(Ne,pe){var ue;g(this,I,"f")[Ne]=(ue=g(this,I,"f")[Ne])===null||ue===void 0?void 0:ue.filter(ke=>pe!==ke)};class Ur{constructor(Ne){x.add(this),k.set(this,{}),ee.set(this,"1.0.0"),fe.set(this,bn),ge.set(this,"https://solanamobile.com/wallets"),Ae.set(this,W),st.set(this,void 0),He.set(this,void 0),Ze.set(this,void 0),St.set(this,!1),Je.set(this,0),Kt.set(this,[]),mi.set(this,void 0),Ut.set(this,void 0),Wt.set(this,void 0),gi.set(this,void 0),bt.set(this,void 0),hn.set(this,(pe,ue)=>{var ke;return!((ke=g(this,k,"f")[pe])===null||ke===void 0)&&ke.push(ue)||(g(this,k,"f")[pe]=[ue]),()=>g(this,x,"m",fn).call(this,pe,ue)}),rn.set(this,({silent:pe}={})=>p(this,void 0,void 0,function*(){if(g(this,St,"f")||this.connected)return{accounts:this.accounts};E(this,St,!0);try{yield g(this,Pi,"f").call(this)}catch(ue){throw new Error(ue instanceof Error&&ue.message||"Unknown error")}finally{E(this,St,!1)}return{accounts:this.accounts}})),Pi.set(this,pe=>p(this,void 0,void 0,function*(){try{const ue=yield g(this,Ze,"f").get();if(ue)return g(this,lt,"f").call(this,ue),ue;g(this,bt,"f")&&E(this,bt,void 0,"f");const ke=yield g(this,mi,"f").select(g(this,Kt,"f"));return yield g(this,sn,"f").call(this,je=>p(this,void 0,void 0,function*(){const[Be,Qe]=yield Promise.all([je.getCapabilities(),je.authorize({chain:ke,identity:g(this,st,"f"),sign_in_payload:pe})]),$e=g(this,$t,"f").call(this,Qe.accounts),vt=Object.assign(Object.assign({},Qe),{accounts:$e,chain:ke,capabilities:Be});return Promise.all([g(this,yt,"f").call(this,Be),g(this,Ze,"f").set(vt),g(this,lt,"f").call(this,vt)]),vt}))}catch(ue){throw new Error(ue instanceof Error&&ue.message||"Unknown error")}})),lt.set(this,pe=>p(this,void 0,void 0,function*(){var ue;const ke=g(this,He,"f")==null||((ue=g(this,He,"f"))===null||ue===void 0?void 0:ue.accounts.length)!==pe.accounts.length||g(this,He,"f").accounts.some((je,Be)=>je.address!==pe.accounts[Be].address);E(this,He,pe),ke&&g(this,x,"m",Br).call(this,"change",{accounts:this.accounts})})),yt.set(this,pe=>p(this,void 0,void 0,function*(){const ue=pe.features.includes("solana:signTransactions"),ke=pe.supports_sign_and_send_transactions||pe.features.includes("solana:signAndSendTransaction"),je=r.SolanaSignAndSendTransaction in this.features!==ke||r.SolanaSignTransaction in this.features!==ue;E(this,Ut,Object.assign(Object.assign({},ke&&{[r.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:pe.supported_transaction_versions,signAndSendTransaction:g(this,Gt,"f")}}),ue&&{[r.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:pe.supported_transaction_versions,signTransaction:g(this,Ft,"f")}})),je&&g(this,x,"m",Br).call(this,"change",{features:this.features})})),yn.set(this,(pe,ue,ke)=>p(this,void 0,void 0,function*(){var je,Be;try{const[Qe,$e]=yield Promise.all([(Be=(je=g(this,He,"f"))===null||je===void 0?void 0:je.capabilities)!==null&&Be!==void 0?Be:yield pe.getCapabilities(),pe.authorize({auth_token:ue,identity:g(this,st,"f"),chain:ke})]),vt=g(this,$t,"f").call(this,$e.accounts),dn=Object.assign(Object.assign({},$e),{accounts:vt,chain:ke,capabilities:Qe});Promise.all([g(this,Ze,"f").set(dn),g(this,lt,"f").call(this,dn)])}catch(Qe){throw g(this,Mt,"f").call(this),new Error(Qe instanceof Error&&Qe.message||"Unknown error")}})),Mt.set(this,()=>p(this,void 0,void 0,function*(){var pe,ue;(pe=g(this,bt,"f"))===null||pe===void 0||pe.close(),g(this,Ze,"f").clear(),E(this,St,!1),E(this,Je,(ue=g(this,Je,"f"),ue++,ue)),E(this,He,void 0),E(this,bt,void 0),g(this,x,"m",Br).call(this,"change",{accounts:this.accounts})})),sn.set(this,pe=>p(this,void 0,void 0,function*(){var ue;const ke=(ue=g(this,He,"f"))===null||ue===void 0?void 0:ue.wallet_uri_base,Be=Object.assign(Object.assign({},ke?{baseUri:ke}:void 0),{remoteHostAuthority:g(this,gi,"f")}),Qe=g(this,Je,"f"),$e=new q;if(g(this,bt,"f"))return pe(g(this,bt,"f").wallet);try{const{associationUrl:vt,close:dn,wallet:vi}=yield n.startRemoteScenario(Be),Yl=$e.addEventListener("close",Wo=>{Wo&&dn()});return $e.initWithQR(vt.toString()),$e.open(),E(this,bt,{close:dn,wallet:yield vi},"f"),Yl(),$e.close(),yield pe(g(this,bt,"f").wallet)}catch(vt){throw $e.close(),g(this,Je,"f")!==Qe&&(yield new Promise(()=>{})),vt instanceof Error&&vt.name==="SolanaMobileWalletAdapterError"&&vt.code==="ERROR_WALLET_NOT_FOUND"&&(yield g(this,Wt,"f").call(this,this)),vt}})),Di.set(this,()=>{if(!g(this,He,"f"))throw new Error("Wallet not connected");return{authToken:g(this,He,"f").auth_token,chain:g(this,He,"f").chain}}),$t.set(this,pe=>pe.map(ue=>{var ke,je;const Be=S(ue.address);return{address:d.default.encode(Be),publicKey:Be,label:ue.label,icon:ue.icon,chains:(ke=ue.chains)!==null&&ke!==void 0?ke:g(this,Kt,"f"),features:(je=ue.features)!==null&&je!==void 0?je:yi}})),wn.set(this,pe=>p(this,void 0,void 0,function*(){const{authToken:ue,chain:ke}=g(this,Di,"f").call(this);try{return yield g(this,sn,"f").call(this,je=>p(this,void 0,void 0,function*(){return yield g(this,yn,"f").call(this,je,ue,ke),(yield je.signTransactions({payloads:pe.map(F)})).signed_payloads.map(S)}))}catch(je){throw new Error(je instanceof Error&&je.message||"Unknown error")}})),si.set(this,(pe,ue)=>p(this,void 0,void 0,function*(){const{authToken:ke,chain:je}=g(this,Di,"f").call(this);try{return yield g(this,sn,"f").call(this,Be=>p(this,void 0,void 0,function*(){const[Qe,$e]=yield Promise.all([Be.getCapabilities(),g(this,yn,"f").call(this,Be,ke,je)]);if(Qe.supports_sign_and_send_transactions)return(yield Be.signAndSendTransactions(Object.assign(Object.assign({},ue),{payloads:[F(pe)]}))).signatures.map(S)[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(Be){throw new Error(Be instanceof Error&&Be.message||"Unknown error")}})),Gt.set(this,(...pe)=>p(this,void 0,void 0,function*(){const ue=[];for(const ke of pe){const je=yield g(this,si,"f").call(this,ke.transaction,ke.options);ue.push({signature:je})}return ue})),Ft.set(this,(...pe)=>p(this,void 0,void 0,function*(){return(yield g(this,wn,"f").call(this,pe.map(({transaction:ue})=>ue))).map(ue=>({signedTransaction:ue}))})),Er.set(this,(...pe)=>p(this,void 0,void 0,function*(){const{authToken:ue,chain:ke}=g(this,Di,"f").call(this),je=pe.map(({account:Qe})=>F(Qe.publicKey)),Be=pe.map(({message:Qe})=>F(Qe));try{return yield g(this,sn,"f").call(this,Qe=>p(this,void 0,void 0,function*(){return yield g(this,yn,"f").call(this,Qe,ue,ke),(yield Qe.signMessages({addresses:je,payloads:Be})).signed_payloads.map(S).map(vt=>({signedMessage:vt,signature:vt.slice(-Li)}))}))}catch(Qe){throw new Error(Qe instanceof Error&&Qe.message||"Unknown error")}})),Ht.set(this,(...pe)=>p(this,void 0,void 0,function*(){const ue=[];if(pe.length>1)for(const ke of pe)ue.push(yield g(this,Tt,"f").call(this,ke));else return[yield g(this,Tt,"f").call(this,pe[0])];return ue})),Tt.set(this,pe=>p(this,void 0,void 0,function*(){var ue,ke,je;E(this,St,!0);try{const Be=yield g(this,Pi,"f").call(this,Object.assign(Object.assign({},pe),{domain:(ue=pe?.domain)!==null&&ue!==void 0?ue:window.location.host}));if(!Be.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const Qe=Be.sign_in_result.address,$e=Be.accounts.find(vt=>vt.address==Qe);return{account:Object.assign(Object.assign({},$e??{address:d.default.encode(S(Qe))}),{publicKey:S(Qe),chains:(ke=$e?.chains)!==null&&ke!==void 0?ke:g(this,Kt,"f"),features:(je=$e?.features)!==null&&je!==void 0?je:Be.capabilities.features}),signedMessage:S(Be.sign_in_result.signed_message),signature:S(Be.sign_in_result.signature)}}catch(Be){throw new Error(Be instanceof Error&&Be.message||"Unknown error")}finally{E(this,St,!1)}})),E(this,Ze,Ne.authorizationCache),E(this,st,Ne.appIdentity),E(this,Kt,Ne.chains),E(this,mi,Ne.chainSelector),E(this,gi,Ne.remoteHostAuthority),E(this,Wt,Ne.onWalletNotFound),E(this,Ut,{[r.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:g(this,Gt,"f")},[r.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:g(this,Ft,"f")}})}get version(){return g(this,ee,"f")}get name(){return g(this,fe,"f")}get url(){return g(this,ge,"f")}get icon(){return g(this,Ae,"f")}get chains(){return g(this,Kt,"f")}get features(){return Object.assign({[i.StandardConnect]:{version:"1.0.0",connect:g(this,rn,"f")},[i.StandardDisconnect]:{version:"1.0.0",disconnect:g(this,Mt,"f")},[i.StandardEvents]:{version:"1.0.0",on:g(this,hn,"f")},[r.SolanaSignMessage]:{version:"1.0.0",signMessage:g(this,Er,"f")},[r.SolanaSignIn]:{version:"1.0.0",signIn:g(this,Ht,"f")}},g(this,Ut,"f"))}get accounts(){var Ne,pe;return(pe=(Ne=g(this,He,"f"))===null||Ne===void 0?void 0:Ne.accounts)!==null&&pe!==void 0?pe:[]}get connected(){return!!g(this,bt,"f")&&!!g(this,He,"f")}get isAuthorized(){return!!g(this,He,"f")}get currentAuthorization(){return g(this,He,"f")}get cachedAuthorizationResult(){return g(this,Ze,"f").get()}}k=new WeakMap,ee=new WeakMap,fe=new WeakMap,ge=new WeakMap,Ae=new WeakMap,st=new WeakMap,He=new WeakMap,Ze=new WeakMap,St=new WeakMap,Je=new WeakMap,Kt=new WeakMap,mi=new WeakMap,Ut=new WeakMap,Wt=new WeakMap,gi=new WeakMap,bt=new WeakMap,hn=new WeakMap,rn=new WeakMap,Pi=new WeakMap,lt=new WeakMap,yt=new WeakMap,yn=new WeakMap,Mt=new WeakMap,sn=new WeakMap,Di=new WeakMap,$t=new WeakMap,wn=new WeakMap,si=new WeakMap,Gt=new WeakMap,Ft=new WeakMap,Er=new WeakMap,Ht=new WeakMap,Tt=new WeakMap,x=new WeakSet,Br=function(Ne,...pe){var ue;(ue=g(this,k,"f")[Ne])===null||ue===void 0||ue.forEach(ke=>ke.apply(null,pe))},fn=function(Ne,pe){var ue;g(this,k,"f")[Ne]=(ue=g(this,k,"f")[Ne])===null||ue===void 0?void 0:ue.filter(ke=>pe!==ke)};var ms=function(Ke,Ne,pe,ue,ke){if(ue==="m")throw new TypeError("Private method is not writable");if(ue==="a"&&!ke)throw new TypeError("Private accessor was defined without a setter");if(typeof Ne=="function"?Ke!==Ne||!ke:!Ne.has(Ke))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ue==="a"?ke.call(Ke,pe):ke?ke.value=pe:Ne.set(Ke,pe),pe},gs=function(Ke,Ne,pe,ue){if(pe==="a"&&!ue)throw new TypeError("Private accessor was defined without a getter");if(typeof Ne=="function"?Ke!==Ne||!ue:!Ne.has(Ke))throw new TypeError("Cannot read private member from an object whose class did not declare it");return pe==="m"?ue:pe==="a"?ue.call(Ke):ue?ue.value:Ne.get(Ke)},Vr;function Ji(Ke){const Ne=({register:pe})=>pe(Ke);try{window.dispatchEvent(new ai(Ne))}catch(pe){console.error(`wallet-standard:register-wallet event could not be dispatched
`,pe)}try{window.addEventListener("wallet-standard:app-ready",({detail:pe})=>Ne(pe))}catch(pe){console.error(`wallet-standard:app-ready event listener could not be added
`,pe)}}class ai extends Event{constructor(Ne){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Vr.set(this,void 0),ms(this,Vr,Ne,"f")}get detail(){return gs(this,Vr,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Vr=new WeakMap;function zr(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function Ln(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function wi(Ke){zr()?Ji(new hr(Ke)):Ln()&&Ke.remoteHostAuthority!==void 0&&Ji(new Ur(Object.assign(Object.assign({},Ke),{remoteHostAuthority:Ke.remoteHostAuthority})))}const ys="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",ei="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class Bi extends Q{constructor(){super(...arguments),this.contentStyles=es,this.contentHtml=Ui}initWithError(Ne){super.init(),this.populateError(Ne)}populateError(Ne){var pe,ue;const ke=(pe=this.dom)===null||pe===void 0?void 0:pe.getElementById("mobile-wallet-adapter-error-message"),je=(ue=this.dom)===null||ue===void 0?void 0:ue.getElementById("mobile-wallet-adapter-error-action");if(ke){if(Ne.name==="SolanaMobileWalletAdapterError")switch(Ne.code){case"ERROR_WALLET_NOT_FOUND":ke.innerHTML=ys,je&&je.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":ke.innerHTML=ei,je&&(je.style.display="none");return}ke.innerHTML=`An unexpected error occurred: ${Ne.message}`}else console.log("Failed to locate error dialog element")}}const Ui=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,es=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function bi(){return p(this,void 0,void 0,function*(){if(typeof window<"u"){const Ke=window.navigator.userAgent.toLowerCase(),Ne=new Bi;Ke.includes("wv")?Ne.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):Ne.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),Ne.open()}})}function Sr(){return()=>p(this,void 0,void 0,function*(){bi()})}const Xs="SolanaMobileWalletAdapterDefaultAuthorizationCache";function Nu(){let Ke;try{Ke=window.localStorage}catch{}return{clear(){return p(this,void 0,void 0,function*(){if(Ke)try{Ke.removeItem(Xs)}catch{}})},get(){return p(this,void 0,void 0,function*(){if(Ke)try{const Ne=JSON.parse(Ke.getItem(Xs));if(Ne&&Ne.accounts){const pe=Ne.accounts.map(ue=>Object.assign(Object.assign({},ue),{publicKey:"publicKey"in ue?new Uint8Array(Object.values(ue.publicKey)):d.default.decode(ue.address)}));return Object.assign(Object.assign({},Ne),{accounts:pe})}else return Ne||void 0}catch{}})},set(Ne){return p(this,void 0,void 0,function*(){if(Ke)try{Ke.setItem(Xs,JSON.stringify(Ne))}catch{}})}}}function Va(){return{select(Ke){return p(this,void 0,void 0,function*(){return Ke.length===1?Ke[0]:Ke.includes(o.SOLANA_MAINNET_CHAIN)?o.SOLANA_MAINNET_CHAIN:Ke[0]})}}}return ss.LocalSolanaMobileWalletAdapterWallet=hr,ss.RemoteSolanaMobileWalletAdapterWallet=Ur,ss.SolanaMobileWalletAdapterWalletName=bn,ss.createDefaultAuthorizationCache=Nu,ss.createDefaultChainSelector=Va,ss.createDefaultWalletNotFoundHandler=Sr,ss.defaultErrorModalWalletNotFoundHandler=bi,ss.registerMwa=wi,ss}var SI;function hq(){if(SI)return Ms;SI=1,Object.defineProperty(Ms,"__esModule",{value:!0});var r=sj(),e=aj,n=a1(),i=uq();function a(P,b,_,L){function Z(ne){return ne instanceof _?ne:new _(function(de){de(ne)})}return new(_||(_=Promise))(function(ne,de){function Ie(ot){try{it(L.next(ot))}catch(_t){de(_t)}}function De(ot){try{it(L.throw(ot))}catch(_t){de(_t)}}function it(ot){ot.done?ne(ot.value):Z(ot.value).then(Ie,De)}it((L=L.apply(P,[])).next())})}function o(P,b,_,L){if(_==="a"&&!L)throw new TypeError("Private accessor was defined without a getter");if(typeof b=="function"?P!==b||!L:!b.has(P))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _==="m"?L:_==="a"?L.call(P):L?L.value:b.get(P)}function c(P,b,_,L,Z){if(typeof b=="function"?P!==b||!0:!b.has(P))throw new TypeError("Cannot write private member to an object whose class did not declare it");return b.set(P,_),_}const h="standard:connect",d="standard:disconnect",p="standard:events";function g(P){return window.btoa(String.fromCharCode.call(null,...P))}function E(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var A,T,N,O,B,K,$,G,re,ae,le,Q,q;const M="Mobile Wallet Adapter",U=64;function W(P){return"version"in P}function F(P){switch(P){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return P}}class S extends r.BaseSignInMessageSignerWalletAdapter{constructor(b,_){super(),A.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),T.set(this,void 0),N.set(this,!1),O.set(this,E()?r.WalletReadyState.Loadable:r.WalletReadyState.Unsupported),B.set(this,void 0),K.set(this,void 0),$.set(this,void 0),G.set(this,L=>a(this,void 0,void 0,function*(){if(L.accounts&&L.accounts.length>0){o(this,A,"m",ae).call(this);const Z=yield o(this,B,"f").call(this,L.accounts);Z!==o(this,K,"f")&&(c(this,K,Z),c(this,$,void 0),this.emit("connect",this.publicKey))}})),c(this,B,L=>a(this,void 0,void 0,function*(){var Z;const ne=yield _.addressSelector.select(L.map(({publicKey:de})=>g(de)));return(Z=L.find(({publicKey:de})=>g(de)===ne))!==null&&Z!==void 0?Z:L[0]})),c(this,T,b),o(this,T,"f").features[p].on("change",o(this,G,"f")),this.name=o(this,T,"f").name,this.icon=o(this,T,"f").icon,this.url=o(this,T,"f").url}get publicKey(){var b;if(!o(this,$,"f")&&o(this,K,"f"))try{c(this,$,new e.PublicKey(o(this,K,"f").publicKey),"f")}catch(_){throw new r.WalletPublicKeyError(_ instanceof Error&&_?.message||"Unknown error",_)}return(b=o(this,$,"f"))!==null&&b!==void 0?b:null}get connected(){return o(this,T,"f").connected}get connecting(){return o(this,N,"f")}get readyState(){return o(this,O,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return a(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return a(this,void 0,void 0,function*(){o(this,A,"m",re).call(this,!0)})}connect(){return a(this,void 0,void 0,function*(){o(this,A,"m",re).call(this)})}performAuthorization(b){return a(this,void 0,void 0,function*(){try{const _=yield o(this,T,"f").cachedAuthorizationResult;return _?(yield o(this,T,"f").features[h].connect({silent:!0}),_):(b?yield o(this,T,"f").features[n.SolanaSignIn].signIn(b):yield o(this,T,"f").features[h].connect(),yield yield o(this,T,"f").cachedAuthorizationResult)}catch(_){throw new r.WalletConnectionError(_ instanceof Error&&_.message||"Unknown error",_)}})}disconnect(){return a(this,void 0,void 0,function*(){return yield o(this,A,"m",q).call(this,()=>a(this,void 0,void 0,function*(){c(this,N,!1),c(this,$,void 0),c(this,K,void 0),yield o(this,T,"f").features[d].disconnect(),this.emit("disconnect")}))})}signIn(b){return a(this,void 0,void 0,function*(){return o(this,A,"m",q).call(this,()=>a(this,void 0,void 0,function*(){var _;if(o(this,O,"f")!==r.WalletReadyState.Installed&&o(this,O,"f")!==r.WalletReadyState.Loadable)throw new r.WalletNotReadyError;c(this,N,!0);try{const L=yield o(this,T,"f").features[n.SolanaSignIn].signIn(Object.assign(Object.assign({},b),{domain:(_=b?.domain)!==null&&_!==void 0?_:window.location.host}));if(L.length>0)return L[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(L){throw new r.WalletConnectionError(L instanceof Error&&L.message||"Unknown error",L)}finally{c(this,N,!1)}}))})}signMessage(b){return a(this,void 0,void 0,function*(){return yield o(this,A,"m",q).call(this,()=>a(this,void 0,void 0,function*(){const _=o(this,A,"m",le).call(this);try{return(yield o(this,T,"f").features[n.SolanaSignMessage].signMessage({account:_,message:b}))[0].signature}catch(L){throw new r.WalletSignMessageError(L?.message,L)}}))})}sendTransaction(b,_,L){return a(this,void 0,void 0,function*(){return yield o(this,A,"m",q).call(this,()=>a(this,void 0,void 0,function*(){const Z=o(this,A,"m",le).call(this);try{let ne=function(){let de;switch(_.commitment){case"confirmed":case"finalized":case"processed":de=_.commitment;break;default:de="finalized"}let Ie;switch(L?.preflightCommitment){case"confirmed":case"finalized":case"processed":Ie=L.preflightCommitment;break;case void 0:Ie=de;break;default:Ie="finalized"}return(Ie==="finalized"?2:Ie==="confirmed"?1:0)<(de==="finalized"?2:de==="confirmed"?1:0)?Ie:de};if(n.SolanaSignAndSendTransaction in o(this,T,"f").features){const de=F(o(this,T,"f").currentAuthorization.chain),[Ie]=(yield o(this,T,"f").features[n.SolanaSignAndSendTransaction].signAndSendTransaction({account:Z,transaction:b.serialize(),chain:de,options:L?{skipPreflight:L.skipPreflight,maxRetries:L.maxRetries}:void 0})).map((De=>g(De.signature)));return Ie}else{const[de]=yield o(this,A,"m",Q).call(this,[b]);if(W(de))return yield _.sendTransaction(de);{const Ie=de.serialize();return yield _.sendRawTransaction(Ie,Object.assign(Object.assign({},L),{preflightCommitment:ne()}))}}}catch(ne){throw new r.WalletSendTransactionError(ne?.message,ne)}}))})}signTransaction(b){return a(this,void 0,void 0,function*(){return yield o(this,A,"m",q).call(this,()=>a(this,void 0,void 0,function*(){const[_]=yield o(this,A,"m",Q).call(this,[b]);return _}))})}signAllTransactions(b){return a(this,void 0,void 0,function*(){return yield o(this,A,"m",q).call(this,()=>a(this,void 0,void 0,function*(){return yield o(this,A,"m",Q).call(this,b)}))})}}T=new WeakMap,N=new WeakMap,O=new WeakMap,B=new WeakMap,K=new WeakMap,$=new WeakMap,G=new WeakMap,A=new WeakSet,re=function(b=!1){return a(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield o(this,A,"m",q).call(this,()=>a(this,void 0,void 0,function*(){if(o(this,O,"f")!==r.WalletReadyState.Installed&&o(this,O,"f")!==r.WalletReadyState.Loadable)throw new r.WalletNotReadyError;c(this,N,!0);try{yield o(this,T,"f").features[h].connect({silent:b})}catch(_){throw new r.WalletConnectionError(_ instanceof Error&&_.message||"Unknown error",_)}finally{c(this,N,!1)}}))})},ae=function(){o(this,O,"f")!==r.WalletReadyState.Installed&&this.emit("readyStateChange",c(this,O,r.WalletReadyState.Installed))},le=function(){if(!o(this,T,"f").isAuthorized||!o(this,K,"f"))throw new r.WalletNotConnectedError;return o(this,K,"f")},Q=function(b){return a(this,void 0,void 0,function*(){const _=o(this,A,"m",le).call(this);try{if(n.SolanaSignTransaction in o(this,T,"f").features)return o(this,T,"f").features[n.SolanaSignTransaction].signTransaction(...b.map(L=>({account:_,transaction:L.serialize()}))).then(L=>L.map(Z=>{const ne=Z.signedTransaction,Ie=ne[0]*U+1;return e.VersionedMessage.deserializeMessageVersion(ne.slice(Ie,ne.length))==="legacy"?e.Transaction.from(ne):e.VersionedTransaction.deserialize(ne)}));throw new Error("Connected wallet does not support signing transactions")}catch(L){throw new r.WalletSignTransactionError(L?.message,L)}})},q=function(b){return a(this,void 0,void 0,function*(){try{return yield b()}catch(_){throw this.emit("error",_),_}})};class w extends S{constructor(b){var _;const L=F((_=b.chain)!==null&&_!==void 0?_:b.cluster);super(new i.LocalSolanaMobileWalletAdapterWallet({appIdentity:b.appIdentity,authorizationCache:{set:b.authorizationResultCache.set,get:()=>a(this,void 0,void 0,function*(){return yield b.authorizationResultCache.get()}),clear:b.authorizationResultCache.clear},chains:[L],chainSelector:i.createDefaultChainSelector(),onWalletNotFound:()=>a(this,void 0,void 0,function*(){b.onWalletNotFound(this)})}),{addressSelector:b.addressSelector,chain:L})}}class I extends S{constructor(b){const _=F(b.chain);super(new i.RemoteSolanaMobileWalletAdapterWallet({appIdentity:b.appIdentity,authorizationCache:{set:b.authorizationResultCache.set,get:()=>a(this,void 0,void 0,function*(){return yield b.authorizationResultCache.get()}),clear:b.authorizationResultCache.clear},chains:[_],chainSelector:i.createDefaultChainSelector(),remoteHostAuthority:b.remoteHostAuthority,onWalletNotFound:()=>a(this,void 0,void 0,function*(){b.onWalletNotFound(this)})}),{addressSelector:b.addressSelector,chain:_})}}class C extends w{}function j(){return{select(P){return a(this,void 0,void 0,function*(){return P[0]})}}}function Y(){return i.createDefaultAuthorizationCache()}function te(P){return a(this,void 0,void 0,function*(){return i.defaultErrorModalWalletNotFoundHandler()})}function z(){return te}return Ms.LocalSolanaMobileWalletAdapter=w,Ms.RemoteSolanaMobileWalletAdapter=I,Ms.SolanaMobileWalletAdapter=C,Ms.SolanaMobileWalletAdapterWalletName=M,Ms.createDefaultAddressSelector=j,Ms.createDefaultAuthorizationResultCache=Y,Ms.createDefaultWalletNotFoundHandler=z,Ms}var yo=hq();function fq(r,e){if(r===e)return!0;const n=r.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(r[i]!==e[i])return!1;return!0}function dq(r){if(r.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let p=0;p<e.length;p++)e[p]=255;for(let p=0;p<r.length;p++){const g=r.charAt(p),E=g.charCodeAt(0);if(e[E]!==255)throw new TypeError(g+" is ambiguous");e[E]=p}const n=r.length,i=r.charAt(0),a=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function c(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";let g=0,E=0,A=0;const T=p.length;for(;A!==T&&p[A]===0;)A++,g++;const N=(T-A)*o+1>>>0,O=new Uint8Array(N);for(;A!==T;){let $=p[A],G=0;for(let re=N-1;($!==0||G<E)&&re!==-1;re--,G++)$+=256*O[re]>>>0,O[re]=$%n>>>0,$=$/n>>>0;if($!==0)throw new Error("Non-zero carry");E=G,A++}let B=N-E;for(;B!==N&&O[B]===0;)B++;let K=i.repeat(g);for(;B<N;++B)K+=r.charAt(O[B]);return K}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;let g=0,E=0,A=0;for(;p[g]===i;)E++,g++;const T=(p.length-g)*a+1>>>0,N=new Uint8Array(T);for(;g<p.length;){const $=p.charCodeAt(g);if($>255)return;let G=e[$];if(G===255)return;let re=0;for(let ae=T-1;(G!==0||re<A)&&ae!==-1;ae--,re++)G+=n*N[ae]>>>0,N[ae]=G%256>>>0,G=G/256>>>0;if(G!==0)throw new Error("Non-zero carry");A=re,g++}let O=T-A;for(;O!==T&&N[O]===0;)O++;const B=new Uint8Array(E+(T-O));let K=E;for(;O!==T;)B[K++]=N[O++];return B}function d(p){const g=h(p);if(g)return g;throw new Error("Non-base"+n+" character")}return{encode:c,decodeUnsafe:h,decode:d}}var pq="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const mq=dq(pq);var et=function(r,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(r):i?i.value:e.get(r)},nr=function(r,e,n,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(r,n):a?a.value=n:e.set(r,n),n},Cr,hi,Tl,Il,gl,Yh,Rm,ln,xm,xb,Fp,kb,sf,Cb,AI,TI,II,RI;class gq extends tM{get name(){return et(this,ln,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return et(this,ln,"f").icon}get readyState(){return et(this,xm,"f")}get publicKey(){return et(this,Tl,"f")}get connecting(){return et(this,Il,"f")}get supportedTransactionVersions(){return et(this,Rm,"f")}get wallet(){return et(this,ln,"f")}get standard(){return!0}constructor({wallet:e}){super(),Cr.add(this),hi.set(this,void 0),Tl.set(this,void 0),Il.set(this,void 0),gl.set(this,void 0),Yh.set(this,void 0),Rm.set(this,void 0),ln.set(this,void 0),xm.set(this,typeof window>"u"||typeof document>"u"?Un.Unsupported:Un.Installed),Cb.set(this,n=>{if("accounts"in n){const i=et(this,ln,"f").accounts[0];et(this,hi,"f")&&!et(this,gl,"f")&&i!==et(this,hi,"f")&&(i?et(this,Cr,"m",Fp).call(this,i):(this.emit("error",new ZC),et(this,Cr,"m",kb).call(this)))}"features"in n&&et(this,Cr,"m",sf).call(this)}),nr(this,ln,e,"f"),nr(this,hi,null,"f"),nr(this,Tl,null,"f"),nr(this,Il,!1,"f"),nr(this,gl,!1,"f"),nr(this,Yh,et(this,ln,"f").features[rM].on("change",et(this,Cb,"f")),"f"),et(this,Cr,"m",sf).call(this)}destroy(){nr(this,hi,null,"f"),nr(this,Tl,null,"f"),nr(this,Il,!1,"f"),nr(this,gl,!1,"f");const e=et(this,Yh,"f");e&&(nr(this,Yh,null,"f"),e())}async autoConnect(){return et(this,Cr,"m",xb).call(this,{silent:!0})}async connect(){return et(this,Cr,"m",xb).call(this)}async disconnect(){if(S2 in et(this,ln,"f").features)try{nr(this,gl,!0,"f"),await et(this,ln,"f").features[S2].disconnect()}catch(e){this.emit("error",new JC(e?.message,e))}finally{nr(this,gl,!1,"f")}et(this,Cr,"m",kb).call(this)}async sendTransaction(e,n,i={}){try{const a=et(this,hi,"f");if(!a)throw new Mi;let o;if(Eo in et(this,ln,"f").features)if(a.features.includes(Eo))o=Eo;else if(kr in et(this,ln,"f").features&&a.features.includes(kr))o=kr;else throw new Sl;else if(kr in et(this,ln,"f").features){if(!a.features.includes(kr))throw new Sl;o=kr}else throw new Gh;const c=Oj(n.rpcEndpoint);if(!a.chains.includes(c))throw new Al;try{const{signers:h,...d}=i;let p;if(Ro(e)?(h?.length&&e.sign(h),p=e.serialize()):(e=await this.prepareTransaction(e,n,d),h?.length&&e.partialSign(...h),p=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===Eo){const[g]=await et(this,ln,"f").features[Eo].signAndSendTransaction({account:a,chain:c,transaction:p,options:{preflightCommitment:Cw(d.preflightCommitment||n.commitment),skipPreflight:d.skipPreflight,maxRetries:d.maxRetries,minContextSlot:d.minContextSlot}});return mq.encode(g.signature)}else{const[g]=await et(this,ln,"f").features[kr].signTransaction({account:a,chain:c,transaction:p,options:{preflightCommitment:Cw(d.preflightCommitment||n.commitment),minContextSlot:d.minContextSlot}});return await n.sendRawTransaction(g.signedTransaction,{...d,preflightCommitment:Cw(d.preflightCommitment||n.commitment)})}}catch(h){throw h instanceof Zr?h:new Al(h?.message,h)}}catch(a){throw this.emit("error",a),a}}}hi=new WeakMap,Tl=new WeakMap,Il=new WeakMap,gl=new WeakMap,Yh=new WeakMap,Rm=new WeakMap,ln=new WeakMap,xm=new WeakMap,Cb=new WeakMap,Cr=new WeakSet,xb=async function(e){try{if(this.connected||this.connecting)return;if(et(this,xm,"f")!==Un.Installed)throw new Sm;if(nr(this,Il,!0,"f"),!et(this,ln,"f").accounts.length)try{await et(this,ln,"f").features[nM].connect(e)}catch(i){throw new XC(i?.message,i)}const n=et(this,ln,"f").accounts[0];if(!n)throw new Sl;et(this,Cr,"m",Fp).call(this,n)}catch(n){throw this.emit("error",n),n}finally{nr(this,Il,!1,"f")}},Fp=function(e){let n;try{n=new ze(e.address)}catch(i){throw new Ab(i?.message,i)}nr(this,hi,e,"f"),nr(this,Tl,n,"f"),et(this,Cr,"m",sf).call(this),this.emit("connect",n)},kb=function(){nr(this,hi,null,"f"),nr(this,Tl,null,"f"),et(this,Cr,"m",sf).call(this),this.emit("disconnect")},sf=function(){const e=Eo in et(this,ln,"f").features?et(this,ln,"f").features[Eo].supportedTransactionVersions:et(this,ln,"f").features[kr].supportedTransactionVersions;nr(this,Rm,fq(e,["legacy"])?null:new Set(e),"f"),kr in et(this,ln,"f").features&&et(this,hi,"f")?.features.includes(kr)?(this.signTransaction=et(this,Cr,"m",AI),this.signAllTransactions=et(this,Cr,"m",TI)):(delete this.signTransaction,delete this.signAllTransactions),Lh in et(this,ln,"f").features&&et(this,hi,"f")?.features.includes(Lh)?this.signMessage=et(this,Cr,"m",II):delete this.signMessage,rw in et(this,ln,"f").features?this.signIn=et(this,Cr,"m",RI):delete this.signIn},AI=async function(e){try{const n=et(this,hi,"f");if(!n)throw new Mi;if(!(kr in et(this,ln,"f").features))throw new Gh;if(!n.features.includes(kr))throw new Sl;try{const a=(await et(this,ln,"f").features[kr].signTransaction({account:n,transaction:Ro(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Ro(e)?_f.deserialize(a):an.from(a)}catch(i){throw i instanceof Zr?i:new Io(i?.message,i)}}catch(n){throw this.emit("error",n),n}},TI=async function(e){try{const n=et(this,hi,"f");if(!n)throw new Mi;if(!(kr in et(this,ln,"f").features))throw new Gh;if(!n.features.includes(kr))throw new Sl;try{const i=await et(this,ln,"f").features[kr].signTransaction(...e.map(a=>({account:n,transaction:Ro(a)?a.serialize():new Uint8Array(a.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((a,o)=>{const c=i[o].signedTransaction;return Ro(a)?_f.deserialize(c):an.from(c)})}catch(i){throw new Io(i?.message,i)}}catch(n){throw this.emit("error",n),n}},II=async function(e){try{const n=et(this,hi,"f");if(!n)throw new Mi;if(!(Lh in et(this,ln,"f").features))throw new Gh;if(!n.features.includes(Lh))throw new Sl;try{return(await et(this,ln,"f").features[Lh].signMessage({account:n,message:e}))[0].signature}catch(i){throw new eM(i?.message,i)}}catch(n){throw this.emit("error",n),n}},RI=async function(e={}){try{if(!(rw in et(this,ln,"f").features))throw new Gh;let n;try{[n]=await et(this,ln,"f").features[rw].signIn(e)}catch(i){throw new E2(i?.message,i)}if(!n)throw new E2;return et(this,Cr,"m",Fp).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const yq=Fz;var wq=function(r,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(r):i?i.value:e.get(r)},bq=function(r,e,n,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(r,n):a?a.value=n:e.set(r,n),n},Hp;let ki;const lg=new Set;function vq(r){af=void 0,lg.add(r)}function _q(r){af=void 0,lg.delete(r)}const Kc={};function Eq(){if(ki||(ki=Object.freeze({register:xI,get:Sq,on:Aq}),typeof window>"u"))return ki;const r=Object.freeze({register:xI});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(r))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new Tq(r))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return ki}function xI(...r){return r=r.filter(e=>!lg.has(e)),r.length?(r.forEach(e=>vq(e)),Kc.register?.forEach(e=>Mb(()=>e(...r))),function(){r.forEach(n=>_q(n)),Kc.unregister?.forEach(n=>Mb(()=>n(...r)))}):()=>{}}let af;function Sq(){return af||(af=[...lg]),af}function Aq(r,e){return Kc[r]?.push(e)||(Kc[r]=[e]),function(){Kc[r]=Kc[r]?.filter(i=>e!==i)}}function Mb(r){try{r()}catch(e){console.error(e)}}class Tq extends Event{get detail(){return wq(this,Hp,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Hp.set(this,void 0),bq(this,Hp,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Hp=new WeakMap;function Iq(){if(ki||(ki=Eq(),typeof window>"u"))return ki;const r=window.navigator.wallets||[];if(!Array.isArray(r))return console.error("window.navigator.wallets is not an array"),ki;const{register:e}=ki,n=(...i)=>i.forEach(a=>Mb(()=>a({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),ki}return n(...r),ki}function Rq(r){const e=kI(()=>new Set),{get:n,on:i}=kI(()=>Iq()),[a,o]=ce.useState(()=>CI(n()));ce.useEffect(()=>{const h=[i("register",(...d)=>o(p=>[...p,...CI(d)])),i("unregister",(...d)=>o(p=>p.filter(g=>d.some(E=>E===g.wallet))))];return()=>h.forEach(d=>d())},[i]);const c=xq(a);return ce.useEffect(()=>{if(!c)return;const h=new Set(a);new Set(c.filter(p=>!h.has(p))).forEach(p=>p.destroy())},[c,a]),ce.useEffect(()=>()=>a.forEach(h=>h.destroy()),[]),ce.useMemo(()=>[...a,...r.filter(({name:h})=>a.some(d=>d.name===h)?(e.has(h)||(e.add(h),console.warn(`${h} was registered as a Standard Wallet. The Wallet Adapter for ${h} can be removed from your app.`)),!1):!0)],[a,r,e])}function kI(r){const e=ce.useRef(void 0);return e.current===void 0&&(e.current={value:r()}),e.current.value}function xq(r){const e=ce.useRef(void 0);return ce.useEffect(()=>{e.current=r}),e.current}function CI(r){return r.filter(yq).map(e=>new gq({wallet:e}))}var su;(function(r){r[r.DESKTOP_WEB=0]="DESKTOP_WEB",r[r.MOBILE_WEB=1]="MOBILE_WEB"})(su||(su={}));function kq(r){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(r)}function Cq({adapters:r,userAgentString:e}){return r.some(n=>n.name!==yo.SolanaMobileWalletAdapterWalletName&&n.readyState===Un.Installed)?su.DESKTOP_WEB:e&&/android/i.test(e)&&!kq(e)?su.MOBILE_WEB:su.DESKTOP_WEB}function Mq(r){return r?/devnet/i.test(r)?"devnet":/testnet/i.test(r)?"testnet":"mainnet-beta":"mainnet-beta"}function Oq({children:r,wallets:e,adapter:n,isUnloadingRef:i,onAutoConnectRequest:a,onConnectError:o,onError:c,onSelectWallet:h}){const d=ce.useRef(!1),[p,g]=ce.useState(!1),E=ce.useRef(!1),[A,T]=ce.useState(!1),[N,O]=ce.useState(()=>n?.publicKey??null),[B,K]=ce.useState(()=>n?.connected??!1),$=ce.useRef(c);ce.useEffect(()=>($.current=c,()=>{$.current=void 0}),[c]);const G=ce.useRef((I,C)=>(i.current||($.current?$.current(I,C):(console.error(I,C),I instanceof Sm&&typeof window<"u"&&C&&window.open(C.url,"_blank"))),I)),[re,ae]=ce.useState(()=>e.map(I=>({adapter:I,readyState:I.readyState})).filter(({readyState:I})=>I!==Un.Unsupported));ce.useEffect(()=>{ae(C=>e.map((j,Y)=>{const te=C[Y];return te&&te.adapter===j&&te.readyState===j.readyState?te:{adapter:j,readyState:j.readyState}}).filter(({readyState:j})=>j!==Un.Unsupported));function I(C){ae(j=>{const Y=j.findIndex(({adapter:z})=>z===this);if(Y===-1)return j;const{adapter:te}=j[Y];return[...j.slice(0,Y),{adapter:te,readyState:C},...j.slice(Y+1)].filter(({readyState:z})=>z!==Un.Unsupported)})}return e.forEach(C=>C.on("readyStateChange",I,C)),()=>{e.forEach(C=>C.off("readyStateChange",I,C))}},[n,e]);const le=ce.useMemo(()=>re.find(I=>I.adapter===n)??null,[n,re]);ce.useEffect(()=>{if(!n)return;const I=Y=>{O(Y),d.current=!1,g(!1),K(!0),E.current=!1,T(!1)},C=()=>{i.current||(O(null),d.current=!1,g(!1),K(!1),E.current=!1,T(!1))},j=Y=>{G.current(Y,n)};return n.on("connect",I),n.on("disconnect",C),n.on("error",j),()=>{n.off("connect",I),n.off("disconnect",C),n.off("error",j),C()}},[n,i]);const Q=ce.useRef(!1);ce.useEffect(()=>()=>{Q.current=!1},[n]),ce.useEffect(()=>{Q.current||d.current||B||!a||!(le?.readyState===Un.Installed||le?.readyState===Un.Loadable)||(d.current=!0,g(!0),Q.current=!0,(async function(){try{await a()}catch{o()}finally{g(!1),d.current=!1}})())},[B,a,o,le]);const q=ce.useCallback(async(I,C,j)=>{if(!n)throw G.current(new A2);if(!B)throw G.current(new Mi,n);return await n.sendTransaction(I,C,j)},[n,B]),M=ce.useMemo(()=>n&&"signTransaction"in n?async I=>{if(!B)throw G.current(new Mi,n);return await n.signTransaction(I)}:void 0,[n,B]),U=ce.useMemo(()=>n&&"signAllTransactions"in n?async I=>{if(!B)throw G.current(new Mi,n);return await n.signAllTransactions(I)}:void 0,[n,B]),W=ce.useMemo(()=>n&&"signMessage"in n?async I=>{if(!B)throw G.current(new Mi,n);return await n.signMessage(I)}:void 0,[n,B]),F=ce.useMemo(()=>n&&"signIn"in n?async I=>await n.signIn(I):void 0,[n]),S=ce.useCallback(async()=>{if(d.current||E.current||le?.adapter.connected)return;if(!le)throw G.current(new A2);const{adapter:I,readyState:C}=le;if(!(C===Un.Installed||C===Un.Loadable))throw G.current(new Sm,I);d.current=!0,g(!0);try{await I.connect()}catch(j){throw o(),j}finally{g(!1),d.current=!1}},[o,le]),w=ce.useCallback(async()=>{if(!E.current&&n){E.current=!0,T(!0);try{await n.disconnect()}finally{T(!1),E.current=!1}}},[n]);return Le.createElement(iM.Provider,{value:{autoConnect:!!a,wallets:re,wallet:le,publicKey:N,connected:B,connecting:p,disconnecting:A,select:h,connect:S,disconnect:w,sendTransaction:q,signTransaction:M,signAllTransactions:U,signMessage:W,signIn:F}},r)}let Dw;function Nq(){return Dw===void 0&&(Dw=globalThis.navigator?.userAgent??null),Dw}function MI(r){const e=Nq();return Cq({adapters:r,userAgentString:e})===su.MOBILE_WEB}function Pq(){const r=globalThis.location;if(r)return`${r.protocol}//${r.host}`}function Dq({children:r,wallets:e,autoConnect:n,localStorageKey:i="walletName",onError:a}){const{connection:o}=Uz(),c=Rq(e),h=ce.useMemo(()=>{if(!MI(c))return null;const $=c.find(G=>G.name===yo.SolanaMobileWalletAdapterWalletName);return $||new yo.SolanaMobileWalletAdapter({addressSelector:yo.createDefaultAddressSelector(),appIdentity:{uri:Pq()},authorizationResultCache:yo.createDefaultAuthorizationResultCache(),cluster:Mq(o?.rpcEndpoint),onWalletNotFound:yo.createDefaultWalletNotFoundHandler()})},[c,o?.rpcEndpoint]),d=ce.useMemo(()=>h==null||c.indexOf(h)!==-1?c:[h,...c],[c,h]),[p,g]=$z(i,null),E=ce.useMemo(()=>d.find($=>$.name===p)??null,[d,p]),A=ce.useCallback($=>{p!==$&&(E&&E.name!==yo.SolanaMobileWalletAdapterWalletName&&E.disconnect(),g($))},[E,g,p]);ce.useEffect(()=>{if(!E)return;function $(){O.current||g(null)}return E.on("disconnect",$),()=>{E.off("disconnect",$)}},[E,c,g,p]);const T=ce.useRef(!1),N=ce.useMemo(()=>{if(!(!n||!E))return async()=>{(n===!0||await n(E))&&(T.current?await E.connect():await E.autoConnect())}},[n,E]),O=ce.useRef(!1);ce.useEffect(()=>{if(p===yo.SolanaMobileWalletAdapterWalletName&&MI(c)){O.current=!1;return}function $(){O.current=!0}return window.addEventListener("beforeunload",$),()=>{window.removeEventListener("beforeunload",$)}},[c,p]);const B=ce.useCallback(()=>{E&&A(null)},[E,A]),K=ce.useCallback($=>{T.current=!0,A($)},[A]);return Le.createElement(Oq,{wallets:d,adapter:E,isUnloadingRef:O,onAutoConnectRequest:N,onConnectError:B,onError:a,onSelectWallet:K},r)}const xM={setVisible(r){console.error(kM("call","setVisible"))},visible:!1};Object.defineProperty(xM,"visible",{get(){return console.error(kM("read","visible")),!1}});function kM(r,e){return`You have tried to  ${r} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const CM=ce.createContext(xM);function Lq(){return ce.useContext(CM)}const Bq=r=>Le.createElement("button",{className:`wallet-adapter-button ${r.className||""}`,disabled:r.disabled,style:r.style,onClick:r.onClick,tabIndex:r.tabIndex||0,type:"button"},r.startIcon&&Le.createElement("i",{className:"wallet-adapter-button-start-icon"},r.startIcon),r.children,r.endIcon&&Le.createElement("i",{className:"wallet-adapter-button-end-icon"},r.endIcon)),Uq=({wallet:r,...e})=>r&&Le.createElement("img",{src:r.adapter.icon,alt:`${r.adapter.name} icon`,...e}),OI=({id:r,children:e,expanded:n=!1})=>{const i=ce.useRef(null),a=ce.useRef(!0),o="height 250ms ease-out",c=()=>{const d=i.current;d&&requestAnimationFrame(()=>{d.style.height=d.scrollHeight+"px"})},h=()=>{const d=i.current;d&&requestAnimationFrame(()=>{d.style.height=d.offsetHeight+"px",d.style.overflow="hidden",requestAnimationFrame(()=>{d.style.height="0"})})};return ce.useLayoutEffect(()=>{n?c():h()},[n]),ce.useLayoutEffect(()=>{const d=i.current;if(!d)return;function p(){d&&(d.style.overflow=n?"initial":"hidden",n&&(d.style.height="auto"))}function g(E){d&&E.target===d&&E.propertyName==="height"&&p()}return a.current&&(p(),a.current=!1),d.addEventListener("transitionend",g),()=>d.removeEventListener("transitionend",g)},[n]),Le.createElement("div",{className:"wallet-adapter-collapse",id:r,ref:i,role:"region",style:{height:0,transition:a.current?void 0:o}},e)},Lw=({handleClick:r,tabIndex:e,wallet:n})=>Le.createElement("li",null,Le.createElement(Bq,{onClick:r,startIcon:Le.createElement(Uq,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===Un.Installed&&Le.createElement("span",null,"Detected"))),Vq=()=>Le.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Le.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),Le.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),Le.createElement("g",{clipPath:"url(#clip0_880_5115)"},Le.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),Le.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),Le.createElement("defs",null,Le.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Le.createElement("stop",{stopColor:"#9945FF"}),Le.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Le.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Le.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Le.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Le.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Le.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Le.createElement("stop",{stopColor:"#9945FF"}),Le.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Le.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Le.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Le.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Le.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Le.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},Le.createElement("stop",{stopColor:"#9945FF"}),Le.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Le.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Le.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Le.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Le.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Le.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},Le.createElement("stop",{stopColor:"#9945FF"}),Le.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Le.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Le.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Le.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Le.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Le.createElement("clipPath",{id:"clip0_880_5115"},Le.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),zq=({className:r="",container:e="body"})=>{const n=ce.useRef(null),{wallets:i,select:a}=Kz(),{setVisible:o}=Lq(),[c,h]=ce.useState(!1),[d,p]=ce.useState(!1),[g,E]=ce.useState(null),[A,T]=ce.useMemo(()=>{const G=[],re=[];for(const ae of i)ae.readyState===Un.Installed?G.push(ae):re.push(ae);return G.length?[G,re]:[re,[]]},[i]),N=ce.useCallback(()=>{p(!1),setTimeout(()=>o(!1),150)},[o]),O=ce.useCallback(G=>{G.preventDefault(),N()},[N]),B=ce.useCallback((G,re)=>{a(re),O(G)},[a,O]),K=ce.useCallback(()=>h(!c),[c]),$=ce.useCallback(G=>{const re=n.current;if(!re)return;const ae=re.querySelectorAll("button"),le=ae[0],Q=ae[ae.length-1];G.shiftKey?document.activeElement===le&&(Q.focus(),G.preventDefault()):document.activeElement===Q&&(le.focus(),G.preventDefault())},[n]);return ce.useLayoutEffect(()=>{const G=ae=>{ae.key==="Escape"?N():ae.key==="Tab"&&$(ae)},{overflow:re}=window.getComputedStyle(document.body);return setTimeout(()=>p(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",G,!1),()=>{document.body.style.overflow=re,window.removeEventListener("keydown",G,!1)}},[N,$]),ce.useLayoutEffect(()=>E(document.querySelector(e)),[e]),g&&O6.createPortal(Le.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${d&&"wallet-adapter-modal-fade-in"} ${r}`,ref:n,role:"dialog"},Le.createElement("div",{className:"wallet-adapter-modal-container"},Le.createElement("div",{className:"wallet-adapter-modal-wrapper"},Le.createElement("button",{onClick:O,className:"wallet-adapter-modal-button-close"},Le.createElement("svg",{width:"14",height:"14"},Le.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),A.length?Le.createElement(Le.Fragment,null,Le.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),Le.createElement("ul",{className:"wallet-adapter-modal-list"},A.map(G=>Le.createElement(Lw,{key:G.adapter.name,handleClick:re=>B(re,G.adapter.name),wallet:G})),T.length?Le.createElement(OI,{expanded:c,id:"wallet-adapter-modal-collapse"},T.map(G=>Le.createElement(Lw,{key:G.adapter.name,handleClick:re=>B(re,G.adapter.name),tabIndex:c?0:-1,wallet:G}))):null),T.length?Le.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:K,tabIndex:0},Le.createElement("span",null,c?"Less ":"More ","options"),Le.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},Le.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):Le.createElement(Le.Fragment,null,Le.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),Le.createElement("div",{className:"wallet-adapter-modal-middle"},Le.createElement(Vq,null)),T.length?Le.createElement(Le.Fragment,null,Le.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:K,tabIndex:0},Le.createElement("span",null,c?"Hide ":"Already have a wallet? View ","options"),Le.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},Le.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),Le.createElement(OI,{expanded:c,id:"wallet-adapter-modal-collapse"},Le.createElement("ul",{className:"wallet-adapter-modal-list"},T.map(G=>Le.createElement(Lw,{key:G.adapter.name,handleClick:re=>B(re,G.adapter.name),tabIndex:c?0:-1,wallet:G}))))):null))),Le.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:O})),g)},jq=({children:r,...e})=>{const[n,i]=ce.useState(!1);return Le.createElement(CM.Provider,{value:{visible:n,setVisible:i}},r,n&&Le.createElement(zq,{...e}))},qq="Phantom";class Wq extends Wz{constructor(e={}){super(),this.name=qq,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Un.Unsupported:Un.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new ZC),this.emit("disconnect"))},this._accountChanged=n=>{const i=this._publicKey;if(i){try{n=new ze(n.toBytes())}catch(a){this.emit("error",new Ab(a?.message,a));return}i.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Un.Unsupported&&(jz()?(this._readyState=Un.Loadable,this.emit("readyStateChange",this._readyState)):zz(()=>window.phantom?.solana?.isPhantom||window.solana?.isPhantom?(this._readyState=Un.Installed,this.emit("readyStateChange",this._readyState),!0):!1))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Un.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===Un.Loadable){const i=encodeURIComponent(window.location.href),a=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${a}`;return}if(this.readyState!==Un.Installed)throw new Sm;this._connecting=!0;const e=window.phantom?.solana||window.solana;if(!e.isConnected)try{await e.connect()}catch(i){throw new XC(i?.message,i)}if(!e.publicKey)throw new Sl;let n;try{n=new ze(e.publicKey.toBytes())}catch(i){throw new Ab(i?.message,i)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new JC(n?.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,i={}){try{const a=this._wallet;if(!a)throw new Mi;try{const{signers:o,...c}=i;Ro(e)?o?.length&&e.sign(o):(e=await this.prepareTransaction(e,n,c),o?.length&&e.partialSign(...o)),c.preflightCommitment=c.preflightCommitment||n.commitment;const{signature:h}=await a.signAndSendTransaction(e,c);return h}catch(o){throw o instanceof Zr?o:new Al(o?.message,o)}}catch(a){throw this.emit("error",a),a}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Mi;try{return await n.signTransaction(e)||e}catch(i){throw new Io(i?.message,i)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Mi;try{return await n.signAllTransactions(e)||e}catch(i){throw new Io(i?.message,i)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Mi;try{const{signature:i}=await n.signMessage(e);return i}catch(i){throw new eM(i?.message,i)}}catch(n){throw this.emit("error",n),n}}}const Fq=[new Wq],Hq="https://api.mainnet-beta.solana.com";function Kq({children:r}){return oe.jsx(Vz,{endpoint:Hq,children:oe.jsx(Dq,{wallets:Fq,autoConnect:!0,children:oe.jsx(jq,{children:r})})})}c3.createRoot(document.getElementById("root")).render(oe.jsx(ce.StrictMode,{children:oe.jsx(iR,{children:oe.jsx(E6,{children:oe.jsx(Kq,{children:oe.jsx(C8,{})})})})}));export{_T as B,So as _,Bz as i,oe as j,ce as r,pu as t};
