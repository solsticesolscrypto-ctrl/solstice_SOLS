const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Presale-9UF030pK.js","assets/index.browser.esm-BXMLYTWa.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function Nc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function fx(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var n=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var a=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return r[s]}})}),n}var Pd={exports:{}},Wa={},Rd={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function H0(){if(zg)return Pe;zg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.iterator;function I(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,$={};function M(V,Q,fe){this.props=V,this.context=Q,this.refs=$,this.updater=fe||D}M.prototype.isReactComponent={},M.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},M.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function J(){}J.prototype=M.prototype;function X(V,Q,fe){this.props=V,this.context=Q,this.refs=$,this.updater=fe||D}var ie=X.prototype=new J;ie.constructor=X,B(ie,M.prototype),ie.isPureReactComponent=!0;var me=Array.isArray,Re=Object.prototype.hasOwnProperty,Ie={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function A(V,Q,fe){var Ae,Ce={},Oe=null,Fe=null;if(Q!=null)for(Ae in Q.ref!==void 0&&(Fe=Q.ref),Q.key!==void 0&&(Oe=""+Q.key),Q)Re.call(Q,Ae)&&!x.hasOwnProperty(Ae)&&(Ce[Ae]=Q[Ae]);var je=arguments.length-2;if(je===1)Ce.children=fe;else if(1<je){for(var qe=Array(je),wt=0;wt<je;wt++)qe[wt]=arguments[wt+2];Ce.children=qe}if(V&&V.defaultProps)for(Ae in je=V.defaultProps,je)Ce[Ae]===void 0&&(Ce[Ae]=je[Ae]);return{$$typeof:r,type:V,key:Oe,ref:Fe,props:Ce,_owner:Ie.current}}function P(V,Q){return{$$typeof:r,type:V.type,key:Q,ref:V.ref,props:V.props,_owner:V._owner}}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(fe){return Q[fe]})}var F=/\/+/g;function R(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Q.toString(36)}function it(V,Q,fe,Ae,Ce){var Oe=typeof V;(Oe==="undefined"||Oe==="boolean")&&(V=null);var Fe=!1;if(V===null)Fe=!0;else switch(Oe){case"string":case"number":Fe=!0;break;case"object":switch(V.$$typeof){case r:case e:Fe=!0}}if(Fe)return Fe=V,Ce=Ce(Fe),V=Ae===""?"."+R(Fe,0):Ae,me(Ce)?(fe="",V!=null&&(fe=V.replace(F,"$&/")+"/"),it(Ce,Q,fe,"",function(wt){return wt})):Ce!=null&&(N(Ce)&&(Ce=P(Ce,fe+(!Ce.key||Fe&&Fe.key===Ce.key?"":(""+Ce.key).replace(F,"$&/")+"/")+V)),Q.push(Ce)),1;if(Fe=0,Ae=Ae===""?".":Ae+":",me(V))for(var je=0;je<V.length;je++){Oe=V[je];var qe=Ae+R(Oe,je);Fe+=it(Oe,Q,fe,qe,Ce)}else if(qe=I(V),typeof qe=="function")for(V=qe.call(V),je=0;!(Oe=V.next()).done;)Oe=Oe.value,qe=Ae+R(Oe,je++),Fe+=it(Oe,Q,fe,qe,Ce);else if(Oe==="object")throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Ot(V,Q,fe){if(V==null)return V;var Ae=[],Ce=0;return it(V,Ae,"","",function(Oe){return Q.call(fe,Oe,Ce++)}),Ae}function Dt(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(fe){(V._status===0||V._status===-1)&&(V._status=1,V._result=fe)},function(fe){(V._status===0||V._status===-1)&&(V._status=2,V._result=fe)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var $e={current:null},re={transition:null},ge={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:re,ReactCurrentOwner:Ie};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:Ot,forEach:function(V,Q,fe){Ot(V,function(){Q.apply(this,arguments)},fe)},count:function(V){var Q=0;return Ot(V,function(){Q++}),Q},toArray:function(V){return Ot(V,function(Q){return Q})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Pe.Component=M,Pe.Fragment=n,Pe.Profiler=a,Pe.PureComponent=X,Pe.StrictMode=s,Pe.Suspense=m,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Pe.act=ae,Pe.cloneElement=function(V,Q,fe){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Ae=B({},V.props),Ce=V.key,Oe=V.ref,Fe=V._owner;if(Q!=null){if(Q.ref!==void 0&&(Oe=Q.ref,Fe=Ie.current),Q.key!==void 0&&(Ce=""+Q.key),V.type&&V.type.defaultProps)var je=V.type.defaultProps;for(qe in Q)Re.call(Q,qe)&&!x.hasOwnProperty(qe)&&(Ae[qe]=Q[qe]===void 0&&je!==void 0?je[qe]:Q[qe])}var qe=arguments.length-2;if(qe===1)Ae.children=fe;else if(1<qe){je=Array(qe);for(var wt=0;wt<qe;wt++)je[wt]=arguments[wt+2];Ae.children=je}return{$$typeof:r,type:V.type,key:Ce,ref:Oe,props:Ae,_owner:Fe}},Pe.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:u,_context:V},V.Consumer=V},Pe.createElement=A,Pe.createFactory=function(V){var Q=A.bind(null,V);return Q.type=V,Q},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(V){return{$$typeof:p,render:V}},Pe.isValidElement=N,Pe.lazy=function(V){return{$$typeof:w,_payload:{_status:-1,_result:V},_init:Dt}},Pe.memo=function(V,Q){return{$$typeof:v,type:V,compare:Q===void 0?null:Q}},Pe.startTransition=function(V){var Q=re.transition;re.transition={};try{V()}finally{re.transition=Q}},Pe.unstable_act=ae,Pe.useCallback=function(V,Q){return $e.current.useCallback(V,Q)},Pe.useContext=function(V){return $e.current.useContext(V)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(V){return $e.current.useDeferredValue(V)},Pe.useEffect=function(V,Q){return $e.current.useEffect(V,Q)},Pe.useId=function(){return $e.current.useId()},Pe.useImperativeHandle=function(V,Q,fe){return $e.current.useImperativeHandle(V,Q,fe)},Pe.useInsertionEffect=function(V,Q){return $e.current.useInsertionEffect(V,Q)},Pe.useLayoutEffect=function(V,Q){return $e.current.useLayoutEffect(V,Q)},Pe.useMemo=function(V,Q){return $e.current.useMemo(V,Q)},Pe.useReducer=function(V,Q,fe){return $e.current.useReducer(V,Q,fe)},Pe.useRef=function(V){return $e.current.useRef(V)},Pe.useState=function(V){return $e.current.useState(V)},Pe.useSyncExternalStore=function(V,Q,fe){return $e.current.useSyncExternalStore(V,Q,fe)},Pe.useTransition=function(){return $e.current.useTransition()},Pe.version="18.3.1",Pe}var $g;function bf(){return $g||($g=1,Rd.exports=H0()),Rd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function W0(){if(Bg)return Wa;Bg=1;var r=bf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,v){var w,S={},I=null,D=null;v!==void 0&&(I=""+v),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(D=m.ref);for(w in m)s.call(m,w)&&!u.hasOwnProperty(w)&&(S[w]=m[w]);if(p&&p.defaultProps)for(w in m=p.defaultProps,m)S[w]===void 0&&(S[w]=m[w]);return{$$typeof:e,type:p,key:I,ref:D,props:S,_owner:a.current}}return Wa.Fragment=n,Wa.jsx=d,Wa.jsxs=d,Wa}var qg;function G0(){return qg||(qg=1,Pd.exports=W0()),Pd.exports}var k=G0(),H=bf();const An=Nc(H);var Wu={},kd={exports:{}},tn={},xd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function K0(){return Hg||(Hg=1,(function(r){function e(re,ge){var ae=re.length;re.push(ge);e:for(;0<ae;){var V=ae-1>>>1,Q=re[V];if(0<a(Q,ge))re[V]=ge,re[ae]=Q,ae=V;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var ge=re[0],ae=re.pop();if(ae!==ge){re[0]=ae;e:for(var V=0,Q=re.length,fe=Q>>>1;V<fe;){var Ae=2*(V+1)-1,Ce=re[Ae],Oe=Ae+1,Fe=re[Oe];if(0>a(Ce,ae))Oe<Q&&0>a(Fe,Ce)?(re[V]=Fe,re[Oe]=ae,V=Oe):(re[V]=Ce,re[Ae]=ae,V=Ae);else if(Oe<Q&&0>a(Fe,ae))re[V]=Fe,re[Oe]=ae,V=Oe;else break e}}return ge}function a(re,ge){var ae=re.sortIndex-ge.sortIndex;return ae!==0?ae:re.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var m=[],v=[],w=1,S=null,I=3,D=!1,B=!1,$=!1,M=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(re){for(var ge=n(v);ge!==null;){if(ge.callback===null)s(v);else if(ge.startTime<=re)s(v),ge.sortIndex=ge.expirationTime,e(m,ge);else break;ge=n(v)}}function me(re){if($=!1,ie(re),!B)if(n(m)!==null)B=!0,Dt(Re);else{var ge=n(v);ge!==null&&$e(me,ge.startTime-re)}}function Re(re,ge){B=!1,$&&($=!1,J(A),A=-1),D=!0;var ae=I;try{for(ie(ge),S=n(m);S!==null&&(!(S.expirationTime>ge)||re&&!L());){var V=S.callback;if(typeof V=="function"){S.callback=null,I=S.priorityLevel;var Q=V(S.expirationTime<=ge);ge=r.unstable_now(),typeof Q=="function"?S.callback=Q:S===n(m)&&s(m),ie(ge)}else s(m);S=n(m)}if(S!==null)var fe=!0;else{var Ae=n(v);Ae!==null&&$e(me,Ae.startTime-ge),fe=!1}return fe}finally{S=null,I=ae,D=!1}}var Ie=!1,x=null,A=-1,P=5,N=-1;function L(){return!(r.unstable_now()-N<P)}function F(){if(x!==null){var re=r.unstable_now();N=re;var ge=!0;try{ge=x(!0,re)}finally{ge?R():(Ie=!1,x=null)}}else Ie=!1}var R;if(typeof X=="function")R=function(){X(F)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,Ot=it.port2;it.port1.onmessage=F,R=function(){Ot.postMessage(null)}}else R=function(){M(F,0)};function Dt(re){x=re,Ie||(Ie=!0,R())}function $e(re,ge){A=M(function(){re(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){B||D||(B=!0,Dt(Re))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return n(m)},r.unstable_next=function(re){switch(I){case 1:case 2:case 3:var ge=3;break;default:ge=I}var ae=I;I=ge;try{return re()}finally{I=ae}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,ge){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=I;I=re;try{return ge()}finally{I=ae}},r.unstable_scheduleCallback=function(re,ge,ae){var V=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?V+ae:V):ae=V,re){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ae+Q,re={id:w++,callback:ge,priorityLevel:re,startTime:ae,expirationTime:Q,sortIndex:-1},ae>V?(re.sortIndex=ae,e(v,re),n(m)===null&&re===n(v)&&($?(J(A),A=-1):$=!0,$e(me,ae-V))):(re.sortIndex=Q,e(m,re),B||D||(B=!0,Dt(Re))),re},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(re){var ge=I;return function(){var ae=I;I=ge;try{return re.apply(this,arguments)}finally{I=ae}}}})(bd)),bd}var Wg;function Q0(){return Wg||(Wg=1,xd.exports=K0()),xd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function X0(){if(Gg)return tn;Gg=1;var r=bf(),e=Q0();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(i,o){d(i,o),d(i+"Capture",o)}function d(i,o){for(a[i]=o,i=0;i<o.length;i++)s.add(o[i])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},S={};function I(i){return m.call(S,i)?!0:m.call(w,i)?!1:v.test(i)?S[i]=!0:(w[i]=!0,!1)}function D(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function B(i,o,l,h){if(o===null||typeof o>"u"||D(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function $(i,o,l,h,f,y,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=E}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){M[i]=new $(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];M[o]=new $(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){M[i]=new $(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){M[i]=new $(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){M[i]=new $(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){M[i]=new $(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){M[i]=new $(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){M[i]=new $(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){M[i]=new $(i,5,!1,i.toLowerCase(),null,!1,!1)});var J=/[\-:]([a-z])/g;function X(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(J,X);M[o]=new $(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(J,X);M[o]=new $(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(J,X);M[o]=new $(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){M[i]=new $(i,1,!1,i.toLowerCase(),null,!1,!1)}),M.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){M[i]=new $(i,1,!1,i.toLowerCase(),null,!0,!0)});function ie(i,o,l,h){var f=M.hasOwnProperty(o)?M[o]:null;(f!==null?f.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(B(o,l,f,h)&&(l=null),h||f===null?I(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):f.mustUseProperty?i[f.propertyName]=l===null?f.type===3?!1:"":l:(o=f.attributeName,h=f.attributeNamespace,l===null?i.removeAttribute(o):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var me=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Re=Symbol.for("react.element"),Ie=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),Ot=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),re=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,V;function Q(i){if(V===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||""}return`
`+V+i}var fe=!1;function Ae(i,o){if(!i||fe)return"";fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var h=q}Reflect.construct(i,[],o)}else{try{o.call()}catch(q){h=q}i.call(o.prototype)}else{try{throw Error()}catch(q){h=q}i()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),y=h.stack.split(`
`),E=f.length-1,C=y.length-1;1<=E&&0<=C&&f[E]!==y[C];)C--;for(;1<=E&&0<=C;E--,C--)if(f[E]!==y[C]){if(E!==1||C!==1)do if(E--,C--,0>C||f[E]!==y[C]){var b=`
`+f[E].replace(" at new "," at ");return i.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",i.displayName)),b}while(1<=E&&0<=C);break}}}finally{fe=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Q(i):""}function Ce(i){switch(i.tag){case 5:return Q(i.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return i=Ae(i.type,!1),i;case 11:return i=Ae(i.type.render,!1),i;case 1:return i=Ae(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case Ie:return"Portal";case P:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case it:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case F:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ot:return o=i.displayName||null,o!==null?o:Oe(i.type)||"Memo";case Dt:o=i._payload,i=i._init;try{return Oe(i(o))}catch{}}return null}function Fe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function wt(i){var o=qe(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function pr(i){i._valueTracker||(i._valueTracker=wt(i))}function Is(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=qe(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function Hr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Fi(i,o){var l=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function As(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=je(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Jo(i,o){o=o.checked,o!=null&&ie(i,"checked",o,!1)}function Zo(i,o){Jo(i,o);var l=je(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Cs(i,o.type,l):o.hasOwnProperty("defaultValue")&&Cs(i,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function bl(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Cs(i,o,l){(o!=="number"||Hr(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var mr=Array.isArray;function gr(i,o,l,h){if(i=i.options,o){o={};for(var f=0;f<l.length;f++)o["$"+l[f]]=!0;for(l=0;l<i.length;l++)f=o.hasOwnProperty("$"+i[l].value),i[l].selected!==f&&(i[l].selected=f),f&&h&&(i[l].defaultSelected=!0)}else{for(l=""+je(l),o=null,f=0;f<i.length;f++){if(i[f].value===l){i[f].selected=!0,h&&(i[f].defaultSelected=!0);return}o!==null||i[f].disabled||(o=i[f])}o!==null&&(o.selected=!0)}}function ea(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ps(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(mr(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:je(l)}}function Rs(i,o){var l=je(o.value),h=je(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function ta(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function pt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?pt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var yr,na=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,f){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,f)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(yr=yr||document.createElement("div"),yr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=yr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Wr(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ui=["Webkit","ms","Moz","O"];Object.keys(ji).forEach(function(i){Ui.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ji[o]=ji[i]})});function ra(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||ji.hasOwnProperty(i)&&ji[i]?(""+o).trim():o+"px"}function ia(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=ra(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,f):i[l]=f}}var sa=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oa(i,o){if(o){if(sa[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function aa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zi=null;function ks(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xs=null,fn=null,Wn=null;function bs(i){if(i=ba(i)){if(typeof xs!="function")throw Error(n(280));var o=i.stateNode;o&&(o=au(o),xs(i.stateNode,i.type,o))}}function Gn(i){fn?Wn?Wn.push(i):Wn=[i]:fn=i}function la(){if(fn){var i=fn,o=Wn;if(Wn=fn=null,bs(i),o)for(i=0;i<o.length;i++)bs(o[i])}}function $i(i,o){return i(o)}function ua(){}var vr=!1;function ca(i,o,l){if(vr)return i(o,l);vr=!0;try{return $i(i,o,l)}finally{vr=!1,(fn!==null||Wn!==null)&&(ua(),la())}}function st(i,o){var l=i.stateNode;if(l===null)return null;var h=au(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var Ns=!1;if(p)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{Ns=!1}function Bi(i,o,l,h,f,y,E,C,b){var q=Array.prototype.slice.call(arguments,3);try{o.apply(l,q)}catch(Z){this.onError(Z)}}var qi=!1,Os=null,Pn=!1,ha=null,th={onError:function(i){qi=!0,Os=i}};function Ds(i,o,l,h,f,y,E,C,b){qi=!1,Os=null,Bi.apply(th,arguments)}function Nl(i,o,l,h,f,y,E,C,b){if(Ds.apply(this,arguments),qi){if(qi){var q=Os;qi=!1,Os=null}else throw Error(n(198));Pn||(Pn=!0,ha=q)}}function Rn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function Hi(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function kn(i){if(Rn(i)!==i)throw Error(n(188))}function Ol(i){var o=i.alternate;if(!o){if(o=Rn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var l=i,h=o;;){var f=l.return;if(f===null)break;var y=f.alternate;if(y===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===l)return kn(f),i;if(y===h)return kn(f),o;y=y.sibling}throw Error(n(188))}if(l.return!==h.return)l=f,h=y;else{for(var E=!1,C=f.child;C;){if(C===l){E=!0,l=f,h=y;break}if(C===h){E=!0,h=f,l=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===l){E=!0,l=y,h=f;break}if(C===h){E=!0,h=y,l=f;break}C=C.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:o}function da(i){return i=Ol(i),i!==null?Ls(i):null}function Ls(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Ls(i);if(o!==null)return o;i=i.sibling}return null}var Vs=e.unstable_scheduleCallback,fa=e.unstable_cancelCallback,Dl=e.unstable_shouldYield,nh=e.unstable_requestPaint,He=e.unstable_now,Ll=e.unstable_getCurrentPriorityLevel,Wi=e.unstable_ImmediatePriority,Gr=e.unstable_UserBlockingPriority,pn=e.unstable_NormalPriority,pa=e.unstable_LowPriority,Vl=e.unstable_IdlePriority,Gi=null,sn=null;function Ml(i){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Gi,i,void 0,(i.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:jl,ma=Math.log,Fl=Math.LN2;function jl(i){return i>>>=0,i===0?32:31-(ma(i)/Fl|0)|0}var Ms=64,Fs=4194304;function Kr(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ki(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,f=i.suspendedLanes,y=i.pingedLanes,E=l&268435455;if(E!==0){var C=E&~f;C!==0?h=Kr(C):(y&=E,y!==0&&(h=Kr(y)))}else E=l&~f,E!==0?h=Kr(E):y!==0&&(h=Kr(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&f)===0&&(f=h&-h,y=o&-o,f>=y||f===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-Bt(o),f=1<<l,h|=i[l],o&=~f;return h}function rh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,f=i.expirationTimes,y=i.pendingLanes;0<y;){var E=31-Bt(y),C=1<<E,b=f[E];b===-1?((C&l)===0||(C&h)!==0)&&(f[E]=rh(C,o)):b<=o&&(i.expiredLanes|=C),y&=~C}}function on(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Qi(){var i=Ms;return Ms<<=1,(Ms&4194240)===0&&(Ms=64),i}function Qr(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Xr(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Bt(o),i[o]=l}function Be(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var f=31-Bt(l),y=1<<f;o[f]=0,h[f]=-1,i[f]=-1,l&=~y}}function Yr(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-Bt(l),f=1<<h;f&o|i[h]&o&&(i[h]|=o),l&=~f}}var Ne=0;function Jr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ul,js,zl,$l,Bl,ga=!1,Kn=[],Ct=null,xn=null,bn=null,Zr=new Map,mn=new Map,Qn=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ql(i,o){switch(i){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Zr.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":mn.delete(o.pointerId)}}function Kt(i,o,l,h,f,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[f]},o!==null&&(o=ba(o),o!==null&&js(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,f!==null&&o.indexOf(f)===-1&&o.push(f),i)}function sh(i,o,l,h,f){switch(o){case"focusin":return Ct=Kt(Ct,i,o,l,h,f),!0;case"dragenter":return xn=Kt(xn,i,o,l,h,f),!0;case"mouseover":return bn=Kt(bn,i,o,l,h,f),!0;case"pointerover":var y=f.pointerId;return Zr.set(y,Kt(Zr.get(y)||null,i,o,l,h,f)),!0;case"gotpointercapture":return y=f.pointerId,mn.set(y,Kt(mn.get(y)||null,i,o,l,h,f)),!0}return!1}function Hl(i){var o=es(i.target);if(o!==null){var l=Rn(o);if(l!==null){if(o=l.tag,o===13){if(o=Hi(l),o!==null){i.blockedOn=o,Bl(i.priority,function(){zl(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Us(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);zi=h,l.target.dispatchEvent(h),zi=null}else return o=ba(l),o!==null&&js(o),i.blockedOn=l,!1;o.shift()}return!0}function Xi(i,o,l){wr(i)&&l.delete(o)}function Wl(){ga=!1,Ct!==null&&wr(Ct)&&(Ct=null),xn!==null&&wr(xn)&&(xn=null),bn!==null&&wr(bn)&&(bn=null),Zr.forEach(Xi),mn.forEach(Xi)}function Nn(i,o){i.blockedOn===o&&(i.blockedOn=null,ga||(ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wl)))}function On(i){function o(f){return Nn(f,i)}if(0<Kn.length){Nn(Kn[0],i);for(var l=1;l<Kn.length;l++){var h=Kn[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Ct!==null&&Nn(Ct,i),xn!==null&&Nn(xn,i),bn!==null&&Nn(bn,i),Zr.forEach(o),mn.forEach(o),l=0;l<Qn.length;l++)h=Qn[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<Qn.length&&(l=Qn[0],l.blockedOn===null);)Hl(l),l.blockedOn===null&&Qn.shift()}var Er=me.ReactCurrentBatchConfig,ei=!0;function Ye(i,o,l,h){var f=Ne,y=Er.transition;Er.transition=null;try{Ne=1,ya(i,o,l,h)}finally{Ne=f,Er.transition=y}}function oh(i,o,l,h){var f=Ne,y=Er.transition;Er.transition=null;try{Ne=4,ya(i,o,l,h)}finally{Ne=f,Er.transition=y}}function ya(i,o,l,h){if(ei){var f=Us(i,o,l,h);if(f===null)yh(i,o,h,Yi,l),ql(i,h);else if(sh(f,i,o,l,h))h.stopPropagation();else if(ql(i,h),o&4&&-1<ih.indexOf(i)){for(;f!==null;){var y=ba(f);if(y!==null&&Ul(y),y=Us(i,o,l,h),y===null&&yh(i,o,h,Yi,l),y===f)break;f=y}f!==null&&h.stopPropagation()}else yh(i,o,h,null,l)}}var Yi=null;function Us(i,o,l,h){if(Yi=null,i=ks(h),i=es(i),i!==null)if(o=Rn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=Hi(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Yi=i,null}function va(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ll()){case Wi:return 1;case Gr:return 4;case pn:case pa:return 16;case Vl:return 536870912;default:return 16}default:return 16}}var an=null,zs=null,Qt=null;function _a(){if(Qt)return Qt;var i,o=zs,l=o.length,h,f="value"in an?an.value:an.textContent,y=f.length;for(i=0;i<l&&o[i]===f[i];i++);var E=l-i;for(h=1;h<=E&&o[l-h]===f[y-h];h++);return Qt=f.slice(i,1<h?1-h:void 0)}function $s(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Xn(){return!0}function wa(){return!1}function Pt(i){function o(l,h,f,y,E){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(l=i[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xn:wa,this.isPropagationStopped=wa,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),o}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=Pt(Dn),Yn=ae({},Dn,{view:0,detail:0}),ah=Pt(Yn),qs,Tr,ti,Ji=ae({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jn,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ti&&(ti&&i.type==="mousemove"?(qs=i.screenX-ti.screenX,Tr=i.screenY-ti.screenY):Tr=qs=0,ti=i),qs)},movementY:function(i){return"movementY"in i?i.movementY:Tr}}),Hs=Pt(Ji),Ea=ae({},Ji,{dataTransfer:0}),Gl=Pt(Ea),Ws=ae({},Yn,{relatedTarget:0}),Gs=Pt(Ws),Kl=ae({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sr=Pt(Kl),Ql=ae({},Dn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Xl=Pt(Ql),Yl=ae({},Dn,{data:0}),Ta=Pt(Yl),Ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zl(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Jl[i])?!!o[i]:!1}function Jn(){return Zl}var c=ae({},Yn,{key:function(i){if(i.key){var o=Ks[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=$s(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?qt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jn,charCode:function(i){return i.type==="keypress"?$s(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$s(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Pt(c),_=ae({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Pt(_),j=ae({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jn}),W=Pt(j),ne=ae({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Pt(ne),gt=ae({},Ji,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),De=Pt(gt),Et=[9,13,27,32],ut=p&&"CompositionEvent"in window,gn=null;p&&"documentMode"in document&&(gn=document.documentMode);var ln=p&&"TextEvent"in window&&!gn,Zi=p&&(!ut||gn&&8<gn&&11>=gn),Qs=" ",Lp=!1;function Vp(i,o){switch(i){case"keyup":return Et.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xs=!1;function $E(i,o){switch(i){case"compositionend":return Mp(o);case"keypress":return o.which!==32?null:(Lp=!0,Qs);case"textInput":return i=o.data,i===Qs&&Lp?null:i;default:return null}}function BE(i,o){if(Xs)return i==="compositionend"||!ut&&Vp(i,o)?(i=_a(),Qt=zs=an=null,Xs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Zi&&o.locale!=="ko"?null:o.data;default:return null}}var qE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!qE[i.type]:o==="textarea"}function jp(i,o,l,h){Gn(h),o=iu(o,"onChange"),0<o.length&&(l=new Bs("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var Sa=null,Ia=null;function HE(i){rm(i,0)}function eu(i){var o=to(i);if(Is(o))return i}function WE(i,o){if(i==="change")return o}var Up=!1;if(p){var lh;if(p){var uh="oninput"in document;if(!uh){var zp=document.createElement("div");zp.setAttribute("oninput","return;"),uh=typeof zp.oninput=="function"}lh=uh}else lh=!1;Up=lh&&(!document.documentMode||9<document.documentMode)}function $p(){Sa&&(Sa.detachEvent("onpropertychange",Bp),Ia=Sa=null)}function Bp(i){if(i.propertyName==="value"&&eu(Ia)){var o=[];jp(o,Ia,i,ks(i)),ca(HE,o)}}function GE(i,o,l){i==="focusin"?($p(),Sa=o,Ia=l,Sa.attachEvent("onpropertychange",Bp)):i==="focusout"&&$p()}function KE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return eu(Ia)}function QE(i,o){if(i==="click")return eu(o)}function XE(i,o){if(i==="input"||i==="change")return eu(o)}function YE(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Ln=typeof Object.is=="function"?Object.is:YE;function Aa(i,o){if(Ln(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!m.call(o,f)||!Ln(i[f],o[f]))return!1}return!0}function qp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Hp(i,o){var l=qp(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qp(l)}}function Wp(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Wp(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Gp(){for(var i=window,o=Hr();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Hr(i.document)}return o}function ch(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function JE(i){var o=Gp(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Wp(l.ownerDocument.documentElement,l)){if(h!==null&&ch(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var f=l.textContent.length,y=Math.min(h.start,f);h=h.end===void 0?y:Math.min(h.end,f),!i.extend&&y>h&&(f=h,h=y,y=f),f=Hp(l,y);var E=Hp(l,h);f&&E&&(i.rangeCount!==1||i.anchorNode!==f.node||i.anchorOffset!==f.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(f.node,f.offset),i.removeAllRanges(),y>h?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ZE=p&&"documentMode"in document&&11>=document.documentMode,Ys=null,hh=null,Ca=null,dh=!1;function Kp(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;dh||Ys==null||Ys!==Hr(h)||(h=Ys,"selectionStart"in h&&ch(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ca&&Aa(Ca,h)||(Ca=h,h=iu(hh,"onSelect"),0<h.length&&(o=new Bs("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=Ys)))}function tu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Js={animationend:tu("Animation","AnimationEnd"),animationiteration:tu("Animation","AnimationIteration"),animationstart:tu("Animation","AnimationStart"),transitionend:tu("Transition","TransitionEnd")},fh={},Qp={};p&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function nu(i){if(fh[i])return fh[i];if(!Js[i])return i;var o=Js[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Qp)return fh[i]=o[l];return i}var Xp=nu("animationend"),Yp=nu("animationiteration"),Jp=nu("animationstart"),Zp=nu("transitionend"),em=new Map,tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(i,o){em.set(i,o),u(o,[i])}for(var ph=0;ph<tm.length;ph++){var mh=tm[ph],e0=mh.toLowerCase(),t0=mh[0].toUpperCase()+mh.slice(1);ni(e0,"on"+t0)}ni(Xp,"onAnimationEnd"),ni(Yp,"onAnimationIteration"),ni(Jp,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Zp,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function nm(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,Nl(h,o,void 0,i),i.currentTarget=null}function rm(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],f=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var E=h.length-1;0<=E;E--){var C=h[E],b=C.instance,q=C.currentTarget;if(C=C.listener,b!==y&&f.isPropagationStopped())break e;nm(f,C,q),y=b}else for(E=0;E<h.length;E++){if(C=h[E],b=C.instance,q=C.currentTarget,C=C.listener,b!==y&&f.isPropagationStopped())break e;nm(f,C,q),y=b}}}if(Pn)throw i=ha,Pn=!1,ha=null,i}function Ke(i,o){var l=o[Sh];l===void 0&&(l=o[Sh]=new Set);var h=i+"__bubble";l.has(h)||(im(o,i,2,!1),l.add(h))}function gh(i,o,l){var h=0;o&&(h|=4),im(l,i,h,o)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Ra(i){if(!i[ru]){i[ru]=!0,s.forEach(function(l){l!=="selectionchange"&&(n0.has(l)||gh(l,!1,i),gh(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ru]||(o[ru]=!0,gh("selectionchange",!1,o))}}function im(i,o,l,h){switch(va(o)){case 1:var f=Ye;break;case 4:f=oh;break;default:f=ya}l=f.bind(null,o,l,i),f=void 0,!Ns||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(f=!0),h?f!==void 0?i.addEventListener(o,l,{capture:!0,passive:f}):i.addEventListener(o,l,!0):f!==void 0?i.addEventListener(o,l,{passive:f}):i.addEventListener(o,l,!1)}function yh(i,o,l,h,f){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var C=h.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var b=E.tag;if((b===3||b===4)&&(b=E.stateNode.containerInfo,b===f||b.nodeType===8&&b.parentNode===f))return;E=E.return}for(;C!==null;){if(E=es(C),E===null)return;if(b=E.tag,b===5||b===6){h=y=E;continue e}C=C.parentNode}}h=h.return}ca(function(){var q=y,Z=ks(l),ee=[];e:{var Y=em.get(i);if(Y!==void 0){var oe=Bs,ce=i;switch(i){case"keypress":if($s(l)===0)break e;case"keydown":case"keyup":oe=g;break;case"focusin":ce="focus",oe=Gs;break;case"focusout":ce="blur",oe=Gs;break;case"beforeblur":case"afterblur":oe=Gs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Hs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Gl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=W;break;case Xp:case Yp:case Jp:oe=Sr;break;case Zp:oe=ze;break;case"scroll":oe=ah;break;case"wheel":oe=De;break;case"copy":case"cut":case"paste":oe=Xl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=T}var he=(o&4)!==0,ot=!he&&i==="scroll",U=he?Y!==null?Y+"Capture":null:Y;he=[];for(var O=q,z;O!==null;){z=O;var te=z.stateNode;if(z.tag===5&&te!==null&&(z=te,U!==null&&(te=st(O,U),te!=null&&he.push(ka(O,te,z)))),ot)break;O=O.return}0<he.length&&(Y=new oe(Y,ce,null,l,Z),ee.push({event:Y,listeners:he}))}}if((o&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",Y&&l!==zi&&(ce=l.relatedTarget||l.fromElement)&&(es(ce)||ce[Ir]))break e;if((oe||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,oe?(ce=l.relatedTarget||l.toElement,oe=q,ce=ce?es(ce):null,ce!==null&&(ot=Rn(ce),ce!==ot||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(oe=null,ce=q),oe!==ce)){if(he=Hs,te="onMouseLeave",U="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(he=T,te="onPointerLeave",U="onPointerEnter",O="pointer"),ot=oe==null?Y:to(oe),z=ce==null?Y:to(ce),Y=new he(te,O+"leave",oe,l,Z),Y.target=ot,Y.relatedTarget=z,te=null,es(Z)===q&&(he=new he(U,O+"enter",ce,l,Z),he.target=z,he.relatedTarget=ot,te=he),ot=te,oe&&ce)t:{for(he=oe,U=ce,O=0,z=he;z;z=Zs(z))O++;for(z=0,te=U;te;te=Zs(te))z++;for(;0<O-z;)he=Zs(he),O--;for(;0<z-O;)U=Zs(U),z--;for(;O--;){if(he===U||U!==null&&he===U.alternate)break t;he=Zs(he),U=Zs(U)}he=null}else he=null;oe!==null&&sm(ee,Y,oe,he,!1),ce!==null&&ot!==null&&sm(ee,ot,ce,he,!0)}}e:{if(Y=q?to(q):window,oe=Y.nodeName&&Y.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Y.type==="file")var de=WE;else if(Fp(Y))if(Up)de=XE;else{de=KE;var ye=GE}else(oe=Y.nodeName)&&oe.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(de=QE);if(de&&(de=de(i,q))){jp(ee,de,l,Z);break e}ye&&ye(i,Y,q),i==="focusout"&&(ye=Y._wrapperState)&&ye.controlled&&Y.type==="number"&&Cs(Y,"number",Y.value)}switch(ye=q?to(q):window,i){case"focusin":(Fp(ye)||ye.contentEditable==="true")&&(Ys=ye,hh=q,Ca=null);break;case"focusout":Ca=hh=Ys=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,Kp(ee,l,Z);break;case"selectionchange":if(ZE)break;case"keydown":case"keyup":Kp(ee,l,Z)}var ve;if(ut)e:{switch(i){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Xs?Vp(i,l)&&(we="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(Zi&&l.locale!=="ko"&&(Xs||we!=="onCompositionStart"?we==="onCompositionEnd"&&Xs&&(ve=_a()):(an=Z,zs="value"in an?an.value:an.textContent,Xs=!0)),ye=iu(q,we),0<ye.length&&(we=new Ta(we,i,null,l,Z),ee.push({event:we,listeners:ye}),ve?we.data=ve:(ve=Mp(l),ve!==null&&(we.data=ve)))),(ve=ln?$E(i,l):BE(i,l))&&(q=iu(q,"onBeforeInput"),0<q.length&&(Z=new Ta("onBeforeInput","beforeinput",null,l,Z),ee.push({event:Z,listeners:q}),Z.data=ve))}rm(ee,o)})}function ka(i,o,l){return{instance:i,listener:o,currentTarget:l}}function iu(i,o){for(var l=o+"Capture",h=[];i!==null;){var f=i,y=f.stateNode;f.tag===5&&y!==null&&(f=y,y=st(i,l),y!=null&&h.unshift(ka(i,y,f)),y=st(i,o),y!=null&&h.push(ka(i,y,f))),i=i.return}return h}function Zs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function sm(i,o,l,h,f){for(var y=o._reactName,E=[];l!==null&&l!==h;){var C=l,b=C.alternate,q=C.stateNode;if(b!==null&&b===h)break;C.tag===5&&q!==null&&(C=q,f?(b=st(l,y),b!=null&&E.unshift(ka(l,b,C))):f||(b=st(l,y),b!=null&&E.push(ka(l,b,C)))),l=l.return}E.length!==0&&i.push({event:o,listeners:E})}var r0=/\r\n?/g,i0=/\u0000|\uFFFD/g;function om(i){return(typeof i=="string"?i:""+i).replace(r0,`
`).replace(i0,"")}function su(i,o,l){if(o=om(o),om(i)!==o&&l)throw Error(n(425))}function ou(){}var vh=null,_h=null;function wh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Eh=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,o0=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(i){return am.resolve(null).then(i).catch(a0)}:Eh;function a0(i){setTimeout(function(){throw i})}function Th(i,o){var l=o,h=0;do{var f=l.nextSibling;if(i.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){i.removeChild(f),On(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);On(o)}function ri(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function lm(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var eo=Math.random().toString(36).slice(2),Zn="__reactFiber$"+eo,xa="__reactProps$"+eo,Ir="__reactContainer$"+eo,Sh="__reactEvents$"+eo,l0="__reactListeners$"+eo,u0="__reactHandles$"+eo;function es(i){var o=i[Zn];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Ir]||l[Zn]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=lm(i);i!==null;){if(l=i[Zn])return l;i=lm(i)}return o}i=l,l=i.parentNode}return null}function ba(i){return i=i[Zn]||i[Ir],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function to(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function au(i){return i[xa]||null}var Ih=[],no=-1;function ii(i){return{current:i}}function Qe(i){0>no||(i.current=Ih[no],Ih[no]=null,no--)}function We(i,o){no++,Ih[no]=i.current,i.current=o}var si={},Lt=ii(si),Xt=ii(!1),ts=si;function ro(i,o){var l=i.type.contextTypes;if(!l)return si;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var f={},y;for(y in l)f[y]=o[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=f),f}function Yt(i){return i=i.childContextTypes,i!=null}function lu(){Qe(Xt),Qe(Lt)}function um(i,o,l){if(Lt.current!==si)throw Error(n(168));We(Lt,o),We(Xt,l)}function cm(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in o))throw Error(n(108,Fe(i)||"Unknown",f));return ae({},l,h)}function uu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||si,ts=Lt.current,We(Lt,i),We(Xt,Xt.current),!0}function hm(i,o,l){var h=i.stateNode;if(!h)throw Error(n(169));l?(i=cm(i,o,ts),h.__reactInternalMemoizedMergedChildContext=i,Qe(Xt),Qe(Lt),We(Lt,i)):Qe(Xt),We(Xt,l)}var Ar=null,cu=!1,Ah=!1;function dm(i){Ar===null?Ar=[i]:Ar.push(i)}function c0(i){cu=!0,dm(i)}function oi(){if(!Ah&&Ar!==null){Ah=!0;var i=0,o=Ne;try{var l=Ar;for(Ne=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Ar=null,cu=!1}catch(f){throw Ar!==null&&(Ar=Ar.slice(i+1)),Vs(Wi,oi),f}finally{Ne=o,Ah=!1}}return null}var io=[],so=0,hu=null,du=0,yn=[],vn=0,ns=null,Cr=1,Pr="";function rs(i,o){io[so++]=du,io[so++]=hu,hu=i,du=o}function fm(i,o,l){yn[vn++]=Cr,yn[vn++]=Pr,yn[vn++]=ns,ns=i;var h=Cr;i=Pr;var f=32-Bt(h)-1;h&=~(1<<f),l+=1;var y=32-Bt(o)+f;if(30<y){var E=f-f%5;y=(h&(1<<E)-1).toString(32),h>>=E,f-=E,Cr=1<<32-Bt(o)+f|l<<f|h,Pr=y+i}else Cr=1<<y|l<<f|h,Pr=i}function Ch(i){i.return!==null&&(rs(i,1),fm(i,1,0))}function Ph(i){for(;i===hu;)hu=io[--so],io[so]=null,du=io[--so],io[so]=null;for(;i===ns;)ns=yn[--vn],yn[vn]=null,Pr=yn[--vn],yn[vn]=null,Cr=yn[--vn],yn[vn]=null}var un=null,cn=null,Je=!1,Vn=null;function pm(i,o){var l=Tn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function mm(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,un=i,cn=ri(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,un=i,cn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=ns!==null?{id:Cr,overflow:Pr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Tn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,un=i,cn=null,!0):!1;default:return!1}}function Rh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function kh(i){if(Je){var o=cn;if(o){var l=o;if(!mm(i,o)){if(Rh(i))throw Error(n(418));o=ri(l.nextSibling);var h=un;o&&mm(i,o)?pm(h,l):(i.flags=i.flags&-4097|2,Je=!1,un=i)}}else{if(Rh(i))throw Error(n(418));i.flags=i.flags&-4097|2,Je=!1,un=i}}}function gm(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;un=i}function fu(i){if(i!==un)return!1;if(!Je)return gm(i),Je=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!wh(i.type,i.memoizedProps)),o&&(o=cn)){if(Rh(i))throw ym(),Error(n(418));for(;o;)pm(i,o),o=ri(o.nextSibling)}if(gm(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){cn=ri(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}cn=null}}else cn=un?ri(i.stateNode.nextSibling):null;return!0}function ym(){for(var i=cn;i;)i=ri(i.nextSibling)}function oo(){cn=un=null,Je=!1}function xh(i){Vn===null?Vn=[i]:Vn.push(i)}var h0=me.ReactCurrentBatchConfig;function Na(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,i));var f=h,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(E){var C=f.refs;E===null?delete C[y]:C[y]=E},o._stringRef=y,o)}if(typeof i!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,i))}return i}function pu(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function vm(i){var o=i._init;return o(i._payload)}function _m(i){function o(U,O){if(i){var z=U.deletions;z===null?(U.deletions=[O],U.flags|=16):z.push(O)}}function l(U,O){if(!i)return null;for(;O!==null;)o(U,O),O=O.sibling;return null}function h(U,O){for(U=new Map;O!==null;)O.key!==null?U.set(O.key,O):U.set(O.index,O),O=O.sibling;return U}function f(U,O){return U=pi(U,O),U.index=0,U.sibling=null,U}function y(U,O,z){return U.index=z,i?(z=U.alternate,z!==null?(z=z.index,z<O?(U.flags|=2,O):z):(U.flags|=2,O)):(U.flags|=1048576,O)}function E(U){return i&&U.alternate===null&&(U.flags|=2),U}function C(U,O,z,te){return O===null||O.tag!==6?(O=Ed(z,U.mode,te),O.return=U,O):(O=f(O,z),O.return=U,O)}function b(U,O,z,te){var de=z.type;return de===x?Z(U,O,z.props.children,te,z.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Dt&&vm(de)===O.type)?(te=f(O,z.props),te.ref=Na(U,O,z),te.return=U,te):(te=Fu(z.type,z.key,z.props,null,U.mode,te),te.ref=Na(U,O,z),te.return=U,te)}function q(U,O,z,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Td(z,U.mode,te),O.return=U,O):(O=f(O,z.children||[]),O.return=U,O)}function Z(U,O,z,te,de){return O===null||O.tag!==7?(O=hs(z,U.mode,te,de),O.return=U,O):(O=f(O,z),O.return=U,O)}function ee(U,O,z){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Ed(""+O,U.mode,z),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Re:return z=Fu(O.type,O.key,O.props,null,U.mode,z),z.ref=Na(U,null,O),z.return=U,z;case Ie:return O=Td(O,U.mode,z),O.return=U,O;case Dt:var te=O._init;return ee(U,te(O._payload),z)}if(mr(O)||ge(O))return O=hs(O,U.mode,z,null),O.return=U,O;pu(U,O)}return null}function Y(U,O,z,te){var de=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return de!==null?null:C(U,O,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Re:return z.key===de?b(U,O,z,te):null;case Ie:return z.key===de?q(U,O,z,te):null;case Dt:return de=z._init,Y(U,O,de(z._payload),te)}if(mr(z)||ge(z))return de!==null?null:Z(U,O,z,te,null);pu(U,z)}return null}function oe(U,O,z,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return U=U.get(z)||null,C(O,U,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case Re:return U=U.get(te.key===null?z:te.key)||null,b(O,U,te,de);case Ie:return U=U.get(te.key===null?z:te.key)||null,q(O,U,te,de);case Dt:var ye=te._init;return oe(U,O,z,ye(te._payload),de)}if(mr(te)||ge(te))return U=U.get(z)||null,Z(O,U,te,de,null);pu(O,te)}return null}function ce(U,O,z,te){for(var de=null,ye=null,ve=O,we=O=0,It=null;ve!==null&&we<z.length;we++){ve.index>we?(It=ve,ve=null):It=ve.sibling;var Me=Y(U,ve,z[we],te);if(Me===null){ve===null&&(ve=It);break}i&&ve&&Me.alternate===null&&o(U,ve),O=y(Me,O,we),ye===null?de=Me:ye.sibling=Me,ye=Me,ve=It}if(we===z.length)return l(U,ve),Je&&rs(U,we),de;if(ve===null){for(;we<z.length;we++)ve=ee(U,z[we],te),ve!==null&&(O=y(ve,O,we),ye===null?de=ve:ye.sibling=ve,ye=ve);return Je&&rs(U,we),de}for(ve=h(U,ve);we<z.length;we++)It=oe(ve,U,we,z[we],te),It!==null&&(i&&It.alternate!==null&&ve.delete(It.key===null?we:It.key),O=y(It,O,we),ye===null?de=It:ye.sibling=It,ye=It);return i&&ve.forEach(function(mi){return o(U,mi)}),Je&&rs(U,we),de}function he(U,O,z,te){var de=ge(z);if(typeof de!="function")throw Error(n(150));if(z=de.call(z),z==null)throw Error(n(151));for(var ye=de=null,ve=O,we=O=0,It=null,Me=z.next();ve!==null&&!Me.done;we++,Me=z.next()){ve.index>we?(It=ve,ve=null):It=ve.sibling;var mi=Y(U,ve,Me.value,te);if(mi===null){ve===null&&(ve=It);break}i&&ve&&mi.alternate===null&&o(U,ve),O=y(mi,O,we),ye===null?de=mi:ye.sibling=mi,ye=mi,ve=It}if(Me.done)return l(U,ve),Je&&rs(U,we),de;if(ve===null){for(;!Me.done;we++,Me=z.next())Me=ee(U,Me.value,te),Me!==null&&(O=y(Me,O,we),ye===null?de=Me:ye.sibling=Me,ye=Me);return Je&&rs(U,we),de}for(ve=h(U,ve);!Me.done;we++,Me=z.next())Me=oe(ve,U,we,Me.value,te),Me!==null&&(i&&Me.alternate!==null&&ve.delete(Me.key===null?we:Me.key),O=y(Me,O,we),ye===null?de=Me:ye.sibling=Me,ye=Me);return i&&ve.forEach(function(q0){return o(U,q0)}),Je&&rs(U,we),de}function ot(U,O,z,te){if(typeof z=="object"&&z!==null&&z.type===x&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Re:e:{for(var de=z.key,ye=O;ye!==null;){if(ye.key===de){if(de=z.type,de===x){if(ye.tag===7){l(U,ye.sibling),O=f(ye,z.props.children),O.return=U,U=O;break e}}else if(ye.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Dt&&vm(de)===ye.type){l(U,ye.sibling),O=f(ye,z.props),O.ref=Na(U,ye,z),O.return=U,U=O;break e}l(U,ye);break}else o(U,ye);ye=ye.sibling}z.type===x?(O=hs(z.props.children,U.mode,te,z.key),O.return=U,U=O):(te=Fu(z.type,z.key,z.props,null,U.mode,te),te.ref=Na(U,O,z),te.return=U,U=te)}return E(U);case Ie:e:{for(ye=z.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){l(U,O.sibling),O=f(O,z.children||[]),O.return=U,U=O;break e}else{l(U,O);break}else o(U,O);O=O.sibling}O=Td(z,U.mode,te),O.return=U,U=O}return E(U);case Dt:return ye=z._init,ot(U,O,ye(z._payload),te)}if(mr(z))return ce(U,O,z,te);if(ge(z))return he(U,O,z,te);pu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,O!==null&&O.tag===6?(l(U,O.sibling),O=f(O,z),O.return=U,U=O):(l(U,O),O=Ed(z,U.mode,te),O.return=U,U=O),E(U)):l(U,O)}return ot}var ao=_m(!0),wm=_m(!1),mu=ii(null),gu=null,lo=null,bh=null;function Nh(){bh=lo=gu=null}function Oh(i){var o=mu.current;Qe(mu),i._currentValue=o}function Dh(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function uo(i,o){gu=i,bh=lo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Jt=!0),i.firstContext=null)}function _n(i){var o=i._currentValue;if(bh!==i)if(i={context:i,memoizedValue:o,next:null},lo===null){if(gu===null)throw Error(n(308));lo=i,gu.dependencies={lanes:0,firstContext:i}}else lo=lo.next=i;return o}var is=null;function Lh(i){is===null?is=[i]:is.push(i)}function Em(i,o,l,h){var f=o.interleaved;return f===null?(l.next=l,Lh(o)):(l.next=f.next,f.next=l),o.interleaved=l,Rr(i,h)}function Rr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var ai=!1;function Vh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tm(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function kr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function li(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ve&2)!==0){var f=h.pending;return f===null?o.next=o:(o.next=f.next,f.next=o),h.pending=o,Rr(i,l)}return f=h.interleaved,f===null?(o.next=o,Lh(h)):(o.next=f.next,f.next=o),h.interleaved=o,Rr(i,l)}function yu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,Yr(i,l)}}function Sm(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?f=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?f=y=o:y=y.next=o}else f=y=o;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function vu(i,o,l,h){var f=i.updateQueue;ai=!1;var y=f.firstBaseUpdate,E=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var b=C,q=b.next;b.next=null,E===null?y=q:E.next=q,E=b;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,C=Z.lastBaseUpdate,C!==E&&(C===null?Z.firstBaseUpdate=q:C.next=q,Z.lastBaseUpdate=b))}if(y!==null){var ee=f.baseState;E=0,Z=q=b=null,C=y;do{var Y=C.lane,oe=C.eventTime;if((h&Y)===Y){Z!==null&&(Z=Z.next={eventTime:oe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ce=i,he=C;switch(Y=o,oe=l,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){ee=ce.call(oe,ee,Y);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,Y=typeof ce=="function"?ce.call(oe,ee,Y):ce,Y==null)break e;ee=ae({},ee,Y);break e;case 2:ai=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,Y=f.effects,Y===null?f.effects=[C]:Y.push(C))}else oe={eventTime:oe,lane:Y,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Z===null?(q=Z=oe,b=ee):Z=Z.next=oe,E|=Y;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;Y=C,C=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);if(Z===null&&(b=ee),f.baseState=b,f.firstBaseUpdate=q,f.lastBaseUpdate=Z,o=f.shared.interleaved,o!==null){f=o;do E|=f.lane,f=f.next;while(f!==o)}else y===null&&(f.shared.lanes=0);as|=E,i.lanes=E,i.memoizedState=ee}}function Im(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(n(191,f));f.call(h)}}}var Oa={},er=ii(Oa),Da=ii(Oa),La=ii(Oa);function ss(i){if(i===Oa)throw Error(n(174));return i}function Mh(i,o){switch(We(La,o),We(Da,i),We(er,Oa),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=mt(o,i)}Qe(er),We(er,o)}function co(){Qe(er),Qe(Da),Qe(La)}function Am(i){ss(La.current);var o=ss(er.current),l=mt(o,i.type);o!==l&&(We(Da,i),We(er,l))}function Fh(i){Da.current===i&&(Qe(er),Qe(Da))}var Ze=ii(0);function _u(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var jh=[];function Uh(){for(var i=0;i<jh.length;i++)jh[i]._workInProgressVersionPrimary=null;jh.length=0}var wu=me.ReactCurrentDispatcher,zh=me.ReactCurrentBatchConfig,os=0,et=null,yt=null,Tt=null,Eu=!1,Va=!1,Ma=0,d0=0;function Vt(){throw Error(n(321))}function $h(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Ln(i[l],o[l]))return!1;return!0}function Bh(i,o,l,h,f,y){if(os=y,et=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,wu.current=i===null||i.memoizedState===null?g0:y0,i=l(h,f),Va){y=0;do{if(Va=!1,Ma=0,25<=y)throw Error(n(301));y+=1,Tt=yt=null,o.updateQueue=null,wu.current=v0,i=l(h,f)}while(Va)}if(wu.current=Iu,o=yt!==null&&yt.next!==null,os=0,Tt=yt=et=null,Eu=!1,o)throw Error(n(300));return i}function qh(){var i=Ma!==0;return Ma=0,i}function tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?et.memoizedState=Tt=i:Tt=Tt.next=i,Tt}function wn(){if(yt===null){var i=et.alternate;i=i!==null?i.memoizedState:null}else i=yt.next;var o=Tt===null?et.memoizedState:Tt.next;if(o!==null)Tt=o,yt=i;else{if(i===null)throw Error(n(310));yt=i,i={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Tt===null?et.memoizedState=Tt=i:Tt=Tt.next=i}return Tt}function Fa(i,o){return typeof o=="function"?o(i):o}function Hh(i){var o=wn(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var h=yt,f=h.baseQueue,y=l.pending;if(y!==null){if(f!==null){var E=f.next;f.next=y.next,y.next=E}h.baseQueue=f=y,l.pending=null}if(f!==null){y=f.next,h=h.baseState;var C=E=null,b=null,q=y;do{var Z=q.lane;if((os&Z)===Z)b!==null&&(b=b.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:i(h,q.action);else{var ee={lane:Z,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};b===null?(C=b=ee,E=h):b=b.next=ee,et.lanes|=Z,as|=Z}q=q.next}while(q!==null&&q!==y);b===null?E=h:b.next=C,Ln(h,o.memoizedState)||(Jt=!0),o.memoizedState=h,o.baseState=E,o.baseQueue=b,l.lastRenderedState=h}if(i=l.interleaved,i!==null){f=i;do y=f.lane,et.lanes|=y,as|=y,f=f.next;while(f!==i)}else f===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Wh(i){var o=wn(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var h=l.dispatch,f=l.pending,y=o.memoizedState;if(f!==null){l.pending=null;var E=f=f.next;do y=i(y,E.action),E=E.next;while(E!==f);Ln(y,o.memoizedState)||(Jt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function Cm(){}function Pm(i,o){var l=et,h=wn(),f=o(),y=!Ln(h.memoizedState,f);if(y&&(h.memoizedState=f,Jt=!0),h=h.queue,Gh(xm.bind(null,l,h,i),[i]),h.getSnapshot!==o||y||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,ja(9,km.bind(null,l,h,f,o),void 0,null),St===null)throw Error(n(349));(os&30)!==0||Rm(l,o,f)}return f}function Rm(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=et.updateQueue,o===null?(o={lastEffect:null,stores:null},et.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function km(i,o,l,h){o.value=l,o.getSnapshot=h,bm(o)&&Nm(i)}function xm(i,o,l){return l(function(){bm(o)&&Nm(i)})}function bm(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Ln(i,l)}catch{return!0}}function Nm(i){var o=Rr(i,1);o!==null&&Un(o,i,1,-1)}function Om(i){var o=tr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:i},o.queue=i,i=i.dispatch=m0.bind(null,et,i),[o.memoizedState,i]}function ja(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=et.updateQueue,o===null?(o={lastEffect:null,stores:null},et.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function Dm(){return wn().memoizedState}function Tu(i,o,l,h){var f=tr();et.flags|=i,f.memoizedState=ja(1|o,l,void 0,h===void 0?null:h)}function Su(i,o,l,h){var f=wn();h=h===void 0?null:h;var y=void 0;if(yt!==null){var E=yt.memoizedState;if(y=E.destroy,h!==null&&$h(h,E.deps)){f.memoizedState=ja(o,l,y,h);return}}et.flags|=i,f.memoizedState=ja(1|o,l,y,h)}function Lm(i,o){return Tu(8390656,8,i,o)}function Gh(i,o){return Su(2048,8,i,o)}function Vm(i,o){return Su(4,2,i,o)}function Mm(i,o){return Su(4,4,i,o)}function Fm(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function jm(i,o,l){return l=l!=null?l.concat([i]):null,Su(4,4,Fm.bind(null,o,i),l)}function Kh(){}function Um(i,o){var l=wn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&$h(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function zm(i,o){var l=wn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&$h(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function $m(i,o,l){return(os&21)===0?(i.baseState&&(i.baseState=!1,Jt=!0),i.memoizedState=l):(Ln(l,o)||(l=Qi(),et.lanes|=l,as|=l,i.baseState=!0),o)}function f0(i,o){var l=Ne;Ne=l!==0&&4>l?l:4,i(!0);var h=zh.transition;zh.transition={};try{i(!1),o()}finally{Ne=l,zh.transition=h}}function Bm(){return wn().memoizedState}function p0(i,o,l){var h=di(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},qm(i))Hm(o,l);else if(l=Em(i,o,l,h),l!==null){var f=Wt();Un(l,i,h,f),Wm(l,o,h)}}function m0(i,o,l){var h=di(i),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(qm(i))Hm(o,f);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var E=o.lastRenderedState,C=y(E,l);if(f.hasEagerState=!0,f.eagerState=C,Ln(C,E)){var b=o.interleaved;b===null?(f.next=f,Lh(o)):(f.next=b.next,b.next=f),o.interleaved=f;return}}catch{}finally{}l=Em(i,o,f,h),l!==null&&(f=Wt(),Un(l,i,h,f),Wm(l,o,h))}}function qm(i){var o=i.alternate;return i===et||o!==null&&o===et}function Hm(i,o){Va=Eu=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Wm(i,o,l){if((l&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,Yr(i,l)}}var Iu={readContext:_n,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},g0={readContext:_n,useCallback:function(i,o){return tr().memoizedState=[i,o===void 0?null:o],i},useContext:_n,useEffect:Lm,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Tu(4194308,4,Fm.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Tu(4194308,4,i,o)},useInsertionEffect:function(i,o){return Tu(4,2,i,o)},useMemo:function(i,o){var l=tr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=tr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=p0.bind(null,et,i),[h.memoizedState,i]},useRef:function(i){var o=tr();return i={current:i},o.memoizedState=i},useState:Om,useDebugValue:Kh,useDeferredValue:function(i){return tr().memoizedState=i},useTransition:function(){var i=Om(!1),o=i[0];return i=f0.bind(null,i[1]),tr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=et,f=tr();if(Je){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),St===null)throw Error(n(349));(os&30)!==0||Rm(h,o,l)}f.memoizedState=l;var y={value:l,getSnapshot:o};return f.queue=y,Lm(xm.bind(null,h,y,i),[i]),h.flags|=2048,ja(9,km.bind(null,h,y,l,o),void 0,null),l},useId:function(){var i=tr(),o=St.identifierPrefix;if(Je){var l=Pr,h=Cr;l=(h&~(1<<32-Bt(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=Ma++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=d0++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},y0={readContext:_n,useCallback:Um,useContext:_n,useEffect:Gh,useImperativeHandle:jm,useInsertionEffect:Vm,useLayoutEffect:Mm,useMemo:zm,useReducer:Hh,useRef:Dm,useState:function(){return Hh(Fa)},useDebugValue:Kh,useDeferredValue:function(i){var o=wn();return $m(o,yt.memoizedState,i)},useTransition:function(){var i=Hh(Fa)[0],o=wn().memoizedState;return[i,o]},useMutableSource:Cm,useSyncExternalStore:Pm,useId:Bm,unstable_isNewReconciler:!1},v0={readContext:_n,useCallback:Um,useContext:_n,useEffect:Gh,useImperativeHandle:jm,useInsertionEffect:Vm,useLayoutEffect:Mm,useMemo:zm,useReducer:Wh,useRef:Dm,useState:function(){return Wh(Fa)},useDebugValue:Kh,useDeferredValue:function(i){var o=wn();return yt===null?o.memoizedState=i:$m(o,yt.memoizedState,i)},useTransition:function(){var i=Wh(Fa)[0],o=wn().memoizedState;return[i,o]},useMutableSource:Cm,useSyncExternalStore:Pm,useId:Bm,unstable_isNewReconciler:!1};function Mn(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Qh(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:ae({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Au={isMounted:function(i){return(i=i._reactInternals)?Rn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=Wt(),f=di(i),y=kr(h,f);y.payload=o,l!=null&&(y.callback=l),o=li(i,y,f),o!==null&&(Un(o,i,f,h),yu(o,i,f))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=Wt(),f=di(i),y=kr(h,f);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=li(i,y,f),o!==null&&(Un(o,i,f,h),yu(o,i,f))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Wt(),h=di(i),f=kr(l,h);f.tag=2,o!=null&&(f.callback=o),o=li(i,f,h),o!==null&&(Un(o,i,h,l),yu(o,i,h))}};function Gm(i,o,l,h,f,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,E):o.prototype&&o.prototype.isPureReactComponent?!Aa(l,h)||!Aa(f,y):!0}function Km(i,o,l){var h=!1,f=si,y=o.contextType;return typeof y=="object"&&y!==null?y=_n(y):(f=Yt(o)?ts:Lt.current,h=o.contextTypes,y=(h=h!=null)?ro(i,f):si),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Au,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=f,i.__reactInternalMemoizedMaskedChildContext=y),o}function Qm(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&Au.enqueueReplaceState(o,o.state,null)}function Xh(i,o,l,h){var f=i.stateNode;f.props=l,f.state=i.memoizedState,f.refs={},Vh(i);var y=o.contextType;typeof y=="object"&&y!==null?f.context=_n(y):(y=Yt(o)?ts:Lt.current,f.context=ro(i,y)),f.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Qh(i,o,y,l),f.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(o=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),o!==f.state&&Au.enqueueReplaceState(f,f.state,null),vu(i,l,f,h),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308)}function ho(i,o){try{var l="",h=o;do l+=Ce(h),h=h.return;while(h);var f=l}catch(y){f=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:f,digest:null}}function Yh(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Jh(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var _0=typeof WeakMap=="function"?WeakMap:Map;function Xm(i,o,l){l=kr(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Nu||(Nu=!0,fd=h),Jh(i,o)},l}function Ym(i,o,l){l=kr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;l.payload=function(){return h(f)},l.callback=function(){Jh(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Jh(i,o),typeof h!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),l}function Jm(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new _0;var f=new Set;h.set(o,f)}else f=h.get(o),f===void 0&&(f=new Set,h.set(o,f));f.has(l)||(f.add(l),i=O0.bind(null,i,o,l),o.then(i,i))}function Zm(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function eg(i,o,l,h,f){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=kr(-1,1),o.tag=2,li(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=f,i)}var w0=me.ReactCurrentOwner,Jt=!1;function Ht(i,o,l,h){o.child=i===null?wm(o,null,l,h):ao(o,i.child,l,h)}function tg(i,o,l,h,f){l=l.render;var y=o.ref;return uo(o,f),h=Bh(i,o,l,h,y,f),l=qh(),i!==null&&!Jt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~f,xr(i,o,f)):(Je&&l&&Ch(o),o.flags|=1,Ht(i,o,h,f),o.child)}function ng(i,o,l,h,f){if(i===null){var y=l.type;return typeof y=="function"&&!wd(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,rg(i,o,y,h,f)):(i=Fu(l.type,null,h,o,o.mode,f),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&f)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Aa,l(E,h)&&i.ref===o.ref)return xr(i,o,f)}return o.flags|=1,i=pi(y,h),i.ref=o.ref,i.return=o,o.child=i}function rg(i,o,l,h,f){if(i!==null){var y=i.memoizedProps;if(Aa(y,h)&&i.ref===o.ref)if(Jt=!1,o.pendingProps=h=y,(i.lanes&f)!==0)(i.flags&131072)!==0&&(Jt=!0);else return o.lanes=i.lanes,xr(i,o,f)}return Zh(i,o,l,h,f)}function ig(i,o,l){var h=o.pendingProps,f=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(po,hn),hn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,We(po,hn),hn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,We(po,hn),hn|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,We(po,hn),hn|=h;return Ht(i,o,f,l),o.child}function sg(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Zh(i,o,l,h,f){var y=Yt(l)?ts:Lt.current;return y=ro(o,y),uo(o,f),l=Bh(i,o,l,h,y,f),h=qh(),i!==null&&!Jt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~f,xr(i,o,f)):(Je&&h&&Ch(o),o.flags|=1,Ht(i,o,l,f),o.child)}function og(i,o,l,h,f){if(Yt(l)){var y=!0;uu(o)}else y=!1;if(uo(o,f),o.stateNode===null)Pu(i,o),Km(o,l,h),Xh(o,l,h,f),h=!0;else if(i===null){var E=o.stateNode,C=o.memoizedProps;E.props=C;var b=E.context,q=l.contextType;typeof q=="object"&&q!==null?q=_n(q):(q=Yt(l)?ts:Lt.current,q=ro(o,q));var Z=l.getDerivedStateFromProps,ee=typeof Z=="function"||typeof E.getSnapshotBeforeUpdate=="function";ee||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==h||b!==q)&&Qm(o,E,h,q),ai=!1;var Y=o.memoizedState;E.state=Y,vu(o,h,E,f),b=o.memoizedState,C!==h||Y!==b||Xt.current||ai?(typeof Z=="function"&&(Qh(o,l,Z,h),b=o.memoizedState),(C=ai||Gm(o,l,C,h,Y,b,q))?(ee||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=b),E.props=h,E.state=b,E.context=q,h=C):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{E=o.stateNode,Tm(i,o),C=o.memoizedProps,q=o.type===o.elementType?C:Mn(o.type,C),E.props=q,ee=o.pendingProps,Y=E.context,b=l.contextType,typeof b=="object"&&b!==null?b=_n(b):(b=Yt(l)?ts:Lt.current,b=ro(o,b));var oe=l.getDerivedStateFromProps;(Z=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==ee||Y!==b)&&Qm(o,E,h,b),ai=!1,Y=o.memoizedState,E.state=Y,vu(o,h,E,f);var ce=o.memoizedState;C!==ee||Y!==ce||Xt.current||ai?(typeof oe=="function"&&(Qh(o,l,oe,h),ce=o.memoizedState),(q=ai||Gm(o,l,q,h,Y,ce,b)||!1)?(Z||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ce,b),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ce,b)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===i.memoizedProps&&Y===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&Y===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ce),E.props=h,E.state=ce,E.context=b,h=q):(typeof E.componentDidUpdate!="function"||C===i.memoizedProps&&Y===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&Y===i.memoizedState||(o.flags|=1024),h=!1)}return ed(i,o,l,h,y,f)}function ed(i,o,l,h,f,y){sg(i,o);var E=(o.flags&128)!==0;if(!h&&!E)return f&&hm(o,l,!1),xr(i,o,y);h=o.stateNode,w0.current=o;var C=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&E?(o.child=ao(o,i.child,null,y),o.child=ao(o,null,C,y)):Ht(i,o,C,y),o.memoizedState=h.state,f&&hm(o,l,!0),o.child}function ag(i){var o=i.stateNode;o.pendingContext?um(i,o.pendingContext,o.pendingContext!==o.context):o.context&&um(i,o.context,!1),Mh(i,o.containerInfo)}function lg(i,o,l,h,f){return oo(),xh(f),o.flags|=256,Ht(i,o,l,h),o.child}var td={dehydrated:null,treeContext:null,retryLane:0};function nd(i){return{baseLanes:i,cachePool:null,transitions:null}}function ug(i,o,l){var h=o.pendingProps,f=Ze.current,y=!1,E=(o.flags&128)!==0,C;if((C=E)||(C=i!==null&&i.memoizedState===null?!1:(f&2)!==0),C?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(f|=1),We(Ze,f&1),i===null)return kh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=h.children,i=h.fallback,y?(h=o.mode,y=o.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=ju(E,h,0,null),i=hs(i,h,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=nd(l),o.memoizedState=td,i):rd(o,E));if(f=i.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return E0(i,o,E,h,C,f,l);if(y){y=h.fallback,E=o.mode,f=i.child,C=f.sibling;var b={mode:"hidden",children:h.children};return(E&1)===0&&o.child!==f?(h=o.child,h.childLanes=0,h.pendingProps=b,o.deletions=null):(h=pi(f,b),h.subtreeFlags=f.subtreeFlags&14680064),C!==null?y=pi(C,y):(y=hs(y,E,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,E=i.child.memoizedState,E=E===null?nd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=i.childLanes&~l,o.memoizedState=td,h}return y=i.child,i=y.sibling,h=pi(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function rd(i,o){return o=ju({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Cu(i,o,l,h){return h!==null&&xh(h),ao(o,i.child,null,l),i=rd(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function E0(i,o,l,h,f,y,E){if(l)return o.flags&256?(o.flags&=-257,h=Yh(Error(n(422))),Cu(i,o,E,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=h.fallback,f=o.mode,h=ju({mode:"visible",children:h.children},f,0,null),y=hs(y,f,E,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&ao(o,i.child,null,E),o.child.memoizedState=nd(E),o.memoizedState=td,y);if((o.mode&1)===0)return Cu(i,o,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var C=h.dgst;return h=C,y=Error(n(419)),h=Yh(y,h,void 0),Cu(i,o,E,h)}if(C=(E&i.childLanes)!==0,Jt||C){if(h=St,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|E))!==0?0:f,f!==0&&f!==y.retryLane&&(y.retryLane=f,Rr(i,f),Un(h,i,f,-1))}return _d(),h=Yh(Error(n(421))),Cu(i,o,E,h)}return f.data==="$?"?(o.flags|=128,o.child=i.child,o=D0.bind(null,i),f._reactRetry=o,null):(i=y.treeContext,cn=ri(f.nextSibling),un=o,Je=!0,Vn=null,i!==null&&(yn[vn++]=Cr,yn[vn++]=Pr,yn[vn++]=ns,Cr=i.id,Pr=i.overflow,ns=o),o=rd(o,h.children),o.flags|=4096,o)}function cg(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Dh(i.return,o,l)}function id(i,o,l,h,f){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=f)}function hg(i,o,l){var h=o.pendingProps,f=h.revealOrder,y=h.tail;if(Ht(i,o,h.children,l),h=Ze.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cg(i,l,o);else if(i.tag===19)cg(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(We(Ze,h),(o.mode&1)===0)o.memoizedState=null;else switch(f){case"forwards":for(l=o.child,f=null;l!==null;)i=l.alternate,i!==null&&_u(i)===null&&(f=l),l=l.sibling;l=f,l===null?(f=o.child,o.child=null):(f=l.sibling,l.sibling=null),id(o,!1,f,l,y);break;case"backwards":for(l=null,f=o.child,o.child=null;f!==null;){if(i=f.alternate,i!==null&&_u(i)===null){o.child=f;break}i=f.sibling,f.sibling=l,l=f,f=i}id(o,!0,l,null,y);break;case"together":id(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Pu(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function xr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),as|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,l=pi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=pi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function T0(i,o,l){switch(o.tag){case 3:ag(o),oo();break;case 5:Am(o);break;case 1:Yt(o.type)&&uu(o);break;case 4:Mh(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,f=o.memoizedProps.value;We(mu,h._currentValue),h._currentValue=f;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(We(Ze,Ze.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?ug(i,o,l):(We(Ze,Ze.current&1),i=xr(i,o,l),i!==null?i.sibling:null);We(Ze,Ze.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(i.flags&128)!==0){if(h)return hg(i,o,l);o.flags|=128}if(f=o.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),We(Ze,Ze.current),h)break;return null;case 22:case 23:return o.lanes=0,ig(i,o,l)}return xr(i,o,l)}var dg,sd,fg,pg;dg=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},sd=function(){},fg=function(i,o,l,h){var f=i.memoizedProps;if(f!==h){i=o.stateNode,ss(er.current);var y=null;switch(l){case"input":f=Fi(i,f),h=Fi(i,h),y=[];break;case"select":f=ae({},f,{value:void 0}),h=ae({},h,{value:void 0}),y=[];break;case"textarea":f=ea(i,f),h=ea(i,h),y=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=ou)}oa(l,h);var E;l=null;for(q in f)if(!h.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var C=f[q];for(E in C)C.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(a.hasOwnProperty(q)?y||(y=[]):(y=y||[]).push(q,null));for(q in h){var b=h[q];if(C=f?.[q],h.hasOwnProperty(q)&&b!==C&&(b!=null||C!=null))if(q==="style")if(C){for(E in C)!C.hasOwnProperty(E)||b&&b.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in b)b.hasOwnProperty(E)&&C[E]!==b[E]&&(l||(l={}),l[E]=b[E])}else l||(y||(y=[]),y.push(q,l)),l=b;else q==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,C=C?C.__html:void 0,b!=null&&C!==b&&(y=y||[]).push(q,b)):q==="children"?typeof b!="string"&&typeof b!="number"||(y=y||[]).push(q,""+b):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(a.hasOwnProperty(q)?(b!=null&&q==="onScroll"&&Ke("scroll",i),y||C===b||(y=[])):(y=y||[]).push(q,b))}l&&(y=y||[]).push("style",l);var q=y;(o.updateQueue=q)&&(o.flags|=4)}},pg=function(i,o,l,h){l!==h&&(o.flags|=4)};function Ua(i,o){if(!Je)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Mt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var f=i.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function S0(i,o,l){var h=o.pendingProps;switch(Ph(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(o),null;case 1:return Yt(o.type)&&lu(),Mt(o),null;case 3:return h=o.stateNode,co(),Qe(Xt),Qe(Lt),Uh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(fu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Vn!==null&&(gd(Vn),Vn=null))),sd(i,o),Mt(o),null;case 5:Fh(o);var f=ss(La.current);if(l=o.type,i!==null&&o.stateNode!=null)fg(i,o,l,h,f),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Mt(o),null}if(i=ss(er.current),fu(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[Zn]=o,h[xa]=y,i=(o.mode&1)!==0,l){case"dialog":Ke("cancel",h),Ke("close",h);break;case"iframe":case"object":case"embed":Ke("load",h);break;case"video":case"audio":for(f=0;f<Pa.length;f++)Ke(Pa[f],h);break;case"source":Ke("error",h);break;case"img":case"image":case"link":Ke("error",h),Ke("load",h);break;case"details":Ke("toggle",h);break;case"input":As(h,y),Ke("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ke("invalid",h);break;case"textarea":Ps(h,y),Ke("invalid",h)}oa(l,y),f=null;for(var E in y)if(y.hasOwnProperty(E)){var C=y[E];E==="children"?typeof C=="string"?h.textContent!==C&&(y.suppressHydrationWarning!==!0&&su(h.textContent,C,i),f=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&su(h.textContent,C,i),f=["children",""+C]):a.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&Ke("scroll",h)}switch(l){case"input":pr(h),bl(h,y,!0);break;case"textarea":pr(h),ta(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ou)}h=f,o.updateQueue=h,h!==null&&(o.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=pt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=E.createElement(l,{is:h.is}):(i=E.createElement(l),l==="select"&&(E=i,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):i=E.createElementNS(i,l),i[Zn]=o,i[xa]=h,dg(i,o,!1,!1),o.stateNode=i;e:{switch(E=aa(l,h),l){case"dialog":Ke("cancel",i),Ke("close",i),f=h;break;case"iframe":case"object":case"embed":Ke("load",i),f=h;break;case"video":case"audio":for(f=0;f<Pa.length;f++)Ke(Pa[f],i);f=h;break;case"source":Ke("error",i),f=h;break;case"img":case"image":case"link":Ke("error",i),Ke("load",i),f=h;break;case"details":Ke("toggle",i),f=h;break;case"input":As(i,h),f=Fi(i,h),Ke("invalid",i);break;case"option":f=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},f=ae({},h,{value:void 0}),Ke("invalid",i);break;case"textarea":Ps(i,h),f=ea(i,h),Ke("invalid",i);break;default:f=h}oa(l,f),C=f;for(y in C)if(C.hasOwnProperty(y)){var b=C[y];y==="style"?ia(i,b):y==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&na(i,b)):y==="children"?typeof b=="string"?(l!=="textarea"||b!=="")&&Wr(i,b):typeof b=="number"&&Wr(i,""+b):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(a.hasOwnProperty(y)?b!=null&&y==="onScroll"&&Ke("scroll",i):b!=null&&ie(i,y,b,E))}switch(l){case"input":pr(i),bl(i,h,!1);break;case"textarea":pr(i),ta(i);break;case"option":h.value!=null&&i.setAttribute("value",""+je(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?gr(i,!!h.multiple,y,!1):h.defaultValue!=null&&gr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(i.onclick=ou)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Mt(o),null;case 6:if(i&&o.stateNode!=null)pg(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(l=ss(La.current),ss(er.current),fu(o)){if(h=o.stateNode,l=o.memoizedProps,h[Zn]=o,(y=h.nodeValue!==l)&&(i=un,i!==null))switch(i.tag){case 3:su(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&su(h.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Zn]=o,o.stateNode=h}return Mt(o),null;case 13:if(Qe(Ze),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Je&&cn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)ym(),oo(),o.flags|=98560,y=!1;else if(y=fu(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Zn]=o}else oo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Mt(o),y=!1}else Vn!==null&&(gd(Vn),Vn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Ze.current&1)!==0?vt===0&&(vt=3):_d())),o.updateQueue!==null&&(o.flags|=4),Mt(o),null);case 4:return co(),sd(i,o),i===null&&Ra(o.stateNode.containerInfo),Mt(o),null;case 10:return Oh(o.type._context),Mt(o),null;case 17:return Yt(o.type)&&lu(),Mt(o),null;case 19:if(Qe(Ze),y=o.memoizedState,y===null)return Mt(o),null;if(h=(o.flags&128)!==0,E=y.rendering,E===null)if(h)Ua(y,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(E=_u(i),E!==null){for(o.flags|=128,Ua(y,!1),h=E.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,i=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,i=E.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return We(Ze,Ze.current&1|2),o.child}i=i.sibling}y.tail!==null&&He()>mo&&(o.flags|=128,h=!0,Ua(y,!1),o.lanes=4194304)}else{if(!h)if(i=_u(E),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Ua(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Je)return Mt(o),null}else 2*He()-y.renderingStartTime>mo&&l!==1073741824&&(o.flags|=128,h=!0,Ua(y,!1),o.lanes=4194304);y.isBackwards?(E.sibling=o.child,o.child=E):(l=y.last,l!==null?l.sibling=E:o.child=E,y.last=E)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=He(),o.sibling=null,l=Ze.current,We(Ze,h?l&1|2:l&1),o):(Mt(o),null);case 22:case 23:return vd(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(hn&1073741824)!==0&&(Mt(o),o.subtreeFlags&6&&(o.flags|=8192)):Mt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function I0(i,o){switch(Ph(o),o.tag){case 1:return Yt(o.type)&&lu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return co(),Qe(Xt),Qe(Lt),Uh(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Fh(o),null;case 13:if(Qe(Ze),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));oo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Qe(Ze),null;case 4:return co(),null;case 10:return Oh(o.type._context),null;case 22:case 23:return vd(),null;case 24:return null;default:return null}}var Ru=!1,Ft=!1,A0=typeof WeakSet=="function"?WeakSet:Set,ue=null;function fo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){rt(i,o,h)}else l.current=null}function od(i,o,l){try{l()}catch(h){rt(i,o,h)}}var mg=!1;function C0(i,o){if(vh=ei,i=Gp(),ch(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,C=-1,b=-1,q=0,Z=0,ee=i,Y=null;t:for(;;){for(var oe;ee!==l||f!==0&&ee.nodeType!==3||(C=E+f),ee!==y||h!==0&&ee.nodeType!==3||(b=E+h),ee.nodeType===3&&(E+=ee.nodeValue.length),(oe=ee.firstChild)!==null;)Y=ee,ee=oe;for(;;){if(ee===i)break t;if(Y===l&&++q===f&&(C=E),Y===y&&++Z===h&&(b=E),(oe=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=oe}l=C===-1||b===-1?null:{start:C,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(_h={focusedElem:i,selectionRange:l},ei=!1,ue=o;ue!==null;)if(o=ue,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ue=i;else for(;ue!==null;){o=ue;try{var ce=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,ot=ce.memoizedState,U=o.stateNode,O=U.getSnapshotBeforeUpdate(o.elementType===o.type?he:Mn(o.type,he),ot);U.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var z=o.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(te){rt(o,o.return,te)}if(i=o.sibling,i!==null){i.return=o.return,ue=i;break}ue=o.return}return ce=mg,mg=!1,ce}function za(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&i)===i){var y=f.destroy;f.destroy=void 0,y!==void 0&&od(o,l,y)}f=f.next}while(f!==h)}}function ku(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function ad(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function gg(i){var o=i.alternate;o!==null&&(i.alternate=null,gg(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Zn],delete o[xa],delete o[Sh],delete o[l0],delete o[u0])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function yg(i){return i.tag===5||i.tag===3||i.tag===4}function vg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||yg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ld(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=ou));else if(h!==4&&(i=i.child,i!==null))for(ld(i,o,l),i=i.sibling;i!==null;)ld(i,o,l),i=i.sibling}function ud(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(ud(i,o,l),i=i.sibling;i!==null;)ud(i,o,l),i=i.sibling}var Rt=null,Fn=!1;function ui(i,o,l){for(l=l.child;l!==null;)_g(i,o,l),l=l.sibling}function _g(i,o,l){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Gi,l)}catch{}switch(l.tag){case 5:Ft||fo(l,o);case 6:var h=Rt,f=Fn;Rt=null,ui(i,o,l),Rt=h,Fn=f,Rt!==null&&(Fn?(i=Rt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Rt.removeChild(l.stateNode));break;case 18:Rt!==null&&(Fn?(i=Rt,l=l.stateNode,i.nodeType===8?Th(i.parentNode,l):i.nodeType===1&&Th(i,l),On(i)):Th(Rt,l.stateNode));break;case 4:h=Rt,f=Fn,Rt=l.stateNode.containerInfo,Fn=!0,ui(i,o,l),Rt=h,Fn=f;break;case 0:case 11:case 14:case 15:if(!Ft&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var y=f,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&od(l,o,E),f=f.next}while(f!==h)}ui(i,o,l);break;case 1:if(!Ft&&(fo(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(C){rt(l,o,C)}ui(i,o,l);break;case 21:ui(i,o,l);break;case 22:l.mode&1?(Ft=(h=Ft)||l.memoizedState!==null,ui(i,o,l),Ft=h):ui(i,o,l);break;default:ui(i,o,l)}}function wg(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new A0),o.forEach(function(h){var f=L0.bind(null,i,h);l.has(h)||(l.add(h),h.then(f,f))})}}function jn(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var y=i,E=o,C=E;e:for(;C!==null;){switch(C.tag){case 5:Rt=C.stateNode,Fn=!1;break e;case 3:Rt=C.stateNode.containerInfo,Fn=!0;break e;case 4:Rt=C.stateNode.containerInfo,Fn=!0;break e}C=C.return}if(Rt===null)throw Error(n(160));_g(y,E,f),Rt=null,Fn=!1;var b=f.alternate;b!==null&&(b.return=null),f.return=null}catch(q){rt(f,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Eg(o,i),o=o.sibling}function Eg(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(jn(o,i),nr(i),h&4){try{za(3,i,i.return),ku(3,i)}catch(he){rt(i,i.return,he)}try{za(5,i,i.return)}catch(he){rt(i,i.return,he)}}break;case 1:jn(o,i),nr(i),h&512&&l!==null&&fo(l,l.return);break;case 5:if(jn(o,i),nr(i),h&512&&l!==null&&fo(l,l.return),i.flags&32){var f=i.stateNode;try{Wr(f,"")}catch(he){rt(i,i.return,he)}}if(h&4&&(f=i.stateNode,f!=null)){var y=i.memoizedProps,E=l!==null?l.memoizedProps:y,C=i.type,b=i.updateQueue;if(i.updateQueue=null,b!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&Jo(f,y),aa(C,E);var q=aa(C,y);for(E=0;E<b.length;E+=2){var Z=b[E],ee=b[E+1];Z==="style"?ia(f,ee):Z==="dangerouslySetInnerHTML"?na(f,ee):Z==="children"?Wr(f,ee):ie(f,Z,ee,q)}switch(C){case"input":Zo(f,y);break;case"textarea":Rs(f,y);break;case"select":var Y=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!y.multiple;var oe=y.value;oe!=null?gr(f,!!y.multiple,oe,!1):Y!==!!y.multiple&&(y.defaultValue!=null?gr(f,!!y.multiple,y.defaultValue,!0):gr(f,!!y.multiple,y.multiple?[]:"",!1))}f[xa]=y}catch(he){rt(i,i.return,he)}}break;case 6:if(jn(o,i),nr(i),h&4){if(i.stateNode===null)throw Error(n(162));f=i.stateNode,y=i.memoizedProps;try{f.nodeValue=y}catch(he){rt(i,i.return,he)}}break;case 3:if(jn(o,i),nr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{On(o.containerInfo)}catch(he){rt(i,i.return,he)}break;case 4:jn(o,i),nr(i);break;case 13:jn(o,i),nr(i),f=i.child,f.flags&8192&&(y=f.memoizedState!==null,f.stateNode.isHidden=y,!y||f.alternate!==null&&f.alternate.memoizedState!==null||(dd=He())),h&4&&wg(i);break;case 22:if(Z=l!==null&&l.memoizedState!==null,i.mode&1?(Ft=(q=Ft)||Z,jn(o,i),Ft=q):jn(o,i),nr(i),h&8192){if(q=i.memoizedState!==null,(i.stateNode.isHidden=q)&&!Z&&(i.mode&1)!==0)for(ue=i,Z=i.child;Z!==null;){for(ee=ue=Z;ue!==null;){switch(Y=ue,oe=Y.child,Y.tag){case 0:case 11:case 14:case 15:za(4,Y,Y.return);break;case 1:fo(Y,Y.return);var ce=Y.stateNode;if(typeof ce.componentWillUnmount=="function"){h=Y,l=Y.return;try{o=h,ce.props=o.memoizedProps,ce.state=o.memoizedState,ce.componentWillUnmount()}catch(he){rt(h,l,he)}}break;case 5:fo(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Ig(ee);continue}}oe!==null?(oe.return=Y,ue=oe):Ig(ee)}Z=Z.sibling}e:for(Z=null,ee=i;;){if(ee.tag===5){if(Z===null){Z=ee;try{f=ee.stateNode,q?(y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=ee.stateNode,b=ee.memoizedProps.style,E=b!=null&&b.hasOwnProperty("display")?b.display:null,C.style.display=ra("display",E))}catch(he){rt(i,i.return,he)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=q?"":ee.memoizedProps}catch(he){rt(i,i.return,he)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===i)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===i)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===i)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:jn(o,i),nr(i),h&4&&wg(i);break;case 21:break;default:jn(o,i),nr(i)}}function nr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(yg(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Wr(f,""),h.flags&=-33);var y=vg(i);ud(i,y,f);break;case 3:case 4:var E=h.stateNode.containerInfo,C=vg(i);ld(i,C,E);break;default:throw Error(n(161))}}catch(b){rt(i,i.return,b)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function P0(i,o,l){ue=i,Tg(i)}function Tg(i,o,l){for(var h=(i.mode&1)!==0;ue!==null;){var f=ue,y=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||Ru;if(!E){var C=f.alternate,b=C!==null&&C.memoizedState!==null||Ft;C=Ru;var q=Ft;if(Ru=E,(Ft=b)&&!q)for(ue=f;ue!==null;)E=ue,b=E.child,E.tag===22&&E.memoizedState!==null?Ag(f):b!==null?(b.return=E,ue=b):Ag(f);for(;y!==null;)ue=y,Tg(y),y=y.sibling;ue=f,Ru=C,Ft=q}Sg(i)}else(f.subtreeFlags&8772)!==0&&y!==null?(y.return=f,ue=y):Sg(i)}}function Sg(i){for(;ue!==null;){var o=ue;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ft||ku(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Ft)if(l===null)h.componentDidMount();else{var f=o.elementType===o.type?l.memoizedProps:Mn(o.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Im(o,y,h);break;case 3:var E=o.updateQueue;if(E!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Im(o,E,l)}break;case 5:var C=o.stateNode;if(l===null&&o.flags&4){l=C;var b=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&l.focus();break;case"img":b.src&&(l.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var Z=q.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&On(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ft||o.flags&512&&ad(o)}catch(Y){rt(o,o.return,Y)}}if(o===i){ue=null;break}if(l=o.sibling,l!==null){l.return=o.return,ue=l;break}ue=o.return}}function Ig(i){for(;ue!==null;){var o=ue;if(o===i){ue=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ue=l;break}ue=o.return}}function Ag(i){for(;ue!==null;){var o=ue;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{ku(4,o)}catch(b){rt(o,l,b)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var f=o.return;try{h.componentDidMount()}catch(b){rt(o,f,b)}}var y=o.return;try{ad(o)}catch(b){rt(o,y,b)}break;case 5:var E=o.return;try{ad(o)}catch(b){rt(o,E,b)}}}catch(b){rt(o,o.return,b)}if(o===i){ue=null;break}var C=o.sibling;if(C!==null){C.return=o.return,ue=C;break}ue=o.return}}var R0=Math.ceil,xu=me.ReactCurrentDispatcher,cd=me.ReactCurrentOwner,En=me.ReactCurrentBatchConfig,Ve=0,St=null,ct=null,kt=0,hn=0,po=ii(0),vt=0,$a=null,as=0,bu=0,hd=0,Ba=null,Zt=null,dd=0,mo=1/0,br=null,Nu=!1,fd=null,ci=null,Ou=!1,hi=null,Du=0,qa=0,pd=null,Lu=-1,Vu=0;function Wt(){return(Ve&6)!==0?He():Lu!==-1?Lu:Lu=He()}function di(i){return(i.mode&1)===0?1:(Ve&2)!==0&&kt!==0?kt&-kt:h0.transition!==null?(Vu===0&&(Vu=Qi()),Vu):(i=Ne,i!==0||(i=window.event,i=i===void 0?16:va(i.type)),i)}function Un(i,o,l,h){if(50<qa)throw qa=0,pd=null,Error(n(185));Xr(i,l,h),((Ve&2)===0||i!==St)&&(i===St&&((Ve&2)===0&&(bu|=l),vt===4&&fi(i,kt)),en(i,h),l===1&&Ve===0&&(o.mode&1)===0&&(mo=He()+500,cu&&oi()))}function en(i,o){var l=i.callbackNode;_r(i,o);var h=Ki(i,i===St?kt:0);if(h===0)l!==null&&fa(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&fa(l),o===1)i.tag===0?c0(Pg.bind(null,i)):dm(Pg.bind(null,i)),o0(function(){(Ve&6)===0&&oi()}),l=null;else{switch(Jr(h)){case 1:l=Wi;break;case 4:l=Gr;break;case 16:l=pn;break;case 536870912:l=Vl;break;default:l=pn}l=Lg(l,Cg.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Cg(i,o){if(Lu=-1,Vu=0,(Ve&6)!==0)throw Error(n(327));var l=i.callbackNode;if(go()&&i.callbackNode!==l)return null;var h=Ki(i,i===St?kt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Mu(i,h);else{o=h;var f=Ve;Ve|=2;var y=kg();(St!==i||kt!==o)&&(br=null,mo=He()+500,us(i,o));do try{b0();break}catch(C){Rg(i,C)}while(!0);Nh(),xu.current=y,Ve=f,ct!==null?o=0:(St=null,kt=0,o=vt)}if(o!==0){if(o===2&&(f=on(i),f!==0&&(h=f,o=md(i,f))),o===1)throw l=$a,us(i,0),fi(i,h),en(i,He()),l;if(o===6)fi(i,h);else{if(f=i.current.alternate,(h&30)===0&&!k0(f)&&(o=Mu(i,h),o===2&&(y=on(i),y!==0&&(h=y,o=md(i,y))),o===1))throw l=$a,us(i,0),fi(i,h),en(i,He()),l;switch(i.finishedWork=f,i.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:cs(i,Zt,br);break;case 3:if(fi(i,h),(h&130023424)===h&&(o=dd+500-He(),10<o)){if(Ki(i,0)!==0)break;if(f=i.suspendedLanes,(f&h)!==h){Wt(),i.pingedLanes|=i.suspendedLanes&f;break}i.timeoutHandle=Eh(cs.bind(null,i,Zt,br),o);break}cs(i,Zt,br);break;case 4:if(fi(i,h),(h&4194240)===h)break;for(o=i.eventTimes,f=-1;0<h;){var E=31-Bt(h);y=1<<E,E=o[E],E>f&&(f=E),h&=~y}if(h=f,h=He()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*R0(h/1960))-h,10<h){i.timeoutHandle=Eh(cs.bind(null,i,Zt,br),h);break}cs(i,Zt,br);break;case 5:cs(i,Zt,br);break;default:throw Error(n(329))}}}return en(i,He()),i.callbackNode===l?Cg.bind(null,i):null}function md(i,o){var l=Ba;return i.current.memoizedState.isDehydrated&&(us(i,o).flags|=256),i=Mu(i,o),i!==2&&(o=Zt,Zt=l,o!==null&&gd(o)),i}function gd(i){Zt===null?Zt=i:Zt.push.apply(Zt,i)}function k0(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],y=f.getSnapshot;f=f.value;try{if(!Ln(y(),f))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function fi(i,o){for(o&=~hd,o&=~bu,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Bt(o),h=1<<l;i[l]=-1,o&=~h}}function Pg(i){if((Ve&6)!==0)throw Error(n(327));go();var o=Ki(i,0);if((o&1)===0)return en(i,He()),null;var l=Mu(i,o);if(i.tag!==0&&l===2){var h=on(i);h!==0&&(o=h,l=md(i,h))}if(l===1)throw l=$a,us(i,0),fi(i,o),en(i,He()),l;if(l===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,cs(i,Zt,br),en(i,He()),null}function yd(i,o){var l=Ve;Ve|=1;try{return i(o)}finally{Ve=l,Ve===0&&(mo=He()+500,cu&&oi())}}function ls(i){hi!==null&&hi.tag===0&&(Ve&6)===0&&go();var o=Ve;Ve|=1;var l=En.transition,h=Ne;try{if(En.transition=null,Ne=1,i)return i()}finally{Ne=h,En.transition=l,Ve=o,(Ve&6)===0&&oi()}}function vd(){hn=po.current,Qe(po)}function us(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,s0(l)),ct!==null)for(l=ct.return;l!==null;){var h=l;switch(Ph(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&lu();break;case 3:co(),Qe(Xt),Qe(Lt),Uh();break;case 5:Fh(h);break;case 4:co();break;case 13:Qe(Ze);break;case 19:Qe(Ze);break;case 10:Oh(h.type._context);break;case 22:case 23:vd()}l=l.return}if(St=i,ct=i=pi(i.current,null),kt=hn=o,vt=0,$a=null,hd=bu=as=0,Zt=Ba=null,is!==null){for(o=0;o<is.length;o++)if(l=is[o],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=f,h.next=E}l.pending=h}is=null}return i}function Rg(i,o){do{var l=ct;try{if(Nh(),wu.current=Iu,Eu){for(var h=et.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Eu=!1}if(os=0,Tt=yt=et=null,Va=!1,Ma=0,cd.current=null,l===null||l.return===null){vt=1,$a=o,ct=null;break}e:{var y=i,E=l.return,C=l,b=o;if(o=kt,C.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var q=b,Z=C,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var Y=Z.alternate;Y?(Z.updateQueue=Y.updateQueue,Z.memoizedState=Y.memoizedState,Z.lanes=Y.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var oe=Zm(E);if(oe!==null){oe.flags&=-257,eg(oe,E,C,y,o),oe.mode&1&&Jm(y,q,o),o=oe,b=q;var ce=o.updateQueue;if(ce===null){var he=new Set;he.add(b),o.updateQueue=he}else ce.add(b);break e}else{if((o&1)===0){Jm(y,q,o),_d();break e}b=Error(n(426))}}else if(Je&&C.mode&1){var ot=Zm(E);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),eg(ot,E,C,y,o),xh(ho(b,C));break e}}y=b=ho(b,C),vt!==4&&(vt=2),Ba===null?Ba=[y]:Ba.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var U=Xm(y,b,o);Sm(y,U);break e;case 1:C=b;var O=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ci===null||!ci.has(z)))){y.flags|=65536,o&=-o,y.lanes|=o;var te=Ym(y,C,o);Sm(y,te);break e}}y=y.return}while(y!==null)}bg(l)}catch(de){o=de,ct===l&&l!==null&&(ct=l=l.return);continue}break}while(!0)}function kg(){var i=xu.current;return xu.current=Iu,i===null?Iu:i}function _d(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||(as&268435455)===0&&(bu&268435455)===0||fi(St,kt)}function Mu(i,o){var l=Ve;Ve|=2;var h=kg();(St!==i||kt!==o)&&(br=null,us(i,o));do try{x0();break}catch(f){Rg(i,f)}while(!0);if(Nh(),Ve=l,xu.current=h,ct!==null)throw Error(n(261));return St=null,kt=0,vt}function x0(){for(;ct!==null;)xg(ct)}function b0(){for(;ct!==null&&!Dl();)xg(ct)}function xg(i){var o=Dg(i.alternate,i,hn);i.memoizedProps=i.pendingProps,o===null?bg(i):ct=o,cd.current=null}function bg(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=S0(l,o,hn),l!==null){ct=l;return}}else{if(l=I0(l,o),l!==null){l.flags&=32767,ct=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{vt=6,ct=null;return}}if(o=o.sibling,o!==null){ct=o;return}ct=o=i}while(o!==null);vt===0&&(vt=5)}function cs(i,o,l){var h=Ne,f=En.transition;try{En.transition=null,Ne=1,N0(i,o,l,h)}finally{En.transition=f,Ne=h}return null}function N0(i,o,l,h){do go();while(hi!==null);if((Ve&6)!==0)throw Error(n(327));l=i.finishedWork;var f=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(Be(i,y),i===St&&(ct=St=null,kt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ou||(Ou=!0,Lg(pn,function(){return go(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=En.transition,En.transition=null;var E=Ne;Ne=1;var C=Ve;Ve|=4,cd.current=null,C0(i,l),Eg(l,i),JE(_h),ei=!!vh,_h=vh=null,i.current=l,P0(l),nh(),Ve=C,Ne=E,En.transition=y}else i.current=l;if(Ou&&(Ou=!1,hi=i,Du=f),y=i.pendingLanes,y===0&&(ci=null),Ml(l.stateNode),en(i,He()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)f=o[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(Nu)throw Nu=!1,i=fd,fd=null,i;return(Du&1)!==0&&i.tag!==0&&go(),y=i.pendingLanes,(y&1)!==0?i===pd?qa++:(qa=0,pd=i):qa=0,oi(),null}function go(){if(hi!==null){var i=Jr(Du),o=En.transition,l=Ne;try{if(En.transition=null,Ne=16>i?16:i,hi===null)var h=!1;else{if(i=hi,hi=null,Du=0,(Ve&6)!==0)throw Error(n(331));var f=Ve;for(Ve|=4,ue=i.current;ue!==null;){var y=ue,E=y.child;if((ue.flags&16)!==0){var C=y.deletions;if(C!==null){for(var b=0;b<C.length;b++){var q=C[b];for(ue=q;ue!==null;){var Z=ue;switch(Z.tag){case 0:case 11:case 15:za(8,Z,y)}var ee=Z.child;if(ee!==null)ee.return=Z,ue=ee;else for(;ue!==null;){Z=ue;var Y=Z.sibling,oe=Z.return;if(gg(Z),Z===q){ue=null;break}if(Y!==null){Y.return=oe,ue=Y;break}ue=oe}}}var ce=y.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var ot=he.sibling;he.sibling=null,he=ot}while(he!==null)}}ue=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,ue=E;else e:for(;ue!==null;){if(y=ue,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:za(9,y,y.return)}var U=y.sibling;if(U!==null){U.return=y.return,ue=U;break e}ue=y.return}}var O=i.current;for(ue=O;ue!==null;){E=ue;var z=E.child;if((E.subtreeFlags&2064)!==0&&z!==null)z.return=E,ue=z;else e:for(E=O;ue!==null;){if(C=ue,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:ku(9,C)}}catch(de){rt(C,C.return,de)}if(C===E){ue=null;break e}var te=C.sibling;if(te!==null){te.return=C.return,ue=te;break e}ue=C.return}}if(Ve=f,oi(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Gi,i)}catch{}h=!0}return h}finally{Ne=l,En.transition=o}}return!1}function Ng(i,o,l){o=ho(l,o),o=Xm(i,o,1),i=li(i,o,1),o=Wt(),i!==null&&(Xr(i,1,o),en(i,o))}function rt(i,o,l){if(i.tag===3)Ng(i,i,l);else for(;o!==null;){if(o.tag===3){Ng(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ci===null||!ci.has(h))){i=ho(l,i),i=Ym(o,i,1),o=li(o,i,1),i=Wt(),o!==null&&(Xr(o,1,i),en(o,i));break}}o=o.return}}function O0(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=Wt(),i.pingedLanes|=i.suspendedLanes&l,St===i&&(kt&l)===l&&(vt===4||vt===3&&(kt&130023424)===kt&&500>He()-dd?us(i,0):hd|=l),en(i,o)}function Og(i,o){o===0&&((i.mode&1)===0?o=1:(o=Fs,Fs<<=1,(Fs&130023424)===0&&(Fs=4194304)));var l=Wt();i=Rr(i,o),i!==null&&(Xr(i,o,l),en(i,l))}function D0(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Og(i,l)}function L0(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,f=i.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),Og(i,l)}var Dg;Dg=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Xt.current)Jt=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return Jt=!1,T0(i,o,l);Jt=(i.flags&131072)!==0}else Jt=!1,Je&&(o.flags&1048576)!==0&&fm(o,du,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Pu(i,o),i=o.pendingProps;var f=ro(o,Lt.current);uo(o,l),f=Bh(null,o,h,i,f,l);var y=qh();return o.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Yt(h)?(y=!0,uu(o)):y=!1,o.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Vh(o),f.updater=Au,o.stateNode=f,f._reactInternals=o,Xh(o,h,i,l),o=ed(null,o,h,!0,y,l)):(o.tag=0,Je&&y&&Ch(o),Ht(null,o,f,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Pu(i,o),i=o.pendingProps,f=h._init,h=f(h._payload),o.type=h,f=o.tag=M0(h),i=Mn(h,i),f){case 0:o=Zh(null,o,h,i,l);break e;case 1:o=og(null,o,h,i,l);break e;case 11:o=tg(null,o,h,i,l);break e;case 14:o=ng(null,o,h,Mn(h.type,i),l);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:Mn(h,f),Zh(i,o,h,f,l);case 1:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:Mn(h,f),og(i,o,h,f,l);case 3:e:{if(ag(o),i===null)throw Error(n(387));h=o.pendingProps,y=o.memoizedState,f=y.element,Tm(i,o),vu(o,h,null,l);var E=o.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){f=ho(Error(n(423)),o),o=lg(i,o,h,l,f);break e}else if(h!==f){f=ho(Error(n(424)),o),o=lg(i,o,h,l,f);break e}else for(cn=ri(o.stateNode.containerInfo.firstChild),un=o,Je=!0,Vn=null,l=wm(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(oo(),h===f){o=xr(i,o,l);break e}Ht(i,o,h,l)}o=o.child}return o;case 5:return Am(o),i===null&&kh(o),h=o.type,f=o.pendingProps,y=i!==null?i.memoizedProps:null,E=f.children,wh(h,f)?E=null:y!==null&&wh(h,y)&&(o.flags|=32),sg(i,o),Ht(i,o,E,l),o.child;case 6:return i===null&&kh(o),null;case 13:return ug(i,o,l);case 4:return Mh(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ao(o,null,h,l):Ht(i,o,h,l),o.child;case 11:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:Mn(h,f),tg(i,o,h,f,l);case 7:return Ht(i,o,o.pendingProps,l),o.child;case 8:return Ht(i,o,o.pendingProps.children,l),o.child;case 12:return Ht(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,f=o.pendingProps,y=o.memoizedProps,E=f.value,We(mu,h._currentValue),h._currentValue=E,y!==null)if(Ln(y.value,E)){if(y.children===f.children&&!Xt.current){o=xr(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var C=y.dependencies;if(C!==null){E=y.child;for(var b=C.firstContext;b!==null;){if(b.context===h){if(y.tag===1){b=kr(-1,l&-l),b.tag=2;var q=y.updateQueue;if(q!==null){q=q.shared;var Z=q.pending;Z===null?b.next=b:(b.next=Z.next,Z.next=b),q.pending=b}}y.lanes|=l,b=y.alternate,b!==null&&(b.lanes|=l),Dh(y.return,l,o),C.lanes|=l;break}b=b.next}}else if(y.tag===10)E=y.type===o.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(n(341));E.lanes|=l,C=E.alternate,C!==null&&(C.lanes|=l),Dh(E,l,o),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===o){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Ht(i,o,f.children,l),o=o.child}return o;case 9:return f=o.type,h=o.pendingProps.children,uo(o,l),f=_n(f),h=h(f),o.flags|=1,Ht(i,o,h,l),o.child;case 14:return h=o.type,f=Mn(h,o.pendingProps),f=Mn(h.type,f),ng(i,o,h,f,l);case 15:return rg(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:Mn(h,f),Pu(i,o),o.tag=1,Yt(h)?(i=!0,uu(o)):i=!1,uo(o,l),Km(o,h,f),Xh(o,h,f,l),ed(null,o,h,!0,i,l);case 19:return hg(i,o,l);case 22:return ig(i,o,l)}throw Error(n(156,o.tag))};function Lg(i,o){return Vs(i,o)}function V0(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(i,o,l,h){return new V0(i,o,l,h)}function wd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function M0(i){if(typeof i=="function")return wd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===F)return 11;if(i===Ot)return 14}return 2}function pi(i,o){var l=i.alternate;return l===null?(l=Tn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Fu(i,o,l,h,f,y){var E=2;if(h=i,typeof i=="function")wd(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case x:return hs(l.children,f,y,o);case A:E=8,f|=8;break;case P:return i=Tn(12,l,o,f|2),i.elementType=P,i.lanes=y,i;case R:return i=Tn(13,l,o,f),i.elementType=R,i.lanes=y,i;case it:return i=Tn(19,l,o,f),i.elementType=it,i.lanes=y,i;case $e:return ju(l,f,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:E=10;break e;case L:E=9;break e;case F:E=11;break e;case Ot:E=14;break e;case Dt:E=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Tn(E,l,o,f),o.elementType=i,o.type=h,o.lanes=y,o}function hs(i,o,l,h){return i=Tn(7,i,h,o),i.lanes=l,i}function ju(i,o,l,h){return i=Tn(22,i,h,o),i.elementType=$e,i.lanes=l,i.stateNode={isHidden:!1},i}function Ed(i,o,l){return i=Tn(6,i,null,o),i.lanes=l,i}function Td(i,o,l){return o=Tn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function F0(i,o,l,h,f){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qr(0),this.expirationTimes=Qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Sd(i,o,l,h,f,y,E,C,b){return i=new F0(i,o,l,C,b),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Tn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vh(y),i}function j0(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ie,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function Vg(i){if(!i)return si;i=i._reactInternals;e:{if(Rn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Yt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var l=i.type;if(Yt(l))return cm(i,l,o)}return o}function Mg(i,o,l,h,f,y,E,C,b){return i=Sd(l,h,!0,i,f,y,E,C,b),i.context=Vg(null),l=i.current,h=Wt(),f=di(l),y=kr(h,f),y.callback=o??null,li(l,y,f),i.current.lanes=f,Xr(i,f,h),en(i,h),i}function Uu(i,o,l,h){var f=o.current,y=Wt(),E=di(f);return l=Vg(l),o.context===null?o.context=l:o.pendingContext=l,o=kr(y,E),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=li(f,o,E),i!==null&&(Un(i,f,E,y),yu(i,f,E)),E}function zu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Fg(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Id(i,o){Fg(i,o),(i=i.alternate)&&Fg(i,o)}function U0(){return null}var jg=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ad(i){this._internalRoot=i}$u.prototype.render=Ad.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Uu(i,o,null,null)},$u.prototype.unmount=Ad.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;ls(function(){Uu(null,i,null,null)}),o[Ir]=null}};function $u(i){this._internalRoot=i}$u.prototype.unstable_scheduleHydration=function(i){if(i){var o=$l();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Qn.length&&o!==0&&o<Qn[l].priority;l++);Qn.splice(l,0,i),l===0&&Hl(i)}};function Cd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Bu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Ug(){}function z0(i,o,l,h,f){if(f){if(typeof h=="function"){var y=h;h=function(){var q=zu(E);y.call(q)}}var E=Mg(o,h,i,0,null,!1,!1,"",Ug);return i._reactRootContainer=E,i[Ir]=E.current,Ra(i.nodeType===8?i.parentNode:i),ls(),E}for(;f=i.lastChild;)i.removeChild(f);if(typeof h=="function"){var C=h;h=function(){var q=zu(b);C.call(q)}}var b=Sd(i,0,!1,null,null,!1,!1,"",Ug);return i._reactRootContainer=b,i[Ir]=b.current,Ra(i.nodeType===8?i.parentNode:i),ls(function(){Uu(o,b,l,h)}),b}function qu(i,o,l,h,f){var y=l._reactRootContainer;if(y){var E=y;if(typeof f=="function"){var C=f;f=function(){var b=zu(E);C.call(b)}}Uu(o,E,i,f)}else E=z0(l,o,i,f,h);return zu(E)}Ul=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=Kr(o.pendingLanes);l!==0&&(Yr(o,l|1),en(o,He()),(Ve&6)===0&&(mo=He()+500,oi()))}break;case 13:ls(function(){var h=Rr(i,1);if(h!==null){var f=Wt();Un(h,i,1,f)}}),Id(i,1)}},js=function(i){if(i.tag===13){var o=Rr(i,134217728);if(o!==null){var l=Wt();Un(o,i,134217728,l)}Id(i,134217728)}},zl=function(i){if(i.tag===13){var o=di(i),l=Rr(i,o);if(l!==null){var h=Wt();Un(l,i,o,h)}Id(i,o)}},$l=function(){return Ne},Bl=function(i,o){var l=Ne;try{return Ne=i,o()}finally{Ne=l}},xs=function(i,o,l){switch(o){case"input":if(Zo(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var f=au(h);if(!f)throw Error(n(90));Is(h),Zo(h,f)}}}break;case"textarea":Rs(i,l);break;case"select":o=l.value,o!=null&&gr(i,!!l.multiple,o,!1)}},$i=yd,ua=ls;var $0={usingClientEntryPoint:!1,Events:[ba,to,au,Gn,la,yd]},Ha={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B0={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:me.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=da(i),i===null?null:i.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||U0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Gi=Hu.inject(B0),sn=Hu}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$0,tn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cd(o))throw Error(n(200));return j0(i,o,null,l)},tn.createRoot=function(i,o){if(!Cd(i))throw Error(n(299));var l=!1,h="",f=jg;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),o=Sd(i,1,!1,null,null,l,!1,h,f),i[Ir]=o.current,Ra(i.nodeType===8?i.parentNode:i),new Ad(o)},tn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=da(o),i=i===null?null:i.stateNode,i},tn.flushSync=function(i){return ls(i)},tn.hydrate=function(i,o,l){if(!Bu(o))throw Error(n(200));return qu(null,i,o,!0,l)},tn.hydrateRoot=function(i,o,l){if(!Cd(i))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,f=!1,y="",E=jg;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),o=Mg(o,null,i,1,l??null,f,!1,y,E),i[Ir]=o.current,Ra(i),h)for(i=0;i<h.length;i++)l=h[i],f=l._getVersion,f=f(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,f]:o.mutableSourceEagerHydrationData.push(l,f);return new $u(o)},tn.render=function(i,o,l){if(!Bu(o))throw Error(n(200));return qu(null,i,o,!1,l)},tn.unmountComponentAtNode=function(i){if(!Bu(i))throw Error(n(40));return i._reactRootContainer?(ls(function(){qu(null,null,i,!1,function(){i._reactRootContainer=null,i[Ir]=null})}),!0):!1},tn.unstable_batchedUpdates=yd,tn.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!Bu(l))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return qu(i,o,l,!1,h)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var Kg;function Y0(){if(Kg)return kd.exports;Kg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=X0(),kd.exports}var Qg;function J0(){if(Qg)return Wu;Qg=1;var r=Y0();return Wu.createRoot=r.createRoot,Wu.hydrateRoot=r.hydrateRoot,Wu}var Z0=J0();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xg="popstate";function eT(r={}){function e(a,u){let{pathname:d="/",search:p="",hash:m=""}=ws(a.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Jd("",{pathname:d,search:p,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(a,u){let d=a.document.querySelector("base"),p="";if(d&&d.getAttribute("href")){let m=a.location.href,v=m.indexOf("#");p=v===-1?m:m.slice(0,v)}return p+"#"+(typeof u=="string"?u:al(u))}function s(a,u){qn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return nT(e,n,s,r)}function tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tT(){return Math.random().toString(36).substring(2,10)}function Yg(r,e){return{usr:r.state,key:r.key,idx:e}}function Jd(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ws(e):e,state:n,key:e&&e.key||s||tT()}}function al({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ws(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function nT(r,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,d=a.history,p="POP",m=null,v=w();v==null&&(v=0,d.replaceState({...d.state,idx:v},""));function w(){return(d.state||{idx:null}).idx}function S(){p="POP";let M=w(),J=M==null?null:M-v;v=M,m&&m({action:p,location:$.location,delta:J})}function I(M,J){p="PUSH";let X=Jd($.location,M,J);n&&n(X,M),v=w()+1;let ie=Yg(X,v),me=$.createHref(X);try{d.pushState(ie,"",me)}catch(Re){if(Re instanceof DOMException&&Re.name==="DataCloneError")throw Re;a.location.assign(me)}u&&m&&m({action:p,location:$.location,delta:1})}function D(M,J){p="REPLACE";let X=Jd($.location,M,J);n&&n(X,M),v=w();let ie=Yg(X,v),me=$.createHref(X);d.replaceState(ie,"",me),u&&m&&m({action:p,location:$.location,delta:0})}function B(M){return rT(M)}let $={get action(){return p},get location(){return r(a,d)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Xg,S),m=M,()=>{a.removeEventListener(Xg,S),m=null}},createHref(M){return e(a,M)},createURL:B,encodeLocation(M){let J=B(M);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:I,replace:D,go(M){return d.go(M)}};return $}function rT(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:al(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Bv(r,e,n="/"){return iT(r,e,n,!1)}function iT(r,e,n,s){let a=typeof e=="string"?ws(e):e,u=Vr(a.pathname||"/",n);if(u==null)return null;let d=qv(r);sT(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let v=gT(u);p=pT(d[m],v,s)}return p}function qv(r,e=[],n=[],s="",a=!1){let u=(d,p,m=a,v)=>{let w={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&m)return;tt(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let S=Dr([s,w.relativePath]),I=n.concat(w);d.children&&d.children.length>0&&(tt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),qv(d.children,e,I,S,m)),!(d.path==null&&!d.index)&&e.push({path:S,score:dT(S,d.index),routesMeta:I})};return r.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))u(d,p);else for(let m of Hv(d.path))u(d,p,!0,m)}),e}function Hv(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let d=Hv(s.join("/")),p=[];return p.push(...d.map(m=>m===""?u:[u,m].join("/"))),a&&p.push(...d),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function sT(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:fT(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var oT=/^:[\w-]+$/,aT=3,lT=2,uT=1,cT=10,hT=-2,Jg=r=>r==="*";function dT(r,e){let n=r.split("/"),s=n.length;return n.some(Jg)&&(s+=hT),e&&(s+=lT),n.filter(a=>!Jg(a)).reduce((a,u)=>a+(oT.test(u)?aT:u===""?uT:cT),s)}function fT(r,e){return r.length===e.length&&r.slice(0,-1).every((s,a)=>s===e[a])?r[r.length-1]-e[e.length-1]:0}function pT(r,e,n=!1){let{routesMeta:s}=r,a={},u="/",d=[];for(let p=0;p<s.length;++p){let m=s[p],v=p===s.length-1,w=u==="/"?e:e.slice(u.length)||"/",S=pc({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},w),I=m.route;if(!S&&v&&n&&!s[s.length-1].route.index&&(S=pc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},w)),!S)return null;Object.assign(a,S.params),d.push({params:a,pathname:Dr([u,S.pathname]),pathnameBase:wT(Dr([u,S.pathnameBase])),route:I}),S.pathnameBase!=="/"&&(u=Dr([u,S.pathnameBase]))}return d}function pc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=mT(r.path,r.caseSensitive,r.end),a=e.match(n);if(!a)return null;let u=a[0],d=u.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:S},I)=>{if(w==="*"){let B=p[I]||"";d=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const D=p[I];return S&&!D?v[w]=void 0:v[w]=(D||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:d,pattern:r}}function mT(r,e=!1,n=!0){qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function gT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Vr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function yT(r,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof r=="string"?ws(r):r;return{pathname:n?n.startsWith("/")?n:vT(n,e):e,search:ET(s),hash:TT(a)}}function vT(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Nd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _T(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wv(r){let e=_T(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Gv(r,e,n,s=!1){let a;typeof r=="string"?a=ws(r):(a={...r},tt(!a.pathname||!a.pathname.includes("?"),Nd("?","pathname","search",a)),tt(!a.pathname||!a.pathname.includes("#"),Nd("#","pathname","hash",a)),tt(!a.search||!a.search.includes("#"),Nd("#","search","hash",a)));let u=r===""||a.pathname==="",d=u?"/":a.pathname,p;if(d==null)p=n;else{let S=e.length-1;if(!s&&d.startsWith("..")){let I=d.split("/");for(;I[0]==="..";)I.shift(),S-=1;a.pathname=I.join("/")}p=S>=0?e[S]:"/"}let m=yT(a,p),v=d&&d!=="/"&&d.endsWith("/"),w=(u||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(v||w)&&(m.pathname+="/"),m}var Dr=r=>r.join("/").replace(/\/\/+/g,"/"),wT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ET=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,TT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ST(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Kv=["POST","PUT","PATCH","DELETE"];new Set(Kv);var IT=["GET",...Kv];new Set(IT);var Uo=H.createContext(null);Uo.displayName="DataRouter";var Oc=H.createContext(null);Oc.displayName="DataRouterState";H.createContext(!1);var Qv=H.createContext({isTransitioning:!1});Qv.displayName="ViewTransition";var AT=H.createContext(new Map);AT.displayName="Fetchers";var CT=H.createContext(null);CT.displayName="Await";var fr=H.createContext(null);fr.displayName="Navigation";var vl=H.createContext(null);vl.displayName="Location";var $r=H.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var Nf=H.createContext(null);Nf.displayName="RouteError";function PT(r,{relative:e}={}){tt(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(fr),{hash:a,pathname:u,search:d}=wl(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Dr([n,u])),s.createHref({pathname:p,search:d,hash:a})}function _l(){return H.useContext(vl)!=null}function Br(){return tt(_l(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(vl).location}var Xv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yv(r){H.useContext(fr).static||H.useLayoutEffect(r)}function Of(){let{isDataRoute:r}=H.useContext($r);return r?UT():RT()}function RT(){tt(_l(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(Uo),{basename:e,navigator:n}=H.useContext(fr),{matches:s}=H.useContext($r),{pathname:a}=Br(),u=JSON.stringify(Wv(s)),d=H.useRef(!1);return Yv(()=>{d.current=!0}),H.useCallback((m,v={})=>{if(qn(d.current,Xv),!d.current)return;if(typeof m=="number"){n.go(m);return}let w=Gv(m,JSON.parse(u),a,v.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Dr([e,w.pathname])),(v.replace?n.replace:n.push)(w,v.state,v)},[e,n,u,a,r])}H.createContext(null);function wl(r,{relative:e}={}){let{matches:n}=H.useContext($r),{pathname:s}=Br(),a=JSON.stringify(Wv(n));return H.useMemo(()=>Gv(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function kT(r,e){return Jv(r,e)}function Jv(r,e,n,s,a){tt(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(fr),{matches:d}=H.useContext($r),p=d[d.length-1],m=p?p.params:{},v=p?p.pathname:"/",w=p?p.pathnameBase:"/",S=p&&p.route;{let X=S&&S.path||"";Zv(v,!S||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let I=Br(),D;if(e){let X=typeof e=="string"?ws(e):e;tt(w==="/"||X.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${X.pathname}" was given in the \`location\` prop.`),D=X}else D=I;let B=D.pathname||"/",$=B;if(w!=="/"){let X=w.replace(/^\//,"").split("/");$="/"+B.replace(/^\//,"").split("/").slice(X.length).join("/")}let M=Bv(r,{pathname:$});qn(S||M!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),qn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=DT(M&&M.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:Dr([w,u.encodeLocation?u.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?w:Dr([w,u.encodeLocation?u.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),d,n,s,a);return e&&J?H.createElement(vl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},J):J}function xT(){let r=jT(),e=ST(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:a},n):null,d)}var bT=H.createElement(xT,null),NT=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?H.createElement($r.Provider,{value:this.props.routeContext},H.createElement(Nf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OT({routeContext:r,match:e,children:n}){let s=H.useContext(Uo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement($r.Provider,{value:r},n)}function DT(r,e=[],n=null,s=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,d=n?.errors;if(d!=null){let v=u.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);tt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let p=!1,m=-1;if(n)for(let v=0;v<u.length;v++){let w=u[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:S,errors:I}=n,D=w.route.loader&&!S.hasOwnProperty(w.route.id)&&(!I||I[w.route.id]===void 0);if(w.route.lazy||D){p=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((v,w,S)=>{let I,D=!1,B=null,$=null;n&&(I=d&&w.route.id?d[w.route.id]:void 0,B=w.route.errorElement||bT,p&&(m<0&&S===0?(Zv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,$=null):m===S&&(D=!0,$=w.route.hydrateFallbackElement||null)));let M=e.concat(u.slice(0,S+1)),J=()=>{let X;return I?X=B:D?X=$:w.route.Component?X=H.createElement(w.route.Component,null):w.route.element?X=w.route.element:X=v,H.createElement(OT,{match:w,routeContext:{outlet:v,matches:M,isDataRoute:n!=null},children:X})};return n&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?H.createElement(NT,{location:n.location,revalidation:n.revalidation,component:B,error:I,children:J(),routeContext:{outlet:null,matches:M,isDataRoute:!0},unstable_onError:s}):J()},null)}function Df(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LT(r){let e=H.useContext(Uo);return tt(e,Df(r)),e}function VT(r){let e=H.useContext(Oc);return tt(e,Df(r)),e}function MT(r){let e=H.useContext($r);return tt(e,Df(r)),e}function Lf(r){let e=MT(r),n=e.matches[e.matches.length-1];return tt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function FT(){return Lf("useRouteId")}function jT(){let r=H.useContext(Nf),e=VT("useRouteError"),n=Lf("useRouteError");return r!==void 0?r:e.errors?.[n]}function UT(){let{router:r}=LT("useNavigate"),e=Lf("useNavigate"),n=H.useRef(!1);return Yv(()=>{n.current=!0}),H.useCallback(async(a,u={})=>{qn(n.current,Xv),n.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...u}))},[r,e])}var Zg={};function Zv(r,e,n){!e&&!Zg[r]&&(Zg[r]=!0,qn(!1,n))}H.memo(zT);function zT({routes:r,future:e,state:n,unstable_onError:s}){return Jv(r,void 0,n,s,e)}function yi(r){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $T({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){tt(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=H.useMemo(()=>({basename:d,navigator:a,static:u,future:{}}),[d,a,u]);typeof n=="string"&&(n=ws(n));let{pathname:m="/",search:v="",hash:w="",state:S=null,key:I="default"}=n,D=H.useMemo(()=>{let B=Vr(m,d);return B==null?null:{location:{pathname:B,search:v,hash:w,state:S,key:I},navigationType:s}},[d,m,v,w,S,I,s]);return qn(D!=null,`<Router basename="${d}"> is not able to match the URL "${m}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:H.createElement(fr.Provider,{value:p},H.createElement(vl.Provider,{children:e,value:D}))}function BT({children:r,location:e}){return kT(Zd(r),e)}function Zd(r,e=[]){let n=[];return H.Children.forEach(r,(s,a)=>{if(!H.isValidElement(s))return;let u=[...e,a];if(s.type===H.Fragment){n.push.apply(n,Zd(s.props.children,u));return}tt(s.type===yi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Zd(s.props.children,u)),n.push(d)}),n}var tc="get",nc="application/x-www-form-urlencoded";function Dc(r){return r!=null&&typeof r.tagName=="string"}function qT(r){return Dc(r)&&r.tagName.toLowerCase()==="button"}function HT(r){return Dc(r)&&r.tagName.toLowerCase()==="form"}function WT(r){return Dc(r)&&r.tagName.toLowerCase()==="input"}function GT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function KT(r,e){return r.button===0&&(!e||e==="_self")&&!GT(r)}var Gu=null;function QT(){if(Gu===null)try{new FormData(document.createElement("form"),0),Gu=!1}catch{Gu=!0}return Gu}var XT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Od(r){return r!=null&&!XT.has(r)?(qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nc}"`),null):r}function YT(r,e){let n,s,a,u,d;if(HT(r)){let p=r.getAttribute("action");s=p?Vr(p,e):null,n=r.getAttribute("method")||tc,a=Od(r.getAttribute("enctype"))||nc,u=new FormData(r)}else if(qT(r)||WT(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?Vr(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||tc,a=Od(r.getAttribute("formenctype"))||Od(p.getAttribute("enctype"))||nc,u=new FormData(p,r),!QT()){let{name:v,type:w,value:S}=r;if(w==="image"){let I=v?`${v}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else v&&u.append(v,S)}}else{if(Dc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tc,s=null,a=nc,d=r}return u&&a==="text/plain"&&(d=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function JT(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Vr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function ZT(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function tS(r,e,n){let s=await Promise.all(r.map(async a=>{let u=e.routes[a.route.id];if(u){let d=await ZT(u,n);return d.links?d.links():[]}return[]}));return sS(s.flat(1).filter(eS).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ey(r,e,n,s,a,u){let d=(m,v)=>n[v]?m.route.id!==n[v].route.id:!0,p=(m,v)=>n[v].pathname!==m.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,v)=>d(m,v)||p(m,v)):u==="data"?e.filter((m,v)=>{let w=s.routes[m.route.id];if(!w||!w.hasLoader)return!1;if(d(m,v)||p(m,v))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function nS(r,e,{includeHydrateFallback:n}={}){return rS(r.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function rS(r){return[...new Set(r)]}function iS(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function sS(r,e){let n=new Set;return new Set(e),r.reduce((s,a)=>{let u=JSON.stringify(iS(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function e_(){let r=H.useContext(Uo);return Vf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function oS(){let r=H.useContext(Oc);return Vf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Mf=H.createContext(void 0);Mf.displayName="FrameworkContext";function t_(){let r=H.useContext(Mf);return Vf(r,"You must render this element inside a <HydratedRouter> element"),r}function aS(r,e){let n=H.useContext(Mf),[s,a]=H.useState(!1),[u,d]=H.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:v,onMouseLeave:w,onTouchStart:S}=e,I=H.useRef(null);H.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let $=J=>{J.forEach(X=>{d(X.isIntersecting)})},M=new IntersectionObserver($,{threshold:.5});return I.current&&M.observe(I.current),()=>{M.disconnect()}}},[r]),H.useEffect(()=>{if(s){let $=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout($)}}},[s]);let D=()=>{a(!0)},B=()=>{a(!1),d(!1)};return n?r!=="intent"?[u,I,{}]:[u,I,{onFocus:Ga(p,D),onBlur:Ga(m,B),onMouseEnter:Ga(v,D),onMouseLeave:Ga(w,B),onTouchStart:Ga(S,D)}]:[!1,I,{}]}function Ga(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function lS({page:r,...e}){let{router:n}=e_(),s=H.useMemo(()=>Bv(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?H.createElement(cS,{page:r,matches:s,...e}):null}function uS(r){let{manifest:e,routeModules:n}=t_(),[s,a]=H.useState([]);return H.useEffect(()=>{let u=!1;return tS(r,e,n).then(d=>{u||a(d)}),()=>{u=!0}},[r,e,n]),s}function cS({page:r,matches:e,...n}){let s=Br(),{manifest:a,routeModules:u}=t_(),{basename:d}=e_(),{loaderData:p,matches:m}=oS(),v=H.useMemo(()=>ey(r,e,m,a,s,"data"),[r,e,m,a,s]),w=H.useMemo(()=>ey(r,e,m,a,s,"assets"),[r,e,m,a,s]),S=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let B=new Set,$=!1;if(e.forEach(J=>{let X=a.routes[J.route.id];!X||!X.hasLoader||(!v.some(ie=>ie.route.id===J.route.id)&&J.route.id in p&&u[J.route.id]?.shouldRevalidate||X.hasClientLoader?$=!0:B.add(J.route.id))}),B.size===0)return[];let M=JT(r,d,"data");return $&&B.size>0&&M.searchParams.set("_routes",e.filter(J=>B.has(J.route.id)).map(J=>J.route.id).join(",")),[M.pathname+M.search]},[d,p,s,a,v,e,r,u]),I=H.useMemo(()=>nS(w,a),[w,a]),D=uS(w);return H.createElement(H.Fragment,null,S.map(B=>H.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),I.map(B=>H.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),D.map(({key:B,link:$})=>H.createElement("link",{key:B,nonce:n.nonce,...$})))}function hS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var n_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n_&&(window.__reactRouterVersion="7.8.2")}catch{}function dS({basename:r,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=eT({window:n,v5Compat:!0}));let a=s.current,[u,d]=H.useState({action:a.action,location:a.location}),p=H.useCallback(m=>{H.startTransition(()=>d(m))},[d]);return H.useLayoutEffect(()=>a.listen(p),[a,p]),H.createElement($T,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:a})}var r_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i_=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:d,state:p,target:m,to:v,preventScrollReset:w,viewTransition:S,...I},D){let{basename:B}=H.useContext(fr),$=typeof v=="string"&&r_.test(v),M,J=!1;if(typeof v=="string"&&$&&(M=v,n_))try{let P=new URL(window.location.href),N=v.startsWith("//")?new URL(P.protocol+v):new URL(v),L=Vr(N.pathname,B);N.origin===P.origin&&L!=null?v=L+N.search+N.hash:J=!0}catch{qn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=PT(v,{relative:a}),[ie,me,Re]=aS(s,I),Ie=gS(v,{replace:d,state:p,target:m,preventScrollReset:w,relative:a,viewTransition:S});function x(P){e&&e(P),P.defaultPrevented||Ie(P)}let A=H.createElement("a",{...I,...Re,href:M||X,onClick:J||u?e:x,ref:hS(D,me),target:m,"data-discover":!$&&n==="render"?"true":void 0});return ie&&!$?H.createElement(H.Fragment,null,A,H.createElement(lS,{page:X})):A});i_.displayName="Link";var fS=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:d,viewTransition:p,children:m,...v},w){let S=wl(d,{relative:v.relative}),I=Br(),D=H.useContext(Oc),{navigator:B,basename:$}=H.useContext(fr),M=D!=null&&ES(S)&&p===!0,J=B.encodeLocation?B.encodeLocation(S).pathname:S.pathname,X=I.pathname,ie=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(X=X.toLowerCase(),ie=ie?ie.toLowerCase():null,J=J.toLowerCase()),ie&&$&&(ie=Vr(ie,$)||ie);const me=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let Re=X===J||!a&&X.startsWith(J)&&X.charAt(me)==="/",Ie=ie!=null&&(ie===J||!a&&ie.startsWith(J)&&ie.charAt(J.length)==="/"),x={isActive:Re,isPending:Ie,isTransitioning:M},A=Re?e:void 0,P;typeof s=="function"?P=s(x):P=[s,Re?"active":null,Ie?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(x):u;return H.createElement(i_,{...v,"aria-current":A,className:P,ref:w,style:N,to:d,viewTransition:p},typeof m=="function"?m(x):m)});fS.displayName="NavLink";var pS=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:d=tc,action:p,onSubmit:m,relative:v,preventScrollReset:w,viewTransition:S,...I},D)=>{let B=_S(),$=wS(p,{relative:v}),M=d.toLowerCase()==="get"?"get":"post",J=typeof p=="string"&&r_.test(p),X=ie=>{if(m&&m(ie),ie.defaultPrevented)return;ie.preventDefault();let me=ie.nativeEvent.submitter,Re=me?.getAttribute("formmethod")||d;B(me||ie.currentTarget,{fetcherKey:e,method:Re,navigate:n,replace:a,state:u,relative:v,preventScrollReset:w,viewTransition:S})};return H.createElement("form",{ref:D,method:M,action:$,onSubmit:s?m:X,...I,"data-discover":!J&&r==="render"?"true":void 0})});pS.displayName="Form";function mS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s_(r){let e=H.useContext(Uo);return tt(e,mS(r)),e}function gS(r,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:d}={}){let p=Of(),m=Br(),v=wl(r,{relative:u});return H.useCallback(w=>{if(KT(w,e)){w.preventDefault();let S=n!==void 0?n:al(m)===al(v);p(r,{replace:S,state:s,preventScrollReset:a,relative:u,viewTransition:d})}},[m,p,v,n,s,e,r,a,u,d])}var yS=0,vS=()=>`__${String(++yS)}__`;function _S(){let{router:r}=s_("useSubmit"),{basename:e}=H.useContext(fr),n=FT();return H.useCallback(async(s,a={})=>{let{action:u,method:d,encType:p,formData:m,body:v}=YT(s,e);if(a.navigate===!1){let w=a.fetcherKey||vS();await r.fetch(w,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:m,body:v,formMethod:a.method||d,formEncType:a.encType||p,flushSync:a.flushSync})}else await r.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:m,body:v,formMethod:a.method||d,formEncType:a.encType||p,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,n])}function wS(r,{relative:e}={}){let{basename:n}=H.useContext(fr),s=H.useContext($r);tt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...wl(r||".",{relative:e})},d=Br();if(r==null){u.search=d.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(w=>w==="")){p.delete("index"),m.filter(S=>S).forEach(S=>p.append("index",S));let w=p.toString();u.search=w?`?${w}`:""}}return(!r||r===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Dr([n,u.pathname])),al(u)}function ES(r,{relative:e}={}){let n=H.useContext(Qv);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=s_("useViewTransitionState"),a=wl(r,{relative:e});if(!n.isTransitioning)return!1;let u=Vr(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=Vr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return pc(a.pathname,d)!=null||pc(a.pathname,u)!=null}var Dd,ty;function TS(){if(ty)return Dd;ty=1;var r=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(u,d){if(u===d)return!0;if(u&&d&&typeof u=="object"&&typeof d=="object"){if(u.constructor!==d.constructor)return!1;var p,m,v;if(Array.isArray(u)){if(p=u.length,p!=d.length)return!1;for(m=p;m--!==0;)if(!a(u[m],d[m]))return!1;return!0}var w;if(e&&u instanceof Map&&d instanceof Map){if(u.size!==d.size)return!1;for(w=u.entries();!(m=w.next()).done;)if(!d.has(m.value[0]))return!1;for(w=u.entries();!(m=w.next()).done;)if(!a(m.value[1],d.get(m.value[0])))return!1;return!0}if(n&&u instanceof Set&&d instanceof Set){if(u.size!==d.size)return!1;for(w=u.entries();!(m=w.next()).done;)if(!d.has(m.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(u)&&ArrayBuffer.isView(d)){if(p=u.length,p!=d.length)return!1;for(m=p;m--!==0;)if(u[m]!==d[m])return!1;return!0}if(u.constructor===RegExp)return u.source===d.source&&u.flags===d.flags;if(u.valueOf!==Object.prototype.valueOf&&typeof u.valueOf=="function"&&typeof d.valueOf=="function")return u.valueOf()===d.valueOf();if(u.toString!==Object.prototype.toString&&typeof u.toString=="function"&&typeof d.toString=="function")return u.toString()===d.toString();if(v=Object.keys(u),p=v.length,p!==Object.keys(d).length)return!1;for(m=p;m--!==0;)if(!Object.prototype.hasOwnProperty.call(d,v[m]))return!1;if(r&&u instanceof Element)return!1;for(m=p;m--!==0;)if(!((v[m]==="_owner"||v[m]==="__v"||v[m]==="__o")&&u.$$typeof)&&!a(u[v[m]],d[v[m]]))return!1;return!0}return u!==u&&d!==d}return Dd=function(d,p){try{return a(d,p)}catch(m){if((m.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw m}},Dd}var SS=TS();const IS=Nc(SS);var Ld,ny;function AS(){if(ny)return Ld;ny=1;var r=function(e,n,s,a,u,d,p,m){if(!e){var v;if(n===void 0)v=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var w=[s,a,u,d,p,m],S=0;v=new Error(n.replace(/%s/g,function(){return w[S++]})),v.name="Invariant Violation"}throw v.framesToPop=1,v}};return Ld=r,Ld}var CS=AS();const ry=Nc(CS);var Vd,iy;function PS(){return iy||(iy=1,Vd=function(e,n,s,a){var u=s?s.call(a,e,n):void 0;if(u!==void 0)return!!u;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var d=Object.keys(e),p=Object.keys(n);if(d.length!==p.length)return!1;for(var m=Object.prototype.hasOwnProperty.bind(n),v=0;v<d.length;v++){var w=d[v];if(!m(w))return!1;var S=e[w],I=n[w];if(u=s?s.call(a,S,I,w):void 0,u===!1||u===void 0&&S!==I)return!1}return!0}),Vd}var RS=PS();const kS=Nc(RS);var o_=(r=>(r.BASE="base",r.BODY="body",r.HEAD="head",r.HTML="html",r.LINK="link",r.META="meta",r.NOSCRIPT="noscript",r.SCRIPT="script",r.STYLE="style",r.TITLE="title",r.FRAGMENT="Symbol(react.fragment)",r))(o_||{}),Md={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},sy=Object.values(o_),Ff={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},xS=Object.entries(Ff).reduce((r,[e,n])=>(r[n]=e,r),{}),zn="data-rh",So={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Io=(r,e)=>{for(let n=r.length-1;n>=0;n-=1){const s=r[n];if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}return null},bS=r=>{let e=Io(r,"title");const n=Io(r,So.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const s=Io(r,So.DEFAULT_TITLE);return e||s||void 0},NS=r=>Io(r,So.ON_CHANGE_CLIENT_STATE)||(()=>{}),Fd=(r,e)=>e.filter(n=>typeof n[r]<"u").map(n=>n[r]).reduce((n,s)=>({...n,...s}),{}),OS=(r,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,s)=>{if(!n.length){const a=Object.keys(s);for(let u=0;u<a.length;u+=1){const p=a[u].toLowerCase();if(r.indexOf(p)!==-1&&s[p])return n.concat(s)}}return n},[]),DS=r=>console&&typeof console.warn=="function"&&console.warn(r),Ka=(r,e,n)=>{const s={};return n.filter(a=>Array.isArray(a[r])?!0:(typeof a[r]<"u"&&DS(`Helmet: ${r} should be of type "Array". Instead found type "${typeof a[r]}"`),!1)).map(a=>a[r]).reverse().reduce((a,u)=>{const d={};u.filter(m=>{let v;const w=Object.keys(m);for(let I=0;I<w.length;I+=1){const D=w[I],B=D.toLowerCase();e.indexOf(B)!==-1&&!(v==="rel"&&m[v].toLowerCase()==="canonical")&&!(B==="rel"&&m[B].toLowerCase()==="stylesheet")&&(v=B),e.indexOf(D)!==-1&&(D==="innerHTML"||D==="cssText"||D==="itemprop")&&(v=D)}if(!v||!m[v])return!1;const S=m[v].toLowerCase();return s[v]||(s[v]={}),d[v]||(d[v]={}),s[v][S]?!1:(d[v][S]=!0,!0)}).reverse().forEach(m=>a.push(m));const p=Object.keys(d);for(let m=0;m<p.length;m+=1){const v=p[m],w={...s[v],...d[v]};s[v]=w}return a},[]).reverse()},LS=(r,e)=>{if(Array.isArray(r)&&r.length){for(let n=0;n<r.length;n+=1)if(r[n][e])return!0}return!1},VS=r=>({baseTag:OS(["href"],r),bodyAttributes:Fd("bodyAttributes",r),defer:Io(r,So.DEFER),encode:Io(r,So.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Fd("htmlAttributes",r),linkTags:Ka("link",["rel","href"],r),metaTags:Ka("meta",["name","charset","http-equiv","property","itemprop"],r),noscriptTags:Ka("noscript",["innerHTML"],r),onChangeClientState:NS(r),scriptTags:Ka("script",["src","innerHTML"],r),styleTags:Ka("style",["cssText"],r),title:bS(r),titleAttributes:Fd("titleAttributes",r),prioritizeSeoTags:LS(r,So.PRIORITIZE_SEO_TAGS)}),a_=r=>Array.isArray(r)?r.join(""):r,MS=(r,e)=>{const n=Object.keys(r);for(let s=0;s<n.length;s+=1)if(e[n[s]]&&e[n[s]].includes(r[n[s]]))return!0;return!1},jd=(r,e)=>Array.isArray(r)?r.reduce((n,s)=>(MS(s,e)?n.priority.push(s):n.default.push(s),n),{priority:[],default:[]}):{default:r,priority:[]},oy=(r,e)=>({...r,[e]:void 0}),FS=["noscript","script","style"],ef=(r,e=!0)=>e===!1?String(r):String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),l_=r=>Object.keys(r).reduce((e,n)=>{const s=typeof r[n]<"u"?`${n}="${r[n]}"`:`${n}`;return e?`${e} ${s}`:s},""),jS=(r,e,n,s)=>{const a=l_(n),u=a_(e);return a?`<${r} ${zn}="true" ${a}>${ef(u,s)}</${r}>`:`<${r} ${zn}="true">${ef(u,s)}</${r}>`},US=(r,e,n=!0)=>e.reduce((s,a)=>{const u=a,d=Object.keys(u).filter(v=>!(v==="innerHTML"||v==="cssText")).reduce((v,w)=>{const S=typeof u[w]>"u"?w:`${w}="${ef(u[w],n)}"`;return v?`${v} ${S}`:S},""),p=u.innerHTML||u.cssText||"",m=FS.indexOf(r)===-1;return`${s}<${r} ${zn}="true" ${d}${m?"/>":`>${p}</${r}>`}`},""),u_=(r,e={})=>Object.keys(r).reduce((n,s)=>{const a=Ff[s];return n[a||s]=r[s],n},e),zS=(r,e,n)=>{const s={key:e,[zn]:!0},a=u_(n,s);return[An.createElement("title",a,e)]},rc=(r,e)=>e.map((n,s)=>{const a={key:s,[zn]:!0};return Object.keys(n).forEach(u=>{const p=Ff[u]||u;if(p==="innerHTML"||p==="cssText"){const m=n.innerHTML||n.cssText;a.dangerouslySetInnerHTML={__html:m}}else a[p]=n[u]}),An.createElement(r,a)}),Sn=(r,e,n=!0)=>{switch(r){case"title":return{toComponent:()=>zS(r,e.title,e.titleAttributes),toString:()=>jS(r,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>u_(e),toString:()=>l_(e)};default:return{toComponent:()=>rc(r,e),toString:()=>US(r,e,n)}}},$S=({metaTags:r,linkTags:e,scriptTags:n,encode:s})=>{const a=jd(r,Md.meta),u=jd(e,Md.link),d=jd(n,Md.script);return{priorityMethods:{toComponent:()=>[...rc("meta",a.priority),...rc("link",u.priority),...rc("script",d.priority)],toString:()=>`${Sn("meta",a.priority,s)} ${Sn("link",u.priority,s)} ${Sn("script",d.priority,s)}`},metaTags:a.default,linkTags:u.default,scriptTags:d.default}},BS=r=>{const{baseTag:e,bodyAttributes:n,encode:s=!0,htmlAttributes:a,noscriptTags:u,styleTags:d,title:p="",titleAttributes:m,prioritizeSeoTags:v}=r;let{linkTags:w,metaTags:S,scriptTags:I}=r,D={toComponent:()=>{},toString:()=>""};return v&&({priorityMethods:D,linkTags:w,metaTags:S,scriptTags:I}=$S(r)),{priority:D,base:Sn("base",e,s),bodyAttributes:Sn("bodyAttributes",n,s),htmlAttributes:Sn("htmlAttributes",a,s),link:Sn("link",w,s),meta:Sn("meta",S,s),noscript:Sn("noscript",u,s),script:Sn("script",I,s),style:Sn("style",d,s),title:Sn("title",{title:p,titleAttributes:m},s)}},tf=BS,Ku=[],c_=!!(typeof window<"u"&&window.document&&window.document.createElement),nf=class{instances=[];canUseDOM=c_;context;value={setHelmet:r=>{this.context.helmet=r},helmetInstances:{get:()=>this.canUseDOM?Ku:this.instances,add:r=>{(this.canUseDOM?Ku:this.instances).push(r)},remove:r=>{const e=(this.canUseDOM?Ku:this.instances).indexOf(r);(this.canUseDOM?Ku:this.instances).splice(e,1)}}};constructor(r,e){this.context=r,this.canUseDOM=e||!1,e||(r.helmet=tf({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},qS={},h_=An.createContext(qS),d_=class f_ extends H.Component{static canUseDOM=c_;helmetData;constructor(e){super(e),this.helmetData=new nf(this.props.context||{},f_.canUseDOM)}render(){return An.createElement(h_.Provider,{value:this.helmetData.value},this.props.children)}},yo=(r,e)=>{const n=document.head||document.querySelector("head"),s=n.querySelectorAll(`${r}[${zn}]`),a=[].slice.call(s),u=[];let d;return e&&e.length&&e.forEach(p=>{const m=document.createElement(r);for(const v in p)if(Object.prototype.hasOwnProperty.call(p,v))if(v==="innerHTML")m.innerHTML=p.innerHTML;else if(v==="cssText")m.styleSheet?m.styleSheet.cssText=p.cssText:m.appendChild(document.createTextNode(p.cssText));else{const w=v,S=typeof p[w]>"u"?"":p[w];m.setAttribute(v,S)}m.setAttribute(zn,"true"),a.some((v,w)=>(d=w,m.isEqualNode(v)))?a.splice(d,1):u.push(m)}),a.forEach(p=>p.parentNode?.removeChild(p)),u.forEach(p=>n.appendChild(p)),{oldTags:a,newTags:u}},rf=(r,e)=>{const n=document.getElementsByTagName(r)[0];if(!n)return;const s=n.getAttribute(zn),a=s?s.split(","):[],u=[...a],d=Object.keys(e);for(const p of d){const m=e[p]||"";n.getAttribute(p)!==m&&n.setAttribute(p,m),a.indexOf(p)===-1&&a.push(p);const v=u.indexOf(p);v!==-1&&u.splice(v,1)}for(let p=u.length-1;p>=0;p-=1)n.removeAttribute(u[p]);a.length===u.length?n.removeAttribute(zn):n.getAttribute(zn)!==d.join(",")&&n.setAttribute(zn,d.join(","))},HS=(r,e)=>{typeof r<"u"&&document.title!==r&&(document.title=a_(r)),rf("title",e)},ay=(r,e)=>{const{baseTag:n,bodyAttributes:s,htmlAttributes:a,linkTags:u,metaTags:d,noscriptTags:p,onChangeClientState:m,scriptTags:v,styleTags:w,title:S,titleAttributes:I}=r;rf("body",s),rf("html",a),HS(S,I);const D={baseTag:yo("base",n),linkTags:yo("link",u),metaTags:yo("meta",d),noscriptTags:yo("noscript",p),scriptTags:yo("script",v),styleTags:yo("style",w)},B={},$={};Object.keys(D).forEach(M=>{const{newTags:J,oldTags:X}=D[M];J.length&&(B[M]=J),X.length&&($[M]=D[M].oldTags)}),e&&e(),m(r,B,$)},Qa=null,WS=r=>{Qa&&cancelAnimationFrame(Qa),r.defer?Qa=requestAnimationFrame(()=>{ay(r,()=>{Qa=null})}):(ay(r),Qa=null)},GS=WS,ly=class extends H.Component{rendered=!1;shouldComponentUpdate(r){return!kS(r,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:r}=this.props.context;r.remove(this),this.emitChange()}emitChange(){const{helmetInstances:r,setHelmet:e}=this.props.context;let n=null;const s=VS(r.get().map(a=>{const u={...a.props};return delete u.context,u}));d_.canUseDOM?GS(s):tf&&(n=tf(s)),e(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:r}=this.props.context;r.add(this),this.emitChange()}render(){return this.init(),null}},KS=class extends H.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(r){return!IS(oy(this.props,"helmetData"),oy(r,"helmetData"))}mapNestedChildrenToProps(r,e){if(!e)return null;switch(r.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${r.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(r,e,n,s){return{...e,[r.type]:[...e[r.type]||[],{...n,...this.mapNestedChildrenToProps(r,s)}]}}mapObjectTypeChildren(r,e,n,s){switch(r.type){case"title":return{...e,[r.type]:s,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[r.type]:{...n}}}}mapArrayTypeChildrenToProps(r,e){let n={...e};return Object.keys(r).forEach(s=>{n={...n,[s]:r[s]}}),n}warnOnInvalidChildren(r,e){return ry(sy.some(n=>r.type===n),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${sy.join(", ")} are allowed. Helmet does not support rendering <${r.type}> elements. Refer to our API for more information.`),ry(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${r.type}>. Did you forget to wrap your children in braces? ( <${r.type}>{\`\`}</${r.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(r,e){let n={};return An.Children.forEach(r,s=>{if(!s||!s.props)return;const{children:a,...u}=s.props,d=Object.keys(u).reduce((m,v)=>(m[xS[v]||v]=u[v],m),{});let{type:p}=s;switch(typeof p=="symbol"?p=p.toString():this.warnOnInvalidChildren(s,a),p){case"Symbol(react.fragment)":e=this.mapChildrenToProps(a,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(s,n,d,a);break;default:e=this.mapObjectTypeChildren(s,e,d,a);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:r,...e}=this.props;let n={...e},{helmetData:s}=e;if(r&&(n=this.mapChildrenToProps(r,n)),s&&!(s instanceof nf)){const a=s;s=new nf(a.context,!0),delete n.helmetData}return s?An.createElement(ly,{...n,context:s.value}):An.createElement(h_.Consumer,null,a=>An.createElement(ly,{...n,context:a}))}};const QS="modulepreload",XS=function(r){return"/solstice_SOLS/"+r},uy={},Ti=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let m=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");a=m(n.map(v=>{if(v=XS(v),v in uy)return;uy[v]=!0;const w=v.endsWith(".css"),S=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const I=document.createElement("link");if(I.rel=w?"stylesheet":QS,w||(I.as="script"),I.crossOrigin="",I.href=v,p&&I.setAttribute("nonce",p),document.head.appendChild(I),w)return new Promise((D,B)=>{I.addEventListener("load",D),I.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return a.then(d=>{for(const p of d||[])p.status==="rejected"&&u(p.reason);return e().catch(u)})},YS=()=>{};var cy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},JS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const a=r[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=r[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=r[n++],d=r[n++],p=r[n++],m=((a&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],d=r[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|d&63)}}return e.join("")},m_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const u=r[a],d=a+1<r.length,p=d?r[a+1]:0,m=a+2<r.length,v=m?r[a+2]:0,w=u>>2,S=(u&3)<<4|p>>4;let I=(p&15)<<2|v>>6,D=v&63;m||(D=64,d||(I=64)),s.push(n[w],n[S],n[I],n[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(p_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):JS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const u=n[r.charAt(a++)],p=a<r.length?n[r.charAt(a)]:0;++a;const v=a<r.length?n[r.charAt(a)]:64;++a;const S=a<r.length?n[r.charAt(a)]:64;if(++a,u==null||p==null||v==null||S==null)throw new ZS;const I=u<<2|p>>4;if(s.push(I),v!==64){const D=p<<4&240|v>>2;if(s.push(D),S!==64){const B=v<<6&192|S;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ZS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eI=function(r){const e=p_(r);return m_.encodeByteArray(e,!0)},mc=function(r){return eI(r).replace(/\./g,"")},g_=function(r){try{return m_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=()=>tI().__FIREBASE_DEFAULTS__,rI=()=>{if(typeof process>"u"||typeof cy>"u")return;const r=cy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},iI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&g_(r[1]);return e&&JSON.parse(e)},Lc=()=>{try{return YS()||nI()||rI()||iI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},y_=r=>Lc()?.emulatorHosts?.[r],sI=r=>{const e=y_(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},v_=()=>Lc()?.config,__=r=>Lc()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[mc(JSON.stringify(n)),mc(JSON.stringify(d)),""].join(".")}const el={};function lI(){const r={prod:[],emulator:[]};for(const e of Object.keys(el))el[e]?r.emulator.push(e):r.prod.push(e);return r}function uI(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let hy=!1;function E_(r,e){if(typeof window>"u"||typeof document>"u"||!zo(window.location.host)||el[r]===e||el[r]||hy)return;el[r]=e;function n(I){return`__firebase__banner__${I}`}const s="__firebase__banner",u=lI().prod.length>0;function d(){const I=document.getElementById(s);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function m(I,D){I.setAttribute("width","24"),I.setAttribute("id",D),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{hy=!0,d()},I}function w(I,D){I.setAttribute("id",D),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=uI(s),D=n("text"),B=document.getElementById(D)||document.createElement("span"),$=n("learnmore"),M=document.getElementById($)||document.createElement("a"),J=n("preprendIcon"),X=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ie=I.element;p(ie),w(M,$);const me=v();m(X,J),ie.append(X,B,M,me),document.body.appendChild(ie)}u?(B.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function hI(){const r=Lc()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function pI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mI(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function gI(){return!hI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yI(){try{return typeof indexedDB=="object"}catch{return!1}}function vI(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="FirebaseError";class qr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=_I,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,El.prototype.create)}}class El{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],d=u?wI(u,s):"Error",p=`${this.serviceName}: ${d} (${a}).`;return new qr(a,p,s)}}function wI(r,e){return r.replace(EI,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const EI=/\{\$([^}]+)}/g;function TI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ki(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=r[a],d=e[a];if(dy(u)&&dy(d)){if(!ki(u,d))return!1}else if(u!==d)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function dy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function SI(r,e){const n=new II(r,e);return n.subscribe.bind(n)}class II{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");AI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Ud),a.error===void 0&&(a.error=Ud),a.complete===void 0&&(a.complete=Ud);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(r){return r&&r._delegate?r._delegate:r}class gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new oI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RI(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PI(r){return r===ds?void 0:r}function RI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const xI={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},bI=ke.INFO,NI={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},OI=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=NI[e];if(a)console[a](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jf{constructor(e){this.name=e,this._logLevel=bI,this._logHandler=OI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const DI=(r,e)=>e.some(n=>r instanceof n);let fy,py;function LI(){return fy||(fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VI(){return py||(py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T_=new WeakMap,sf=new WeakMap,S_=new WeakMap,zd=new WeakMap,Uf=new WeakMap;function MI(r){const e=new Promise((n,s)=>{const a=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(Ii(r.result)),a()},d=()=>{s(r.error),a()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&T_.set(n,r)}).catch(()=>{}),Uf.set(e,r),e}function FI(r){if(sf.has(r))return;const e=new Promise((n,s)=>{const a=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),a()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});sf.set(r,e)}let of={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return sf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||S_.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function jI(r){of=r(of)}function UI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call($d(this),e,...n);return S_.set(s,e.sort?e.sort():[e]),Ii(s)}:VI().includes(r)?function(...e){return r.apply($d(this),e),Ii(T_.get(this))}:function(...e){return Ii(r.apply($d(this),e))}}function zI(r){return typeof r=="function"?UI(r):(r instanceof IDBTransaction&&FI(r),DI(r,LI())?new Proxy(r,of):r)}function Ii(r){if(r instanceof IDBRequest)return MI(r);if(zd.has(r))return zd.get(r);const e=zI(r);return e!==r&&(zd.set(r,e),Uf.set(e,r)),e}const $d=r=>Uf.get(r);function $I(r,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const d=indexedDB.open(r,e),p=Ii(d);return s&&d.addEventListener("upgradeneeded",m=>{s(Ii(d.result),m.oldVersion,m.newVersion,Ii(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),a&&m.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const BI=["get","getKey","getAll","getAllKeys","count"],qI=["put","add","delete","clear"],Bd=new Map;function my(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=qI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||BI.includes(n)))return;const u=async function(d,...p){const m=this.transaction(d,a?"readwrite":"readonly");let v=m.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[n](...p),a&&m.done]))[0]};return Bd.set(e,u),u}jI(r=>({...r,get:(e,n,s)=>my(e,n)||r.get(e,n,s),has:(e,n)=>!!my(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function WI(r){return r.getComponent()?.type==="VERSION"}const af="@firebase/app",gy="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new jf("@firebase/app"),GI="@firebase/app-compat",KI="@firebase/analytics-compat",QI="@firebase/analytics",XI="@firebase/app-check-compat",YI="@firebase/app-check",JI="@firebase/auth",ZI="@firebase/auth-compat",e1="@firebase/database",t1="@firebase/data-connect",n1="@firebase/database-compat",r1="@firebase/functions",i1="@firebase/functions-compat",s1="@firebase/installations",o1="@firebase/installations-compat",a1="@firebase/messaging",l1="@firebase/messaging-compat",u1="@firebase/performance",c1="@firebase/performance-compat",h1="@firebase/remote-config",d1="@firebase/remote-config-compat",f1="@firebase/storage",p1="@firebase/storage-compat",m1="@firebase/firestore",g1="@firebase/ai",y1="@firebase/firestore-compat",v1="firebase",_1="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="[DEFAULT]",w1={[af]:"fire-core",[GI]:"fire-core-compat",[QI]:"fire-analytics",[KI]:"fire-analytics-compat",[YI]:"fire-app-check",[XI]:"fire-app-check-compat",[JI]:"fire-auth",[ZI]:"fire-auth-compat",[e1]:"fire-rtdb",[t1]:"fire-data-connect",[n1]:"fire-rtdb-compat",[r1]:"fire-fn",[i1]:"fire-fn-compat",[s1]:"fire-iid",[o1]:"fire-iid-compat",[a1]:"fire-fcm",[l1]:"fire-fcm-compat",[u1]:"fire-perf",[c1]:"fire-perf-compat",[h1]:"fire-rc",[d1]:"fire-rc-compat",[f1]:"fire-gcs",[p1]:"fire-gcs-compat",[m1]:"fire-fst",[y1]:"fire-fst-compat",[g1]:"fire-vertex","fire-js":"fire-js",[v1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Map,E1=new Map,uf=new Map;function yy(r,e){try{r.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function xo(r){const e=r.name;if(uf.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;uf.set(e,r);for(const n of gc.values())yy(n,r);for(const n of E1.values())yy(n,r);return!0}function zf(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ir(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new El("app","Firebase",T1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=_1;function I_(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:lf,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ai.create("bad-app-name",{appName:String(a)});if(n||(n=v_()),!n)throw Ai.create("no-options");const u=gc.get(a);if(u){if(ki(n,u.options)&&ki(s,u.config))return u;throw Ai.create("duplicate-app",{appName:a})}const d=new kI(a);for(const m of uf.values())d.addComponent(m);const p=new S1(n,s,d);return gc.set(a,p),p}function A_(r=lf){const e=gc.get(r);if(!e&&r===lf&&v_())return I_();if(!e)throw Ai.create("no-app",{appName:r});return e}function Ci(r,e,n){let s=w1[r]??r;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(d.join(" "));return}xo(new gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firebase-heartbeat-database",A1=1,ll="firebase-heartbeat-store";let qd=null;function C_(){return qd||(qd=$I(I1,A1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ll)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ai.create("idb-open",{originalErrorMessage:r.message})})),qd}async function C1(r){try{const n=(await C_()).transaction(ll),s=await n.objectStore(ll).get(P_(r));return await n.done,s}catch(e){if(e instanceof qr)Mr.warn(e.message);else{const n=Ai.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(n.message)}}}async function vy(r,e){try{const s=(await C_()).transaction(ll,"readwrite");await s.objectStore(ll).put(e,P_(r)),await s.done}catch(n){if(n instanceof qr)Mr.warn(n.message);else{const s=Ai.create("idb-set",{originalErrorMessage:n?.message});Mr.warn(s.message)}}}function P_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=1024,R1=30;class k1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_y();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>R1){const a=N1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_y(),{heartbeatsToSend:n,unsentEntries:s}=x1(this._heartbeatsCache.heartbeats),a=mc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Mr.warn(e),""}}}function _y(){return new Date().toISOString().substring(0,10)}function x1(r,e=P1){const n=[];let s=r.slice();for(const a of r){const u=n.find(d=>d.agent===a.agent);if(u){if(u.dates.push(a.date),wy(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),wy(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class b1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yI()?vI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wy(r){return mc(JSON.stringify({version:2,heartbeats:r})).length}function N1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(r){xo(new gs("platform-logger",e=>new HI(e),"PRIVATE")),xo(new gs("heartbeat",e=>new k1(e),"PRIVATE")),Ci(af,gy,r),Ci(af,gy,"esm2020"),Ci("fire-js","")}O1("");var D1="firebase",L1="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci(D1,L1,"app");function R_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V1=R_,k_=new El("auth","Firebase",R_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new jf("@firebase/auth");function M1(r,...e){yc.logLevel<=ke.WARN&&yc.warn(`Auth (${$o}): ${r}`,...e)}function ic(r,...e){yc.logLevel<=ke.ERROR&&yc.error(`Auth (${$o}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(r,...e){throw $f(r,...e)}function sr(r,...e){return $f(r,...e)}function x_(r,e,n){const s={...V1(),[e]:n};return new El("auth","Firebase",s).create(e,{appName:r.name})}function ps(r){return x_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $f(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return k_.create(r,...e)}function Ee(r,e,...n){if(!r)throw $f(e,...n)}function Nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ic(e),new Error(e)}function jr(r,e){r||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(){return typeof self<"u"&&self.location?.href||""}function F1(){return Ey()==="http:"||Ey()==="https:"}function Ey(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F1()||fI()||"connection"in navigator)?navigator.onLine:!0}function U1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=cI()||pI()}get(){return j1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(r,e){jr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B1=new Sl(3e4,6e4);function qf(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Bo(r,e,n,s,a={}){return N_(r,a,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const p=Tl({key:r.config.apiKey,...d}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const v={method:e,headers:m,...u};return dI()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&zo(r.emulatorConfig.host)&&(v.credentials="include"),b_.fetch()(await O_(r,r.config.apiHost,n,p),v)})}async function N_(r,e,n){r._canInitEmulator=!1;const s={...z1,...e};try{const a=new H1(r),u=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Qu(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[m,v]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qu(r,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Qu(r,"email-already-in-use",d);if(m==="USER_DISABLED")throw Qu(r,"user-disabled",d);const w=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw x_(r,w,v);Fr(r,w)}}catch(a){if(a instanceof qr)throw a;Fr(r,"network-request-failed",{message:String(a)})}}async function q1(r,e,n,s,a={}){const u=await Bo(r,e,n,s,a);return"mfaPendingCredential"in u&&Fr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function O_(r,e,n,s){const a=`${e}${n}?${s}`,u=r,d=u.config.emulator?Bf(r.config,a):`${r.config.apiScheme}://${a}`;return $1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class H1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(sr(this.auth,"network-request-failed")),B1.get())})}}function Qu(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=sr(r,e,s);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(r,e){return Bo(r,"POST","/v1/accounts:delete",e)}async function vc(r,e){return Bo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G1(r,e=!1){const n=Gt(r),s=await n.getIdToken(e),a=Hf(s);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,d=u?.sign_in_provider;return{claims:a,token:s,authTime:tl(Hd(a.auth_time)),issuedAtTime:tl(Hd(a.iat)),expirationTime:tl(Hd(a.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Hd(r){return Number(r)*1e3}function Hf(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ic("JWT malformed, contained fewer than 3 sections"),null;try{const a=g_(n);return a?JSON.parse(a):(ic("Failed to decode base64 JWT payload"),null)}catch(a){return ic("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Ty(r){const e=Hf(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof qr&&K1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function K1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(r){const e=r.auth,n=await r.getIdToken(),s=await ul(r,vc(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const a=s.users[0];r._notifyReloadListener(a);const u=a.providerUserInfo?.length?D_(a.providerUserInfo):[],d=Y1(r.providerData,u),p=r.isAnonymous,m=!(r.email&&a.passwordHash)&&!d?.length,v=p?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new hf(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(r,w)}async function X1(r){const e=Gt(r);await _c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Y1(r,e){return[...r.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function D_(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(r,e){const n=await N_(r,{},async()=>{const s=Tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=r.config,d=await O_(r,a,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return r.emulatorConfig&&zo(r.emulatorConfig.host)&&(m.credentials="include"),b_.fetch()(d,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Z1(r,e){return Bo(r,"POST","/v2/accounts:revokeToken",qf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ty(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Ty(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:u}=await J1(e,n);this.updateTokensAndExpiration(s,a,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:u}=n,d=new Ao;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.accessToken=a),u&&(Ee(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new Q1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ul(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return G1(this,e)}reload(){return X1(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await _c(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await ul(this,W1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,m=n._redirectEventId??void 0,v=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:D,providerData:B,stsTokenManager:$}=n;Ee(S&&$,e,"internal-error");const M=Ao.fromJSON(this.name,$);Ee(typeof S=="string",e,"internal-error"),gi(s,e.name),gi(a,e.name),Ee(typeof I=="boolean",e,"internal-error"),Ee(typeof D=="boolean",e,"internal-error"),gi(u,e.name),gi(d,e.name),gi(p,e.name),gi(m,e.name),gi(v,e.name),gi(w,e.name);const J=new $n({uid:S,auth:e,email:a,emailVerified:I,displayName:s,isAnonymous:D,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:M,createdAt:v,lastLoginAt:w});return B&&Array.isArray(B)&&(J.providerData=B.map(X=>({...X}))),m&&(J._redirectEventId=m),J}static async _fromIdTokenResponse(e,n,s=!1){const a=new Ao;a.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await _c(u),u}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?D_(a.providerUserInfo):[],d=!(a.email&&a.passwordHash)&&!u?.length,p=new Ao;p.updateFromIdToken(s);const m=new $n({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new hf(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!u?.length};return Object.assign(m,v),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=new Map;function Or(r){jr(r instanceof Function,"Expected a class definition");let e=Sy.get(r);return e?(jr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Sy.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}L_.type="NONE";const Iy=L_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(r,e,n){return`firebase:${r}:${e}:${n}`}class Co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:u}=this.auth;this.fullUserKey=sc(this.userKey,a.apiKey,u),this.fullPersistenceKey=sc("persistence",a.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vc(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Co(Or(Iy),e,s);const a=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=a[0]||Or(Iy);const d=sc(s,e.config.apiKey,e.name);let p=null;for(const v of n)try{const w=await v._get(d);if(w){let S;if(typeof w=="string"){const I=await vc(e,{idToken:w}).catch(()=>{});if(!I)break;S=await $n._fromGetAccountInfoResponse(e,I,w)}else S=$n._fromJSON(e,w);v!==u&&(p=S),u=v;break}}catch{}const m=a.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Co(u,e,s):(u=m[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async v=>{if(v!==u)try{await v._remove(d)}catch{}})),new Co(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z_(e))return"Blackberry";if($_(e))return"Webos";if(M_(e))return"Safari";if((e.includes("chrome/")||F_(e))&&!e.includes("edge/"))return"Chrome";if(U_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function V_(r=$t()){return/firefox\//i.test(r)}function M_(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F_(r=$t()){return/crios\//i.test(r)}function j_(r=$t()){return/iemobile/i.test(r)}function U_(r=$t()){return/android/i.test(r)}function z_(r=$t()){return/blackberry/i.test(r)}function $_(r=$t()){return/webos/i.test(r)}function Wf(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function eA(r=$t()){return Wf(r)&&!!window.navigator?.standalone}function tA(){return mI()&&document.documentMode===10}function B_(r=$t()){return Wf(r)||U_(r)||$_(r)||z_(r)||/windows phone/i.test(r)||j_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r,e=[]){let n;switch(r){case"Browser":n=Ay($t());break;case"Worker":n=`${Ay($t())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,p)=>{try{const m=e(u);d(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(r,e={}){return Bo(r,"GET","/v2/passwordPolicy",qf(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=6;class sA{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cy(this),this.idTokenSubscription=new Cy(this),this.beforeStateQueue=new nA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vc(this,{idToken:e}),s=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ir(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(s=p.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _c(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(ps(this));const n=e?Gt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rA(this),n=new sA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new El("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Z1(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{d=!0,m()}}else{const m=e.addObserver(n);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&M1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Gf(r){return Gt(r)}class Cy{constructor(e){this.auth=e,this.observer=null,this.addObserver=SI(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aA(r){Kf=r}function lA(r){return Kf.loadJS(r)}function uA(){return Kf.gapiScript}function cA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(r,e){const n=zf(r,"auth");if(n.isInitialized()){const a=n.getImmediate(),u=n.getOptions();if(ki(u,e??{}))return a;Fr(a,"already-initialized")}return n.initialize({options:e})}function dA(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Or);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function fA(r,e,n){const s=Gf(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,u=H_(e),{host:d,port:p}=pA(e),m=p===null?"":`:${p}`,v={url:`${u}//${d}${m}/`},w=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ki(v,s.config.emulator)&&ki(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,zo(d)?(w_(`${u}//${d}${m}`),E_("Auth",!0)):mA()}function H_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function pA(r){const e=H_(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const u=a[1];return{host:u,port:Py(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:Py(d)}}}function Py(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function mA(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(r,e){return q1(r,"POST","/v1/accounts:signInWithIdp",qf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="http://localhost";class ys extends W_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...u}=n;if(!s||!a)return null;const d=new ys(s,a);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Po(e,n)}buildRequest(){const e={requestUri:gA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends G_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Il{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ys._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return _i.credential(n,s)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Il{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.GITHUB_SIGN_IN_METHOD="github.com";wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Il{constructor(){super("twitter.com")}static credential(e,n){return ys._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ei.credential(n,s)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const u=await $n._fromIdTokenResponse(e,s,a),d=Ry(s);return new bo({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Ry(s);return new bo({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Ry(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends qr{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new wc(e,n,s,a)}}function K_(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?wc._fromErrorAndOperation(r,u,e,s):u})}async function yA(r,e,n=!1){const s=await ul(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return bo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(r,e,n=!1){const{auth:s}=r;if(ir(s.app))return Promise.reject(ps(s));const a="reauthenticate";try{const u=await ul(r,K_(s,a,e,r),n);Ee(u.idToken,s,"internal-error");const d=Hf(u.idToken);Ee(d,s,"internal-error");const{sub:p}=d;return Ee(r.uid===p,s,"user-mismatch"),bo._forOperation(r,a,u)}catch(u){throw u?.code==="auth/user-not-found"&&Fr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _A(r,e,n=!1){if(ir(r.app))return Promise.reject(ps(r));const s="signIn",a=await K_(r,s,e),u=await bo._fromIdTokenResponse(r,s,a);return n||await r._updateCurrentUser(u.user),u}function wA(r,e,n,s){return Gt(r).onIdTokenChanged(e,n,s)}function EA(r,e,n){return Gt(r).beforeAuthStateChanged(e,n)}const Ec="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ec,"1"),this.storage.removeItem(Ec),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=1e3,SA=10;class X_ extends Q_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,m)=>{this.notifyListeners(d,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);tA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,SA):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},TA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}X_.type="LOCAL";const IA=X_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends Q_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Y_.type="SESSION";const J_=Y_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Vc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:u}=n.data,d=this.handlersMap[a];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const p=Array.from(d).map(async v=>v(n.origin,u)),m=await AA(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,d;return new Promise((p,m)=>{const v=Qf("",20);a.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},s);d={messageChannel:a,onMessage(S){const I=S;if(I.data.eventId===v)switch(I.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(I.data.response);break;default:clearTimeout(w),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(d),a.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[a.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function PA(r){or().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function RA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kA(){return navigator?.serviceWorker?.controller||null}function xA(){return Z_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="firebaseLocalStorageDb",bA=1,Tc="firebaseLocalStorage",tw="fbase_key";class Al{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mc(r,e){return r.transaction([Tc],e?"readwrite":"readonly").objectStore(Tc)}function NA(){const r=indexedDB.deleteDatabase(ew);return new Al(r).toPromise()}function df(){const r=indexedDB.open(ew,bA);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Tc,{keyPath:tw})}catch(a){n(a)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Tc)?e(s):(s.close(),await NA(),e(await df()))})})}async function ky(r,e,n){const s=Mc(r,!0).put({[tw]:e,value:n});return new Al(s).toPromise()}async function OA(r,e){const n=Mc(r,!1).get(e),s=await new Al(n).toPromise();return s===void 0?null:s.value}function xy(r,e){const n=Mc(r,!0).delete(e);return new Al(n).toPromise()}const DA=800,LA=3;class nw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await df(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>LA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vc._getInstance(xA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RA(),!this.activeServiceWorker)return;this.sender=new CA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await df();return await ky(e,Ec,"1"),await xy(e,Ec),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ky(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>OA(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=Mc(a,!1).getAll();return new Al(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:u}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nw.type="LOCAL";const VA=nw;new Sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(r,e){return e?Or(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends W_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FA(r){return _A(r.auth,new Xf(r),r.bypassAuthState)}function jA(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),vA(n,new Xf(r),r.bypassAuthState)}async function UA(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),yA(n,new Xf(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,s,a,u=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FA;case"linkViaPopup":case"linkViaRedirect":return UA;case"reauthViaPopup":case"reauthViaRedirect":return jA;default:Fr(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new Sl(2e3,1e4);class To extends rw{constructor(e,n,s,a,u){super(e,n,a,u),this.provider=s,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Qf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zA.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="pendingRedirect",oc=new Map;class BA extends rw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=oc.get(this.auth._key());if(!e){try{const s=await qA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}oc.set(this.auth._key(),e)}return this.bypassAuthState||oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qA(r,e){const n=GA(e),s=WA(r);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function HA(r,e){oc.set(r._key(),e)}function WA(r){return Or(r._redirectPersistence)}function GA(r){return sc($A,r.config.apiKey,r.name)}async function KA(r,e,n=!1){if(ir(r.app))return Promise.reject(ps(r));const s=Gf(r),a=MA(s,e),d=await new BA(s,a,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=600*1e3;class XA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!iw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QA&&this.cachedEventUids.clear(),this.cachedEventUids.has(by(e))}saveEventToCache(e){this.cachedEventUids.add(by(e)),this.lastProcessedEventTime=Date.now()}}function by(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function iw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function YA(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(r,e={}){return Bo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eC=/^https?/;async function tC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await JA(r);for(const n of e)try{if(nC(n))return}catch{}Fr(r,"unauthorized-domain")}function nC(r){const e=cf(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!eC.test(n))return!1;if(ZA.test(r))return s===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new Sl(3e4,6e4);function Ny(){const r=or().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function iC(r){return new Promise((e,n)=>{function s(){Ny(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ny(),n(sr(r,"network-request-failed"))},timeout:rC.get()})}if(or().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(or().gapi?.load)s();else{const a=cA("iframefcb");return or()[a]=()=>{gapi.load?s():n(sr(r,"network-request-failed"))},lA(`${uA()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw ac=null,e})}let ac=null;function sC(r){return ac=ac||iC(r),ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=new Sl(5e3,15e3),aC="__/auth/iframe",lC="emulator/auth/iframe",uC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hC(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Bf(e,lC):`https://${r.config.authDomain}/${aC}`,s={apiKey:e.apiKey,appName:r.name,v:$o},a=cC.get(r.config.apiHost);a&&(s.eid=a);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Tl(s).slice(1)}`}async function dC(r){const e=await sC(r),n=or().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:hC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uC,dontclear:!0},s=>new Promise(async(a,u)=>{await s.restyle({setHideOnLeave:!1});const d=sr(r,"network-request-failed"),p=or().setTimeout(()=>{u(d)},oC.get());function m(){or().clearTimeout(p),a(s)}s.ping(m).then(m,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pC=500,mC=600,gC="_blank",yC="http://localhost";class Oy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vC(r,e,n,s=pC,a=mC){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...fC,width:s.toString(),height:a.toString(),top:u,left:d},v=$t().toLowerCase();n&&(p=F_(v)?gC:n),V_(v)&&(e=e||yC,m.scrollbars="yes");const w=Object.entries(m).reduce((I,[D,B])=>`${I}${D}=${B},`,"");if(eA(v)&&p!=="_self")return _C(e||"",p),new Oy(null);const S=window.open(e||"",p,w);Ee(S,r,"popup-blocked");try{S.focus()}catch{}return new Oy(S)}function _C(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="__/auth/handler",EC="emulator/auth/handler",TC=encodeURIComponent("fac");async function Dy(r,e,n,s,a,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:$o,eventId:a};if(e instanceof G_){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",TI(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,S]of Object.entries({}))d[w]=S}if(e instanceof Il){const w=e.getScopes().filter(S=>S!=="");w.length>0&&(d.scopes=w.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const m=await r._getAppCheckToken(),v=m?`#${TC}=${encodeURIComponent(m)}`:"";return`${SC(r)}?${Tl(p).slice(1)}${v}`}function SC({config:r}){return r.emulator?Bf(r,EC):`https://${r.authDomain}/${wC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="webStorageSupport";class IC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J_,this._completeRedirectFn=KA,this._overrideRedirectResult=HA}async _openPopup(e,n,s,a){jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Dy(e,n,s,cf(),a);return vC(e,u,Qf())}async _openRedirect(e,n,s,a){await this._originValidation(e);const u=await Dy(e,n,s,cf(),a);return PA(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:u}=this.eventManagers[n];return a?Promise.resolve(a):(jr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await dC(e),s=new XA(e);return n.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wd,{type:Wd},a=>{const u=a?.[0]?.[Wd];u!==void 0&&n(!!u),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return B_()||M_()||Wf()}}const AC=IC;var Ly="@firebase/auth",Vy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RC(r){xo(new gs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q_(r)},v=new oA(s,a,u,m);return dA(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),xo(new gs("auth-internal",e=>{const n=Gf(e.getProvider("auth").getImmediate());return(s=>new CC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(Ly,Vy,PC(r)),Ci(Ly,Vy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=300,xC=__("authIdTokenMaxAge")||kC;let My=null;const bC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>xC)return;const a=n?.token;My!==a&&(My=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function NC(r=A_()){const e=zf(r,"auth");if(e.isInitialized())return e.getImmediate();const n=hA(r,{popupRedirectResolver:AC,persistence:[VA,IA,J_]}),s=__("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=bC(u.toString());EA(n,d,()=>d(n.currentUser)),wA(n,p=>d(p))}}const a=y_("auth");return a&&fA(n,`http://${a}`),n}function OC(){return document.getElementsByTagName("head")?.[0]??document}aA({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=a=>{const u=sr("internal-error");u.customData=a,n(u)},s.type="text/javascript",s.charset="UTF-8",OC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RC("Browser");var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pi,sw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function P(){}P.prototype=A.prototype,x.D=A.prototype,x.prototype=new P,x.prototype.constructor=x,x.C=function(N,L,F){for(var R=Array(arguments.length-2),it=2;it<arguments.length;it++)R[it-2]=arguments[it];return A.prototype[L].apply(N,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,A,P){P||(P=0);var N=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)N[L]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(L=0;16>L;++L)N[L]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=x.g[0],P=x.g[1],L=x.g[2];var F=x.g[3],R=A+(F^P&(L^F))+N[0]+3614090360&4294967295;A=P+(R<<7&4294967295|R>>>25),R=F+(L^A&(P^L))+N[1]+3905402710&4294967295,F=A+(R<<12&4294967295|R>>>20),R=L+(P^F&(A^P))+N[2]+606105819&4294967295,L=F+(R<<17&4294967295|R>>>15),R=P+(A^L&(F^A))+N[3]+3250441966&4294967295,P=L+(R<<22&4294967295|R>>>10),R=A+(F^P&(L^F))+N[4]+4118548399&4294967295,A=P+(R<<7&4294967295|R>>>25),R=F+(L^A&(P^L))+N[5]+1200080426&4294967295,F=A+(R<<12&4294967295|R>>>20),R=L+(P^F&(A^P))+N[6]+2821735955&4294967295,L=F+(R<<17&4294967295|R>>>15),R=P+(A^L&(F^A))+N[7]+4249261313&4294967295,P=L+(R<<22&4294967295|R>>>10),R=A+(F^P&(L^F))+N[8]+1770035416&4294967295,A=P+(R<<7&4294967295|R>>>25),R=F+(L^A&(P^L))+N[9]+2336552879&4294967295,F=A+(R<<12&4294967295|R>>>20),R=L+(P^F&(A^P))+N[10]+4294925233&4294967295,L=F+(R<<17&4294967295|R>>>15),R=P+(A^L&(F^A))+N[11]+2304563134&4294967295,P=L+(R<<22&4294967295|R>>>10),R=A+(F^P&(L^F))+N[12]+1804603682&4294967295,A=P+(R<<7&4294967295|R>>>25),R=F+(L^A&(P^L))+N[13]+4254626195&4294967295,F=A+(R<<12&4294967295|R>>>20),R=L+(P^F&(A^P))+N[14]+2792965006&4294967295,L=F+(R<<17&4294967295|R>>>15),R=P+(A^L&(F^A))+N[15]+1236535329&4294967295,P=L+(R<<22&4294967295|R>>>10),R=A+(L^F&(P^L))+N[1]+4129170786&4294967295,A=P+(R<<5&4294967295|R>>>27),R=F+(P^L&(A^P))+N[6]+3225465664&4294967295,F=A+(R<<9&4294967295|R>>>23),R=L+(A^P&(F^A))+N[11]+643717713&4294967295,L=F+(R<<14&4294967295|R>>>18),R=P+(F^A&(L^F))+N[0]+3921069994&4294967295,P=L+(R<<20&4294967295|R>>>12),R=A+(L^F&(P^L))+N[5]+3593408605&4294967295,A=P+(R<<5&4294967295|R>>>27),R=F+(P^L&(A^P))+N[10]+38016083&4294967295,F=A+(R<<9&4294967295|R>>>23),R=L+(A^P&(F^A))+N[15]+3634488961&4294967295,L=F+(R<<14&4294967295|R>>>18),R=P+(F^A&(L^F))+N[4]+3889429448&4294967295,P=L+(R<<20&4294967295|R>>>12),R=A+(L^F&(P^L))+N[9]+568446438&4294967295,A=P+(R<<5&4294967295|R>>>27),R=F+(P^L&(A^P))+N[14]+3275163606&4294967295,F=A+(R<<9&4294967295|R>>>23),R=L+(A^P&(F^A))+N[3]+4107603335&4294967295,L=F+(R<<14&4294967295|R>>>18),R=P+(F^A&(L^F))+N[8]+1163531501&4294967295,P=L+(R<<20&4294967295|R>>>12),R=A+(L^F&(P^L))+N[13]+2850285829&4294967295,A=P+(R<<5&4294967295|R>>>27),R=F+(P^L&(A^P))+N[2]+4243563512&4294967295,F=A+(R<<9&4294967295|R>>>23),R=L+(A^P&(F^A))+N[7]+1735328473&4294967295,L=F+(R<<14&4294967295|R>>>18),R=P+(F^A&(L^F))+N[12]+2368359562&4294967295,P=L+(R<<20&4294967295|R>>>12),R=A+(P^L^F)+N[5]+4294588738&4294967295,A=P+(R<<4&4294967295|R>>>28),R=F+(A^P^L)+N[8]+2272392833&4294967295,F=A+(R<<11&4294967295|R>>>21),R=L+(F^A^P)+N[11]+1839030562&4294967295,L=F+(R<<16&4294967295|R>>>16),R=P+(L^F^A)+N[14]+4259657740&4294967295,P=L+(R<<23&4294967295|R>>>9),R=A+(P^L^F)+N[1]+2763975236&4294967295,A=P+(R<<4&4294967295|R>>>28),R=F+(A^P^L)+N[4]+1272893353&4294967295,F=A+(R<<11&4294967295|R>>>21),R=L+(F^A^P)+N[7]+4139469664&4294967295,L=F+(R<<16&4294967295|R>>>16),R=P+(L^F^A)+N[10]+3200236656&4294967295,P=L+(R<<23&4294967295|R>>>9),R=A+(P^L^F)+N[13]+681279174&4294967295,A=P+(R<<4&4294967295|R>>>28),R=F+(A^P^L)+N[0]+3936430074&4294967295,F=A+(R<<11&4294967295|R>>>21),R=L+(F^A^P)+N[3]+3572445317&4294967295,L=F+(R<<16&4294967295|R>>>16),R=P+(L^F^A)+N[6]+76029189&4294967295,P=L+(R<<23&4294967295|R>>>9),R=A+(P^L^F)+N[9]+3654602809&4294967295,A=P+(R<<4&4294967295|R>>>28),R=F+(A^P^L)+N[12]+3873151461&4294967295,F=A+(R<<11&4294967295|R>>>21),R=L+(F^A^P)+N[15]+530742520&4294967295,L=F+(R<<16&4294967295|R>>>16),R=P+(L^F^A)+N[2]+3299628645&4294967295,P=L+(R<<23&4294967295|R>>>9),R=A+(L^(P|~F))+N[0]+4096336452&4294967295,A=P+(R<<6&4294967295|R>>>26),R=F+(P^(A|~L))+N[7]+1126891415&4294967295,F=A+(R<<10&4294967295|R>>>22),R=L+(A^(F|~P))+N[14]+2878612391&4294967295,L=F+(R<<15&4294967295|R>>>17),R=P+(F^(L|~A))+N[5]+4237533241&4294967295,P=L+(R<<21&4294967295|R>>>11),R=A+(L^(P|~F))+N[12]+1700485571&4294967295,A=P+(R<<6&4294967295|R>>>26),R=F+(P^(A|~L))+N[3]+2399980690&4294967295,F=A+(R<<10&4294967295|R>>>22),R=L+(A^(F|~P))+N[10]+4293915773&4294967295,L=F+(R<<15&4294967295|R>>>17),R=P+(F^(L|~A))+N[1]+2240044497&4294967295,P=L+(R<<21&4294967295|R>>>11),R=A+(L^(P|~F))+N[8]+1873313359&4294967295,A=P+(R<<6&4294967295|R>>>26),R=F+(P^(A|~L))+N[15]+4264355552&4294967295,F=A+(R<<10&4294967295|R>>>22),R=L+(A^(F|~P))+N[6]+2734768916&4294967295,L=F+(R<<15&4294967295|R>>>17),R=P+(F^(L|~A))+N[13]+1309151649&4294967295,P=L+(R<<21&4294967295|R>>>11),R=A+(L^(P|~F))+N[4]+4149444226&4294967295,A=P+(R<<6&4294967295|R>>>26),R=F+(P^(A|~L))+N[11]+3174756917&4294967295,F=A+(R<<10&4294967295|R>>>22),R=L+(A^(F|~P))+N[2]+718787259&4294967295,L=F+(R<<15&4294967295|R>>>17),R=P+(F^(L|~A))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+F&4294967295}s.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var P=A-this.blockSize,N=this.B,L=this.h,F=0;F<A;){if(L==0)for(;F<=P;)a(this,x,F),F+=this.blockSize;if(typeof x=="string"){for(;F<A;)if(N[L++]=x.charCodeAt(F++),L==this.blockSize){a(this,N),L=0;break}}else for(;F<A;)if(N[L++]=x[F++],L==this.blockSize){a(this,N),L=0;break}}this.h=L,this.o+=A},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var P=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=P&255,P/=256;for(this.u(x),x=Array(16),A=P=0;4>A;++A)for(var N=0;32>N;N+=8)x[P++]=this.g[A]>>>N&255;return x};function u(x,A){var P=p;return Object.prototype.hasOwnProperty.call(P,x)?P[x]:P[x]=A(x)}function d(x,A){this.h=A;for(var P=[],N=!0,L=x.length-1;0<=L;L--){var F=x[L]|0;N&&F==A||(P[L]=F,N=!1)}this.g=P}var p={};function m(x){return-128<=x&&128>x?u(x,function(A){return new d([A|0],0>A?-1:0)}):new d([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return M(v(-x));for(var A=[],P=1,N=0;x>=P;N++)A[N]=x/P|0,P*=4294967296;return new d(A,0)}function w(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return M(w(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=v(Math.pow(A,8)),N=S,L=0;L<x.length;L+=8){var F=Math.min(8,x.length-L),R=parseInt(x.substring(L,L+F),A);8>F?(F=v(Math.pow(A,F)),N=N.j(F).add(v(R))):(N=N.j(P),N=N.add(v(R)))}return N}var S=m(0),I=m(1),D=m(16777216);r=d.prototype,r.m=function(){if($(this))return-M(this).m();for(var x=0,A=1,P=0;P<this.g.length;P++){var N=this.i(P);x+=(0<=N?N:4294967296+N)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(B(this))return"0";if($(this))return"-"+M(this).toString(x);for(var A=v(Math.pow(x,6)),P=this,N="";;){var L=me(P,A).g;P=J(P,L.j(A));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(x);if(P=L,B(P))return F+N;for(;6>F.length;)F="0"+F;N=F+N}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function B(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function $(x){return x.h==-1}r.l=function(x){return x=J(this,x),$(x)?-1:B(x)?0:1};function M(x){for(var A=x.g.length,P=[],N=0;N<A;N++)P[N]=~x.g[N];return new d(P,~x.h).add(I)}r.abs=function(){return $(this)?M(this):this},r.add=function(x){for(var A=Math.max(this.g.length,x.g.length),P=[],N=0,L=0;L<=A;L++){var F=N+(this.i(L)&65535)+(x.i(L)&65535),R=(F>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);N=R>>>16,F&=65535,R&=65535,P[L]=R<<16|F}return new d(P,P[P.length-1]&-2147483648?-1:0)};function J(x,A){return x.add(M(A))}r.j=function(x){if(B(this)||B(x))return S;if($(this))return $(x)?M(this).j(M(x)):M(M(this).j(x));if($(x))return M(this.j(M(x)));if(0>this.l(D)&&0>x.l(D))return v(this.m()*x.m());for(var A=this.g.length+x.g.length,P=[],N=0;N<2*A;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<x.g.length;L++){var F=this.i(N)>>>16,R=this.i(N)&65535,it=x.i(L)>>>16,Ot=x.i(L)&65535;P[2*N+2*L]+=R*Ot,X(P,2*N+2*L),P[2*N+2*L+1]+=F*Ot,X(P,2*N+2*L+1),P[2*N+2*L+1]+=R*it,X(P,2*N+2*L+1),P[2*N+2*L+2]+=F*it,X(P,2*N+2*L+2)}for(N=0;N<A;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=A;N<2*A;N++)P[N]=0;return new d(P,0)};function X(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function ie(x,A){this.g=x,this.h=A}function me(x,A){if(B(A))throw Error("division by zero");if(B(x))return new ie(S,S);if($(x))return A=me(M(x),A),new ie(M(A.g),M(A.h));if($(A))return A=me(x,M(A)),new ie(M(A.g),A.h);if(30<x.g.length){if($(x)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var P=I,N=A;0>=N.l(x);)P=Re(P),N=Re(N);var L=Ie(P,1),F=Ie(N,1);for(N=Ie(N,2),P=Ie(P,2);!B(N);){var R=F.add(N);0>=R.l(x)&&(L=L.add(P),F=R),N=Ie(N,1),P=Ie(P,1)}return A=J(x,L.j(A)),new ie(L,A)}for(L=S;0<=x.l(A);){for(P=Math.max(1,Math.floor(x.m()/A.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),F=v(P),R=F.j(A);$(R)||0<R.l(x);)P-=N,F=v(P),R=F.j(A);B(F)&&(F=I),L=L.add(F),x=J(x,R)}return new ie(L,x)}r.A=function(x){return me(this,x).h},r.and=function(x){for(var A=Math.max(this.g.length,x.g.length),P=[],N=0;N<A;N++)P[N]=this.i(N)&x.i(N);return new d(P,this.h&x.h)},r.or=function(x){for(var A=Math.max(this.g.length,x.g.length),P=[],N=0;N<A;N++)P[N]=this.i(N)|x.i(N);return new d(P,this.h|x.h)},r.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),P=[],N=0;N<A;N++)P[N]=this.i(N)^x.i(N);return new d(P,this.h^x.h)};function Re(x){for(var A=x.g.length+1,P=[],N=0;N<A;N++)P[N]=x.i(N)<<1|x.i(N-1)>>>31;return new d(P,x.h)}function Ie(x,A){var P=A>>5;A%=32;for(var N=x.g.length-P,L=[],F=0;F<N;F++)L[F]=0<A?x.i(F+P)>>>A|x.i(F+P+1)<<32-A:x.i(F+P);return new d(L,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,sw=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=w,Pi=d}).apply(typeof Fy<"u"?Fy:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ow,Xa,aw,lc,ff,lw,uw,cw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function a(c,g){if(g)e:{var _=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var j=c[T];if(!(j in _))break e;_=_[j]}c=c[c.length-1],T=_[c],g=g(T),g!=T&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,T=!1,j={next:function(){if(!T&&_<c.length){var W=_++;return{value:g(W,c[W]),done:!1}}return T=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}a("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function m(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function v(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function w(c,g,_){return c.call.apply(c.bind,arguments)}function S(c,g,_){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,T),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function I(c,g,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:S,I.apply(null,arguments)}function D(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function B(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(T,j,W){for(var ne=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ne[ze-2]=arguments[ze];return g.prototype[j].apply(T,ne)}}function $(c){const g=c.length;if(0<g){const _=Array(g);for(let T=0;T<g;T++)_[T]=c[T];return _}return[]}function M(c,g){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(m(T)){const j=c.length||0,W=T.length||0;c.length=j+W;for(let ne=0;ne<W;ne++)c[j+ne]=T[ne]}else c.push(T)}}class J{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function X(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var Re=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function Ie(c,g,_){for(const T in c)g.call(_,c[T],T,c)}function x(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function A(c){const g={};for(const _ in c)g[_]=c[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let _,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(_ in T)c[_]=T[_];for(let W=0;W<P.length;W++)_=P[W],Object.prototype.hasOwnProperty.call(T,_)&&(c[_]=T[_])}}function L(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function F(c){p.setTimeout(()=>{throw c},0)}function R(){var c=ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class it{constructor(){this.h=this.g=null}add(g,_){const T=Ot.get();T.set(g,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Ot=new J(()=>new Dt,c=>c.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,re=!1,ge=new it,ae=()=>{const c=p.Promise.resolve(void 0);$e=()=>{c.then(V)}};var V=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){F(_)}var g=Ot;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}re=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,g),p.removeEventListener("test",_,g)}catch{}return c})();function Ce(c,g){if(fe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(Re){e:{try{me(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}B(Ce,fe);var Oe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),je=0;function qe(c,g,_,T,j){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!T,this.ha=j,this.key=++je,this.da=this.fa=!1}function wt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pr(c){this.src=c,this.g={},this.h=0}pr.prototype.add=function(c,g,_,T,j){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var ne=Hr(c,g,T,j);return-1<ne?(g=c[ne],_||(g.fa=!1)):(g=new qe(g,this.src,W,!!T,j),g.fa=_,c.push(g)),g};function Is(c,g){var _=g.type;if(_ in c.g){var T=c.g[_],j=Array.prototype.indexOf.call(T,g,void 0),W;(W=0<=j)&&Array.prototype.splice.call(T,j,1),W&&(wt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Hr(c,g,_,T){for(var j=0;j<c.length;++j){var W=c[j];if(!W.da&&W.listener==g&&W.capture==!!_&&W.ha==T)return j}return-1}var Fi="closure_lm_"+(1e6*Math.random()|0),As={};function Jo(c,g,_,T,j){if(Array.isArray(g)){for(var W=0;W<g.length;W++)Jo(c,g[W],_,T,j);return null}return _=ta(_),c&&c[Fe]?c.K(g,_,v(T)?!!T.capture:!1,j):Zo(c,g,_,!1,T,j)}function Zo(c,g,_,T,j,W){if(!g)throw Error("Invalid event type");var ne=v(j)?!!j.capture:!!j,ze=Ps(c);if(ze||(c[Fi]=ze=new pr(c)),_=ze.add(g,_,T,ne,W),_.proxy)return _;if(T=bl(),_.proxy=T,T.src=c,T.listener=_,c.addEventListener)Ae||(j=ne),j===void 0&&(j=!1),c.addEventListener(g.toString(),T,j);else if(c.attachEvent)c.attachEvent(gr(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function bl(){function c(_){return g.call(c.src,c.listener,_)}const g=ea;return c}function Cs(c,g,_,T,j){if(Array.isArray(g))for(var W=0;W<g.length;W++)Cs(c,g[W],_,T,j);else T=v(T)?!!T.capture:!!T,_=ta(_),c&&c[Fe]?(c=c.i,g=String(g).toString(),g in c.g&&(W=c.g[g],_=Hr(W,_,T,j),-1<_&&(wt(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ps(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Hr(g,_,T,j)),(_=-1<c?g[c]:null)&&mr(_))}function mr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Fe])Is(g.i,c);else{var _=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(_,T,c.capture):g.detachEvent?g.detachEvent(gr(_),T):g.addListener&&g.removeListener&&g.removeListener(T),(_=Ps(g))?(Is(_,c),_.h==0&&(_.src=null,g[Fi]=null)):wt(c)}}}function gr(c){return c in As?As[c]:As[c]="on"+c}function ea(c,g){if(c.da)c=!0;else{g=new Ce(g,this);var _=c.listener,T=c.ha||c.src;c.fa&&mr(c),c=_.call(T,g)}return c}function Ps(c){return c=c[Fi],c instanceof pr?c:null}var Rs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ta(c){return typeof c=="function"?c:(c[Rs]||(c[Rs]=function(g){return c.handleEvent(g)}),c[Rs])}function pt(){Q.call(this),this.i=new pr(this),this.M=this,this.F=null}B(pt,Q),pt.prototype[Fe]=!0,pt.prototype.removeEventListener=function(c,g,_,T){Cs(this,c,g,_,T)};function mt(c,g){var _,T=c.F;if(T)for(_=[];T;T=T.F)_.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new fe(g,c);else if(g instanceof fe)g.target=g.target||c;else{var j=g;g=new fe(T,c),N(g,j)}if(j=!0,_)for(var W=_.length-1;0<=W;W--){var ne=g.g=_[W];j=yr(ne,T,!0,g)&&j}if(ne=g.g=c,j=yr(ne,T,!0,g)&&j,j=yr(ne,T,!1,g)&&j,_)for(W=0;W<_.length;W++)ne=g.g=_[W],j=yr(ne,T,!1,g)&&j}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],T=0;T<_.length;T++)wt(_[T]);delete c.g[g],c.h--}}this.F=null},pt.prototype.K=function(c,g,_,T){return this.i.add(String(c),g,!1,_,T)},pt.prototype.L=function(c,g,_,T){return this.i.add(String(c),g,!0,_,T)};function yr(c,g,_,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,W=0;W<g.length;++W){var ne=g[W];if(ne&&!ne.da&&ne.capture==_){var ze=ne.listener,gt=ne.ha||ne.src;ne.fa&&Is(c.i,ne),j=ze.call(gt,T)!==!1&&j}}return j&&!T.defaultPrevented}function na(c,g,_){if(typeof c=="function")_&&(c=I(c,_));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:p.setTimeout(c,g||0)}function Wr(c){c.g=na(()=>{c.g=null,c.i&&(c.i=!1,Wr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ji extends Q{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Wr(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ui(c){Q.call(this),this.h=c,this.g={}}B(Ui,Q);var ra=[];function ia(c){Ie(c.g,function(g,_){this.g.hasOwnProperty(_)&&mr(g)},c),c.g={}}Ui.prototype.N=function(){Ui.aa.N.call(this),ia(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sa=p.JSON.stringify,oa=p.JSON.parse,aa=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function zi(){}zi.prototype.h=null;function ks(c){return c.h||(c.h=c.i())}function xs(){}var fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wn(){fe.call(this,"d")}B(Wn,fe);function bs(){fe.call(this,"c")}B(bs,fe);var Gn={},la=null;function $i(){return la=la||new pt}Gn.La="serverreachability";function ua(c){fe.call(this,Gn.La,c)}B(ua,fe);function vr(c){const g=$i();mt(g,new ua(g))}Gn.STAT_EVENT="statevent";function ca(c,g){fe.call(this,Gn.STAT_EVENT,c),this.stat=g}B(ca,fe);function st(c){const g=$i();mt(g,new ca(g,c))}Gn.Ma="timingevent";function Ns(c,g){fe.call(this,Gn.Ma,c),this.size=g}B(Ns,fe);function Cn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},g)}function Bi(){this.g=!0}Bi.prototype.xa=function(){this.g=!1};function qi(c,g,_,T,j,W){c.info(function(){if(c.g)if(W)for(var ne="",ze=W.split("&"),gt=0;gt<ze.length;gt++){var De=ze[gt].split("=");if(1<De.length){var Et=De[0];De=De[1];var ut=Et.split("_");ne=2<=ut.length&&ut[1]=="type"?ne+(Et+"="+De+"&"):ne+(Et+"=redacted&")}}else ne=null;else ne=W;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+g+`
`+_+`
`+ne})}function Os(c,g,_,T,j,W,ne){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+g+`
`+_+`
`+W+" "+ne})}function Pn(c,g,_,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+th(c,_)+(T?" "+T:"")})}function ha(c,g){c.info(function(){return"TIMEOUT: "+g})}Bi.prototype.info=function(){};function th(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var T=_[c];if(!(2>T.length)){var j=T[1];if(Array.isArray(j)&&!(1>j.length)){var W=j[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ne=1;ne<j.length;ne++)j[ne]=""}}}}return sa(_)}catch{return g}}var Ds={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rn;function Hi(){}B(Hi,zi),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},Rn=new Hi;function kn(c,g,_,T){this.j=c,this.i=g,this.l=_,this.R=T||1,this.U=new Ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ol}function Ol(){this.i=null,this.g="",this.h=!1}var da={},Ls={};function Vs(c,g,_){c.L=1,c.v=Yr(on(g)),c.m=_,c.P=!0,fa(c,null)}function fa(c,g){c.F=Date.now(),He(c),c.A=on(c.v);var _=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),Zr(_.i,"t",T),c.C=0,_=c.j.J,c.h=new Ol,c.g=Yl(c.j,_?g:null,!c.m),0<c.O&&(c.M=new ji(I(c.Y,c,c.g),c.O)),g=c.U,_=c.g,T=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(ra[0]=j.toString()),j=ra);for(var W=0;W<j.length;W++){var ne=Jo(_,j[W],T||g.handleEvent,!1,g.h||g);if(!ne)break;g.g[ne.key]=ne}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),vr(),qi(c.i,c.u,c.A,c.l,c.R,c.m)}kn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Qt(c)==3?g.j():this.Y(c)},kn.prototype.Y=function(c){try{if(c==this.g)e:{const ut=Qt(this.g);var g=this.g.Ba();const gn=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||_a(this.g)))){this.J||ut!=4||g==7||(g==8||0>=gn?vr(3):vr(2)),Wi(this);var _=this.g.Z();this.X=_;t:if(Dl(this)){var T=_a(this.g);c="";var j=T.length,W=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Gr(this);var ne="";break t}this.h.i=new p.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(T[g],{stream:!(W&&g==j-1)});T.length=0,this.h.g+=c,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=_==200,Os(this.i,this.u,this.A,this.l,this.R,ut,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,gt=this.g;if((ze=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(ze)){var De=ze;break t}}De=null}if(_=De)Pn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pa(this,_);else{this.o=!1,this.s=3,st(12),pn(this),Gr(this);break e}}if(this.P){_=!0;let ln;for(;!this.J&&this.C<ne.length;)if(ln=nh(this,ne),ln==Ls){ut==4&&(this.s=4,st(14),_=!1),Pn(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==da){this.s=4,st(15),Pn(this.i,this.l,ne,"[Invalid Chunk]"),_=!1;break}else Pn(this.i,this.l,ln,null),pa(this,ln);if(Dl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||ne.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)Pn(this.i,this.l,ne,"[Invalid Chunked Response]"),pn(this),Gr(this);else if(0<ne.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Ea(Et),Et.M=!0,st(11))}}else Pn(this.i,this.l,ne,null),pa(this,ne);ut==4&&pn(this),this.o&&!this.J&&(ut==4?Gs(this.j,this):(this.o=!1,He(this)))}else $s(this.g),_==400&&0<ne.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),pn(this),Gr(this)}}}catch{}finally{}};function Dl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nh(c,g){var _=c.C,T=g.indexOf(`
`,_);return T==-1?Ls:(_=Number(g.substring(_,T)),isNaN(_)?da:(T+=1,T+_>g.length?Ls:(g=g.slice(T,T+_),c.C=T+_,g)))}kn.prototype.cancel=function(){this.J=!0,pn(this)};function He(c){c.S=Date.now()+c.I,Ll(c,c.I)}function Ll(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Cn(I(c.ba,c),g)}function Wi(c){c.B&&(p.clearTimeout(c.B),c.B=null)}kn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ha(this.i,this.A),this.L!=2&&(vr(),st(17)),pn(this),this.s=2,Gr(this)):Ll(this,this.S-c)};function Gr(c){c.j.G==0||c.J||Gs(c.j,c)}function pn(c){Wi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ia(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function pa(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Bt(_.h,c))){if(!c.K&&Bt(_.h,c)&&_.G==3){try{var T=_.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ws(_),Dn(_);else break e;Hs(_),st(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Cn(I(_.Za,_),6e3));if(1>=Ml(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Sr(_,11)}else if((c.K||_.g==c)&&Ws(_),!X(g))for(j=_.Da.g.parse(g),g=0;g<j.length;g++){let De=j[g];if(_.T=De[0],De=De[1],_.G==2)if(De[0]=="c"){_.K=De[1],_.ia=De[2];const Et=De[3];Et!=null&&(_.la=Et,_.j.info("VER="+_.la));const ut=De[4];ut!=null&&(_.Aa=ut,_.j.info("SVER="+_.Aa));const gn=De[5];gn!=null&&typeof gn=="number"&&0<gn&&(T=1.5*gn,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const ln=c.g;if(ln){const Zi=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var W=T.h;W.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ma(W,W.h),W.h=null))}if(T.D){const Qs=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(T.ya=Qs,Be(T.I,T.D,Qs))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var ne=c;if(T.qa=Xl(T,T.J?T.ia:null,T.W),ne.K){Fl(T.h,ne);var ze=ne,gt=T.L;gt&&(ze.I=gt),ze.B&&(Wi(ze),He(ze)),T.g=ne}else Ji(T);0<_.i.length&&Yn(_)}else De[0]!="stop"&&De[0]!="close"||Sr(_,7);else _.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Sr(_,7):Pt(_):De[0]!="noop"&&_.l&&_.l.ta(De),_.v=0)}}vr(4)}catch{}}var Vl=class{constructor(c,g){this.g=c,this.map=g}};function Gi(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ml(c){return c.h?1:c.g?c.g.size:0}function Bt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ma(c,g){c.g?c.g.add(g):c.h=g}function Fl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Gi.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return $(c.i)}function Ms(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var g=[],_=c.length,T=0;T<_;T++)g.push(c[T]);return g}g=[],_=0;for(T in c)g[_++]=c[T];return g}function Fs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const T in c)g[_++]=T;return g}}}function Kr(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Fs(c),T=Ms(c),j=T.length,W=0;W<j;W++)g.call(void 0,T[W],_&&_[W],c)}var Ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var T=c[_].indexOf("="),j=null;if(0<=T){var W=c[_].substring(0,T);j=c[_].substring(T+1)}else W=c[_];g(W,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function _r(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _r){this.h=c.h,Qi(this,c.j),this.o=c.o,this.g=c.g,Qr(this,c.s),this.l=c.l;var g=c.i,_=new Kn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Xr(this,_),this.m=c.m}else c&&(g=String(c).match(Ki))?(this.h=!1,Qi(this,g[1]||"",!0),this.o=Ne(g[2]||""),this.g=Ne(g[3]||"",!0),Qr(this,g[4]),this.l=Ne(g[5]||"",!0),Xr(this,g[6]||"",!0),this.m=Ne(g[7]||"")):(this.h=!1,this.i=new Kn(null,this.h))}_r.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Jr(g,js,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Jr(g,js,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Jr(_,_.charAt(0)=="/"?$l:zl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Jr(_,ga)),c.join("")};function on(c){return new _r(c)}function Qi(c,g,_){c.j=_?Ne(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Qr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Xr(c,g,_){g instanceof Kn?(c.i=g,Qn(c.i,c.h)):(_||(g=Jr(g,Bl)),c.i=new Kn(g,c.h))}function Be(c,g,_){c.i.set(g,_)}function Yr(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ne(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Jr(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Ul),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ul(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var js=/[#\/\?@]/g,zl=/[#\?:]/g,$l=/[#\?]/g,Bl=/[#\?@]/g,ga=/#/g;function Kn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Ct(c){c.g||(c.g=new Map,c.h=0,c.i&&rh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Kn.prototype,r.add=function(c,g){Ct(this),this.i=null,c=mn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function xn(c,g){Ct(c),g=mn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function bn(c,g){return Ct(c),g=mn(c,g),c.g.has(g)}r.forEach=function(c,g){Ct(this),this.g.forEach(function(_,T){_.forEach(function(j){c.call(g,j,T,this)},this)},this)},r.na=function(){Ct(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let T=0;T<g.length;T++){const j=c[T];for(let W=0;W<j.length;W++)_.push(g[T])}return _},r.V=function(c){Ct(this);let g=[];if(typeof c=="string")bn(this,c)&&(g=g.concat(this.g.get(mn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return Ct(this),this.i=null,c=mn(this,c),bn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Zr(c,g,_){xn(c,g),0<_.length&&(c.i=null,c.g.set(mn(c,g),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var T=g[_];const W=encodeURIComponent(String(T)),ne=this.V(T);for(T=0;T<ne.length;T++){var j=W;ne[T]!==""&&(j+="="+encodeURIComponent(String(ne[T]))),c.push(j)}}return this.i=c.join("&")};function mn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Qn(c,g){g&&!c.j&&(Ct(c),c.i=null,c.g.forEach(function(_,T){var j=T.toLowerCase();T!=j&&(xn(this,T),Zr(this,j,_))},c)),c.j=g}function ih(c,g){const _=new Bi;if(p.Image){const T=new Image;T.onload=D(Kt,_,"TestLoadImage: loaded",!0,g,T),T.onerror=D(Kt,_,"TestLoadImage: error",!1,g,T),T.onabort=D(Kt,_,"TestLoadImage: abort",!1,g,T),T.ontimeout=D(Kt,_,"TestLoadImage: timeout",!1,g,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function ql(c,g){const _=new Bi,T=new AbortController,j=setTimeout(()=>{T.abort(),Kt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(W=>{clearTimeout(j),W.ok?Kt(_,"TestPingServer: ok",!0,g):Kt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Kt(_,"TestPingServer: error",!1,g)})}function Kt(c,g,_,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(_)}catch{}}function sh(){this.g=new aa}function Hl(c,g,_){const T=_||"";try{Kr(c,function(j,W){let ne=j;v(j)&&(ne=sa(j)),g.push(T+W+"="+encodeURIComponent(ne))})}catch(j){throw g.push(T+"type="+encodeURIComponent("_badmap")),j}}function wr(c){this.l=c.Ub||null,this.j=c.eb||!1}B(wr,zi),wr.prototype.g=function(){return new Xi(this.l,this.j)},wr.prototype.i=(function(c){return function(){return c}})({});function Xi(c,g){pt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Xi,pt),r=Xi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,On(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||p).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,On(this)),this.g&&(this.readyState=3,On(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Nn(this):On(this),this.readyState==3&&Wl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Nn(this))},r.Qa=function(c){this.g&&(this.response=c,Nn(this))},r.ga=function(){this.g&&Nn(this)};function Nn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,On(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function On(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Er(c){let g="";return Ie(c,function(_,T){g+=T,g+=":",g+=_,g+=`\r
`}),g}function ei(c,g,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=Er(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Be(c,g,_))}function Ye(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Ye,pt);var oh=/^https?$/i,ya=["POST","PUT"];r=Ye.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rn.g(),this.v=this.o?ks(this.o):ks(Rn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(W){Yi(this,W);return}if(c=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)_.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const W of T.keys())_.set(W,T.get(W));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),j=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ya,g,void 0))||T||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ne]of _)this.g.setRequestHeader(W,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zs(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Yi(this,W)}};function Yi(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Us(c),an(c)}function Us(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),an(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),Ye.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?va(this):this.bb())},r.bb=function(){va(this)};function va(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Qt(c)!=4||c.Z()!=2)){if(c.u&&Qt(c)==4)na(c.Ea,0,c);else if(mt(c,"readystatechange"),Qt(c)==4){c.h=!1;try{const ne=c.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var T;if(T=ne===0){var j=String(c.D).match(Ki)[1]||null;!j&&p.self&&p.self.location&&(j=p.self.location.protocol.slice(0,-1)),T=!oh.test(j?j.toLowerCase():"")}_=T}if(_)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var W=2<Qt(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",Us(c)}}finally{an(c)}}}}function an(c,g){if(c.g){zs(c);const _=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||mt(c,"ready");try{_.onreadystatechange=T}catch{}}}function zs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Qt(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),oa(g)}};function _a(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $s(c){const g={};c=(c.g&&2<=Qt(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(X(c[T]))continue;var _=L(c[T]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=g[j]||[];g[j]=W,W.push(_)}x(g,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xn(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function wa(c){this.Aa=0,this.i=[],this.j=new Bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xn("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xn("baseRetryDelayMs",5e3,c),this.cb=Xn("retryDelaySeedMs",1e4,c),this.Wa=Xn("forwardChannelMaxRetries",2,c),this.wa=Xn("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gi(c&&c.concurrentRequestLimit),this.Da=new sh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=wa.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,T){st(0),this.W=c,this.H=g||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=Xl(this,null,this.W),Yn(this)};function Pt(c){if(Bs(c),c.G==3){var g=c.U++,_=on(c.I);if(Be(_,"SID",c.K),Be(_,"RID",g),Be(_,"TYPE","terminate"),Tr(c,_),g=new kn(c,c.j,g),g.L=2,g.v=Yr(on(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=g.v,_=!0),_||(g.g=Yl(g.j,null),g.g.ea(g.v)),g.F=Date.now(),He(g)}Ql(c)}function Dn(c){c.g&&(Ea(c),c.g.cancel(),c.g=null)}function Bs(c){Dn(c),c.u&&(p.clearTimeout(c.u),c.u=null),Ws(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Yn(c){if(!sn(c.h)&&!c.s){c.s=!0;var g=c.Ga;$e||ae(),re||($e(),re=!0),ge.add(g,c),c.B=0}}function ah(c,g){return Ml(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Cn(I(c.Ga,c,g),Kl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new kn(this,this.j,c);let W=this.o;if(this.S&&(W?(W=A(W),N(W,this.S)):W=this.S),this.m!==null||this.O||(j.H=W,W=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ti(this,j,g),_=on(this.I),Be(_,"RID",c),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),Tr(this,_),W&&(this.O?g="headers="+encodeURIComponent(String(Er(W)))+"&"+g:this.m&&ei(_,this.m,W)),ma(this.h,j),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",g),Be(_,"SID","null"),j.T=!0,Vs(j,_,null)):Vs(j,_,g),this.G=2}}else this.G==3&&(c?qs(this,c):this.i.length==0||sn(this.h)||qs(this))};function qs(c,g){var _;g?_=g.l:_=c.U++;const T=on(c.I);Be(T,"SID",c.K),Be(T,"RID",_),Be(T,"AID",c.T),Tr(c,T),c.m&&c.o&&ei(T,c.m,c.o),_=new kn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ti(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ma(c.h,_),Vs(_,T,g)}function Tr(c,g){c.H&&Ie(c.H,function(_,T){Be(g,T,_)}),c.l&&Kr({},function(_,T){Be(g,T,_)})}function ti(c,g,_){_=Math.min(c.i.length,_);var T=c.l?I(c.l.Na,c.l,c):null;e:{var j=c.i;let W=-1;for(;;){const ne=["count="+_];W==-1?0<_?(W=j[0].g,ne.push("ofs="+W)):W=0:ne.push("ofs="+W);let ze=!0;for(let gt=0;gt<_;gt++){let De=j[gt].g;const Et=j[gt].map;if(De-=W,0>De)W=Math.max(0,j[gt].g-100),ze=!1;else try{Hl(Et,ne,"req"+De+"_")}catch{T&&T(Et)}}if(ze){T=ne.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,T}function Ji(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;$e||ae(),re||($e(),re=!0),ge.add(g,c),c.v=0}}function Hs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Cn(I(c.Fa,c),Kl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Gl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Cn(I(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Dn(this),Gl(this))};function Ea(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Gl(c){c.g=new kn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=on(c.qa);Be(g,"RID","rpc"),Be(g,"SID",c.K),Be(g,"AID",c.T),Be(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(g,"TO",c.ja),Be(g,"TYPE","xmlhttp"),Tr(c,g),c.m&&c.o&&ei(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Yr(on(g)),_.m=null,_.P=!0,fa(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Dn(this),Hs(this),st(19))};function Ws(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Gs(c,g){var _=null;if(c.g==g){Ws(c),Ea(c),c.g=null;var T=2}else if(Bt(c.h,g))_=g.D,Fl(c.h,g),T=1;else return;if(c.G!=0){if(g.o)if(T==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;T=$i(),mt(T,new Ns(T,_)),Yn(c)}else Ji(c);else if(j=g.s,j==3||j==0&&0<g.X||!(T==1&&ah(c,g)||T==2&&Hs(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),j){case 1:Sr(c,5);break;case 4:Sr(c,10);break;case 3:Sr(c,6);break;default:Sr(c,2)}}}function Kl(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Sr(c,g){if(c.j.info("Error code "+g),g==2){var _=I(c.fb,c),T=c.Xa;const j=!T;T=new _r(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Qi(T,"https"),Yr(T),j?ih(T.toString(),_):ql(T.toString(),_)}else st(2);c.G=0,c.l&&c.l.sa(g),Ql(c),Bs(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Ql(c){if(c.G=0,c.ka=[],c.l){const g=jl(c.h);(g.length!=0||c.i.length!=0)&&(M(c.ka,g),M(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Xl(c,g,_){var T=_ instanceof _r?on(_):new _r(_);if(T.g!="")g&&(T.g=g+"."+T.g),Qr(T,T.s);else{var j=p.location;T=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var W=new _r(null);T&&Qi(W,T),g&&(W.g=g),j&&Qr(W,j),_&&(W.l=_),T=W}return _=c.D,g=c.ya,_&&g&&Be(T,_,g),Be(T,"VER",c.la),Tr(c,T),T}function Yl(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ye(new wr({eb:_})):new Ye(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ta(){}r=Ta.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ks(){}Ks.prototype.g=function(c,g){return new qt(c,g)};function qt(c,g){pt.call(this),this.g=new wa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!X(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!X(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Jn(this)}B(qt,pt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Pt(this.g)},qt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=sa(c),c=_);g.i.push(new Vl(g.Ya++,c)),g.G==3&&Yn(g)},qt.prototype.N=function(){this.g.l=null,delete this.j,Pt(this.g),delete this.g,qt.aa.N.call(this)};function Jl(c){Wn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}B(Jl,Wn);function Zl(){bs.call(this),this.status=1}B(Zl,bs);function Jn(c){this.g=c}B(Jn,Ta),Jn.prototype.ua=function(){mt(this.g,"a")},Jn.prototype.ta=function(c){mt(this.g,new Jl(c))},Jn.prototype.sa=function(c){mt(this.g,new Zl)},Jn.prototype.ra=function(){mt(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,cw=function(){return new Ks},uw=function(){return $i()},lw=Gn,ff={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,lc=Ds,Nl.COMPLETE="complete",aw=Nl,xs.EventType=fn,fn.OPEN="a",fn.CLOSE="b",fn.ERROR="c",fn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Xa=xs,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,ow=Ye}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const jy="@firebase/firestore",Uy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new jf("@firebase/firestore");function vo(){return vs.logLevel}function le(r,...e){if(vs.logLevel<=ke.DEBUG){const n=e.map(Yf);vs.debug(`Firestore (${qo}): ${r}`,...n)}}function Ur(r,...e){if(vs.logLevel<=ke.ERROR){const n=e.map(Yf);vs.error(`Firestore (${qo}): ${r}`,...n)}}function No(r,...e){if(vs.logLevel<=ke.WARN){const n=e.map(Yf);vs.warn(`Firestore (${qo}): ${r}`,...n)}}function Yf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,hw(r,s,n)}function hw(r,e,n){let s=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ur(s),new Error(s)}function Ue(r,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,r||hw(e,a,s)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ut.UNAUTHENTICATED)))}shutdown(){}}class LC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class VC{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Lr,e.enqueueRetryable((()=>a(this.currentUser)))};const d=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},p=m=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Lr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string",31837,{l:s}),new dw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}}class MC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new MC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ut.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const a=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>a(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zy(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=UC(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function pf(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const a=r.charAt(s),u=e.charAt(s);if(a!==u)return Gd(a)===Gd(u)?xe(a,u):Gd(a)?1:-1}return xe(r.length,e.length)}const zC=55296,$C=57343;function Gd(r){const e=r.charCodeAt(0);return e>=zC&&e<=$C}function Oo(r,e,n){return r.length===e.length&&r.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="__name__";class rr{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=rr.compareSegments(e.get(a),n.get(a));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=rr.isNumericId(e),a=rr.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?rr.extractNumericId(e).compare(rr.extractNumericId(n)):pf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pi.fromString(e.substring(4,e.length-2))}}class Ge extends rr{construct(e,n,s){return new Ge(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Ge(n)}static emptyPath(){return new Ge([])}}const BC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends rr{construct(e,n,s){return new bt(e,n,s)}static isValidIdentifier(e){return BC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$y}static keyField(){return new bt([$y])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new se(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new se(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new se(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else p==="`"?(d=!d,a++):p!=="."||d?(s+=p,a++):(u(),a++)}if(u(),d)throw new se(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ge.fromString(e))}static fromName(e){return new pe(Ge.fromString(e).popFirst(5))}static empty(){return new pe(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(r,e,n){if(!n)throw new se(G.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function qC(r,e,n,s){if(e===!0&&s===!0)throw new se(G.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function By(r){if(!pe.isDocumentKey(r))throw new se(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function qy(r){if(pe.isDocumentKey(r))throw new se(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function pw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Fc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function hr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new se(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fc(r);throw new se(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(r,e){const n={typeString:r};return e&&(n.value=e),n}function Cl(r,e){if(!pw(r))throw new se(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(a&&typeof d!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new se(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=-62135596800,Wy=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Wy);return new Xe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Hy)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wy}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cl(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:ft("string",Xe._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Xe(0,0))}static max(){return new Te(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=-1;function HC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Te.fromTimestamp(s===1e9?new Xe(n+1,0):new Xe(n,s));return new xi(a,pe.empty(),e)}function WC(r){return new xi(r.readTime,r.key,cl)}class xi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new xi(Te.min(),pe.empty(),cl)}static max(){return new xi(Te.max(),pe.empty(),cl)}}function GC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(r){if(r.code!==G.FAILED_PRECONDITION||r.message!==KC)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K(((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):K.reject(n)}static resolve(e){return new K(((n,s)=>{n(e)}))}static reject(e){return new K(((n,s)=>{s(e)}))}static waitFor(e){return new K(((n,s)=>{let a=0,u=0,d=!1;e.forEach((p=>{++a,p.next((()=>{++u,d&&u===a&&n()}),(m=>s(m)))})),d=!0,u===a&&n()}))}static or(e){let n=K.resolve(!1);for(const s of e)n=n.next((a=>a?K.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,u)=>{s.push(n.call(this,a,u))})),this.waitFor(s)}static mapArray(e,n){return new K(((s,a)=>{const u=e.length,d=new Array(u);let p=0;for(let m=0;m<u;m++){const v=m;n(e[v]).next((w=>{d[v]=w,++p,p===u&&s(d)}),(w=>a(w)))}}))}static doWhile(e,n){return new K(((s,a)=>{const u=()=>{e()===!0?n().next((()=>{u()}),a):s()};u()}))}}function XC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=-1;function Uc(r){return r==null}function Sc(r){return r===0&&1/r==-1/0}function YC(r){return typeof r=="number"&&Number.isInteger(r)&&!Sc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="";function JC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Gy(e)),e=ZC(r.get(n),e);return Gy(e)}function ZC(r,e){let n=e;const s=r.length;for(let a=0;a<s;a++){const u=r.charAt(a);switch(u){case"\0":n+="";break;case mw:n+="";break;default:n+=u}}return n}function Gy(r){return r+mw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Vi(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function gw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??xt.RED,this.left=a??xt.EMPTY,this.right=u??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new xt(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return xt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,a,u){return this}insert(e,n,s){return new xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qy(this.data.getIterator())}getIteratorFrom(e){return new Qy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class Qy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new dn([])}unionWith(e){let n=new _t(bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new yw("Invalid base64 string: "+u):u}})(e);return new Nt(n)}static fromUint8Array(e){const n=(function(a){let u="";for(let d=0;d<a.length;++d)u+=String.fromCharCode(a[d]);return u})(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const eP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(r){if(Ue(!!r,39018),typeof r=="string"){let e=0;const n=eP.exec(r);if(Ue(!!n,46558,{timestamp:r}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:at(r.seconds),nanos:at(r.nanos)}}function at(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ni(r){return typeof r=="string"?Nt.fromBase64String(r):Nt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="server_timestamp",_w="__type__",ww="__previous_value__",Ew="__local_write_time__";function ep(r){return(r?.mapValue?.fields||{})[_w]?.stringValue===vw}function zc(r){const e=r.mapValue.fields[ww];return ep(e)?zc(e):e}function hl(r){const e=bi(r.mapValue.fields[Ew].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n,s,a,u,d,p,m,v,w){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=w}}const Ic="(default)";class dl{constructor(e,n){this.projectId=e,this.database=n||Ic}static empty(){return new dl("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(e){return e instanceof dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="__type__",nP="__max__",Ju={mapValue:{}},Sw="__vector__",Ac="value";function Oi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ep(r)?4:iP(r)?9007199254740991:rP(r)?10:11:_e(28295,{value:r})}function dr(r,e){if(r===e)return!0;const n=Oi(r);if(n!==Oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return hl(r).isEqual(hl(e));case 3:return(function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const d=bi(a.timestampValue),p=bi(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,u){return Ni(a.bytesValue).isEqual(Ni(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,u){return at(a.geoPointValue.latitude)===at(u.geoPointValue.latitude)&&at(a.geoPointValue.longitude)===at(u.geoPointValue.longitude)})(r,e);case 2:return(function(a,u){if("integerValue"in a&&"integerValue"in u)return at(a.integerValue)===at(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const d=at(a.doubleValue),p=at(u.doubleValue);return d===p?Sc(d)===Sc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Oo(r.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return(function(a,u){const d=a.mapValue.fields||{},p=u.mapValue.fields||{};if(Ky(d)!==Ky(p))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(p[m]===void 0||!dr(d[m],p[m])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function fl(r,e){return(r.values||[]).find((n=>dr(n,e)))!==void 0}function Do(r,e){if(r===e)return 0;const n=Oi(r),s=Oi(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=at(u.integerValue||u.doubleValue),m=at(d.integerValue||d.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(r,e);case 3:return Xy(r.timestampValue,e.timestampValue);case 4:return Xy(hl(r),hl(e));case 5:return pf(r.stringValue,e.stringValue);case 6:return(function(u,d){const p=Ni(u),m=Ni(d);return p.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),m=d.split("/");for(let v=0;v<p.length&&v<m.length;v++){const w=xe(p[v],m[v]);if(w!==0)return w}return xe(p.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=xe(at(u.latitude),at(d.latitude));return p!==0?p:xe(at(u.longitude),at(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Yy(r.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},m=d.fields||{},v=p[Ac]?.arrayValue,w=m[Ac]?.arrayValue,S=xe(v?.values?.length||0,w?.values?.length||0);return S!==0?S:Yy(v,w)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Ju.mapValue&&d===Ju.mapValue)return 0;if(u===Ju.mapValue)return 1;if(d===Ju.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),v=d.fields||{},w=Object.keys(v);m.sort(),w.sort();for(let S=0;S<m.length&&S<w.length;++S){const I=pf(m[S],w[S]);if(I!==0)return I;const D=Do(p[m[S]],v[w[S]]);if(D!==0)return D}return xe(m.length,w.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function Xy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const n=bi(r),s=bi(e),a=xe(n.seconds,s.seconds);return a!==0?a:xe(n.nanos,s.nanos)}function Yy(r,e){const n=r.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=Do(n[a],s[a]);if(u)return u}return xe(n.length,s.length)}function Lo(r){return mf(r)}function mf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=bi(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ni(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=mf(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const d of s)u?u=!1:a+=",",a+=`${d}:${mf(n.fields[d])}`;return a+"}"})(r.mapValue):_e(61005,{value:r})}function uc(r){switch(Oi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zc(r);return e?16+uc(e):16;case 5:return 2*r.stringValue.length;case 6:return Ni(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,u)=>a+uc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let a=0;return Vi(s.fields,((u,d)=>{a+=u.length+uc(d)})),a})(r.mapValue);default:throw _e(13486,{value:r})}}function Jy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function gf(r){return!!r&&"integerValue"in r}function tp(r){return!!r&&"arrayValue"in r}function Zy(r){return!!r&&"nullValue"in r}function ev(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function cc(r){return!!r&&"mapValue"in r}function rP(r){return(r?.mapValue?.fields||{})[Tw]?.stringValue===Sw}function nl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Vi(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=nl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nl(r.arrayValue.values[n]);return e}return{...r}}function iP(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!cc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(n)}setAll(e){let n=bt.emptyPath(),s={},a=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=p.popLast()}d?s[p.lastSegment()]=nl(d):a.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());cc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];cc(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Vi(n,((a,u)=>e[a]=u));for(const a of s)delete e[a]}clone(){return new rn(nl(this.value))}}function Iw(r){const e=[];return Vi(r.fields,((n,s)=>{const a=new bt([n]);if(cc(s)){const u=Iw(s.mapValue).fields;if(u.length===0)e.push(a);else for(const d of u)e.push(a.child(d))}else e.push(a)})),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,s,a,u,d,p){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new zt(e,0,Te.min(),Te.min(),Te.min(),rn.empty(),0)}static newFoundDocument(e,n,s,a){return new zt(e,1,n,Te.min(),s,a,0)}static newNoDocument(e,n){return new zt(e,2,n,Te.min(),Te.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,Te.min(),Te.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.position=e,this.inclusive=n}}function tv(r,e,n){let s=0;for(let a=0;a<r.position.length;a++){const u=e[a],d=r.position[a];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(d.referenceValue),n.key):s=Do(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function nv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!dr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n="asc"){this.field=e,this.dir=n}}function sP(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{}class dt extends Aw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new aP(e,n,s):n==="array-contains"?new cP(e,s):n==="in"?new hP(e,s):n==="not-in"?new dP(e,s):n==="array-contains-any"?new fP(e,s):new dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new lP(e,s):new uP(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&Oi(this.value)===Oi(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends Aw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hn(e,n)}matches(e){return Cw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cw(r){return r.op==="and"}function Pw(r){return oP(r)&&Cw(r)}function oP(r){for(const e of r.filters)if(e instanceof Hn)return!1;return!0}function yf(r){if(r instanceof dt)return r.field.canonicalString()+r.op.toString()+Lo(r.value);if(Pw(r))return r.filters.map((e=>yf(e))).join(",");{const e=r.filters.map((n=>yf(n))).join(",");return`${r.op}(${e})`}}function Rw(r,e){return r instanceof dt?(function(s,a){return a instanceof dt&&s.op===a.op&&s.field.isEqual(a.field)&&dr(s.value,a.value)})(r,e):r instanceof Hn?(function(s,a){return a instanceof Hn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((u,d,p)=>u&&Rw(d,a.filters[p])),!0):!1})(r,e):void _e(19439)}function kw(r){return r instanceof dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(r):r instanceof Hn?(function(n){return n.op.toString()+" {"+n.getFilters().map(kw).join(" ,")+"}"})(r):"Filter"}class aP extends dt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class lP extends dt{constructor(e,n){super(e,"in",n),this.keys=xw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class uP extends dt{constructor(e,n){super(e,"not-in",n),this.keys=xw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function xw(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class cP extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tp(n)&&fl(n.arrayValue,this.value)}}class hP extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fl(this.value.arrayValue,n)}}class dP extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fl(this.value.arrayValue,n)}}class fP extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>fl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n=null,s=[],a=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function rv(r,e=null,n=[],s=[],a=null,u=null,d=null){return new pP(r,e,n,s,a,u,d)}function np(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>yf(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Uc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Lo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Lo(s))).join(",")),e.Te=n}return e.Te}function rp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!sP(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Rw(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!nv(r.startAt,e.startAt)&&nv(r.endAt,e.endAt)}function vf(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n=null,s=[],a=[],u=null,d="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mP(r,e,n,s,a,u,d,p){return new Go(r,e,n,s,a,u,d,p)}function ip(r){return new Go(r)}function iv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function bw(r){return r.collectionGroup!==null}function rl(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new _t(bt.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new pl(u,s))})),n.has(bt.keyField().canonicalString())||e.Ie.push(new pl(bt.keyField(),s))}return e.Ie}function ar(r){const e=Se(r);return e.Ee||(e.Ee=gP(e,rl(r))),e.Ee}function gP(r,e){if(r.limitType==="F")return rv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const u=a.dir==="desc"?"asc":"desc";return new pl(a.field,u)}));const n=r.endAt?new Cc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Cc(r.startAt.position,r.startAt.inclusive):null;return rv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function _f(r,e){const n=r.filters.concat([e]);return new Go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function wf(r,e,n){return new Go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function $c(r,e){return rp(ar(r),ar(e))&&r.limitType===e.limitType}function Nw(r){return`${np(ar(r))}|lt:${r.limitType}`}function _o(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>kw(a))).join(", ")}]`),Uc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Lo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Lo(a))).join(",")),`Target(${s})`})(ar(r))}; limitType=${r.limitType})`}function Bc(r,e){return e.isFoundDocument()&&(function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,a){for(const u of rl(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0})(r,e)&&(function(s,a){return!(s.startAt&&!(function(d,p,m){const v=tv(d,p,m);return d.inclusive?v<=0:v<0})(s.startAt,rl(s),a)||s.endAt&&!(function(d,p,m){const v=tv(d,p,m);return d.inclusive?v>=0:v>0})(s.endAt,rl(s),a))})(r,e)}function yP(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ow(r){return(e,n)=>{let s=!1;for(const a of rl(r)){const u=vP(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function vP(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,d,p){const m=d.data.field(u),v=p.data.field(u);return m!==null&&v!==null?Do(m,v):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Vi(this.inner,((n,s)=>{for(const[a,u]of s)e(a,u)}))}isEmpty(){return gw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new nt(pe.comparator);function zr(){return _P}const Dw=new nt(pe.comparator);function Ya(...r){let e=Dw;for(const n of r)e=e.insert(n.key,n);return e}function Lw(r){let e=Dw;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function fs(){return il()}function Vw(){return il()}function il(){return new Es((r=>r.toString()),((r,e)=>r.isEqual(e)))}const wP=new nt(pe.comparator),EP=new _t(pe.comparator);function be(...r){let e=EP;for(const n of r)e=e.add(n);return e}const TP=new _t(xe);function SP(){return TP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function Mw(r){return{integerValue:""+r}}function Fw(r,e){return YC(e)?Mw(e):sp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function IP(r,e,n){return r instanceof ml?(function(a,u){const d={fields:{[_w]:{stringValue:vw},[Ew]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&ep(u)&&(u=zc(u)),u&&(d.fields[ww]=u),{mapValue:d}})(n,e):r instanceof Vo?Uw(r,e):r instanceof gl?zw(r,e):(function(a,u){const d=jw(a,u),p=sv(d)+sv(a.Ae);return gf(d)&&gf(a.Ae)?Mw(p):sp(a.serializer,p)})(r,e)}function AP(r,e,n){return r instanceof Vo?Uw(r,e):r instanceof gl?zw(r,e):n}function jw(r,e){return r instanceof yl?(function(s){return gf(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class ml extends qc{}class Vo extends qc{constructor(e){super(),this.elements=e}}function Uw(r,e){const n=$w(e);for(const s of r.elements)n.some((a=>dr(a,s)))||n.push(s);return{arrayValue:{values:n}}}class gl extends qc{constructor(e){super(),this.elements=e}}function zw(r,e){let n=$w(e);for(const s of r.elements)n=n.filter((a=>!dr(a,s)));return{arrayValue:{values:n}}}class yl extends qc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sv(r){return at(r.integerValue||r.doubleValue)}function $w(r){return tp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.field=e,this.transform=n}}function CP(r,e){return r.field.isEqual(e.field)&&(function(s,a){return s instanceof Vo&&a instanceof Vo||s instanceof gl&&a instanceof gl?Oo(s.elements,a.elements,dr):s instanceof yl&&a instanceof yl?dr(s.Ae,a.Ae):s instanceof ml&&a instanceof ml})(r.transform,e.transform)}class PP{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hc{}function Bw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Hw(r.key,Bn.none()):new Pl(r.key,r.data,Bn.none());{const n=r.data,s=rn.empty();let a=new _t(bt.comparator);for(let u of e.fields)if(!a.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),a=a.add(u)}return new Mi(r.key,s,new dn(a.toArray()),Bn.none())}}function RP(r,e,n){r instanceof Pl?(function(a,u,d){const p=a.value.clone(),m=av(a.fieldTransforms,u,d.transformResults);p.setAll(m),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,n):r instanceof Mi?(function(a,u,d){if(!hc(a.precondition,u))return void u.convertToUnknownDocument(d.version);const p=av(a.fieldTransforms,u,d.transformResults),m=u.data;m.setAll(qw(a)),m.setAll(p),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(r,e,n):(function(a,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function sl(r,e,n,s){return r instanceof Pl?(function(u,d,p,m){if(!hc(u.precondition,d))return p;const v=u.value.clone(),w=lv(u.fieldTransforms,m,d);return v.setAll(w),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,e,n,s):r instanceof Mi?(function(u,d,p,m){if(!hc(u.precondition,d))return p;const v=lv(u.fieldTransforms,m,d),w=d.data;return w.setAll(qw(u)),w.setAll(v),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,d,p){return hc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,n)}function kP(r,e){let n=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),u=jw(s.transform,a||null);u!=null&&(n===null&&(n=rn.empty()),n.set(s.field,u))}return n||null}function ov(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Oo(s,a,((u,d)=>CP(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Pl extends Hc{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Mi extends Hc{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function qw(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function av(r,e,n){const s=new Map;Ue(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let a=0;a<n.length;a++){const u=r[a],d=u.transform,p=e.data.field(u.field);s.set(u.field,AP(d,p,n[a]))}return s}function lv(r,e,n){const s=new Map;for(const a of r){const u=a.transform,d=n.data.field(a.field);s.set(a.field,IP(u,d,e))}return s}class Hw extends Hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xP extends Hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&RP(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=sl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=sl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Vw();return this.mutations.forEach((a=>{const u=e.get(a.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(a.key)?null:p;const m=Bw(d,p);m!==null&&s.set(a.key,m),d.isValidDocument()||d.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),be())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,((n,s)=>ov(n,s)))&&Oo(this.baseMutations,e.baseMutations,((n,s)=>ov(n,s)))}}class ap{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ue(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return wP})();const u=e.mutations;for(let d=0;d<u.length;d++)a=a.insert(u[d].key,s[d].version);return new ap(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Le;function DP(r){switch(r){case G.OK:return _e(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function Ww(r){if(r===void 0)return Ur("GRPC error has no .code"),G.UNKNOWN;switch(r){case ht.OK:return G.OK;case ht.CANCELLED:return G.CANCELLED;case ht.UNKNOWN:return G.UNKNOWN;case ht.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case ht.INTERNAL:return G.INTERNAL;case ht.UNAVAILABLE:return G.UNAVAILABLE;case ht.UNAUTHENTICATED:return G.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case ht.NOT_FOUND:return G.NOT_FOUND;case ht.ALREADY_EXISTS:return G.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return G.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case ht.ABORTED:return G.ABORTED;case ht.OUT_OF_RANGE:return G.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return G.UNIMPLEMENTED;case ht.DATA_LOSS:return G.DATA_LOSS;default:return _e(39323,{code:r})}}(Le=ht||(ht={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=new Pi([4294967295,4294967295],0);function uv(r){const e=LP().encode(r),n=new sw;return n.update(e),new Uint8Array(n.digest())}function cv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Pi([n,s],0),new Pi([a,u],0)]}class lp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ja(`Invalid padding: ${n}`);if(s<0)throw new Ja(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ja(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ja(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Pi.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Pi.fromNumber(s)));return a.compare(VP)===1&&(a=new Pi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uv(e),[s,a]=cv(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,a,u);if(!this.we(d))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new lp(u,a,n);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=uv(e),[s,a]=cv(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,a,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Rl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Wc(Te.min(),a,new nt(xe),zr(),be())}}class Rl{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Rl(s,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class Gw{constructor(e,n){this.targetId=e,this.Ce=n}}class Kw{constructor(e,n,s=Nt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class hv{constructor(){this.ve=0,this.Fe=dv(),this.Me=Nt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),n=be(),s=be();return this.Fe.forEach(((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:_e(38017,{changeType:u})}})),new Rl(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=dv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MP{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=Zu(),this.He=Zu(),this.Ye=new nt(xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const u=a.target;if(vf(u))if(s===0){const d=new pe(u.path);this.et(n,d,zt.newNoDocument(d,Te.min()))}else Ue(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(e),m=p?this.ct(p,e,d):1;if(m!==0){this.it(n);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let d,p;try{d=Ni(s).toUint8Array()}catch(m){if(m instanceof yw)return No("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new lp(d,a,u)}catch(m){return No(m instanceof Ja?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&vf(p.target)){const m=new pe(p.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,zt.newNoDocument(m,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=be();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((m=>{const v=this.ot(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const a=new Wc(e,n,this.Ye,this.je,s);return this.je=zr(),this.Je=Zu(),this.He=Zu(),this.Ye=new nt(xe),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new hv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new _t(xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new _t(xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zu(){return new nt(pe.comparator)}function dv(){return new nt(pe.comparator)}const FP={asc:"ASCENDING",desc:"DESCENDING"},jP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UP={and:"AND",or:"OR"};class zP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ef(r,e){return r.useProto3Json||Uc(e)?e:{value:e}}function Pc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $P(r,e){return Pc(r,e.toTimestamp())}function lr(r){return Ue(!!r,49232),Te.fromTimestamp((function(n){const s=bi(n);return new Xe(s.seconds,s.nanos)})(r))}function up(r,e){return Tf(r,e).canonicalString()}function Tf(r,e){const n=(function(a){return new Ge(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Xw(r){const e=Ge.fromString(r);return Ue(tE(e),10190,{key:e.toString()}),e}function Sf(r,e){return up(r.databaseId,e.path)}function Kd(r,e){const n=Xw(e);if(n.get(1)!==r.databaseId.projectId)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(Jw(n))}function Yw(r,e){return up(r.databaseId,e)}function BP(r){const e=Xw(r);return e.length===4?Ge.emptyPath():Jw(e)}function If(r){return new Ge(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Jw(r){return Ue(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function fv(r,e,n){return{name:Sf(r,e),fields:n.value.mapValue.fields}}function qP(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_e(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=(function(v,w){return v.useProto3Json?(Ue(w===void 0||typeof w=="string",58123),Nt.fromBase64String(w||"")):(Ue(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Nt.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const w=v.code===void 0?G.UNKNOWN:Ww(v.code);return new se(w,v.message||"")})(d);n=new Kw(s,a,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Kd(r,s.document.name),u=lr(s.document.updateTime),d=s.document.createTime?lr(s.document.createTime):Te.min(),p=new rn({mapValue:{fields:s.document.fields}}),m=zt.newFoundDocument(a,u,d,p),v=s.targetIds||[],w=s.removedTargetIds||[];n=new dc(v,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Kd(r,s.document),u=s.readTime?lr(s.readTime):Te.min(),d=zt.newNoDocument(a,u),p=s.removedTargetIds||[];n=new dc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Kd(r,s.document),u=s.removedTargetIds||[];n=new dc([],u,a,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,d=new OP(a,u),p=s.targetId;n=new Gw(p,d)}}return n}function HP(r,e){let n;if(e instanceof Pl)n={update:fv(r,e.key,e.value)};else if(e instanceof Hw)n={delete:Sf(r,e.key)};else if(e instanceof Mi)n={update:fv(r,e.key,e.data),updateMask:eR(e.fieldMask)};else{if(!(e instanceof xP))return _e(16599,{Vt:e.type});n={verify:Sf(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,d){const p=d.transform;if(p instanceof ml)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof yl)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,u){return u.updateTime!==void 0?{updateTime:$P(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(r,e.precondition)),n}function WP(r,e){return r&&r.length>0?(Ue(e!==void 0,14353),r.map((n=>(function(a,u){let d=a.updateTime?lr(a.updateTime):lr(u);return d.isEqual(Te.min())&&(d=lr(u)),new PP(d,a.transformResults||[])})(n,e)))):[]}function GP(r,e){return{documents:[Yw(r,e.path)]}}function KP(r,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Yw(r,a);const u=(function(v){if(v.length!==0)return eE(Hn.create(v,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(v){if(v.length!==0)return v.map((w=>(function(I){return{field:wo(I.field),direction:YP(I.dir)}})(w)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Ef(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:a}}function QP(r){let e=BP(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ue(s===1,65062);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=(function(S){const I=Zw(S);return I instanceof Hn&&Pw(I)?I.getFilters():[I]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((I=>(function(B){return new pl(Eo(B.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(I)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let I;return I=typeof S=="object"?S.value:S,Uc(I)?null:I})(n.limit));let m=null;n.startAt&&(m=(function(S){const I=!!S.before,D=S.values||[];return new Cc(D,I)})(n.startAt));let v=null;return n.endAt&&(v=(function(S){const I=!S.before,D=S.values||[];return new Cc(D,I)})(n.endAt)),mP(e,a,d,u,p,"F",m,v)}function XP(r,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Zw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Eo(n.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Eo(n.unaryFilter.field);return dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eo(n.unaryFilter.field);return dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Eo(n.unaryFilter.field);return dt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return dt.create(Eo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Hn.create(n.compositeFilter.filters.map((s=>Zw(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function YP(r){return FP[r]}function JP(r){return jP[r]}function ZP(r){return UP[r]}function wo(r){return{fieldPath:r.canonicalString()}}function Eo(r){return bt.fromServerFormat(r.fieldPath)}function eE(r){return r instanceof dt?(function(n){if(n.op==="=="){if(ev(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NAN"}};if(Zy(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ev(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NAN"}};if(Zy(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(n.field),op:JP(n.op),value:n.value}}})(r):r instanceof Hn?(function(n){const s=n.getFilters().map((a=>eE(a)));return s.length===1?s[0]:{compositeFilter:{op:ZP(n.op),filters:s}}})(r):_e(54877,{filter:r})}function eR(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function tE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,s,a,u=Te.min(),d=Te.min(),p=Nt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.yt=e}}function nR(r){const e=QP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?wf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.Cn=new iR}addToCollectionParentIndex(e,n){return this.Cn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(xi.min())}updateCollectionGroup(e,n,s){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class iR{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new _t(Ge.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new _t(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nE=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(nE,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mo(0)}static cr(){return new Mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="LruGarbageCollector",sR=1048576;function gv([r,e],[n,s]){const a=xe(r,n);return a===0?xe(e,s):a}class oR{constructor(e){this.Ir=e,this.buffer=new _t(gv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aR{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(mv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?le(mv,"Ignoring IndexedDB error during garbage collection: ",n):await Ho(n)}await this.Vr(3e5)}))}}class lR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return K.resolve(jc.ce);const s=new oR(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(pv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,u,d,p,m,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,d=Date.now(),this.nthSequenceNumber(e,a)))).next((S=>(s=S,p=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(v=Date.now(),vo()<=ke.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${a} in `+(p-d)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${S} documents in `+(v-m)+`ms
Total Duration: ${v-w}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:S}))))}}function uR(r,e){return new lR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.changes=new Es((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&sl(s.mutation,a,dn.empty(),Xe.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=be()){const a=fs();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((u=>{let d=Ya();return u.forEach(((p,m)=>{d=d.insert(p,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=fs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,be())))}populateOverlays(e,n,s){const a=[];return s.forEach((u=>{n.has(u)||a.push(u)})),this.documentOverlayCache.getOverlays(e,a).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,s,a){let u=zr();const d=il(),p=(function(){return il()})();return n.forEach(((m,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof Mi)?u=u.insert(v.key,v):w!==void 0?(d.set(v.key,w.mutation.getFieldMask()),sl(w.mutation,v,w.mutation.getFieldMask(),Xe.now())):d.set(v.key,dn.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((v,w)=>d.set(v,w))),n.forEach(((v,w)=>p.set(v,new hR(w,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=il();let a=new nt(((d,p)=>d-p)),u=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((m=>{const v=n.get(m);if(v===null)return;let w=s.get(m)||dn.empty();w=p.applyToLocalView(v,w),s.set(m,w);const S=(a.get(p.batchId)||be()).add(m);a=a.insert(p.batchId,S)}))})).next((()=>{const d=[],p=a.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),v=m.key,w=m.value,S=Vw();w.forEach((I=>{if(!u.has(I)){const D=Bw(n.get(I),s.get(I));D!==null&&S.set(I,D),u=u.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,S))}return K.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((u=>{const d=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):K.resolve(fs());let p=cl,m=u;return d.next((v=>K.forEach(v,((w,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(w)?K.resolve():this.remoteDocumentCache.getEntry(e,w).next((I=>{m=m.insert(w,I)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,m,v,be()))).next((w=>({batchId:p,changes:Lw(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let a=Ya();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let d=Ya();return this.indexManager.getCollectionParents(e,u).next((p=>K.forEach(p,(m=>{const v=(function(S,I){return new Go(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next((w=>{w.forEach(((S,I)=>{d=d.insert(S,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a)))).next((d=>{u.forEach(((m,v)=>{const w=v.getKey();d.get(w)===null&&(d=d.insert(w,zt.newInvalidDocument(w)))}));let p=Ya();return d.forEach(((m,v)=>{const w=u.get(m);w!==void 0&&sl(w.mutation,v,dn.empty(),Xe.now()),Bc(n,v)&&(p=p.insert(m,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return K.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:lr(a.createTime)}})(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:nR(a.bundledQuery),readTime:lr(a.readTime)}})(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.overlays=new nt(pe.comparator),this.qr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const s=fs();return K.forEach(n,(a=>this.getOverlay(e,a).next((u=>{u!==null&&s.set(a,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,u)=>{this.St(e,n,u)})),K.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),K.resolve()}getOverlaysForCollection(e,n,s){const a=fs(),u=n.length+1,d=new pe(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const m=p.getNext().value,v=m.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&m.largestBatchId>s&&a.set(m.getKey(),m)}return K.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new nt(((v,w)=>v-w));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=u.get(v.largestBatchId);w===null&&(w=fs(),u=u.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const p=fs(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((v,w)=>p.set(v,w))),!(p.size()>=a)););return K.resolve(p)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const d=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new NP(n,s));let u=this.qr.get(n);u===void 0&&(u=be(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.Qr=new _t(At.$r),this.Ur=new _t(At.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new At(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new At(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new Ge([])),s=new At(n,e),a=new At(n,e+1),u=[];return this.Ur.forEachInRange([s,a],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new Ge([])),s=new At(n,e),a=new At(n,e+1);let u=be();return this.Ur.forEachInRange([s,a],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new At(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class At{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||xe(e.Yr,n.Yr)}static Kr(e,n){return xe(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _t(At.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bP(u,n,s,a);this.mutationQueue.push(d);for(const p of a)this.Zr=this.Zr.add(new At(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,n){return K.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),u=a<0?0:a;return K.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Zf:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new At(n,0),a=new At(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,a],(d=>{const p=this.Xr(d.Yr);u.push(p)})),K.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new _t(xe);return n.forEach((a=>{const u=new At(a,0),d=new At(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{s=s.add(p.Yr)}))})),K.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const d=new At(new pe(u),0);let p=new _t(xe);return this.Zr.forEachWhile((m=>{const v=m.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(p=p.add(m.Yr)),!0)}),d),K.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ue(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return K.forEach(n.mutations,(a=>{const u=new At(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new At(n,0),a=this.Zr.firstAfterOrEqual(s);return K.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.ri=e,this.docs=(function(){return new nt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let s=zr();return n.forEach((a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():zt.newInvalidDocument(a))})),K.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=zr();const d=n.path,p=new pe(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:v,value:{document:w}}=m.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||GC(WC(w),s)<=0||(a.has(w.key)||Bc(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return K.resolve(u)}getAllFromCollectionGroup(e,n,s,a){_e(9500)}ii(e,n){return K.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new vR(this)}getSize(e){return K.resolve(this.size)}}class vR extends cR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),K.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.persistence=e,this.si=new Es((n=>np(n)),rp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new cp,this.targetCount=0,this.ai=Mo.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),K.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Pr(n),K.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)})),K.waitFor(u).next((()=>a))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return K.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),K.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach((d=>{u.push(a.markPotentiallyOrphaned(e,d))})),K.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return K.resolve(s)}containsKey(e,n){return K.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n){this.ui={},this.overlays={},this.ci=new jc(0),this.li=!1,this.li=!0,this.hi=new mR,this.referenceDelegate=e(this),this.Pi=new _R(this),this.indexManager=new rR,this.remoteDocumentCache=(function(a){return new yR(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new tR(n),this.Ii=new fR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new gR(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const a=new wR(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((u=>this.referenceDelegate.di(a).next((()=>u)))).toPromise().then((u=>(a.raiseOnCommittedEvent(),u)))}Ai(e,n){return K.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class wR extends QC{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.Ri=new cp,this.Vi=null}static mi(e){return new hp(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),K.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(s=>{const a=pe.fromPath(s);return this.gi(e,a).next((u=>{u||n.removeEntry(a,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return K.or([()=>K.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rc{constructor(e,n){this.persistence=e,this.pi=new Es((s=>JC(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=uR(this,n)}static mi(e,n){return new Rc(e,n)}Ei(){}di(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return K.forEach(this.pi,((s,a)=>this.br(e,s,a).next((u=>u?K.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.ii(e,(d=>this.br(e,d,n).next((p=>{p||(s++,u.removeEntry(d,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uc(e.data.value)),n}br(e,n,s){return K.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return K.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=be(),a=be();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new dp(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gI()?8:XC($t())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,a,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new ER;return this.Ss(e,n,d).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>u.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(vo()<=ke.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(vo()<=ke.DEBUG&&le("QueryEngine","Query:",_o(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(vo()<=ke.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):K.resolve())}ys(e,n){if(iv(n))return K.resolve(null);let s=ar(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=wf(n,null,"F"),s=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=be(...u);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((m=>{const v=this.Ds(n,p);return this.Cs(n,v,d,m.readTime)?this.ys(e,wf(n,null,"F")):this.vs(e,v,n,m)}))))})))))}ws(e,n,s,a){return iv(n)||a.isEqual(Te.min())?K.resolve(null):this.ps.getDocuments(e,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,a)?K.resolve(null):(vo()<=ke.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),_o(n)),this.vs(e,d,n,HC(a,cl)).next((p=>p)))}))}Ds(e,n){let s=new _t(Ow(e));return n.forEach(((a,u)=>{Bc(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Ss(e,n,s){return vo()<=ke.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ps.getDocumentsMatchingQuery(e,n,xi.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="LocalStore",SR=3e8;class IR{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new nt(xe),this.xs=new Es((u=>np(u)),rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function AR(r,e,n,s){return new IR(r,e,n,s)}async function iE(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((u=>(a=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],p=[];let m=be();for(const v of a){d.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}for(const v of u){p.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}return n.localDocuments.getDocuments(s,m).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function CR(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,m,v,w){const S=v.batch,I=S.keys();let D=K.resolve();return I.forEach((B=>{D=D.next((()=>w.getEntry(m,B))).next(($=>{const M=v.docVersions.get(B);Ue(M!==null,48541),$.version.compareTo(M)<0&&(S.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),w.addEntry($)))}))})),D.next((()=>p.mutationQueue.removeMutationBatch(m,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let m=be();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(m=m.add(p.batch.mutations[v].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function sE(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function PR(r,e){const n=Se(r),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const p=[];e.targetChanges.forEach(((w,S)=>{const I=a.get(S);if(!I)return;p.push(n.Pi.removeMatchingKeys(u,w.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,w.addedDocuments,S))));let D=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(Nt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):w.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(w.resumeToken,s)),a=a.insert(S,D),(function($,M,J){return $.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=SR?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(I,D,w)&&p.push(n.Pi.updateTargetData(u,D))}));let m=zr(),v=be();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))})),p.push(RR(u,d,e.documentUpdates).next((w=>{m=w.ks,v=w.qs}))),!s.isEqual(Te.min())){const w=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(w)}return K.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,v))).next((()=>m))})).then((u=>(n.Ms=a,u)))}function RR(r,e,n){let s=be(),a=be();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let d=zr();return n.forEach(((p,m)=>{const v=u.get(p);m.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(p)),m.isNoDocument()&&m.version.isEqual(Te.min())?(e.removeEntry(p,m.readTime),d=d.insert(p,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),d=d.insert(p,m)):le(fp,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",m.version)})),{ks:d,qs:a}}))}function kR(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Zf),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function xR(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((u=>u?(a=u,K.resolve(a)):n.Pi.allocateTargetId(s).next((d=>(a=new Si(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Af(r,e,n){const s=Se(r),a=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,a)))}catch(d){if(!Wo(d))throw d;le(fp,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function yv(r,e,n){const s=Se(r);let a=Te.min(),u=be();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,v,w){const S=Se(m),I=S.xs.get(w);return I!==void 0?K.resolve(S.Ms.get(I)):S.Pi.getTargetData(v,w)})(s,d,ar(e)).next((p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((m=>{u=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?a:Te.min(),n?u:be()))).next((p=>(bR(s,yP(e),p),{documents:p,Qs:u})))))}function bR(r,e,n){let s=r.Os.get(e)||Te.min();n.forEach(((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class vv{constructor(){this.activeTargetIds=SP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NR{constructor(){this.Mo=new vv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="ConnectivityMonitor";class wv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(_v,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(_v,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec=null;function Cf(){return ec===null?ec=(function(){return 268435456+Math.round(2147483648*Math.random())})():ec++,"0x"+ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="RestConnection",DR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Ic?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,u){const d=Cf(),p=this.zo(e,n.toUriEncodedString());le(Qd,`Sending RPC '${e}' ${d}:`,p,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,u);const{host:v}=new URL(p),w=zo(v);return this.Jo(e,p,m,s,w).then((S=>(le(Qd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw No(Qd,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(e,n,s,a,u,d){return this.Go(e,n,s,a,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,u)=>e[u]=a)),s&&s.headers.forEach(((a,u)=>e[u]=a))}zo(e,n){const s=DR[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class MR extends LR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,u){const d=Cf();return new Promise(((p,m)=>{const v=new ow;v.setWithCredentials(!0),v.listenOnce(aw.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case lc.NO_ERROR:const S=v.getResponseJson();le(jt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case lc.TIMEOUT:le(jt,`RPC '${e}' ${d} timed out`),m(new se(G.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const I=v.getStatus();if(le(jt,`RPC '${e}' ${d} failed with status:`,I,"response text:",v.getResponseText()),I>0){let D=v.getResponseJson();Array.isArray(D)&&(D=D[0]);const B=D?.error;if(B&&B.status&&B.message){const $=(function(J){const X=J.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(X)>=0?X:G.UNKNOWN})(B.status);m(new se($,B.message))}else m(new se(G.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new se(G.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{le(jt,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(a);le(jt,`RPC '${e}' ${d} sending request:`,a),v.send(n,"POST",w,s,15)}))}T_(e,n,s){const a=Cf(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=cw(),p=uw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const w=u.join("");le(jt,`Creating RPC '${e}' stream ${a}: ${w}`,m);const S=d.createWebChannel(w,m);this.I_(S);let I=!1,D=!1;const B=new VR({Yo:M=>{D?le(jt,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(I||(le(jt,`Opening RPC '${e}' stream ${a} transport.`),S.open(),I=!0),le(jt,`RPC '${e}' stream ${a} sending:`,M),S.send(M))},Zo:()=>S.close()}),$=(M,J,X)=>{M.listen(J,(ie=>{try{X(ie)}catch(me){setTimeout((()=>{throw me}),0)}}))};return $(S,Xa.EventType.OPEN,(()=>{D||(le(jt,`RPC '${e}' stream ${a} transport opened.`),B.o_())})),$(S,Xa.EventType.CLOSE,(()=>{D||(D=!0,le(jt,`RPC '${e}' stream ${a} transport closed`),B.a_(),this.E_(S))})),$(S,Xa.EventType.ERROR,(M=>{D||(D=!0,No(jt,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),B.a_(new se(G.UNAVAILABLE,"The operation could not be completed")))})),$(S,Xa.EventType.MESSAGE,(M=>{if(!D){const J=M.data[0];Ue(!!J,16349);const X=J,ie=X?.error||X[0]?.error;if(ie){le(jt,`RPC '${e}' stream ${a} received error:`,ie);const me=ie.status;let Re=(function(A){const P=ht[A];if(P!==void 0)return Ww(P)})(me),Ie=ie.message;Re===void 0&&(Re=G.INTERNAL,Ie="Unknown error status: "+me+" with message "+ie.message),D=!0,B.a_(new se(Re,Ie)),S.close()}else le(jt,`RPC '${e}' stream ${a} received:`,J),B.u_(J)}})),$(p,lw.STAT_EVENT,(M=>{M.stat===ff.PROXY?le(jt,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===ff.NOPROXY&&le(jt,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(r){return new zP(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n,s=1e3,a=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="PersistentStream";class aE{constructor(e,n,s,a,u,d,p,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new se(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(Ev,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(Ev,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FR extends aE{constructor(e,n,s,a,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qP(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?lr(d.readTime):Te.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=If(this.serializer),n.addTarget=(function(u,d){let p;const m=d.target;if(p=vf(m)?{documents:GP(u,m)}:{query:KP(u,m).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Qw(u,d.resumeToken);const v=Ef(u,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Te.min())>0){p.readTime=Pc(u,d.snapshotVersion.toTimestamp());const v=Ef(u,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const s=XP(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=If(this.serializer),n.removeTarget=e,this.q_(n)}}class jR extends aE{constructor(e,n,s,a,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WP(e.writeResults,e.commitTime),s=lr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=If(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>HP(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{}class zR extends UR{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Tf(n,s),a,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(G.UNKNOWN,u.toString())}))}Ho(e,n,s,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Tf(n,s),a,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new se(G.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $R{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ur(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="RemoteStore";class BR{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ts(this)&&(le(_s,"Restarting streams for network reachability change."),await(async function(m){const v=Se(m);v.Ea.add(4),await kl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Kc(v)})(this))}))})),this.Ra=new $R(s,a)}}async function Kc(r){if(Ts(r))for(const e of r.da)await e(!0)}async function kl(r){for(const e of r.da)await e(!1)}function lE(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yp(n)?gp(n):Ko(n).O_()&&mp(n,e))}function pp(r,e){const n=Se(r),s=Ko(n);n.Ia.delete(e),s.O_()&&uE(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ts(n)&&n.Ra.set("Unknown"))}function mp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ko(r).Y_(e)}function uE(r,e){r.Va.Ue(e),Ko(r).Z_(e)}function gp(r){r.Va=new MP({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ko(r).start(),r.Ra.ua()}function yp(r){return Ts(r)&&!Ko(r).x_()&&r.Ia.size>0}function Ts(r){return Se(r).Ea.size===0}function cE(r){r.Va=void 0}async function qR(r){r.Ra.set("Online")}async function HR(r){r.Ia.forEach(((e,n)=>{mp(r,e)}))}async function WR(r,e){cE(r),yp(r)?(r.Ra.ha(e),gp(r)):r.Ra.set("Unknown")}async function GR(r,e,n){if(r.Ra.set("Online"),e instanceof Kw&&e.state===2&&e.cause)try{await(async function(a,u){const d=u.cause;for(const p of u.targetIds)a.Ia.has(p)&&(await a.remoteSyncer.rejectListen(p,d),a.Ia.delete(p),a.Va.removeTarget(p))})(r,e)}catch(s){le(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kc(r,s)}else if(e instanceof dc?r.Va.Ze(e):e instanceof Gw?r.Va.st(e):r.Va.tt(e),!n.isEqual(Te.min()))try{const s=await sE(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const w=u.Ia.get(v);w&&u.Ia.set(v,w.withResumeToken(m.resumeToken,d))}})),p.targetMismatches.forEach(((m,v)=>{const w=u.Ia.get(m);if(!w)return;u.Ia.set(m,w.withResumeToken(Nt.EMPTY_BYTE_STRING,w.snapshotVersion)),uE(u,m);const S=new Si(w.target,m,v,w.sequenceNumber);mp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){le(_s,"Failed to raise snapshot:",s),await kc(r,s)}}async function kc(r,e,n){if(!Wo(e))throw e;r.Ea.add(1),await kl(r),r.Ra.set("Offline"),n||(n=()=>sE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(_s,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Kc(r)}))}function hE(r,e){return e().catch((n=>kc(r,n,e)))}async function Qc(r){const e=Se(r),n=Di(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zf;for(;KR(e);)try{const a=await kR(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,QR(e,a)}catch(a){await kc(e,a)}dE(e)&&fE(e)}function KR(r){return Ts(r)&&r.Ta.length<10}function QR(r,e){r.Ta.push(e);const n=Di(r);n.O_()&&n.X_&&n.ea(e.mutations)}function dE(r){return Ts(r)&&!Di(r).x_()&&r.Ta.length>0}function fE(r){Di(r).start()}async function XR(r){Di(r).ra()}async function YR(r){const e=Di(r);for(const n of r.Ta)e.ea(n.mutations)}async function JR(r,e,n){const s=r.Ta.shift(),a=ap.from(s,e,n);await hE(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await Qc(r)}async function ZR(r,e){e&&Di(r).X_&&await(async function(s,a){if((function(d){return DP(d)&&d!==G.ABORTED})(a.code)){const u=s.Ta.shift();Di(s).B_(),await hE(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a))),await Qc(s)}})(r,e),dE(r)&&fE(r)}async function Tv(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),le(_s,"RemoteStore received new credentials");const s=Ts(n);n.Ea.add(3),await kl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kc(n)}async function ek(r,e){const n=Se(r);e?(n.Ea.delete(2),await Kc(n)):e||(n.Ea.add(2),await kl(n),n.Ra.set("Unknown"))}function Ko(r){return r.ma||(r.ma=(function(n,s,a){const u=Se(n);return u.sa(),new FR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(r.datastore,r.asyncQueue,{Xo:qR.bind(null,r),t_:HR.bind(null,r),r_:WR.bind(null,r),H_:GR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),yp(r)?gp(r):r.Ra.set("Unknown")):(await r.ma.stop(),cE(r))}))),r.ma}function Di(r){return r.fa||(r.fa=(function(n,s,a){const u=Se(n);return u.sa(),new jR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:XR.bind(null,r),r_:ZR.bind(null,r),ta:YR.bind(null,r),na:JR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Qc(r)):(await r.fa.stop(),r.Ta.length>0&&(le(_s,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const d=Date.now()+s,p=new vp(e,n,d,a,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(r,e){if(Ur("AsyncQueue",`${e}: ${r}`),Wo(r))return new se(G.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Ya(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.ga=new nt(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Fo{constructor(e,n,s,a,u,d,p,m,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Fo(e,n,Ro.emptySet(n),d,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nk{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Se(n),u=a.queries;a.queries=Iv(),u.forEach(((d,p)=>{for(const m of p.Sa)m.onError(s)}))})(this,new se(G.ABORTED,"Firestore shutting down"))}}function Iv(){return new Es((r=>Nw(r)),$c)}async function pE(r,e){const n=Se(r);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.ba()&&e.Da()&&(s=2):(u=new tk,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(a,!0);break;case 1:u.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(d){const p=_p(d,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(p)}n.queries.set(a,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&wp(n)}async function mE(r,e){const n=Se(r),s=e.query;let a=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?a=e.Da()?0:1:!u.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function rk(r,e){const n=Se(r);let s=!1;for(const a of e){const u=a.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Fa(a)&&(s=!0);d.wa=a}}s&&wp(n)}function ik(r,e,n){const s=Se(r),a=s.queries.get(e);if(a)for(const u of a.Sa)u.onError(n);s.queries.delete(e)}function wp(r){r.Ca.forEach((e=>{e.next()}))}var Pf,Av;(Av=Pf||(Pf={})).Ma="default",Av.Cache="cache";class gE{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e){this.key=e}}class vE{constructor(e){this.key=e}}class sk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=be(),this.mutatedKeys=be(),this.eu=Ow(e),this.tu=new Ro(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Sv,a=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=a,p=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((w,S)=>{const I=a.get(w),D=Bc(this.query,S)?S:null,B=!!I&&this.mutatedKeys.has(I.key),$=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let M=!1;I&&D?I.data.isEqual(D.data)?B!==$&&(s.track({type:3,doc:D}),M=!0):this.su(I,D)||(s.track({type:2,doc:D}),M=!0,(m&&this.eu(D,m)>0||v&&this.eu(D,v)<0)&&(p=!0)):!I&&D?(s.track({type:0,doc:D}),M=!0):I&&!D&&(s.track({type:1,doc:I}),M=!0,(m||v)&&(p=!0)),M&&(D?(d=d.add(D),u=$?u.add(w):u.delete(w)):(d=d.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{tu:d,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,S)=>(function(D,B){const $=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:M})}};return $(D)-$(B)})(w.type,S.type)||this.eu(w.doc,S.doc))),this.ou(s),a=a??!1;const p=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,v=m!==this.Za;return this.Za=m,d.length!==0||v?{snapshot:new Fo(this.query,e.tu,u,d,e.mutatedKeys,m===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new vE(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new yE(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ep="SyncEngine";class ok{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ak{constructor(e){this.key=e,this.hu=!1}}class lk{constructor(e,n,s,a,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Es((p=>Nw(p)),$c),this.Iu=new Map,this.Eu=new Set,this.du=new nt(pe.comparator),this.Au=new Map,this.Ru=new cp,this.Vu={},this.mu=new Map,this.fu=Mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uk(r,e,n=!0){const s=IE(r);let a;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.lu()):a=await _E(s,e,n,!0),a}async function ck(r,e){const n=IE(r);await _E(n,e,!0,!1)}async function _E(r,e,n,s){const a=await xR(r.localStore,ar(e)),u=a.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await hk(r,e,u,d==="current",a.resumeToken)),r.isPrimaryClient&&n&&lE(r.remoteStore,a),p}async function hk(r,e,n,s,a){r.pu=(S,I,D)=>(async function($,M,J,X){let ie=M.view.ru(J);ie.Cs&&(ie=await yv($.localStore,M.query,!1).then((({documents:x})=>M.view.ru(x,ie))));const me=X&&X.targetChanges.get(M.targetId),Re=X&&X.targetMismatches.get(M.targetId)!=null,Ie=M.view.applyChanges(ie,$.isPrimaryClient,me,Re);return Pv($,M.targetId,Ie.au),Ie.snapshot})(r,S,I,D);const u=await yv(r.localStore,e,!0),d=new sk(e,u.Qs),p=d.ru(u.documents),m=Rl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",a),v=d.applyChanges(p,r.isPrimaryClient,m);Pv(r,n,v.au);const w=new ok(e,n,d);return r.Tu.set(e,w),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),v.snapshot}async function dk(r,e,n){const s=Se(r),a=s.Tu.get(e),u=s.Iu.get(a.targetId);if(u.length>1)return s.Iu.set(a.targetId,u.filter((d=>!$c(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Af(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&pp(s.remoteStore,a.targetId),Rf(s,a.targetId)})).catch(Ho)):(Rf(s,a.targetId),await Af(s.localStore,a.targetId,!0))}async function fk(r,e){const n=Se(r),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),pp(n.remoteStore,s.targetId))}async function pk(r,e,n){const s=Ek(r);try{const a=await(function(d,p){const m=Se(d),v=Xe.now(),w=p.reduce(((D,B)=>D.add(B.key)),be());let S,I;return m.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let B=zr(),$=be();return m.Ns.getEntries(D,w).next((M=>{B=M,B.forEach(((J,X)=>{X.isValidDocument()||($=$.add(J))}))})).next((()=>m.localDocuments.getOverlayedDocuments(D,B))).next((M=>{S=M;const J=[];for(const X of p){const ie=kP(X,S.get(X.key).overlayedDocument);ie!=null&&J.push(new Mi(X.key,ie,Iw(ie.value.mapValue),Bn.exists(!0)))}return m.mutationQueue.addMutationBatch(D,v,J,p)})).next((M=>{I=M;const J=M.applyToLocalDocumentSet(S,$);return m.documentOverlayCache.saveOverlays(D,M.batchId,J)}))})).then((()=>({batchId:I.batchId,changes:Lw(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(d,p,m){let v=d.Vu[d.currentUser.toKey()];v||(v=new nt(xe)),v=v.insert(p,m),d.Vu[d.currentUser.toKey()]=v})(s,a.batchId,n),await xl(s,a.changes),await Qc(s.remoteStore)}catch(a){const u=_p(a,"Failed to persist write");n.reject(u)}}async function wE(r,e){const n=Se(r);try{const s=await PR(n.localStore,e);e.targetChanges.forEach(((a,u)=>{const d=n.Au.get(u);d&&(Ue(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?d.hu=!0:a.modifiedDocuments.size>0?Ue(d.hu,14607):a.removedDocuments.size>0&&(Ue(d.hu,42227),d.hu=!1))})),await xl(n,s,e)}catch(s){await Ho(s)}}function Cv(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&a.push(p.snapshot)})),(function(d,p){const m=Se(d);m.onlineState=p;let v=!1;m.queries.forEach(((w,S)=>{for(const I of S.Sa)I.va(p)&&(v=!0)})),v&&wp(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mk(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),u=a&&a.key;if(u){let d=new nt(pe.comparator);d=d.insert(u,zt.newNoDocument(u,Te.min()));const p=be().add(u),m=new Wc(Te.min(),new Map,new nt(xe),d,p);await wE(s,m),s.du=s.du.remove(u),s.Au.delete(e),Tp(s)}else await Af(s.localStore,e,!1).then((()=>Rf(s,e,n))).catch(Ho)}async function gk(r,e){const n=Se(r),s=e.batch.batchId;try{const a=await CR(n.localStore,e);TE(n,s,null),EE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xl(n,a)}catch(a){await Ho(a)}}async function yk(r,e,n){const s=Se(r);try{const a=await(function(d,p){const m=Se(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return m.mutationQueue.lookupMutationBatch(v,p).next((S=>(Ue(S!==null,37113),w=S.keys(),m.mutationQueue.removeMutationBatch(v,S)))).next((()=>m.mutationQueue.performConsistencyCheck(v))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(v,w,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>m.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);TE(s,e,n),EE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await xl(s,a)}catch(a){await Ho(a)}}function EE(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function TE(r,e,n){const s=Se(r);let a=s.Vu[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(n?u.reject(n):u.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Rf(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||SE(r,s)}))}function SE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(pp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Tp(r))}function Pv(r,e,n){for(const s of n)s instanceof yE?(r.Ru.addReference(s.key,e),vk(r,s)):s instanceof vE?(le(Ep,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||SE(r,s.key)):_e(19791,{wu:s})}function vk(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(Ep,"New document in limbo: "+n),r.Eu.add(s),Tp(r))}function Tp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(Ge.fromString(e)),s=r.fu.next();r.Au.set(s,new ak(n)),r.du=r.du.insert(n,s),lE(r.remoteStore,new Si(ar(ip(n.path)),s,"TargetPurposeLimboResolution",jc.ce))}}async function xl(r,e,n){const s=Se(r),a=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,m)=>{d.push(s.pu(m,e,n).then((v=>{if((v||n)&&s.isPrimaryClient){const w=v?!v.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(v){a.push(v);const w=dp.As(m.targetId,v);u.push(w)}})))})),await Promise.all(d),s.Pu.H_(a),await(async function(m,v){const w=Se(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>K.forEach(v,(I=>K.forEach(I.Es,(D=>w.persistence.referenceDelegate.addReference(S,I.targetId,D))).next((()=>K.forEach(I.ds,(D=>w.persistence.referenceDelegate.removeReference(S,I.targetId,D)))))))))}catch(S){if(!Wo(S))throw S;le(fp,"Failed to update sequence numbers: "+S)}for(const S of v){const I=S.targetId;if(!S.fromCache){const D=w.Ms.get(I),B=D.snapshotVersion,$=D.withLastLimboFreeSnapshotVersion(B);w.Ms=w.Ms.insert(I,$)}}})(s.localStore,u))}async function _k(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){le(Ep,"User change. New user:",e.toKey());const s=await iE(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((m=>{m.reject(new se(G.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xl(n,s.Ls)}}function wk(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return be().add(s.key);{let a=be();const u=n.Iu.get(e);if(!u)return a;for(const d of u){const p=n.Tu.get(d);a=a.unionWith(p.view.nu)}return a}}function IE(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mk.bind(null,e),e.Pu.H_=rk.bind(null,e.eventManager),e.Pu.yu=ik.bind(null,e.eventManager),e}function Ek(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yk.bind(null,e),e}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AR(this.persistence,new TR,e.initialUser,this.serializer)}Cu(e){return new rE(hp.mi,this.serializer)}Du(e){return new NR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class Tk extends xc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ue(this.persistence.referenceDelegate instanceof Rc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new aR(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new rE((s=>Rc.mi(s,n)),this.serializer)}}class kf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Cv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_k.bind(null,this.syncEngine),await ek(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nk})()}createDatastore(e){const n=Gc(e.databaseInfo.databaseId),s=(function(u){return new MR(u)})(e.databaseInfo);return(function(u,d,p,m){return new zR(u,d,p,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,u,d,p){return new BR(s,a,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Cv(this.syncEngine,n,0)),(function(){return wv.v()?new wv:new OR})())}createSyncEngine(e,n){return(function(a,u,d,p,m,v,w){const S=new lk(a,u,d,p,m,v);return w&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);le(_s,"RemoteStore shutting down."),s.Ea.add(5),await kl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kf.provider={build:()=>new kf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="FirestoreClient";class Sk{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Ut.UNAUTHENTICATED,this.clientId=Jf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{le(Li,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(le(Li,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=_p(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Yd(r,e){r.asyncQueue.verifyOperationInProgress(),le(Li,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async a=>{s.isEqual(a)||(await iE(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Rv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Ik(r);le(Li,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Tv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,a)=>Tv(e.remoteStore,a))),r._onlineComponents=e}async function Ik(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(Li,"Using user provided OfflineComponentProvider");try{await Yd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===G.FAILED_PRECONDITION||a.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await Yd(r,new xc)}}else le(Li,"Using default OfflineComponentProvider"),await Yd(r,new Tk(void 0));return r._offlineComponents}async function CE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(Li,"Using user provided OnlineComponentProvider"),await Rv(r,r._uninitializedComponentsProvider._online)):(le(Li,"Using default OnlineComponentProvider"),await Rv(r,new kf))),r._onlineComponents}function Ak(r){return CE(r).then((e=>e.syncEngine))}async function PE(r){const e=await CE(r),n=e.eventManager;return n.onListen=uk.bind(null,e.syncEngine),n.onUnlisten=dk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ck.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fk.bind(null,e.syncEngine),n}function Ck(r,e,n={}){const s=new Lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,m,v){const w=new AE({next:I=>{w.Nu(),d.enqueueAndForget((()=>mE(u,S)));const D=I.docs.has(p);!D&&I.fromCache?v.reject(new se(G.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&I.fromCache&&m&&m.source==="server"?v.reject(new se(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:I=>v.reject(I)}),S=new gE(ip(p.path),w,{includeMetadataChanges:!0,qa:!0});return pE(u,S)})(await PE(r),r.asyncQueue,e,n,s))),s.promise}function Pk(r,e,n={}){const s=new Lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,m,v){const w=new AE({next:I=>{w.Nu(),d.enqueueAndForget((()=>mE(u,S))),I.fromCache&&m.source==="server"?v.reject(new se(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),S=new gE(p,w,{includeMetadataChanges:!0,qa:!0});return pE(u,S)})(await PE(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="firestore.googleapis.com",xv=!0;class bv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kE,this.ssl=xv}else this.host=e.host,this.ssl=e.ssl??xv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sR)throw new se(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xc{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new DC;switch(s.type){case"firstParty":return new FC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=kv.get(n);s&&(le("ComponentProvider","Removing Datastore"),kv.delete(n),s.terminate())})(this),Promise.resolve()}}function Rk(r,e,n,s={}){r=hr(r,Xc);const a=zo(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;a&&(w_(`https://${p}`),E_("Firestore",!0)),u.host!==kE&&u.host!==p&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:p,ssl:a,emulatorOptions:s};if(!ki(m,d)&&(r._setSettings(m),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=Ut.MOCK_USER;else{v=aI(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new se(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ut(S)}r._authCredentials=new LC(new dw(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class lt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}toJSON(){return{type:lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Cl(n,lt._jsonSchema))return new lt(e,s||null,new pe(Ge.fromString(n.referencePath)))}}lt._jsonSchemaVersion="firestore/documentReference/1.0",lt._jsonSchema={type:ft("string",lt._jsonSchemaVersion),referencePath:ft("string")};class Ri extends Ss{constructor(e,n,s){super(e,n,ip(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new pe(e))}withConverter(e){return new Ri(this.firestore,e,this._path)}}function Nv(r,e,...n){if(r=Gt(r),fw("collection","path",e),r instanceof Xc){const s=Ge.fromString(e,...n);return qy(s),new Ri(r,null,s)}{if(!(r instanceof lt||r instanceof Ri))throw new se(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ge.fromString(e,...n));return qy(s),new Ri(r.firestore,null,s)}}function kk(r,e,...n){if(r=Gt(r),arguments.length===1&&(e=Jf.newId()),fw("doc","path",e),r instanceof Xc){const s=Ge.fromString(e,...n);return By(s),new lt(r,null,new pe(s))}{if(!(r instanceof lt||r instanceof Ri))throw new se(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ge.fromString(e,...n));return By(s),new lt(r.firestore,r instanceof Ri?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="AsyncQueue";class Dv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oE(this,"async_queue_retry"),this._c=()=>{const s=Xd();s&&le(Ov,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Xd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wo(e))throw e;le(Ov,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ur("INTERNAL UNHANDLED ERROR: ",Lv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=vp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(a),a}uc(){this.nc&&_e(47125,{Pc:Lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Lv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Qo extends Xc{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Dv,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dv(e),this._firestoreClient=void 0,await e}}}function xk(r,e){const n=typeof r=="object"?r:A_(),s=typeof r=="string"?r:Ic,a=zf(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=sI("firestore");u&&Rk(a,...u)}return a}function Sp(r){if(r._terminated)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bk(r),r._firestoreClient}function bk(r){const e=r._freezeSettings(),n=(function(a,u,d,p){return new tP(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,RE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Sk(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(Nt.fromBase64String(e))}catch(n){throw new se(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new In(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cl(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:ft("string",In._jsonSchemaVersion),bytes:ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ur._jsonSchemaVersion}}static fromJSON(e){if(Cl(e,ur._jsonSchema))return new ur(e.latitude,e.longitude)}}ur._jsonSchemaVersion="firestore/geoPoint/1.0",ur._jsonSchema={type:ft("string",ur._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cl(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new cr(e.vectorValues);throw new se(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:ft("string",cr._jsonSchemaVersion),vectorValues:ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=/^__.*__$/;class Ok{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pl(e,this.data,n,this.fieldTransforms)}}class xE{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:r})}}class Jc{constructor(e,n,s,a,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jc({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bE(this.Ac)&&Nk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Dk{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gc(e)}Cc(e,n,s,a=!1){return new Jc({Ac:e,methodName:n,Dc:s,path:bt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zc(r){const e=r._freezeSettings(),n=Gc(r._databaseId);return new Dk(r._databaseId,!!e.ignoreUndefinedProperties,n)}function NE(r,e,n,s,a,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,e,n,a);Pp("Data must be an object, but it was:",d,s);const p=OE(s,d);let m,v;if(u.merge)m=new dn(d.fieldMask),v=d.fieldTransforms;else if(u.mergeFields){const w=[];for(const S of u.mergeFields){const I=xf(e,S,n);if(!d.contains(I))throw new se(G.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);LE(w,I)||w.push(I)}m=new dn(w),v=d.fieldTransforms.filter((S=>m.covers(S.field)))}else m=null,v=d.fieldTransforms;return new Ok(new rn(p),m,v)}class eh extends Xo{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}function Lk(r,e,n){return new Jc({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ip extends Xo{_toFieldTransform(e){return new op(e.path,new ml)}isEqual(e){return e instanceof Ip}}class Ap extends Xo{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Lk(this,e,!0),s=this.vc.map((u=>Yo(u,n))),a=new Vo(s);return new op(e.path,a)}isEqual(e){return e instanceof Ap&&ki(this.vc,e.vc)}}class Cp extends Xo{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new yl(e.serializer,Fw(e.serializer,this.Fc));return new op(e.path,n)}isEqual(e){return e instanceof Cp&&this.Fc===e.Fc}}function Vk(r,e,n,s){const a=r.Cc(1,e,n);Pp("Data must be an object, but it was:",a,s);const u=[],d=rn.empty();Vi(s,((m,v)=>{const w=Rp(e,m,n);v=Gt(v);const S=a.yc(w);if(v instanceof eh)u.push(w);else{const I=Yo(v,S);I!=null&&(u.push(w),d.set(w,I))}}));const p=new dn(u);return new xE(d,p,a.fieldTransforms)}function Mk(r,e,n,s,a,u){const d=r.Cc(1,e,n),p=[xf(e,s,n)],m=[a];if(u.length%2!=0)throw new se(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)p.push(xf(e,u[I])),m.push(u[I+1]);const v=[],w=rn.empty();for(let I=p.length-1;I>=0;--I)if(!LE(v,p[I])){const D=p[I];let B=m[I];B=Gt(B);const $=d.yc(D);if(B instanceof eh)v.push(D);else{const M=Yo(B,$);M!=null&&(v.push(D),w.set(D,M))}}const S=new dn(v);return new xE(w,S,d.fieldTransforms)}function Fk(r,e,n,s=!1){return Yo(n,r.Cc(s?4:3,e))}function Yo(r,e){if(DE(r=Gt(r)))return Pp("Unsupported field value:",e,r),OE(r,e);if(r instanceof Xo)return(function(s,a){if(!bE(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const u=[];let d=0;for(const p of s){let m=Yo(p,a.wc(d));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),d++}return{arrayValue:{values:u}}})(r,e)}return(function(s,a){if((s=Gt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Fw(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Xe.fromDate(s);return{timestampValue:Pc(a.serializer,u)}}if(s instanceof Xe){const u=new Xe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pc(a.serializer,u)}}if(s instanceof ur)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof In)return{bytesValue:Qw(a.serializer,s._byteString)};if(s instanceof lt){const u=a.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw a.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:up(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof cr)return(function(d,p){return{mapValue:{fields:{[Tw]:{stringValue:Sw},[Ac]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return sp(p.serializer,v)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Fc(s)}`)})(r,e)}function OE(r,e){const n={};return gw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vi(r,((s,a)=>{const u=Yo(a,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function DE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Xe||r instanceof ur||r instanceof In||r instanceof lt||r instanceof Xo||r instanceof cr)}function Pp(r,e,n){if(!DE(n)||!pw(n)){const s=Fc(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function xf(r,e,n){if((e=Gt(e))instanceof Yc)return e._internalPath;if(typeof e=="string")return Rp(r,e);throw bc("Field path arguments must be of type string or ",r,!1,void 0,n)}const jk=new RegExp("[~\\*/\\[\\]]");function Rp(r,e,n){if(e.search(jk)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Yc(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bc(r,e,n,s,a){const u=s&&!s.isEmpty(),d=a!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||d)&&(m+=" (found",u&&(m+=` in field ${s}`),d&&(m+=` in document ${a}`),m+=")"),new se(G.INVALID_ARGUMENT,p+r+m)}function LE(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Uk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Uk extends VE{data(){return super.data()}}function kp(r,e){return typeof e=="string"?Rp(r,e):e instanceof Yc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new se(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class ME extends xp{}function $k(r,e,...n){let s=[];e instanceof xp&&s.push(e),s=s.concat(n),(function(u){const d=u.filter((m=>m instanceof Np)).length,p=u.filter((m=>m instanceof bp)).length;if(d>1||d>0&&p>0)throw new se(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)r=a._apply(r);return r}class bp extends ME{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new bp(e,n,s)}_apply(e){const n=this._parse(e);return FE(e._query,n),new Ss(e.firestore,e.converter,_f(e._query,n))}_parse(e){const n=Zc(e.firestore);return(function(u,d,p,m,v,w,S){let I;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new se(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Mv(S,w);const B=[];for(const $ of S)B.push(Vv(m,u,$));I={arrayValue:{values:B}}}else I=Vv(m,u,S)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Mv(S,w),I=Fk(p,d,S,w==="in"||w==="not-in");return dt.create(v,w,I)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Np extends xp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Np(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,u){let d=a;const p=u.getFlattenedFilters();for(const m of p)FE(d,m),d=_f(d,m)})(e._query,n),new Ss(e.firestore,e.converter,_f(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Op extends ME{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Op(e,n)}_apply(e){const n=(function(a,u,d){if(a.startAt!==null)throw new se(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new se(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pl(u,d)})(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,(function(a,u){const d=a.explicitOrderBy.concat([u]);return new Go(a.path,a.collectionGroup,d,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Bk(r,e="asc"){const n=e,s=kp("orderBy",r);return Op._create(s,n)}function Vv(r,e,n){if(typeof(n=Gt(n))=="string"){if(n==="")throw new se(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bw(e)&&n.indexOf("/")!==-1)throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ge.fromString(n));if(!pe.isDocumentKey(s))throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Jy(r,new pe(s))}if(n instanceof lt)return Jy(r,n._key);throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fc(n)}.`)}function Mv(r,e){if(!Array.isArray(r)||r.length===0)throw new se(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FE(r,e){const n=(function(a,u){for(const d of a)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new se(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qk{convertValue(e,n="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Vi(e,((a,u)=>{s[a]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Ac].arrayValue?.values?.map((s=>at(s.doubleValue)));return new cr(n)}convertGeoPoint(e){return new ur(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=zc(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const n=bi(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ge.fromString(e);Ue(tE(s),9688,{name:e});const a=new dl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return a.isEqual(n)||Ur(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Za{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ms extends VE{constructor(e,n,s,a,u,d){super(e,n,s,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(kp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ms._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",ms._jsonSchema={type:ft("string",ms._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class fc extends ms{data(e={}){return super.data(e)}}class ko{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Za(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new fc(this._firestore,this._userDataWriter,s.key,s,new Za(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,u){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map((p=>{const m=new fc(a._firestore,a._userDataWriter,p.doc.key,p.doc,new Za(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const m=new fc(a._firestore,a._userDataWriter,p.doc.key,p.doc,new Za(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),w=d.indexOf(p.doc.key)),{type:Hk(p.type),doc:m,oldIndex:v,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),a.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Hk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(r){r=hr(r,lt);const e=hr(r.firestore,Qo);return Ck(Sp(e),r._key).then((n=>Kk(e,r,n)))}ko._jsonSchemaVersion="firestore/querySnapshot/1.0",ko._jsonSchema={type:ft("string",ko._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};class UE extends qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}}function Wk(r){r=hr(r,Ss);const e=hr(r.firestore,Qo),n=Sp(e),s=new UE(e);return zk(r._query),Pk(n,r._query).then((a=>new ko(e,s,r,a)))}function gx(r,e,n){r=hr(r,lt);const s=hr(r.firestore,Qo),a=jE(r.converter,e,n);return Dp(s,[NE(Zc(s),"setDoc",r._key,a,r.converter!==null,n).toMutation(r._key,Bn.none())])}function yx(r,e,n,...s){r=hr(r,lt);const a=hr(r.firestore,Qo),u=Zc(a);let d;return d=typeof(e=Gt(e))=="string"||e instanceof Yc?Mk(u,"updateDoc",r._key,e,n,s):Vk(u,"updateDoc",r._key,e),Dp(a,[d.toMutation(r._key,Bn.exists(!0))])}function Gk(r,e){const n=hr(r.firestore,Qo),s=kk(r),a=jE(r.converter,e);return Dp(n,[NE(Zc(r.firestore),"addDoc",s._key,a,r.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then((()=>s))}function Dp(r,e){return(function(s,a){const u=new Lr;return s.asyncQueue.enqueueAndForget((async()=>pk(await Ak(s),a,u))),u.promise})(Sp(r),e)}function Kk(r,e,n){const s=n.docs.get(e._key),a=new UE(r);return new ms(r,a,e._key,s,new Za(n.hasPendingWrites,n.fromCache),e.converter)}function vx(){return new Ip("serverTimestamp")}function _x(...r){return new Ap("arrayUnion",r)}function wx(r){return new Cp("increment",r)}(function(e,n=!0){(function(a){qo=a})($o),xo(new gs("firestore",((s,{instanceIdentifier:a,options:u})=>{const d=s.getProvider("app").getImmediate(),p=new Qo(new VC(s.getProvider("auth-internal")),new jC(d,s.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new se(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dl(v.options.projectId,w)})(d,a),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ci(jy,Uy,e),Ci(jy,Uy,"esm2020")})();const Qk={apiKey:"AIzaSyC5kkeOckjhvVHSxpiTXP56GyaipaEbmQc",authDomain:"solstice-14da8.firebaseapp.com",projectId:"solstice-14da8",storageBucket:"solstice-14da8.appspot.com",messagingSenderId:"834230457430",appId:"1:834230457430:web:3c7439e1ae4123a89517f7",measurementId:"G-TJS20KZ48R"},zE=I_(Qk);NC(zE);const Fv=xk(zE);function Xk({t:r}){const[e,n]=H.useState([]),[s,a]=H.useState(""),[u,d]=H.useState(""),[p,m]=H.useState(""),[v,w]=H.useState(1),[S,I]=H.useState(!1),[D,B]=H.useState(!1),[$,M]=H.useState(!1),[J,X]=H.useState(!1),[ie,me]=H.useState(!1),Re=async()=>{me(!0);try{const x=$k(Nv(Fv,"airdrop_participants"),Bk("created","desc")),P=(await Wk(x)).docs.map(N=>N.data());n(P)}catch{n([])}me(!1)};H.useEffect(()=>{Re()},[]);const Ie=async x=>{if(x.preventDefault(),m(""),!u||u.length<3){m("Por favor, ingresa tu usuario de Twitter.");return}if(!/^([1-9A-HJ-NP-Za-km-z]{32,44})$/.test(s)){m("Wallet de Solana no válida");return}me(!0);try{await Gk(Nv(Fv,"airdrop_participants"),{wallet:s,twitter:u,created:Date.now()}),m("¡Wallet registrada para el airdrop!"),a(""),d(""),Re()}catch{m("Error al registrar. Intenta de nuevo.")}me(!1)};return k.jsxs("section",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[k.jsx("h1",{className:"text-3xl font-bold text-[#66fcf1] mb-6",children:r["airdrop-title"]}),k.jsxs("div",{className:"max-w-2xl text-gray-200 text-base mb-8 text-center",children:[k.jsx("strong",{className:"block text-lg text-[#66fcf1] mb-2",children:r["airdrop-hero-title"]}),k.jsx("p",{className:"mb-2",children:r["airdrop-hero-desc1"]}),k.jsx("p",{className:"mb-2 font-semibold text-[#66fcf1]",children:r["airdrop-why-title"]}),k.jsx("p",{className:"mb-2",children:r["airdrop-why-desc"]}),k.jsxs("ul",{className:"list-disc list-inside mb-2 text-left mx-auto",style:{maxWidth:"600px"},children:[k.jsxs("li",{children:[k.jsxs("strong",{children:[r["airdrop-why-pioneer"].split(":")[0],":"]})," ",r["airdrop-why-pioneer"].split(":")[1]]}),k.jsxs("li",{children:[k.jsxs("strong",{children:[r["airdrop-why-governance"].split(":")[0],":"]})," ",r["airdrop-why-governance"].split(":")[1]]}),k.jsxs("li",{children:[k.jsxs("strong",{children:[r["airdrop-why-utility"].split(":")[0],":"]})," ",r["airdrop-why-utility"].split(":")[1]]})]}),k.jsx("p",{className:"mb-2 font-semibold text-[#66fcf1]",children:r["airdrop-how-title"]}),k.jsx("p",{className:"mb-2",children:r["airdrop-how-desc"]}),k.jsx("p",{className:"mt-4",children:r["airdrop-join-desc"]})]}),k.jsxs("p",{className:"text-gray-400 text-center mb-8",children:[r["airdrop-steps-title"],k.jsx("br",{}),r["airdrop-steps-desc"],k.jsx("br",{}),k.jsx("span",{className:"block mt-2 text-sm text-[#66fcf1] font-semibold",children:r["airdrop-steps-unlock"]||"Para desbloquear la pestaña Participar en el Airdrop, haz clic en Sigue nuestra cuenta de Twitter/X y Haz retweet al último post fijado."}),k.jsx("span",{className:"block mt-4",children:k.jsxs("div",{className:"flex flex-col items-center gap-1",children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx("span",{children:"1. "}),k.jsx("a",{href:"https://x.com/SolsticeSols",target:"_blank",rel:"noopener noreferrer",className:`text-[#66fcf1] underline ${$?"font-bold":""}`,onClick:()=>M(!0),children:r["airdrop-step1"].replace(/Twitter\/X ?/i,"").replace(/^[0-9]+\.\s*/,"")})]}),k.jsxs("div",{className:"flex items-center",children:[k.jsx("span",{children:"2. "}),k.jsx("a",{href:"https://x.com/SolsticeSols",target:"_blank",rel:"noopener noreferrer",className:`text-[#66fcf1] underline ${J?"font-bold":""}`,onClick:()=>X(!0),children:r["airdrop-step2"].replace(/^[0-9]+\.\s*/,"")})]})]})})]}),v===1&&k.jsxs("div",{className:"flex flex-col items-start gap-4 mb-8",children:[k.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[k.jsx("input",{type:"checkbox",checked:S,onChange:x=>I(x.target.checked)}),k.jsx("span",{className:"text-gray-300",children:r["airdrop-checkbox-follow"]})]}),k.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[k.jsx("input",{type:"checkbox",checked:D,onChange:x=>B(x.target.checked)}),k.jsx("span",{className:"text-gray-300",children:r["airdrop-checkbox-retweet"]})]}),k.jsx("button",{className:`mt-4 px-6 py-2 rounded-lg font-bold text-lg transition w-fit ${S&&D?"bg-gradient-to-r from-[#45a29e] to-[#66fcf1] text-[#0b0c10] hover:scale-105":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,disabled:!(S&&D),onClick:()=>w(2),children:r["airdrop-continue"]})]}),v===2&&k.jsxs(k.Fragment,{children:[k.jsxs("form",{onSubmit:Ie,className:"flex flex-col items-center gap-6 w-fit",children:[k.jsx("input",{type:"text",placeholder:r["airdrop-twitter-placeholder"],value:u,onChange:x=>d(x.target.value),className:"input border border-[#45a29e] bg-[#0b0c10] rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-[#66fcf1]/40 transition text-white",autoComplete:"off",maxLength:30,style:{minWidth:"220px",color:"#fff"},required:!0,"aria-label":"Usuario de Twitter"}),k.jsx("input",{type:"text",placeholder:r["airdrop-wallet-placeholder"],value:s,onChange:x=>a(x.target.value),className:"input border border-[#45a29e] bg-[#0b0c10] rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-[#66fcf1]/40 transition text-white",autoComplete:"off",maxLength:44,style:{minWidth:"220px",color:"#fff"},required:!0,"aria-label":"Wallet de Solana"}),k.jsx("button",{type:"submit",className:`bg-gradient-to-r from-[#45a29e] to-[#66fcf1] text-[#0b0c10] px-8 py-3 rounded-lg font-bold text-lg shadow hover:scale-105 transition w-fit mt-4 ${$&&J?"":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,disabled:!($&&J),children:r["airdrop-btn-participate"]}),p&&k.jsx("p",{className:"text-[#66fcf1] text-center font-semibold mt-4",children:p})]}),k.jsxs("div",{className:"mt-10 w-full flex flex-col items-center",children:[k.jsx("h3",{className:"text-lg font-bold text-[#66fcf1] mb-2",children:r["airdrop-participants-title"]}),k.jsx("div",{className:"w-full max-w-xl overflow-x-auto rounded-lg shadow-lg",children:k.jsxs("table",{className:"min-w-[340px] w-full bg-[#1f2833] rounded-lg text-sm",children:[k.jsx("thead",{className:"sticky top-0 bg-[#162025] z-10",children:k.jsxs("tr",{children:[k.jsx("th",{className:"px-4 py-3 text-left text-[#66fcf1] font-bold w-32 min-w-[120px]",children:r["airdrop-table-twitter"]}),k.jsx("th",{className:"px-4 py-3 text-left text-[#66fcf1] font-bold w-64 min-w-[200px]",children:r["airdrop-table-wallet"]})]})}),k.jsx("tbody",{children:ie?k.jsx("tr",{children:k.jsx("td",{colSpan:2,className:"px-4 py-4 text-gray-400 text-center",children:"Cargando..."})}):e.length===0?k.jsx("tr",{children:k.jsx("td",{colSpan:2,className:"px-4 py-4 text-gray-400 text-center",children:"Aún no hay participantes registrados."})}):e.map((x,A)=>k.jsxs("tr",{className:`border-t border-[#45a29e]/30 ${A%2===0?"bg-[#232b33]":"bg-[#1f2833]"} hover:bg-[#28343d] transition`,children:[k.jsx("td",{className:"px-4 py-3 text-gray-200 font-mono w-64 min-w-[200px] max-w-[320px] truncate",children:k.jsx("a",{href:`https://solscan.io/token/${x.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"text-[#66fcf1] underline hover:text-[#45a29e]",title:x.wallet,children:x.wallet.length>16?`${x.wallet.slice(0,6)}...${x.wallet.slice(-4)}`:x.wallet})}),k.jsxs("td",{className:"px-4 py-3 text-gray-200 w-32 min-w-[120px]",children:["@",x.twitter]})]},A))})]})})]})]})]})}const jo={es:{"presale-min-label-prefix":"Mínimo de compra:","dao-commission-label":"Comisión propuesta DAO","presale-label":"Preventa","airdrop-steps-unlock":"Para desbloquear la pestaña “Participar en el Airdrop”, primero haz clic en “Sigue nuestra cuenta de Twitter/X” y luego en “Haz retweet al último post fijado”. Cuando ambos pasos estén completos, el botón para participar se activará automáticamente.","team-title":"Conoce al Equipo","team-subtitle":"Un grupo dedicado de visionarios y expertos que trabajan para construir un futuro descentralizado en Solana.","team-jonathan-name":"Jonathan","team-jonathan-role":"CEO & Founder","team-jonathan-desc":"Apasionado por blockchain. Líder visionario.","team-photo":"Foto","team-comingSoon":"PRÓXIMAMENTE","presale-loading-txs":"Cargando transacciones...","airdrop-twitter-placeholder":"Usuario de Twitter (sin @)","airdrop-wallet-placeholder":"Tu wallet de Solana","airdrop-btn-participate":"Participar en el Airdrop","airdrop-title":"Airdrop","airdrop-hero-title":"Únete al Amanecer de Solstice: Tu Participación en la Gobernanza Comienza Aquí","airdrop-hero-desc1":"En Solstice, creemos firmemente que el futuro de Solana se construye de manera colectiva. Nuestro airdrop no es solo una distribución de tokens; es una invitación para que te conviertas en un miembro activo y fundamental de nuestro ecosistema.","airdrop-why-title":"¿Por qué unirte a nuestro Airdrop?","airdrop-why-desc":"Este es tu momento para ser parte del cambio. Al reclamar tus tokens $SOLS, no solo obtienes una pieza de nuestro proyecto, sino que adquieres el poder de influir directamente en las decisiones de la comunidad.","airdrop-why-pioneer":"Sé un Pionero: Posiciónate como uno de los primeros en adoptar $SOLS y únete a una comunidad que valora la participación.","airdrop-why-governance":"Gobernanza Activa: Tus tokens te otorgan derechos de voto para dar forma al futuro de Solstice, desde las propuestas de desarrollo hasta las asignaciones de fondos.","airdrop-why-utility":"Utilidad Real: Accede a beneficios exclusivos y sé parte de la creación de un ecosistema que prioriza la utilidad sobre la especulación.","airdrop-how-title":"¿Cómo Reclamar tus $SOLS?","airdrop-how-desc":"Pronto anunciaremos los pasos detallados para reclamar tus tokens. Sigue nuestras redes sociales para no perderte las últimas actualizaciones.","airdrop-join-desc":"¡Únete a nosotros en este viaje! Juntos, iluminaremos el camino hacia una comunidad más fuerte y descentralizada en Solana.","airdrop-steps-title":"Aceptar reglas del Airdrop.","airdrop-steps-desc":"Para participar debes seguir estos pasos:","airdrop-step1":"1. Sigue nuestra cuenta de Twitter/X","airdrop-step2":"2. Retuitea la última publicación anclada","airdrop-checkbox-follow":"Aceptar reglas del Airdrop.","airdrop-checkbox-retweet":"Aceptar términos y condiciones.","airdrop-continue":"Continuar","airdrop-participants-title":"Participantes","airdrop-table-twitter":"Usuario Twitter","airdrop-table-wallet":"Wallet",disconnect:"Desconectar","pay-commission":"Pagar comisión 0.001 SOL",connect_phantom:"Conectar Phantom","presale-recent-purchases-title":"Compras recientes","presale-no-recent-purchases":"No hay compras recientes.","presale-launch-label":"Preventa de Solstice 200.000.000 SOLS","phantom-connected":"Phantom conectada","presale-buy":"Comprar","presale-buy-loading":"Procesando...","page-title":"Solstice - Ecosistema DAO en Solana","nav-home":"Inicio","nav-presale":"Preventa","nav-whitepaper":"Libro Blanco","nav-team":"Equipo","nav-dao":"DAO","hero-title":"Construyendo el futuro de la gobernanza comunitaria en Solana","hero-subtitle":"Solstice es la nueva generación de proyectos DeFi, empoderando a la comunidad con transparencia y control total sobre el ecosistema.","hero-btn-presale":"Participa en la Preventa","hero-btn-whitepaper":"Lee el Libro Blanco","features-title":"Nuestras Características","feature1-title":"Gobernanza DAO","feature1-text":"La comunidad controla el futuro del proyecto a través de un modelo de gobernanza descentralizada.","feature2-title":"Tokenomía Justa","feature2-text":"Una distribución de tokens que recompensa la participación y promueve la sostenibilidad a largo plazo.","feature3-title":"Transparencia Total","feature3-text":"Cada decisión y transacción es visible en la blockchain, asegurando la máxima transparencia.","tokenomics-title":"Tokenomía ($SOLS)","tokenomics-intro":"El token $SOLS es el corazón del ecosistema Solstice. Su tokenomía está diseñada para incentivar la participación y garantizar un crecimiento saludable.","tokenomics-total-supply":"Suministro Total: 1,000,000,000 $SOLS","tokenomics-distribution":"Distribución:","tokenomics-presale":"Preventa (20%): Destinado a la financiación inicial del proyecto.","tokenomics-rewards":"Recompensas de la Comunidad (30%): Fomenta el crecimiento y la lealtad.","tokenomics-treasury":"Fondo de Tesorería de la DAO (35%): Controlado por la comunidad para financiar futuras iniciativas.","tokenomics-liquidity":"Liquidez Inicial (10%): Para garantizar una liquidez robusta en los intercambios.","tokenomics-airdrop":"Airdrop (5%): Repartido entre 500,000 personas, 100 SOLS cada una.","presale-page-title":"Oficial $SOLS Preventa","presale-page-subtitle":"Asegura tu participación en el futuro del ecosistema Solstice. ¡El tiempo es limitado!","presale-price-label":"Precio por Token: 0,0001 SOLS","presale-raised":"0 SOL Recaudado","presale-goal":"20,000 SOL Objetivo","presale-status-title":"Próximamente disponible, esperando lanzamiento","presale-disclaimer":"Al participar, aceptas los términos y condiciones de la preventa. Por favor, lee nuestro Libro Blanco para más detalles.","whitepaper-page-title":"Libro Blanco de Solstice","whitepaper-page-subtitle":"El documento fundamental que detalla la visión, la tecnología y el futuro de nuestro proyecto en la red de Solana.","team-page-title":"Conoce al Equipo","team-page-subtitle":"Un grupo dedicado de visionarios y expertos que trabajan para construir un futuro descentralizado en Solana.","dao-page-title":"Panel de Control de la DAO","dao-page-subtitle":"Participa en la toma de decisiones y vota en las propuestas que darán forma al futuro de Solstice.","dao-wallet-status-title":"Estado de la Billetera","dao-btn-connect-wallet":"Conectar Billetera Solana","dao-btn-create-proposal":"Crear Nueva Propuesta","dao-active-proposals-title":"Propuestas Activas","proposal-form-page-title":"Crear Nueva Propuesta","proposal-form-page-subtitle":"Presenta una idea para la comunidad. Si es aprobada, será implementada.","proposal-form-title-label":"Título de la Propuesta","proposal-form-desc-label":"Descripción Completa","proposal-form-btn-submit":"Enviar Propuesta","footer-text":"© 2024 Solstice. Todos los derechos reservados.","language-selector":"Idioma:",connected:"Conectada","wallet-connected":"Billetera Conectada:","wallet-connect-success":"Billetera conectada con éxito.","phantom-not-found":"¡Phantom Wallet no encontrada! Por favor, instálala para continuar.","phantom-connect-error":"No se pudo conectar con Phantom. Intenta de nuevo.","presale-connect-required":"Conecta tu wallet Phantom para participar.","presale-amount-invalid":"Introduce una cantidad válida.","presale-amount-placeholder":"Cantidad a comprar","presale-max-tokens-wallet":"Máximo = 4,000,000 tokens solstice por cartera","presale-min-label-05":"Mínimo de compra: 0.5 SOL","presale-min-label-025":"Mínimo de compra: 0.25 SOL","presale-min-label-01":"Mínimo de compra: 0.1 SOL","presale-min-label-001":"Mínimo de compra: 0.01 SOL","presale-success":"¡Transacción enviada correctamente! Recibirás tus $SOLS automáticamente en tu wallet Phantom tras la confirmación.","presale-tx-error":"Error en la transacción. Intenta de nuevo.","proposal-creation-success":"¡Propuesta creada con éxito!","member1-name":"PROXIMAMENTE","member1-role":"PROXIMAMENTE","member1-bio":"PROXIMAMENTE","member2-name":"PROXIMAMENTE","member2-role":"PROXIMAMENTE","member2-bio":"PROXIMAMENTE","member3-name":"PROXIMAMENTE","member3-role":"PROXIMAMENTE","member3-bio":"PROXIMAMENTE","member4-name":"PROXIMAMENTE","member4-role":"PROXIMAMENTE","member4-bio":"PROXIMAMENTE","dao-connecting":"Conectando...","dao-loading-proposals":"Cargando propuestas...","dao-no-proposals":"No hay propuestas activas en este momento.","dao-proposal-status":"Estado:","dao-proposal-status-active":"Activa","dao-proposal-status-voted":"¡Votado!","dao-proposal-votes":"Votos:","dao-wallet-connect-rejected":"Conexión de billetera rechazada.","dao-wallet-connect-error":"Error al conectar la billetera.","proposal-form-title-placeholder":"Título de la Propuesta","proposal-form-desc-placeholder":"Descripción Completa","proposal-form-title-desc-empty":"El título y la descripción no pueden estar vacíos.","proposal-creation-error":"Error al crear la propuesta:","back-to-top":"Arriba","back-to-top-aria":"Volver arriba","copy-link":"Copiar enlace","link-copied":"Enlace copiado al portapapeles","copy-failed":"No se pudo copiar el enlace",whitepaper:{tocTitle:"Índice",toc:["1. Introducción: El Problema y Nuestra Solución","2. Visión y Misión del Ecosistema","3. Tecnología y Arquitectura de la Blockchain","4. Tokenomía Detallada ($SOLS)","5. Hoja de Ruta Completa y Futuros Hitos","6. Mecanismos de Gobernanza Descentralizada","7. Seguridad y Auditorías del Protocolo","8. Conclusión: El Futuro de Solstice","9. Transparencia de tokens $SOLS","10. Preventa: Cómo Participar, Requisitos y Seguridad","11. DAO: Funcionamiento, Propuestas y Votaciones","12. Preguntas Frecuentes (FAQ)","13. Condiciones Legales, Términos y Privacidad"],"dao-proposal-btn-vote":"Votar",sections:{presale:{title:"Preventa: Cómo Participar, Requisitos y Seguridad",content:["<b>¿Cómo participar?</b> Para unirse a la preventa, simplemente conecta tu billetera Phantom y sigue las instrucciones en la pestaña de preventa. Solo se permite la conexión mediante Phantom para máxima seguridad y facilidad de uso.","<b>Requisitos:</b> Debes tener una billetera Phantom activa y saldo suficiente en SOL para cubrir la compra y las comisiones de red.","<b>Seguridad:</b> Todas las transacciones se realizan en la blockchain de Solana, garantizando transparencia y seguridad. No almacenamos claves privadas ni accedemos a tus fondos.","El progreso de la preventa y los límites de compra se muestran en tiempo real en la plataforma."]},dao:{title:"DAO: Funcionamiento, Propuestas y Votaciones",content:["<b>Creación de propuestas:</b> Para crear una propuesta, debes conectar tu billetera Phantom y pagar una comisión de 0.001 SOL. El botón de crear propuesta solo se habilita tras el pago de la comisión.","<b>Votación:</b> Cada wallet puede votar una sola vez por propuesta, garantizando un proceso justo y descentralizado. El recuento de votos y el estado de cada propuesta se muestran en tiempo real.","La DAO permite a la comunidad tomar decisiones clave sobre el futuro del proyecto de forma transparente y segura."]},faq:{title:"Preguntas Frecuentes (FAQ)",content:["<b>¿Qué billetera puedo usar?</b> Solo Phantom es compatible para máxima seguridad y experiencia de usuario.","<b>¿Cómo participo en la preventa?</b> Conecta tu Phantom y sigue las instrucciones en la pestaña de preventa.","<b>¿Cómo creo una propuesta en la DAO?</b> Conecta tu Phantom, paga la comisión y rellena el formulario de propuesta.","<b>¿Puedo votar varias veces?</b> No, solo puedes votar una vez por propuesta con cada wallet.","<b>¿Mis fondos están seguros?</b> Sí, todas las operaciones se realizan en la blockchain de Solana y nunca almacenamos tus claves privadas."]},legal:{title:"Condiciones Legales, Términos y Privacidad",content:["El uso de la plataforma implica la aceptación de los términos y condiciones publicados. La plataforma no solicita ni almacena datos personales sensibles. Todas las operaciones se realizan en la blockchain de Solana.","Para más información sobre privacidad y términos legales, consulta la sección correspondiente en la web oficial o contacta con el equipo de Solstice."]},transparencia:{title:"Transparencia de tokens $SOLS",content:'<b>Wallet donde están los tokens de la preventa:</b><br/><span class="break-all font-mono text-[#66fcf1]">CgAkPzZpdKAY9Cwzd2AiKmrRHgAK6DyVFn1n6VCQknEb</span><br/>Esta wallet contiene los $SOLS que se están vendiendo actualmente en la preventa.<br/><br/><b>Wallet donde están el resto de tokens $SOLS:</b><br/><span class="break-all font-mono text-[#66fcf1]">EZwVQKnP5c3K2etpt24VjE1hG3ycq2SZe52NUcZpgo2F</span><br/>Aquí se guardan los tokens que no forman parte de la preventa, hasta la creación del pool de liquidez.<br/><br/>Ambas direcciones pueden ser auditadas en cualquier explorador de Solana.'},intro:{title:"1. Introducción: El Problema y Nuestra Solución",content:"La mayoría de los proyectos DeFi se enfrentan a problemas de centralización, falta de transparencia y una distribución de valor injusta. Solstice aborda estos desafíos aprovechando la infraestructura de alta velocidad de Solana para crear un ecosistema totalmente descentralizado..."},vision:{title:"2. Visión y Misión del Ecosistema",content:"Nuestra visión es que Solstice se convierta en la plataforma de lanzamiento de referencia para proyectos transparentes y orientados a la comunidad en la red de Solana..."},tech:{title:"3. Tecnología y Arquitectura de la Blockchain",content:["Solstice está construido sobre la blockchain de Solana, una de las redes más rápidas y de menor costo del sector. Aprovechamos la alta escalabilidad y el bajo coste de transacción de Solana para ofrecer una experiencia fluida y accesible a todos los usuarios.","Nuestra arquitectura se basa en contratos inteligentes auditados, integrando oráculos para datos externos y mecanismos de actualización sin downtime. El sistema está diseñado para soportar miles de transacciones por segundo, garantizando la seguridad y la descentralización.","Además, implementamos soluciones de interoperabilidad para facilitar la integración con otros protocolos DeFi y futuros puentes cross-chain."]},tokenomics:{title:"4. Tokenomía Detallada ($SOLS)",totalSupply:"Suministro Total: 1,000,000,000 $SOLS",distribution:"Distribución:",presale:"Preventa (20%): Destinado a la financiación inicial del proyecto.",rewards:"Recompensas de la Comunidad (30%): Fomenta el crecimiento y la lealtad.",treasury:"Fondo de Tesorería de la DAO (35%): Controlado por la comunidad para financiar futuras iniciativas.",liquidity:"Liquidez Inicial (10%): Para garantizar una liquidez robusta en los intercambios.",airdrop:"Airdrop (5%): Repartido entre 500,000 personas, 100 SOLS cada una."},roadmap:{title:"5. Hoja de Ruta Completa y Futuros Hitos",content:["<b>Fase 1 (Q3 2025): Lanzamiento y Establecimiento</b><br/>- Desarrollo y despliegue del contrato inteligente principal.<br/>- Auditoría de seguridad inicial.<br/>- Lanzamiento de la preventa y airdrop.<br/>- Formación de la comunidad inicial y canales oficiales.","<b>Fase 2 (Q4 2025): Expansión del Ecosistema</b><br/>- Listado en exchanges descentralizados (DEX).<br/>- Integración de oráculos y partners estratégicos.<br/>- Lanzamiento de la DAO y primeras propuestas.<br/>- Programas de incentivos y recompensas para la comunidad.","<b>Fase 3 (Q1 2026): Madurez y Adopción</b><br/>- Expansión internacional y campañas de marketing.<br/>- Implementación de puentes cross-chain.<br/>- Nuevas funcionalidades DeFi y colaboraciones.<br/>- Auditoría de seguridad avanzada y mejora continua."]},governance:{title:"6. Mecanismos de Gobernanza Descentralizada",content:["La gobernanza de Solstice se ejecuta a través de una DAO (Organización Autónoma Descentralizada), donde cada poseedor de $SOLS puede proponer y votar iniciativas que afectan al futuro del proyecto.","El proceso de propuestas es transparente: cualquier usuario con el mínimo de tokens requerido puede presentar una propuesta. Todas las propuestas se someten a votación pública, con un sistema de quórum y mayoría simple para su aprobación.","La DAO gestiona el fondo de tesorería, la asignación de recompensas y la evolución del protocolo, garantizando que el poder de decisión reside en la comunidad."]},security:{title:"7. Seguridad y Auditorías del Protocolo",content:["La seguridad es nuestra máxima prioridad. Todos los contratos inteligentes de Solstice son sometidos a auditorías externas por firmas reconocidas en el sector.","Implementamos un programa de bug bounty para incentivar la detección temprana de vulnerabilidades. Además, el código es open source y puede ser revisado por cualquier miembro de la comunidad.","Las claves de los fondos y contratos están protegidas mediante multisig y políticas de acceso restringido. Realizamos pruebas continuas y simulaciones de ataque para anticipar posibles riesgos."]},conclusion:{title:"8. Conclusión: El Futuro de Solstice",content:["Solstice representa un nuevo amanecer para las finanzas descentralizadas en Solana, combinando tecnología avanzada, gobernanza comunitaria y máxima transparencia.","Nuestro compromiso es seguir innovando y adaptándonos a las necesidades de la comunidad, impulsando la adopción global de DeFi.","Invitamos a todos los usuarios a unirse, participar y construir juntos el futuro de Solstice."]}}}},en:{"presale-min-label-prefix":"Minimum purchase:","dao-commission-label":"DAO proposal commission","presale-label":"Presale","dao-proposal-btn-vote":"Vote","airdrop-steps-unlock":"To unlock the “Participate in the Airdrop” tab, first click on “Follow our Twitter/X account” and then on “Retweet the latest pinned post”. Once both steps are completed, the participate button will be automatically enabled.","team-title":"Meet the Team","team-subtitle":"A dedicated group of visionaries and experts working to build a decentralized future on Solana.","team-jonathan-name":"Jonathan","team-jonathan-role":"CEO & Founder","team-jonathan-desc":"Passionate about blockchain. Visionary leader.","team-photo":"Photo","team-comingSoon":"COMING SOON","tokenomics-airdrop":"Airdrop (5%): Distributed among 500,000 people, 100 SOLS each.","presale-loading-txs":"Loading transactions...","airdrop-twitter-placeholder":"Twitter user (without @)","airdrop-wallet-placeholder":"Your Solana wallet","airdrop-btn-participate":"Participate in the Airdrop","airdrop-title":"Airdrop","airdrop-hero-title":"Join the Dawn of Solstice: Your Governance Journey Starts Here","airdrop-hero-desc1":"At Solstice, we firmly believe the future of Solana is built collectively. Our airdrop is not just a token distribution; it is an invitation to become an active and essential member of our ecosystem.","airdrop-why-title":"Why join our Airdrop?","airdrop-why-desc":"This is your moment to be part of the change. By claiming your $SOLS tokens, you not only get a piece of our project, but you gain the power to directly influence community decisions.","airdrop-why-pioneer":"Be a Pioneer: Position yourself as one of the first to adopt $SOLS and join a community that values participation.","airdrop-why-governance":"Active Governance: Your tokens grant you voting rights to shape the future of Solstice, from development proposals to fund allocations.","airdrop-why-utility":"Real Utility: Access exclusive benefits and be part of building an ecosystem that prioritizes utility over speculation.","airdrop-how-title":"How to Claim your $SOLS?","airdrop-how-desc":"We will soon announce the detailed steps to claim your tokens. Follow our social networks to stay up to date.","airdrop-join-desc":"Join us on this journey! Together, we will light the way to a stronger, more decentralized community on Solana.","airdrop-steps-title":"Participate in our airdrop.","airdrop-steps-desc":"To participate you must follow these steps:","airdrop-step1":"1. Follow our Twitter/X account","airdrop-step2":"2. Retweet the latest pinned post","airdrop-checkbox-follow":"Accept the Airdrop rules.","airdrop-checkbox-retweet":"Accept terms and conditions.","airdrop-continue":"Continue","airdrop-participants-title":"Participants","airdrop-table-twitter":"Twitter User","airdrop-table-wallet":"Wallet",disconnect:"Disconnect","pay-commission":"Pay 0.001 SOL fee",connect_phantom:"Connect Phantom","presale-recent-purchases-title":"Recent purchases","presale-no-recent-purchases":"No recent purchases.","presale-launch-label":"Solstice Presale 200,000,000 SOLS","phantom-connected":"Phantom connected","presale-buy":"Buy","presale-buy-loading":"Processing...","page-title":"Solstice - DAO Ecosystem on Solana","nav-home":"Home","nav-presale":"Presale","nav-whitepaper":"Whitepaper","nav-team":"Team","nav-dao":"DAO","hero-title":"Building the future of community governance on Solana","hero-subtitle":"Solstice is the next generation of DeFi projects, empowering the community with transparency and full control over the ecosystem.","hero-btn-presale":"Join the Presale","hero-btn-whitepaper":"Read the Whitepaper","features-title":"Our Features","feature1-title":"DAO Governance","feature1-text":"The community controls the future of the project through a decentralized governance model.","feature2-title":"Fair Tokenomics","feature2-text":"A token distribution that rewards participation and promotes long-term sustainability.","feature3-title":"Total Transparency","feature3-text":"Every decision and transaction is visible on the blockchain, ensuring maximum transparency.","tokenomics-title":"Tokenomics ($SOLS)","tokenomics-intro":"The $SOLS token is the heart of the Solstice ecosystem. Its tokenomics are designed to incentivize participation and ensure healthy growth.","tokenomics-total-supply":"Total Supply: 1,000,000,000 $SOLS.","tokenomics-distribution":"Distribution:","tokenomics-presale":"Presale (20%): Initial funding and marketing.","tokenomics-rewards":"Community Rewards (30%): Fosters growth and loyalty.","tokenomics-treasury":"DAO Treasury Fund (40%): For future development and sustainability.","tokenomics-liquidity":"Initial Liquidity (10%): Ensures market stability.","presale-page-title":"Official $SOLS Presale","presale-page-subtitle":"Secure your stake in the future of the Solstice ecosystem. Time is limited!","presale-price-label":"Price per Token: 0.0001 SOLS","presale-raised":"0 SOL Raised","presale-goal":"20,000 SOL Goal","presale-status-title":"Coming soon, awaiting launch","presale-disclaimer":"By participating, you agree to the terms and conditions of the presale. Please read our Whitepaper for more details.","whitepaper-page-title":"Solstice Whitepaper","whitepaper-page-subtitle":"The foundational document detailing the vision, technology, and future of our project on the Solana network.","team-page-title":"Meet the Team","team-page-subtitle":"A dedicated group of visionaries and experts working to build a decentralized future on Solana.","dao-page-title":"DAO Dashboard","dao-page-subtitle":"Participate in decision-making and vote on proposals that will shape the future of Solstice.","dao-wallet-status-title":"Wallet Status","dao-btn-connect-wallet":"Connect Solana Wallet","dao-btn-create-proposal":"Create New Proposal","dao-active-proposals-title":"Active Proposals","proposal-form-page-title":"Create New Proposal","proposal-form-page-subtitle":"Submit an idea for the community. If approved, it will be implemented.","proposal-form-title-label":"Proposal Title","proposal-form-desc-label":"Full Description","proposal-form-btn-submit":"Submit Proposal","footer-text":"© 2024 Solstice. All rights reserved.","language-selector":"Language:",connected:"Connected","wallet-connected":"Wallet Connected:","wallet-connect-success":"Wallet connected successfully.","phantom-not-found":"Phantom Wallet not found! Please install it to continue.","phantom-connect-error":"Could not connect to Phantom. Please try again.","presale-connect-required":"Connect your Phantom wallet to participate.","presale-amount-invalid":"Enter a valid amount.","presale-amount-placeholder":"Amount to buy","presale-max-tokens-wallet":"Max = 4,000,000 solstice tokens per wallet","presale-min-label-05":"Minimum purchase: 0.5 SOL","presale-min-label-025":"Minimum purchase: 0.25 SOL","presale-min-label-01":"Minimum purchase: 0.1 SOL","presale-min-label-001":"Minimum purchase: 0.01 SOL","presale-success":"Transaction sent successfully! You will receive your $SOLS automatically in your Phantom wallet after confirmation.","presale-tx-error":"Transaction error. Please try again.","proposal-creation-success":"Proposal created successfully!","member1-name":"COMING SOON","member1-role":"COMING SOON","member1-bio":"COMING SOON","member2-name":"COMING SOON","member2-role":"COMING SOON","member2-bio":"COMING SOON","member3-name":"COMING SOON","member3-role":"COMING SOON","member3-bio":"COMING SOON","member4-name":"COMING SOON","member4-role":"COMING SOON","member4-bio":"COMING SOON","dao-connecting":"Connecting...","dao-loading-proposals":"Loading proposals...","dao-no-proposals":"No active proposals at this time.","dao-proposal-status":"Status:","dao-proposal-status-active":"Active","dao-proposal-status-voted":"Voted!","dao-proposal-votes":"Votes:","dao-wallet-connect-rejected":"Wallet connection rejected.","dao-wallet-connect-error":"Error connecting wallet.","proposal-form-title-placeholder":"Proposal Title","proposal-form-desc-placeholder":"Full Description","proposal-form-title-desc-empty":"Title and description cannot be empty.","proposal-creation-error":"Error creating proposal:","back-to-top":"Back to top","back-to-top-aria":"Back to top","copy-link":"Copy link","link-copied":"Link copied to clipboard","copy-failed":"Failed to copy link",whitepaper:{tocTitle:"Table of Contents",toc:["1. Introduction: The Problem and Our Solution","2. Vision and Mission of the Ecosystem","3. Blockchain Technology and Architecture","4. Detailed Tokenomics ($SOLS)","5. Complete Roadmap and Future Milestones","6. Decentralized Governance Mechanisms","7. Protocol Security and Audits","8. Conclusion: The Future of Solstice","9. Token $SOLS Transparency","10. Presale: How to Participate, Requirements & Security","11. DAO: Operation, Proposals & Voting","12. Frequently Asked Questions (FAQ)","13. Legal Terms, Conditions & Privacy"],sections:{intro:{title:"1. Introduction: The Problem and Our Solution",content:"Most DeFi projects face issues of centralization, lack of transparency, and unfair value distribution. Solstice addresses these challenges by leveraging Solana's high-speed infrastructure to create a fully decentralized ecosystem..."},vision:{title:"2. Vision and Mission of the Ecosystem",content:"Our vision is for Solstice to become the reference launchpad for transparent, community-driven projects on the Solana network..."},tech:{title:"3. Blockchain Technology and Architecture",content:["Solstice is built on the Solana blockchain, one of the fastest and lowest-cost networks in the industry. We leverage Solana’s scalability and low transaction fees to provide a seamless and accessible experience for all users.","Our architecture is based on audited smart contracts, integrating oracles for external data and upgrade mechanisms with zero downtime. The system is designed to support thousands of transactions per second, ensuring security and decentralization.","We also implement interoperability solutions to facilitate integration with other DeFi protocols and future cross-chain bridges."]},tokenomics:{title:"4. Detailed Tokenomics ($SOLS)",totalSupply:"Total Supply: 1,000,000,000 $SOLS",distribution:"Distribution:",presale:"Presale (20%): Allocated for initial project funding.",rewards:"Community Rewards (30%): Fosters growth and loyalty.",treasury:"DAO Treasury Fund (35%): Controlled by the community to finance future initiatives.",liquidity:"Initial Liquidity (10%): To ensure robust liquidity on exchanges.",airdrop:"Airdrop (5%): Distributed among 500,000 people, 100 SOLS each."},roadmap:{title:"5. Complete Roadmap and Future Milestones",content:["<b>Phase 1 (Q3 2025): Launch and Establishment</b><br/>- Development and deployment of the main smart contract.<br/>- Initial security audit.<br/>- Launch of the presale and airdrop.<br/>- Formation of the initial community and official channels.","<b>Phase 2 (Q4 2025): Ecosystem Expansion</b><br/>- Listing on decentralized exchanges (DEX).<br/>- Integration of oracles and strategic partners.<br/>- Launch of the DAO and first proposals.<br/>- Incentive and rewards programs for the community.","<b>Phase 3 (Q1 2026): Maturity and Adoption</b><br/>- International expansion and marketing campaigns.<br/>- Implementation of cross-chain bridges.<br/>- New DeFi features and collaborations.<br/>- Advanced security audit and continuous improvement."]},governance:{title:"6. Decentralized Governance Mechanisms",content:["Solstice governance is executed through a DAO (Decentralized Autonomous Organization), where every $SOLS holder can propose and vote on initiatives that affect the future of the project.","The proposal process is transparent: any user with the required minimum tokens can submit a proposal. All proposals are subject to public voting, with a quorum system and simple majority for approval.","The DAO manages the treasury fund, reward allocation, and protocol evolution, ensuring that decision-making power resides with the community."]},security:{title:"7. Protocol Security and Audits",content:["Security is our top priority. All Solstice smart contracts are audited by reputable external firms.","We implement a bug bounty program to encourage early detection of vulnerabilities. In addition, the code is open source and can be reviewed by any community member.","Fund and contract keys are protected by multisig and restricted access policies. We conduct continuous testing and attack simulations to anticipate potential risks."]},conclusion:{title:"8. Conclusion: The Future of Solstice",content:["Solstice represents a new dawn for decentralized finance on Solana, combining advanced technology, community governance, and maximum transparency.","Our commitment is to continue innovating and adapting to the needs of the community, driving global DeFi adoption.","We invite all users to join, participate, and build the future of Solstice together."]},transparencia:{title:"9. Token $SOLS Transparency",content:'<b>Wallet holding the presale tokens:</b><br/><span class="break-all font-mono text-[#66fcf1]">CgAkPzZpdKAY9Cwzd2AiKmrRHgAK6DyVFn1n6VCQknEb</span><br/>This wallet contains the $SOLS currently being sold in the presale.<br/><br/><b>Wallet holding the remaining $SOLS tokens:</b><br/><span class="break-all font-mono text-[#66fcf1]">EZwVQKnP5c3K2etpt24VjE1hG3ycq2SZe52NUcZpgo2F</span><br/>Here are stored the tokens not included in the presale, until the liquidity pool is created.<br/><br/>Both addresses can be audited on any Solana explorer.'},presale:{title:"10. Presale: How to Participate, Requirements & Security",content:["<b>How to participate?</b> To join the presale, simply connect your Phantom wallet and follow the instructions in the presale tab. Only Phantom is allowed for maximum security and ease of use.","<b>Requirements:</b> You must have an active Phantom wallet and enough SOL to cover the purchase and network fees.","<b>Security:</b> All transactions are performed on the Solana blockchain, ensuring transparency and security. We do not store private keys or access your funds.","Presale progress and purchase limits are displayed in real time on the platform."]},dao:{title:"11. DAO: Operation, Proposals & Voting",content:["<b>Proposal creation:</b> To create a proposal, connect your Phantom wallet and pay a 0.001 SOL fee. The create proposal button is only enabled after the fee is paid.","<b>Voting:</b> Each wallet can vote only once per proposal, ensuring a fair and decentralized process. Vote counts and proposal status are shown in real time.","The DAO allows the community to make key decisions about the project’s future in a transparent and secure way."]},faq:{title:"12. Frequently Asked Questions (FAQ)",content:["<b>Which wallet can I use?</b> Only Phantom is supported for maximum security and user experience.","<b>How do I participate in the presale?</b> Connect your Phantom and follow the instructions in the presale tab.","<b>How do I create a proposal in the DAO?</b> Connect your Phantom, pay the fee, and fill out the proposal form.","<b>Can I vote multiple times?</b> No, you can only vote once per proposal with each wallet.","<b>Are my funds safe?</b> Yes, all operations are performed on the Solana blockchain and we never store your private keys."]},legal:{title:"13. Legal Terms, Conditions & Privacy",content:["Using the platform implies acceptance of the published terms and conditions. The platform does not request or store sensitive personal data. All operations are performed on the Solana blockchain.","For more information about privacy and legal terms, see the relevant section on the official website or contact the Solstice team."]}}}},zh:{"presale-min-label-prefix":"最低购买量：","dao-commission-label":"DAO 提案手续费","presale-label":"预售","dao-proposal-btn-vote":"投票","airdrop-steps-unlock":"要解锁“参与空投”标签页，请先点击“关注我们的 Twitter/X 账号”，再点击“转发最新置顶推文”。当两个步骤都完成后，参与按钮会自动激活。","team-jonathan-name":"Jonathan","team-jonathan-role":"首席执行官 & 创始人","team-jonathan-desc":"区块链爱好者。愿景领袖。","team-title":"认识团队","team-subtitle":"一个由远见卓识者和专家组成的敬业团队，致力于在 Solana 上构建去中心化的未来。","team-photo":"照片","team-comingSoon":"即将到来","tokenomics-airdrop":"空投 (5%)：分发给 500,000 人，每人 100 SOLS。","presale-loading-txs":"正在加载交易…","airdrop-twitter-placeholder":"Twitter 用户名（不含@）","airdrop-wallet-placeholder":"你的 Solana 钱包","airdrop-btn-participate":"参与空投","airdrop-title":"空投","airdrop-hero-title":"加入 Solstice 的黎明：您的治理之旅从这里开始","airdrop-hero-desc1":"在 Solstice，我们坚信 Solana 的未来是集体构建的。我们的空投不仅仅是代币分发；它是邀请您成为我们生态系统积极且重要成员的机会。","airdrop-why-title":"为什么加入我们的空投？","airdrop-why-desc":"这是您成为变革一部分的时刻。领取 $SOLS 代币，不仅获得我们项目的一部分，还能直接影响社区决策。","airdrop-why-pioneer":"成为先锋: 成为首批采用 $SOLS 的人，加入重视参与的社区。","airdrop-why-governance":"积极治理: 您的代币赋予您投票权，从开发提案到资金分配，共同塑造 Solstice 的未来。","airdrop-why-utility":"真实效用: 获得专属福利，参与构建以效用为先的生态系统。","airdrop-how-title":"如何领取您的 $SOLS？","airdrop-how-desc":"我们将很快公布领取代币的详细步骤。请关注我们的社交网络，获取最新信息。","airdrop-join-desc":"加入我们的旅程！让我们共同照亮 Solana 上更强大、更去中心化的社区之路。","airdrop-steps-title":"参与我们的空投。","airdrop-steps-desc":"要参与，您必须完成以下步骤：","airdrop-step1":"1. 关注我们的 Twitter/X 账号","airdrop-step2":"2. 转发最新置顶推文","airdrop-checkbox-follow":"您接受空投规则。","airdrop-checkbox-retweet":"接受条款和条件。","airdrop-continue":"继续","airdrop-participants-title":"参与者","airdrop-table-twitter":"Twitter 用户","airdrop-table-wallet":"钱包",disconnect:"断开连接","pay-commission":"支付 0.001 SOL 手续费",connect_phantom:"连接 Phantom","presale-recent-purchases-title":"最近的购买","presale-no-recent-purchases":"暂无购买记录。","presale-launch-label":"Solstice 预售 200,000,000 SOLS","phantom-connected":"Phantom 已连接","presale-buy":"购买","presale-buy-loading":"处理中...","page-title":"Solstice - Solana上的DAO生态系统","nav-home":"主页","nav-presale":"预售","nav-whitepaper":"白皮书","nav-team":"团队","nav-dao":"DAO","hero-title":"在Solana上构建社区治理的未来","hero-subtitle":"Solstice是下一代DeFi项目，通过透明度和对生态系统的完全控制来赋能社区。","hero-btn-presale":"加入预售","hero-btn-whitepaper":"阅读白皮书","features-title":"我们的特点","feature1-title":"DAO治理","feature1-text":"社区通过去中心化治理模式控制项目的未来。","feature2-title":"公平代币经济","feature2-text":"一种奖励参与并促进长期可持续性的代币分配。","feature3-title":"完全透明","feature3-text":"每个决策和交易都在区块链上可见，确保最大程度的透明度。","tokenomics-title":"代币经济学 ($SOLS)","tokenomics-intro":"$SOLS 代币是 Solstice 生态系统的核心。其代币经济学旨在激励参与并确保健康成长。","tokenomics-total-supply":"总供应量：1,000,000,000 $SOLS。","tokenomics-distribution":"分配：","tokenomics-presale":"预售 (20%)：初始资金和营销。","tokenomics-rewards":"社区奖励 (30%)：促进成长和忠诚度。","tokenomics-treasury":"DAO 财政基金 (40%)：用于未来发展和可持续性。","tokenomics-liquidity":"初始流动性 (10%)：确保市场稳定。","presale-page-title":"官方 $SOLS 预售","presale-page-subtitle":"确保您在 Solstice 生态系统未来中的份额。时间有限！","presale-price-label":"代币价格：0.0001 SOLS","presale-raised":"已募资 0 SOL","presale-goal":"20,000 SOL 目标","presale-status-title":"即将推出，敬请期待","presale-disclaimer":"通过参与，您同意预售条款和条件。请阅读我们的白皮书以获取更多详细信息。","whitepaper-page-title":"Solstice 白皮书","whitepaper-page-subtitle":"详细介绍我们在 Solana 网络上的项目愿景、技术和未来的基础文件。","team-page-title":"认识团队","team-page-subtitle":"一个由远见卓识者和专家组成的敬业团队，致力于在 Solana 上构建去中心化的未来。","dao-page-title":"DAO 面板","dao-page-subtitle":"参与决策并对将塑造 Solstice 未来的提案进行投票。","dao-wallet-status-title":"钱包状态","dao-btn-connect-wallet":"连接 Solana 钱包","dao-btn-create-proposal":"创建新提案","dao-active-proposals-title":"活跃提案","proposal-form-page-title":"创建新提案","proposal-form-page-subtitle":"为社区提交一个想法。如果获得批准，它将被实施。","proposal-form-title-label":"提案标题","proposal-form-desc-label":"完整描述","proposal-form-btn-submit":"提交提案","footer-text":"© 2024 Solstice. 保留所有权利。","language-selector":"语言：",connected:"已连接","wallet-connected":"钱包已连接:","wallet-connect-success":"钱包连接成功。","phantom-not-found":"未找到 Phantom 钱包！请安装后再试。","phantom-connect-error":"无法连接 Phantom。请重试。","presale-connect-required":"请连接您的 Phantom 钱包以参与。","presale-amount-invalid":"请输入有效的数量。","presale-amount-placeholder":"购买数量","presale-max-tokens-wallet":"每个钱包最多 4,000,000 个 solstice 代币","presale-min-label-05":"最低购买量：0.5 SOL","presale-min-label-025":"最低购买量：0.25 SOL","presale-min-label-01":"最低购买量：0.1 SOL","presale-min-label-001":"最低购买量：0.01 SOL","presale-success":"交易发送成功！确认后您将自动收到 $SOLS 到您的 Phantom 钱包。","presale-tx-error":"交易出错。请重试。","proposal-creation-success":"提案创建成功！","member1-name":"即将到来","member1-role":"即将到来","member1-bio":"即将到来","member2-name":"即将到来","member2-role":"即将到来","member2-bio":"即将到来","member3-name":"即将到来","member3-role":"即将到来","member3-bio":"即将到来","member4-name":"即将到来","member4-role":"即将到来","member4-bio":"即将到来","dao-connecting":"连接中...","dao-loading-proposals":"正在加载提案...","dao-no-proposals":"目前没有活跃的提案。","dao-proposal-status":"状态：","dao-proposal-status-active":"活跃","dao-proposal-status-voted":"已投票！","dao-proposal-votes":"投票：","dao-wallet-connect-rejected":"钱包连接被拒绝。","dao-wallet-connect-error":"连接钱包时出错。","proposal-form-title-placeholder":"提案标题","proposal-form-desc-placeholder":"完整描述","proposal-form-title-desc-empty":"标题和描述不能为空。","proposal-creation-error":"创建提案时出错：","back-to-top":"返回顶部","back-to-top-aria":"返回顶部","copy-link":"复制链接","link-copied":"链接已复制到剪贴板","copy-failed":"无法复制链接",whitepaper:{tocTitle:"目录",toc:["1. 简介：问题与我们的解决方案","2. 生态系统的愿景与使命","3. 区块链技术与架构","4. 详细代币经济学（$SOLS）","5. 完整路线图与未来里程碑","6. 去中心化治理机制","7. 协议安全与审计","8. 结论：Solstice 的未来","9. SOLS 代币透明度","10. 预售：参与方式、要求与安全","11. DAO：运作、提案与投票","12. 常见问题 (FAQ)","13. 法律条款、条件与隐私"],sections:{presale:{title:"预售：参与方式、要求与安全",content:["<b>如何参与？</b> 要加入预售，只需连接您的 Phantom 钱包并按照预售标签中的说明操作。仅支持 Phantom，以确保最大安全性和易用性。","<b>要求：</b> 您必须拥有一个激活的 Phantom 钱包，并有足够的 SOL 以支付购买和网络费用。","<b>安全：</b> 所有交易均在 Solana 区块链上进行，确保透明和安全。我们不存储私钥，也不会访问您的资金。","预售进度和购买限额会在平台上实时显示。"]},dao:{title:"DAO：运作、提案与投票",content:["<b>提案创建：</b> 要创建提案，请连接您的 Phantom 钱包并支付 0.001 SOL 的费用。支付费用后，创建提案按钮才会启用。","<b>投票：</b> 每个钱包每个提案只能投票一次，确保公平和去中心化。投票计数和提案状态会实时显示。","DAO 允许社区以透明和安全的方式对项目未来做出关键决策。"]},faq:{title:"常见问题 (FAQ)",content:["<b>我可以用哪个钱包？</b> 仅支持 Phantom，以确保最大安全性和用户体验。","<b>如何参与预售？</b> 连接您的 Phantom 并按照预售标签中的说明操作。","<b>如何在 DAO 中创建提案？</b> 连接您的 Phantom，支付费用并填写提案表单。","<b>我可以多次投票吗？</b> 不可以，每个钱包每个提案只能投票一次。","<b>我的资金安全吗？</b> 是的，所有操作都在 Solana 区块链上进行，我们从不存储您的私钥。"]},legal:{title:"法律条款、条件与隐私",content:["使用本平台即表示接受已发布的条款和条件。平台不会请求或存储敏感的个人数据。所有操作均在 Solana 区块链上进行。","有关隐私和法律条款的更多信息，请参阅官方网站的相关部分或联系 Solstice 团队。"]},transparencia:{title:"SOLS 代币透明度",content:'<b>预售代币所在钱包：</b><br/><span class="break-all font-mono text-[#66fcf1]">CgAkPzZpdKAY9Cwzd2AiKmrRHgAK6DyVFn1n6VCQknEb</span><br/>该钱包包含当前正在预售的 $SOLS。<br/><br/><b>其余 $SOLS 代币所在钱包：</b><br/><span class="break-all font-mono text-[#66fcf1]">EZwVQKnP5c3K2etpt24VjE1hG3ycq2SZe52NUcZpgo2F</span><br/>此处存放未参与预售的代币，直至创建流动性池。<br/><br/>这两个地址都可以在任何 Solana 区块链浏览器中进行审计。'},intro:{title:"1. 引言：问题与我们的解决方案",content:"大多数DeFi项目都面临中心化、缺乏透明度和不公平价值分配的问题。Solstice 通过利用 Solana 的高速基础设施来应对这些挑战，创建一个完全去中心化的生态系统..."},vision:{title:"2. 生态系统愿景与使命",content:"我们的愿景是让 Solstice 成为 Solana 网络上透明、以社区驱动的项目参考启动平台..."},tech:{title:"3. 区块链技术与架构",content:["Solstice 构建在 Solana 区块链之上，这是业内最快、成本最低的网络之一。我们利用 Solana 的高可扩展性和低交易费用，为所有用户提供无缝且易于访问的体验。","我们的架构基于经过审计的智能合约，集成了外部数据的预言机和零停机升级机制。系统设计可支持每秒数千笔交易，确保安全性和去中心化。","此外，我们还实施了互操作性解决方案，便于与其他 DeFi 协议和未来的跨链桥集成。"]},tokenomics:{title:"4. 详细代币经济学 ($SOLS)",totalSupply:"总供应量：1,000,000,000 $SOLS",distribution:"分配：",presale:"预售 (20%)：用于项目初始资金。",rewards:"社区奖励 (30%)：促进增长与忠诚。",treasury:"DAO 财政基金 (35%)：由社区控制以资助未来举措。",liquidity:"初始流动性 (10%)：以确保交易所的稳健流动性。",airdrop:"空投 (5%)：分发给 500,000 人，每人 100 SOLS。"},roadmap:{title:"5. 完整路线图与未来里程碑",content:["<b>第一阶段 (2025年第三季度)：启动与建立</b><br/>- 主要智能合约的开发与部署。<br/>- 初步安全审计。<br/>- 预售和空投的启动。<br/>- 初始社区和官方渠道的建立。","<b>第二阶段 (2025年第四季度)：生态系统扩展</b><br/>- 在去中心化交易所（DEX）上线。<br/>- 集成预言机和战略合作伙伴。<br/>- DAO 启动及首批提案。<br/>- 社区激励和奖励计划。","<b>第三阶段 (2026年第一季度)：成熟与采用</b><br/>- 国际扩展和市场推广。<br/>- 跨链桥的实现。<br/>- 新的 DeFi 功能和合作。<br/>- 高级安全审计和持续改进。"]},governance:{title:"6. 去中心化治理机制",content:["Solstice 的治理通过 DAO（去中心化自治组织）执行，每位 $SOLS 持有者都可以提出和投票影响项目未来的倡议。","提案流程透明：任何持有最低要求代币的用户都可以提交提案。所有提案都需公开投票，通过法定人数和简单多数决策。","DAO 管理财政资金、奖励分配和协议演进，确保决策权归属于社区。"]},security:{title:"7. 安全与协议审计",content:["安全是我们的首要任务。所有 Solstice 智能合约均由知名外部公司进行审计。","我们实施漏洞赏金计划，鼓励尽早发现潜在漏洞。此外，代码开源，任何社区成员都可审查。","资金和合约密钥通过多签和访问限制策略保护。我们持续进行测试和攻击模拟，以预防潜在风险。"]},conclusion:{title:"8. 结论：Solstice 的未来",content:["Solstice 代表了 Solana 上去中心化金融的新曙光，融合了先进技术、社区治理和最大透明度。","我们承诺不断创新并适应社区需求，推动全球 DeFi 的采用。","我们邀请所有用户共同加入、参与并建设 Solstice 的未来。"]}}}}},ol={PHANTOM:"Phantom",NONE:null},Yk=()=>window?.solana&&window.solana.isPhantom?ol.PHANTOM:ol.NONE,Jk=()=>{const[r,e]=H.useState(ol.NONE),[n,s]=H.useState(null),[a,u]=H.useState(!1);H.useEffect(()=>{e(Yk())},[]);const d=async()=>{r===ol.PHANTOM&&window.solana?.isConnected&&await window.solana.disconnect(),s(null),u(!1)},p=()=>!a||!n?null:r===ol.PHANTOM?k.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:k.jsxs("div",{className:"bg-purple-900 rounded-lg p-6 shadow-lg w-80 text-center text-white",children:[k.jsx("img",{src:"/solstice_SOLS/solstice-logo.png",alt:"Phantom",className:"mx-auto mb-4 w-16 h-16"}),k.jsx("h2",{className:"text-xl font-bold mb-2",children:"Phantom Conectado"}),k.jsx("p",{className:"mb-4 text-sm break-all",children:n}),k.jsx("button",{onClick:d,className:"bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800",children:t.disconnect||"Desconectar"})]})}):null;return k.jsx("div",{children:p()})},jv={es:{"language-selector":"Idioma:",home:"Inicio",presale:"Preventa",whitepaper:"Libro Blanco",team:"Equipo",dao:"DAO",airdrop:"Airdrop"},en:{"language-selector":"Language:",home:"Home",presale:"Presale",whitepaper:"Whitepaper",team:"Team",dao:"DAO",airdrop:"Airdrop"},zh:{"language-selector":"语言：",home:"主页",presale:"预售",whitepaper:"白皮书",team:"团队",dao:"DAO",airdrop:"空投"}},Zk=[{id:"home",labelKey:"home"},{id:"presale",labelKey:"presale"},{id:"whitepaper",labelKey:"whitepaper"},{id:"dao",labelKey:"dao"},{id:"airdrop",labelKey:"airdrop"}],ex=({currentPage:r,setCurrentPage:e,language:n,setLanguage:s})=>{const a=Of(),u=Br(),d=jv[n]||jv.es,p=H.useRef(null),m=H.useRef(null),[v,w]=H.useState(!1),[S,I]=H.useState(!1);H.useEffect(()=>{},[n,r]),H.useEffect(()=>{const $=m.current;if(!$)return;const M=()=>{const{scrollLeft:X,scrollWidth:ie,clientWidth:me}=$;w(X>0),I(X+me<ie-1)};M(),$.addEventListener("scroll",M,{passive:!0});const J=()=>M();return window.addEventListener("resize",J),()=>{$.removeEventListener("scroll",M),window.removeEventListener("resize",J)}},[n,r]);const D={presale:()=>Ti(()=>import("./Presale-9UF030pK.js"),__vite__mapDeps([0,1])),whitepaper:()=>Ti(()=>import("./Whitepaper-yP_pDAnR.js"),[]),dao:()=>Ti(()=>import("./DaoDashboard-D0baWn3n.js"),[]),"create-proposal":()=>Ti(()=>import("./CreateProposal-CpFs2dJh.js"),[])},B=$=>{a($==="home"?"/":"/"+$)};return k.jsx("header",{ref:p,className:"header-glass sticky top-0 z-50",children:k.jsxs("div",{className:"mx-auto w-full max-w-[var(--container-max)] relative flex flex-row items-center justify-between gap-2 px-2 md:px-6 py-2 overflow-x-auto no-scrollbar",children:[k.jsxs("div",{className:"flex flex-row items-center space-x-3 shrink-0 ml-0",children:[k.jsx("img",{src:"/solstice_SOLS/solstice-custom-logo.png",alt:"Solstice Logo",width:"48",height:"48",className:"w-12 h-12 rounded-full object-contain shrink-0 -ml-1 md:-ml-2",loading:"lazy",decoding:"async",onError:$=>{if(!$.currentTarget.dataset.fallback){$.currentTarget.dataset.fallback="svg",$.currentTarget.src="/solstice_SOLS/solstice-logo.svg";return}$.currentTarget.dataset.fallback==="svg"&&($.currentTarget.dataset.fallback="vite",$.currentTarget.src="/solstice_SOLS/vite.svg")}}),k.jsx("span",{className:"text-2xl md:text-[28px] font-bold gradient-text",children:"Solstice"})]}),k.jsx("nav",{className:"flex flex-row items-center gap-2 sm:gap-4 md:gap-6 lg:gap-8 xl:gap-10 text-white font-medium text-[13px] sm:text-sm md:text-base whitespace-nowrap overflow-x-auto no-scrollbar scroll-smooth px-0 ml-0 select-none custom-vertical-tabs","aria-label":"Main Navigation",role:"navigation",ref:m,style:{WebkitOverflowScrolling:"touch"},children:Zk.map($=>{let M=!1;return($.id==="home"&&(u.pathname==="/"||u.pathname==="")||u.pathname==="/"+$.id)&&(M=!0),k.jsx("button",{onClick:()=>B($.id),onMouseEnter:()=>D[$.id]?.(),onFocus:()=>D[$.id]?.(),"data-id":$.id,className:"tab-btn relative z-10 bg-transparent px-1 sm:px-2 md:px-3 pb-1 pt-1 transition-colors snap-start text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-[#66fcf1]/40","aria-label":d[$.labelKey],"aria-current":M?"page":void 0,children:d[$.labelKey]},$.id)})}),k.jsxs("div",{className:"flex flex-col items-center gap-2 ml-auto pr-6",children:[k.jsx("img",{src:"https://flagcdn.com/48x36/us.png",alt:"English",title:"English",className:"object-cover cursor-pointer",style:{width:"16px",height:"12px"},loading:"lazy",decoding:"async",onClick:()=>s("en"),"aria-label":"Seleccionar English"}),k.jsx("img",{src:"https://flagcdn.com/48x36/es.png",alt:"Español",title:"Español",className:"object-cover cursor-pointer",style:{width:"16px",height:"12px"},loading:"lazy",decoding:"async",onClick:()=>s("es"),"aria-label":"Seleccionar Español"}),k.jsx("img",{src:"https://flagcdn.com/48x36/cn.png",alt:"中文",title:"中文",className:"object-cover cursor-pointer",style:{width:"16px",height:"12px"},loading:"lazy",decoding:"async",onClick:()=>s("zh"),"aria-label":"选择中文"}),k.jsx("div",{className:"ml-2",children:k.jsx(Jk,{})})]})]})})},Uv={sm:"px-3 py-2 text-sm",md:"px-5 py-3 text-base",lg:"px-6 py-3 text-lg"},tx="inline-flex items-center justify-center rounded-full font-bold transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--brand)]/40 disabled:opacity-60 disabled:cursor-not-allowed",zv={primary:"btn-primary",outline:"btn-outline text-[var(--brand)]",ghost:"bg-transparent text-gray-200 hover:bg-white/5",link:"bg-transparent px-0 py-0 text-[var(--brand)] hover:text-white underline-offset-4 hover:underline"};function $v({children:r,variant:e="primary",size:n="md",type:s="button",loading:a=!1,disabled:u=!1,className:d="",leftIcon:p=null,rightIcon:m=null,...v}){const w=[tx,Uv[n]||Uv.md,zv[e]||zv.primary,d].filter(Boolean).join(" ");return k.jsx("button",{type:s,className:w,disabled:u||a,...v,children:a?k.jsxs("span",{className:"inline-flex items-center gap-2",children:[k.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),k.jsx("span",{children:"..."})]}):k.jsxs("span",{className:"inline-flex items-center gap-2",children:[p,k.jsx("span",{children:r}),m]})})}const nx=({setCurrentPage:r,language:e})=>{const n=(e||"es").split("-")[0].toLowerCase(),s=jo[n]||jo.es,a=Of();return k.jsxs("section",{children:[k.jsxs("div",{className:"narrow min-h-[40vh] md:min-h-[50vh] flex flex-col items-center justify-center text-center",children:[k.jsx("h1",{className:"fluid-h1 font-extrabold gradient-text tracking-tight mt-0",children:s["hero-title"]}),k.jsx("p",{className:"fluid-subtitle text-gray-400 mt-3 md:mt-4 text-content",children:s["hero-subtitle"]}),k.jsxs("div",{className:"mt-6 md:mt-8 w-full flex flex-row justify-center items-center gap-3",children:[k.jsx($v,{onClick:()=>a("presale"),size:"lg",variant:"primary",className:"w-fit",children:s["hero-btn-presale"]}),k.jsx($v,{onClick:()=>a("whitepaper"),size:"lg",variant:"outline",className:"w-fit",children:s["hero-btn-whitepaper"]})]})]}),k.jsx("section",{className:"section narrow text-center !my-8 md:!my-12",children:k.jsxs("div",{className:"py-6 md:py-8 flex flex-col items-center",children:[k.jsx("div",{className:"section-header !mb-3 md:!mb-4",children:k.jsx("h2",{className:"fluid-h2 font-extrabold text-white text-center section-title",children:s["features-title"]})}),k.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 items-start justify-items-center gap-4 md:gap-6 w-full",children:[k.jsxs("div",{className:"w-full max-w-[360px] p-2 sm:p-2 md:p-2 justify-self-center text-center md:self-start",children:[k.jsx("h3",{className:"text-2xl font-bold text-[#66fcf1] mb-2",children:s["feature1-title"]}),k.jsx("p",{className:"text-gray-400 text-content",children:s["feature1-text"]})]}),k.jsxs("div",{className:"w-full max-w-[360px] p-2 sm:p-2 md:p-2 md:self-start justify-self-center text-center",children:[k.jsx("h3",{className:"text-2xl font-bold text-[#66fcf1] mb-2",children:s["feature2-title"]}),k.jsx("p",{className:"text-gray-400 text-content",children:s["feature2-text"]})]}),k.jsxs("div",{className:"w-full max-w-[360px] p-2 sm:p-2 md:p-2 justify-self-center text-center md:self-start",children:[k.jsx("h3",{className:"text-2xl font-bold text-[#66fcf1] mb-2",children:s["feature3-title"]}),k.jsx("p",{className:"text-gray-400 text-content",children:s["feature3-text"]})]})]})]})}),k.jsxs("section",{className:"section text-left narrow !my-8 md:!my-12",children:[k.jsx("div",{className:"section-header",children:k.jsx("h2",{className:"fluid-h2 font-extrabold text-white text-center section-title",children:s["tokenomics-title"]})}),k.jsx("div",{className:"card p-4 md:p-5",children:k.jsx("div",{className:"panel p-4 md:p-5",children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_max-content] items-center gap-3 sm:gap-4 md:gap-6",children:[k.jsxs("div",{className:"w-full min-w-0",children:[k.jsx("p",{className:"text-gray-400 mb-4 text-content",children:s["tokenomics-intro"]}),k.jsxs("ul",{className:"list-enhanced text-gray-400 space-y-2 text-content",children:[k.jsx("li",{children:s["tokenomics-total-supply"]}),k.jsx("li",{children:s["tokenomics-presale"]}),k.jsx("li",{children:s["tokenomics-rewards"]}),k.jsx("li",{children:s["tokenomics-treasury"]}),k.jsx("li",{children:s["tokenomics-liquidity"]}),k.jsx("li",{children:s["tokenomics-airdrop"]})]})]}),k.jsx("div",{className:"justify-self-center md:justify-self-end self-center w-full max-w-[220px] sm:max-w-[260px] md:max-w-[300px] lg:max-w-[360px]",children:k.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-auto",role:"img","aria-label":"Distribución de suministro",preserveAspectRatio:"xMidYMid meet",children:[k.jsx("path",{d:"M50 50 L50 5 A45 45 0 0 1 88.5 35.5 Z",fill:"#7b5ab7"}),k.jsx("path",{d:"M50 50 L88.5 35.5 A45 45 0 0 1 88.5 64.5 Z",fill:"#5a78e5"}),k.jsx("path",{d:"M50 50 L88.5 64.5 A45 45 0 0 1 11.5 64.5 Z",fill:"#3a9b9f"}),k.jsx("path",{d:"M50 50 L11.5 64.5 A45 45 0 0 1 50 5 Z",fill:"#7ef7ee"}),k.jsx("circle",{cx:"50",cy:"50",r:"41",fill:"none",stroke:"rgba(0,0,0,0.75)",strokeWidth:"5"}),k.jsx("circle",{cx:"50",cy:"50",r:"46",fill:"none",stroke:"#cbd5e1",strokeWidth:"4"})]})})]})})})]}),k.jsx("section",{className:"mt-16",children:k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx("div",{className:"section-header"}),k.jsx("h1",{className:"fluid-h1 font-extrabold gradient-text mb-4 section-title",children:s["team-title"]}),k.jsx("p",{className:"fluid-subtitle text-gray-400 text-content mb-8",children:s["team-subtitle"]}),k.jsx("div",{className:"section-separator mb-4"}),k.jsx("img",{src:"https://i.imgur.com/taMBQrE.png",alt:"Jonathan, CEO",width:"120",height:"120",loading:"lazy",decoding:"async",className:"rounded-full object-cover w-[120px] h-[120px] border-4 border-[#66fcf1] bg-[#111827] mb-4 mx-auto"}),k.jsx("h3",{className:"text-2xl font-bold text-white mb-1 text-center",children:s["team-jonathan-name"]||"Jonathan"}),k.jsx("p",{className:"text-[#66fcf1] font-semibold mb-2 text-center",children:s["team-jonathan-role"]||"CEO & Founder"}),k.jsx("p",{className:"text-gray-400 text-sm text-center mb-3",children:s["team-jonathan-desc"]||"Apasionado por blockchain. Líder visionario."}),k.jsx("a",{href:"https://x.com/glgdona",target:"_blank",rel:"noopener noreferrer",className:"block text-[#66fcf1] hover:underline text-center text-sm mb-4",children:"@glgdona"})]})})]})},rx={es:{title:"Conoce al Equipo",subtitle:"Un grupo dedicado de visionarios y expertos que trabajan para construir un futuro descentralizado en Solana.",comingSoon:"PROXIMAMENTE",photo:"Foto"},en:{title:"Meet the Team",subtitle:"A dedicated group of visionaries and experts working to build a decentralized future on Solana.",comingSoon:"COMING SOON",photo:"Photo"},zh:{title:"认识团队",subtitle:"一个由远见卓识者和专家组成的敬业团队，致力于在 Solana 上构建去中心化的未来。",comingSoon:"即将到来",photo:"照片"}},ix=({language:r})=>{const e=rx[r],n=({isLarge:s=!1})=>k.jsxs("div",{className:`flex flex-col items-center w-80 mx-auto ${s?"col-span-1 md:col-span-2 lg:col-span-3":""}`,children:[k.jsx("div",{className:"w-[170px] h-[170px] rounded-full border-3 border-[#66fcf1] bg-[#111827] flex items-center justify-center mb-4",children:k.jsx("span",{className:"text-[#45a29e] text-3xl font-semibold",children:e.photo})}),k.jsx("p",{className:"text-gray-400 text-lg mb-4",children:e.comingSoon}),k.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:e.comingSoon}),k.jsx("p",{className:"text-[#66fcf1] font-medium mb-4",children:e.comingSoon}),k.jsx("p",{className:"text-gray-400 text-sm text-center",children:e.comingSoon})]});return k.jsxs("section",{className:"space-y-8",children:[k.jsxs("div",{className:"text-center narrow",children:[k.jsx("div",{className:"section-header"}),k.jsx("h1",{className:"fluid-h1 font-extrabold gradient-text mb-4 section-title",children:e.title}),k.jsx("p",{className:"fluid-subtitle text-gray-400 text-content mb-8",children:e.subtitle}),k.jsx("div",{className:"section-separator"})]}),k.jsxs("div",{className:"flex flex-row gap-8 md:gap-10 section justify-center items-start overflow-x-auto w-full py-4",children:[k.jsx(n,{}),k.jsx(n,{}),k.jsx(n,{}),k.jsx(n,{})]})]})},sx=({label:r="Cargando…"})=>k.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-4",children:[k.jsxs("div",{className:"inline-flex items-center gap-3 text-[#66fcf1]",children:[k.jsx("span",{className:"animate-spin h-5 w-5 rounded-full border-2 border-[#66fcf1] border-t-transparent"}),k.jsx("span",{className:"text-sm opacity-80",children:r})]}),k.jsx("div",{className:"w-full max-w-md",children:k.jsx("div",{className:"h-2 w-full bg-white/5 rounded overflow-hidden",children:k.jsx("div",{className:"h-full w-1/3 bg-[#66fcf1]/50 animate-[loading_1.2s_ease_infinite]"})})}),k.jsx("style",{children:"@keyframes loading { 0% { transform: translateX(-100%);} 100% { transform: translateX(300%);} }"})]}),ox=({language:r="es"})=>{const e=jo[r]||jo.es;return k.jsx("footer",{className:"w-full flex justify-center px-4 md:px-6 pb-8 footer-glass mt-auto",children:k.jsxs("div",{className:"mx-auto w-full max-w-[var(--container-max)] flex items-center justify-center gap-3 text-sm text-gray-500",children:[k.jsx("p",{className:"text-center",children:e["footer-text"]}),k.jsx("div",{className:"flex items-center gap-3 shrink-0",children:k.jsx("a",{href:"https://x.com/SolsticeSols",target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center justify-center rounded-full p-2 transition-colors hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20","aria-label":"Twitter",children:k.jsx("img",{src:"https://cdn.simpleicons.org/x/ffffff",alt:"X (Twitter)",width:24,height:24,className:"w-5 h-5 md:w-6 md:h-6 select-none",loading:"lazy",decoding:"async"})})})]})})},ax=({message:r,type:e,onClose:n})=>{if(!r)return null;const s=e==="success";return k.jsx("div",{className:`fixed top-4 left-1/2 -translate-x-1/2 z-50 px-4 py-3 rounded-xl text-white shadow-lg border ${s?"bg-emerald-600/90 border-emerald-400/40":"bg-rose-600/90 border-rose-400/40"} backdrop-blur`,role:"status","aria-live":"polite",children:k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("span",{className:`inline-flex h-2 w-2 rounded-full ${s?"bg-emerald-300":"bg-rose-300"}`}),k.jsx("span",{className:"text-sm font-medium",children:r}),k.jsx("button",{onClick:n,className:"ml-2 text-white/90 hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-[#66fcf1]/40 rounded","aria-label":"Cerrar mensaje",children:"×"})]})})},lx=An.lazy(()=>Ti(()=>import("./Whitepaper-yP_pDAnR.js"),[])),ux=An.lazy(()=>Ti(()=>import("./DaoDashboard-D0baWn3n.js"),[])),cx=An.lazy(()=>Ti(()=>import("./CreateProposal-CpFs2dJh.js"),[])),hx=An.lazy(()=>Ti(()=>import("./Presale-9UF030pK.js"),__vite__mapDeps([0,1]))),dx=()=>{H.useEffect(()=>{localStorage.removeItem("language")},[]);const[r,e]=H.useState("en"),n=Br(),[s,a]=H.useState({message:"",type:"success"}),u=jo[r]||jo.es;let d="home";if(n&&n.pathname){const I=n.pathname.replace(/^\//,"");["home","",void 0].includes(I)?d="home":["presale","whitepaper","team","dao","create-proposal","airdrop"].includes(I)&&(d=I)}const p={home:u["page-title"]||u["hero-title"],presale:u["presale-page-title"],whitepaper:u["whitepaper-page-title"],team:u["team-page-title"],dao:u["dao-page-title"],"create-proposal":u["proposal-form-page-title"],airdrop:u.airdrop||"Airdrop"},m={home:u["hero-subtitle"],presale:u["presale-disclaimer"]||u["presale-page-title"],whitepaper:u["whitepaper-page-subtitle"],team:u["team-page-subtitle"],dao:u["dao-page-subtitle"],"create-proposal":u["proposal-form-page-subtitle"],airdrop:u["airdrop-participants-title"]||"Airdrop"},v=p[d]||u["page-title"]||"Solstice",w=m[d]||u["page-title"]||"Solstice",S=(I,D="success")=>{a({message:I,type:D}),setTimeout(()=>a({message:"",type:D}),3e3)};return k.jsxs(k.Fragment,{children:[k.jsxs(KS,{children:[k.jsx("html",{lang:r||"es"}),k.jsx("title",{children:v}),k.jsx("meta",{name:"description",content:w}),k.jsx("meta",{property:"og:title",content:v}),k.jsx("meta",{property:"og:description",content:w}),k.jsx("meta",{name:"twitter:title",content:v}),k.jsx("meta",{name:"twitter:description",content:w})]}),k.jsxs("div",{className:"min-h-screen flex flex-col items-stretch bg-[#0b0c10] text-[#c5c6c7]",children:[k.jsx(ex,{currentPage:null,setCurrentPage:()=>{},language:r,setLanguage:e,role:"banner"}),k.jsx("main",{id:"main",role:"main",className:"mx-auto w-full max-w-[var(--container-max)] mt-8 md:mt-10 mb-12 px-4 md:px-6",children:k.jsx(H.Suspense,{fallback:k.jsx(sx,{label:n.pathname==="/whitepaper"?(u["whitepaper-page-title"]||"Whitepaper")+"…":n.pathname==="/presale"?(u["presale-page-title"]||"Presale")+"…":n.pathname==="/dao"?(u["dao-page-title"]||"DAO")+"…":n.pathname==="/create-proposal"?(u["proposal-form-page-title"]||"Create Proposal")+"…":"Cargando…"}),children:k.jsxs(BT,{children:[k.jsx(yi,{path:"/",element:k.jsx(nx,{language:r,t:u})}),k.jsx(yi,{path:"/presale",element:k.jsx(hx,{language:r,t:u})}),k.jsx(yi,{path:"/whitepaper",element:k.jsx(lx,{language:r,showMessage:S,t:u})}),k.jsx(yi,{path:"/team",element:k.jsx(ix,{language:r,t:u})}),k.jsx(yi,{path:"/dao",element:k.jsx(ux,{language:r,showMessage:S,t:u})}),k.jsx(yi,{path:"/create-proposal",element:k.jsx(cx,{language:r,showMessage:S,t:u})}),k.jsx(yi,{path:"/airdrop",element:k.jsx(Xk,{t:u})})]})})}),k.jsx(ox,{language:r,role:"contentinfo"}),k.jsx(ax,{message:s.message,type:s.type,onClose:()=>a({message:"",type:s.type})})]})]})};Z0.createRoot(document.getElementById("root")).render(k.jsx(H.StrictMode,{children:k.jsx(d_,{children:k.jsx(dS,{children:k.jsx(dx,{})})})}));export{qk as A,$v as B,Ri as C,lt as D,pe as E,Yc as F,ur as G,DC as H,bt as I,hr as J,No as K,qC as L,_x as M,Rk as N,kk as O,Sp as P,Ss as Q,Dp as R,Za as S,Xe as T,mx as U,cr as V,xk as W,wx as X,gx as Y,yx as Z,Ti as _,Nc as a,Wk as b,Nv as c,Fv as d,Gk as e,In as f,fx as g,ms as h,Xo as i,k as j,Qo as k,se as l,Np as m,ME as n,Bk as o,fc as p,$k as q,H as r,vx as s,jo as t,bp as u,Op as v,ko as w,Jf as x,Nt as y,dl as z};
