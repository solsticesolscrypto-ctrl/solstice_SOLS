(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Pa(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Ud(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var n=function i(){var s=!1;try{s=this instanceof i}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var s=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return r[i]}})}),n}var Vg={exports:{}},zu={},Fg={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function EC(){if(rE)return Mt;rE=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function S(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,P={};function O(C,w,_){this.props=C,this.context=w,this.refs=P,this.updater=_||A}O.prototype.isReactComponent={},O.prototype.setState=function(C,w){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,w,"setState")},O.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function z(){}z.prototype=O.prototype;function j(C,w,_){this.props=C,this.context=w,this.refs=P,this.updater=_||A}var G=j.prototype=new z;G.constructor=j,N(G,O.prototype),G.isPureReactComponent=!0;var te=Array.isArray,ae=Object.prototype.hasOwnProperty,se={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function V(C,w,_){var U,Y={},ie=null,ue=null;if(w!=null)for(U in w.ref!==void 0&&(ue=w.ref),w.key!==void 0&&(ie=""+w.key),w)ae.call(w,U)&&!Q.hasOwnProperty(U)&&(Y[U]=w[U]);var Se=arguments.length-2;if(Se===1)Y.children=_;else if(1<Se){for(var Te=Array(Se),Je=0;Je<Se;Je++)Te[Je]=arguments[Je+2];Y.children=Te}if(C&&C.defaultProps)for(U in Se=C.defaultProps,Se)Y[U]===void 0&&(Y[U]=Se[U]);return{$$typeof:r,type:C,key:ie,ref:ue,props:Y,_owner:se.current}}function M(C,w){return{$$typeof:r,type:C.type,key:w,ref:C.ref,props:C.props,_owner:C._owner}}function D(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function F(C){var w={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(_){return w[_]})}var W=/\/+/g;function b(C,w){return typeof C=="object"&&C!==null&&C.key!=null?F(""+C.key):w.toString(36)}function y(C,w,_,U,Y){var ie=typeof C;(ie==="undefined"||ie==="boolean")&&(C=null);var ue=!1;if(C===null)ue=!0;else switch(ie){case"string":case"number":ue=!0;break;case"object":switch(C.$$typeof){case r:case e:ue=!0}}if(ue)return ue=C,Y=Y(ue),C=U===""?"."+b(ue,0):U,te(Y)?(_="",C!=null&&(_=C.replace(W,"$&/")+"/"),y(Y,w,_,"",function(Je){return Je})):Y!=null&&(D(Y)&&(Y=M(Y,_+(!Y.key||ue&&ue.key===Y.key?"":(""+Y.key).replace(W,"$&/")+"/")+C)),w.push(Y)),1;if(ue=0,U=U===""?".":U+":",te(C))for(var Se=0;Se<C.length;Se++){ie=C[Se];var Te=U+b(ie,Se);ue+=y(ie,w,_,Te,Y)}else if(Te=S(C),typeof Te=="function")for(C=Te.call(C),Se=0;!(ie=C.next()).done;)ie=ie.value,Te=U+b(ie,Se++),ue+=y(ie,w,_,Te,Y);else if(ie==="object")throw w=String(C),Error("Objects are not valid as a React child (found: "+(w==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":w)+"). If you meant to render a collection of children, use an array instead.");return ue}function I(C,w,_){if(C==null)return C;var U=[],Y=0;return y(C,U,"","",function(ie){return w.call(_,ie,Y++)}),U}function B(C){if(C._status===-1){var w=C._result;w=w(),w.then(function(_){(C._status===0||C._status===-1)&&(C._status=1,C._result=_)},function(_){(C._status===0||C._status===-1)&&(C._status=2,C._result=_)}),C._status===-1&&(C._status=0,C._result=w)}if(C._status===1)return C._result.default;throw C._result}var H={current:null},q={transition:null},X={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:q,ReactCurrentOwner:se};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Mt.Children={map:I,forEach:function(C,w,_){I(C,function(){w.apply(this,arguments)},_)},count:function(C){var w=0;return I(C,function(){w++}),w},toArray:function(C){return I(C,function(w){return w})||[]},only:function(C){if(!D(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Mt.Component=O,Mt.Fragment=n,Mt.Profiler=s,Mt.PureComponent=j,Mt.StrictMode=i,Mt.Suspense=h,Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Mt.act=ee,Mt.cloneElement=function(C,w,_){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var U=N({},C.props),Y=C.key,ie=C.ref,ue=C._owner;if(w!=null){if(w.ref!==void 0&&(ie=w.ref,ue=se.current),w.key!==void 0&&(Y=""+w.key),C.type&&C.type.defaultProps)var Se=C.type.defaultProps;for(Te in w)ae.call(w,Te)&&!Q.hasOwnProperty(Te)&&(U[Te]=w[Te]===void 0&&Se!==void 0?Se[Te]:w[Te])}var Te=arguments.length-2;if(Te===1)U.children=_;else if(1<Te){Se=Array(Te);for(var Je=0;Je<Te;Je++)Se[Je]=arguments[Je+2];U.children=Se}return{$$typeof:r,type:C.type,key:Y,ref:ie,props:U,_owner:ue}},Mt.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:o,_context:C},C.Consumer=C},Mt.createElement=V,Mt.createFactory=function(C){var w=V.bind(null,C);return w.type=C,w},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(C){return{$$typeof:u,render:C}},Mt.isValidElement=D,Mt.lazy=function(C){return{$$typeof:m,_payload:{_status:-1,_result:C},_init:B}},Mt.memo=function(C,w){return{$$typeof:p,type:C,compare:w===void 0?null:w}},Mt.startTransition=function(C){var w=q.transition;q.transition={};try{C()}finally{q.transition=w}},Mt.unstable_act=ee,Mt.useCallback=function(C,w){return H.current.useCallback(C,w)},Mt.useContext=function(C){return H.current.useContext(C)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(C){return H.current.useDeferredValue(C)},Mt.useEffect=function(C,w){return H.current.useEffect(C,w)},Mt.useId=function(){return H.current.useId()},Mt.useImperativeHandle=function(C,w,_){return H.current.useImperativeHandle(C,w,_)},Mt.useInsertionEffect=function(C,w){return H.current.useInsertionEffect(C,w)},Mt.useLayoutEffect=function(C,w){return H.current.useLayoutEffect(C,w)},Mt.useMemo=function(C,w){return H.current.useMemo(C,w)},Mt.useReducer=function(C,w,_){return H.current.useReducer(C,w,_)},Mt.useRef=function(C){return H.current.useRef(C)},Mt.useState=function(C){return H.current.useState(C)},Mt.useSyncExternalStore=function(C,w,_){return H.current.useSyncExternalStore(C,w,_)},Mt.useTransition=function(){return H.current.useTransition()},Mt.version="18.3.1",Mt}var iE;function pw(){return iE||(iE=1,Fg.exports=EC()),Fg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function bC(){if(sE)return zu;sE=1;var r=pw(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,p){var m,v={},S=null,A=null;p!==void 0&&(S=""+p),h.key!==void 0&&(S=""+h.key),h.ref!==void 0&&(A=h.ref);for(m in h)i.call(h,m)&&!o.hasOwnProperty(m)&&(v[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:e,type:u,key:S,ref:A,props:v,_owner:s.current}}return zu.Fragment=n,zu.jsx=c,zu.jsxs=c,zu}var oE;function SC(){return oE||(oE=1,Vg.exports=bC()),Vg.exports}var oe=SC(),ce=pw();const Oe=Pa(ce);var df={},Wg={exports:{}},ai={},zg={exports:{}},jg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function AC(){return aE||(aE=1,(function(r){function e(q,X){var ee=q.length;q.push(X);e:for(;0<ee;){var C=ee-1>>>1,w=q[C];if(0<s(w,X))q[C]=X,q[ee]=w,ee=C;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var X=q[0],ee=q.pop();if(ee!==X){q[0]=ee;e:for(var C=0,w=q.length,_=w>>>1;C<_;){var U=2*(C+1)-1,Y=q[U],ie=U+1,ue=q[ie];if(0>s(Y,ee))ie<w&&0>s(ue,Y)?(q[C]=ue,q[ie]=ee,C=ie):(q[C]=Y,q[U]=ee,C=U);else if(ie<w&&0>s(ue,ee))q[C]=ue,q[ie]=ee,C=ie;else break e}}return X}function s(q,X){var ee=q.sortIndex-X.sortIndex;return ee!==0?ee:q.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();r.unstable_now=function(){return c.now()-u}}var h=[],p=[],m=1,v=null,S=3,A=!1,N=!1,P=!1,O=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(q){for(var X=n(p);X!==null;){if(X.callback===null)i(p);else if(X.startTime<=q)i(p),X.sortIndex=X.expirationTime,e(h,X);else break;X=n(p)}}function te(q){if(P=!1,G(q),!N)if(n(h)!==null)N=!0,B(ae);else{var X=n(p);X!==null&&H(te,X.startTime-q)}}function ae(q,X){N=!1,P&&(P=!1,z(V),V=-1),A=!0;var ee=S;try{for(G(X),v=n(h);v!==null&&(!(v.expirationTime>X)||q&&!F());){var C=v.callback;if(typeof C=="function"){v.callback=null,S=v.priorityLevel;var w=C(v.expirationTime<=X);X=r.unstable_now(),typeof w=="function"?v.callback=w:v===n(h)&&i(h),G(X)}else i(h);v=n(h)}if(v!==null)var _=!0;else{var U=n(p);U!==null&&H(te,U.startTime-X),_=!1}return _}finally{v=null,S=ee,A=!1}}var se=!1,Q=null,V=-1,M=5,D=-1;function F(){return!(r.unstable_now()-D<M)}function W(){if(Q!==null){var q=r.unstable_now();D=q;var X=!0;try{X=Q(!0,q)}finally{X?b():(se=!1,Q=null)}}else se=!1}var b;if(typeof j=="function")b=function(){j(W)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,I=y.port2;y.port1.onmessage=W,b=function(){I.postMessage(null)}}else b=function(){O(W,0)};function B(q){Q=q,se||(se=!0,b())}function H(q,X){V=O(function(){q(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_continueExecution=function(){N||A||(N=!0,B(ae))},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return n(h)},r.unstable_next=function(q){switch(S){case 1:case 2:case 3:var X=3;break;default:X=S}var ee=S;S=X;try{return q()}finally{S=ee}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=S;S=q;try{return X()}finally{S=ee}},r.unstable_scheduleCallback=function(q,X,ee){var C=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?C+ee:C):ee=C,q){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ee+w,q={id:m++,callback:X,priorityLevel:q,startTime:ee,expirationTime:w,sortIndex:-1},ee>C?(q.sortIndex=ee,e(p,q),n(h)===null&&q===n(p)&&(P?(z(V),V=-1):P=!0,H(te,ee-C))):(q.sortIndex=w,e(h,q),N||A||(N=!0,B(ae))),q},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(q){var X=S;return function(){var ee=S;S=X;try{return q.apply(this,arguments)}finally{S=ee}}}})(jg)),jg}var lE;function IC(){return lE||(lE=1,zg.exports=AC()),zg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function TC(){if(cE)return ai;cE=1;var r=pw(),e=IC();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function o(a,l){c(a,l),c(a+"Capture",l)}function c(a,l){for(s[a]=l,a=0;a<l.length;a++)i.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function S(a){return h.call(v,a)?!0:h.call(m,a)?!1:p.test(a)?v[a]=!0:(m[a]=!0,!1)}function A(a,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function N(a,l,d,g){if(l===null||typeof l>"u"||A(a,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function P(a,l,d,g,E,x,K){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=E,this.mustUseProperty=d,this.propertyName=a,this.type=l,this.sanitizeURL=x,this.removeEmptyString=K}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){O[a]=new P(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];O[l]=new P(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){O[a]=new P(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){O[a]=new P(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){O[a]=new P(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){O[a]=new P(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){O[a]=new P(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){O[a]=new P(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){O[a]=new P(a,5,!1,a.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function j(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(z,j);O[l]=new P(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(z,j);O[l]=new P(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(z,j);O[l]=new P(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){O[a]=new P(a,1,!1,a.toLowerCase(),null,!1,!1)}),O.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){O[a]=new P(a,1,!1,a.toLowerCase(),null,!0,!0)});function G(a,l,d,g){var E=O.hasOwnProperty(l)?O[l]:null;(E!==null?E.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(N(l,d,E,g)&&(d=null),g||E===null?S(l)&&(d===null?a.removeAttribute(l):a.setAttribute(l,""+d)):E.mustUseProperty?a[E.propertyName]=d===null?E.type===3?!1:"":d:(l=E.attributeName,g=E.attributeNamespace,d===null?a.removeAttribute(l):(E=E.type,d=E===3||E===4&&d===!0?"":""+d,g?a.setAttributeNS(g,l,d):a.setAttribute(l,d))))}var te=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=Symbol.for("react.element"),se=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),q=Symbol.iterator;function X(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var ee=Object.assign,C;function w(a){if(C===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);C=l&&l[1]||""}return`
`+C+a}var _=!1;function U(a,l){if(!a||_)return"";_=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Ee){var g=Ee}Reflect.construct(a,[],l)}else{try{l.call()}catch(Ee){g=Ee}a.call(l.prototype)}else{try{throw Error()}catch(Ee){g=Ee}a()}}catch(Ee){if(Ee&&g&&typeof Ee.stack=="string"){for(var E=Ee.stack.split(`
`),x=g.stack.split(`
`),K=E.length-1,ne=x.length-1;1<=K&&0<=ne&&E[K]!==x[ne];)ne--;for(;1<=K&&0<=ne;K--,ne--)if(E[K]!==x[ne]){if(K!==1||ne!==1)do if(K--,ne--,0>ne||E[K]!==x[ne]){var le=`
`+E[K].replace(" at new "," at ");return a.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",a.displayName)),le}while(1<=K&&0<=ne);break}}}finally{_=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?w(a):""}function Y(a){switch(a.tag){case 5:return w(a.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 2:case 15:return a=U(a.type,!1),a;case 11:return a=U(a.type.render,!1),a;case 1:return a=U(a.type,!0),a;default:return""}}function ie(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Q:return"Fragment";case se:return"Portal";case M:return"Profiler";case V:return"StrictMode";case b:return"Suspense";case y:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case F:return(a.displayName||"Context")+".Consumer";case D:return(a._context.displayName||"Context")+".Provider";case W:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return l=a.displayName||null,l!==null?l:ie(a.type)||"Memo";case B:l=a._payload,a=a._init;try{return ie(a(l))}catch{}}return null}function ue(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(l);case 8:return l===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Se(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Te(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Je(a){var l=Te(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var E=d.get,x=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return E.call(this)},set:function(K){g=""+K,x.call(this,K)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(K){g=""+K},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function ht(a){a._valueTracker||(a._valueTracker=Je(a))}function St(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return a&&(g=Te(a)?a.checked?"true":"false":a.value),a=g,a!==d?(l.setValue(a),!0):!1}function wn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function At(a,l){var d=l.checked;return ee({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function $t(a,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=Se(l.value!=null?l.value:d),a._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function kr(a,l){l=l.checked,l!=null&&G(a,"checked",l,!1)}function Wt(a,l){kr(a,l);var d=Se(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?pr(a,l.type,d):l.hasOwnProperty("defaultValue")&&pr(a,l.type,Se(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function Kt(a,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,d||l===a.value||(a.value=l),a.defaultValue=l}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function pr(a,l,d){(l!=="number"||wn(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var Pt=Array.isArray;function xt(a,l,d,g){if(a=a.options,l){l={};for(var E=0;E<d.length;E++)l["$"+d[E]]=!0;for(d=0;d<a.length;d++)E=l.hasOwnProperty("$"+a[d].value),a[d].selected!==E&&(a[d].selected=E),E&&g&&(a[d].defaultSelected=!0)}else{for(d=""+Se(d),l=null,E=0;E<a.length;E++){if(a[E].value===d){a[E].selected=!0,g&&(a[E].defaultSelected=!0);return}l!==null||a[E].disabled||(l=a[E])}l!==null&&(l.selected=!0)}}function xn(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Dt(a,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(Pt(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}a._wrapperState={initialValue:Se(d)}}function Ht(a,l){var d=Se(l.value),g=Se(l.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),l.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),g!=null&&(a.defaultValue=""+g)}function Vn(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function wt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?wt(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var k,R=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,E){MSApp.execUnsafeLocalFunction(function(){return a(l,d,g,E)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(k=k||document.createElement("div"),k.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=k.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function Z(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];Object.keys(de).forEach(function(a){me.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),de[l]=de[a]})});function be(a,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||de.hasOwnProperty(a)&&de[a]?(""+l).trim():l+"px"}function ct(a,l){a=a.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,E=be(d,l[d],g);d==="float"&&(d="cssFloat"),g?a.setProperty(d,E):a[d]=E}}var Qe=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nt(a,l){if(l){if(Qe[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function It(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var et=null;function zt(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Yr=null,Rt=null,Bt=null;function Xr(a){if(a=ku(a)){if(typeof Yr!="function")throw Error(n(280));var l=a.stateNode;l&&(l=Ih(l),Yr(a.stateNode,a.type,l))}}function bt(a){Rt?Bt?Bt.push(a):Bt=[a]:Rt=a}function ln(){if(Rt){var a=Rt,l=Bt;if(Bt=Rt=null,Xr(a),l)for(a=0;a<l.length;a++)Xr(l[a])}}function zr(a,l){return a(l)}function fn(){}var Gt=!1;function pi(a,l,d){if(Gt)return a(l,d);Gt=!0;try{return zr(a,l,d)}finally{Gt=!1,(Rt!==null||Bt!==null)&&(fn(),ln())}}function mt(a,l){var d=a.stateNode;if(d===null)return null;var g=Ih(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var an=!1;if(u)try{var $n={};Object.defineProperty($n,"passive",{get:function(){an=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{an=!1}function Jt(a,l,d,g,E,x,K,ne,le){var Ee=Array.prototype.slice.call(arguments,3);try{l.apply(d,Ee)}catch(Pe){this.onError(Pe)}}var jt=!1,jr=null,Nt=!1,cn=null,ps={onError:function(a){jt=!0,jr=a}};function tn(a,l,d,g,E,x,K,ne,le){jt=!1,jr=null,Jt.apply(ps,arguments)}function un(a,l,d,g,E,x,K,ne,le){if(tn.apply(this,arguments),jt){if(jt){var Ee=jr;jt=!1,jr=null}else throw Error(n(198));Nt||(Nt=!0,cn=Ee)}}function ir(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function nn(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Ot(a){if(ir(a)!==a)throw Error(n(188))}function Pi(a){var l=a.alternate;if(!l){if(l=ir(a),l===null)throw Error(n(188));return l!==a?null:a}for(var d=a,g=l;;){var E=d.return;if(E===null)break;var x=E.alternate;if(x===null){if(g=E.return,g!==null){d=g;continue}break}if(E.child===x.child){for(x=E.child;x;){if(x===d)return Ot(E),a;if(x===g)return Ot(E),l;x=x.sibling}throw Error(n(188))}if(d.return!==g.return)d=E,g=x;else{for(var K=!1,ne=E.child;ne;){if(ne===d){K=!0,d=E,g=x;break}if(ne===g){K=!0,g=E,d=x;break}ne=ne.sibling}if(!K){for(ne=x.child;ne;){if(ne===d){K=!0,d=x,g=E;break}if(ne===g){K=!0,g=x,d=E;break}ne=ne.sibling}if(!K)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:l}function Mi(a){return a=Pi(a),a!==null?mi(a):null}function mi(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=mi(a);if(l!==null)return l;a=a.sibling}return null}var gi=e.unstable_scheduleCallback,Ni=e.unstable_cancelCallback,ms=e.unstable_shouldYield,Qs=e.unstable_requestPaint,qt=e.unstable_now,$i=e.unstable_getCurrentPriorityLevel,yi=e.unstable_ImmediatePriority,Jr=e.unstable_UserBlockingPriority,sr=e.unstable_NormalPriority,Ki=e.unstable_LowPriority,gs=e.unstable_IdlePriority,wi=null,Zn=null;function ys(a){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(wi,a,void 0,(a.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:Po,Oi=Math.log,Pl=Math.LN2;function Po(a){return a>>>=0,a===0?32:31-(Oi(a)/Pl|0)|0}var Mo=64,No=4194304;function je(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Re(a,l){var d=a.pendingLanes;if(d===0)return 0;var g=0,E=a.suspendedLanes,x=a.pingedLanes,K=d&268435455;if(K!==0){var ne=K&~E;ne!==0?g=je(ne):(x&=K,x!==0&&(g=je(x)))}else K=d&~E,K!==0?g=je(K):x!==0&&(g=je(x));if(g===0)return 0;if(l!==0&&l!==g&&(l&E)===0&&(E=g&-g,x=l&-l,E>=x||E===16&&(x&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=g;0<l;)d=31-Fn(l),E=1<<d,g|=a[d],l&=~E;return g}function pe(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function he(a,l){for(var d=a.suspendedLanes,g=a.pingedLanes,E=a.expirationTimes,x=a.pendingLanes;0<x;){var K=31-Fn(x),ne=1<<K,le=E[K];le===-1?((ne&d)===0||(ne&g)!==0)&&(E[K]=pe(ne,l)):le<=l&&(a.expiredLanes|=ne),x&=~ne}}function ke(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Fe(){var a=Mo;return Mo<<=1,(Mo&4194240)===0&&(Mo=64),a}function De(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Ye(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-Fn(l),a[l]=d}function He(a,l){var d=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<d;){var E=31-Fn(d),x=1<<E;l[E]=0,g[E]=-1,a[E]=-1,d&=~x}}function _t(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var g=31-Fn(d),E=1<<g;E&l|a[g]&l&&(a[g]|=l),d&=~E}}var lt=0;function Zr(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Ml,Oo,sh,oh,ah,hu=!1,ws=[],mr=null,Hi=null,Gi=null,Lo=new Map,Li=new Map,vs=[],gm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lh(a,l){switch(a){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Lo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(l.pointerId)}}function ei(a,l,d,g,E,x){return a===null||a.nativeEvent!==x?(a={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:x,targetContainers:[E]},l!==null&&(l=ku(l),l!==null&&Oo(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),a)}function ym(a,l,d,g,E){switch(l){case"focusin":return mr=ei(mr,a,l,d,g,E),!0;case"dragenter":return Hi=ei(Hi,a,l,d,g,E),!0;case"mouseover":return Gi=ei(Gi,a,l,d,g,E),!0;case"pointerover":var x=E.pointerId;return Lo.set(x,ei(Lo.get(x)||null,a,l,d,g,E)),!0;case"gotpointercapture":return x=E.pointerId,Li.set(x,ei(Li.get(x)||null,a,l,d,g,E)),!0}return!1}function ch(a){var l=Ua(a.target);if(l!==null){var d=ir(l);if(d!==null){if(l=d.tag,l===13){if(l=nn(d),l!==null){a.blockedOn=l,ah(a.priority,function(){sh(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ys(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=Nl(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);et=g,d.target.dispatchEvent(g),et=null}else return l=ku(d),l!==null&&Oo(l),a.blockedOn=d,!1;l.shift()}return!0}function Oa(a,l,d){Ys(a)&&d.delete(l)}function uh(){hu=!1,mr!==null&&Ys(mr)&&(mr=null),Hi!==null&&Ys(Hi)&&(Hi=null),Gi!==null&&Ys(Gi)&&(Gi=null),Lo.forEach(Oa),Li.forEach(Oa)}function Qi(a,l){a.blockedOn===l&&(a.blockedOn=null,hu||(hu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uh)))}function Yi(a){function l(E){return Qi(E,a)}if(0<ws.length){Qi(ws[0],a);for(var d=1;d<ws.length;d++){var g=ws[d];g.blockedOn===a&&(g.blockedOn=null)}}for(mr!==null&&Qi(mr,a),Hi!==null&&Qi(Hi,a),Gi!==null&&Qi(Gi,a),Lo.forEach(l),Li.forEach(l),d=0;d<vs.length;d++)g=vs[d],g.blockedOn===a&&(g.blockedOn=null);for(;0<vs.length&&(d=vs[0],d.blockedOn===null);)ch(d),d.blockedOn===null&&vs.shift()}var Xs=te.ReactCurrentBatchConfig,Do=!0;function Tn(a,l,d,g){var E=lt,x=Xs.transition;Xs.transition=null;try{lt=1,fu(a,l,d,g)}finally{lt=E,Xs.transition=x}}function wm(a,l,d,g){var E=lt,x=Xs.transition;Xs.transition=null;try{lt=4,fu(a,l,d,g)}finally{lt=E,Xs.transition=x}}function fu(a,l,d,g){if(Do){var E=Nl(a,l,d,g);if(E===null)Rm(a,l,g,La,d),lh(a,g);else if(ym(E,a,l,d,g))g.stopPropagation();else if(lh(a,g),l&4&&-1<gm.indexOf(a)){for(;E!==null;){var x=ku(E);if(x!==null&&Ml(x),x=Nl(a,l,d,g),x===null&&Rm(a,l,g,La,d),x===E)break;E=x}E!==null&&g.stopPropagation()}else Rm(a,l,g,null,d)}}var La=null;function Nl(a,l,d,g){if(La=null,a=zt(g),a=Ua(a),a!==null)if(l=ir(a),l===null)a=null;else if(d=l.tag,d===13){if(a=nn(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return La=a,null}function pu(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($i()){case yi:return 1;case Jr:return 4;case sr:case Ki:return 16;case gs:return 536870912;default:return 16}default:return 16}}var vi=null,Ol=null,ti=null;function mu(){if(ti)return ti;var a,l=Ol,d=l.length,g,E="value"in vi?vi.value:vi.textContent,x=E.length;for(a=0;a<d&&l[a]===E[a];a++);var K=d-a;for(g=1;g<=K&&l[d-g]===E[x-g];g++);return ti=E.slice(a,1<g?1-g:void 0)}function Ll(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function _s(){return!0}function gu(){return!1}function gr(a){function l(d,g,E,x,K){this._reactName=d,this._targetInst=E,this.type=g,this.nativeEvent=x,this.target=K,this.currentTarget=null;for(var ne in a)a.hasOwnProperty(ne)&&(d=a[ne],this[ne]=d?d(x):x[ne]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?_s:gu,this.isPropagationStopped=gu,this}return ee(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),l}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=gr(Xi),Es=ee({},Xi,{view:0,detail:0}),vm=gr(Es),Bl,Js,Bo,Da=ee({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Bo&&(Bo&&a.type==="mousemove"?(Bl=a.screenX-Bo.screenX,Js=a.screenY-Bo.screenY):Js=Bl=0,Bo=a),Bl)},movementY:function(a){return"movementY"in a?a.movementY:Js}}),Ul=gr(Da),yu=ee({},Da,{dataTransfer:0}),dh=gr(yu),Vl=ee({},Es,{relatedTarget:0}),Fl=gr(Vl),hh=ee({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=gr(hh),fh=ee({},Xi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ph=gr(fh),mh=ee({},Xi,{data:0}),wu=gr(mh),Wl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yh(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=gh[a])?!!l[a]:!1}function bs(){return yh}var f=ee({},Es,{key:function(a){if(a.key){var l=Wl[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Ll(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?qr[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(a){return a.type==="keypress"?Ll(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ll(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),T=gr(f),L=ee({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J=gr(L),ge=ee({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),Ae=gr(ge),Ve=ee({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),pn=gr(Ve),er=ee({},Da,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Qt=gr(er),or=[9,13,27,32],Kn=u&&"CompositionEvent"in window,Di=null;u&&"documentMode"in document&&(Di=document.documentMode);var _i=u&&"TextEvent"in window&&!Di,Ba=u&&(!Kn||Di&&8<Di&&11>=Di),zl=" ",Xv=!1;function Jv(a,l){switch(a){case"keyup":return or.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zv(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var jl=!1;function wR(a,l){switch(a){case"compositionend":return Zv(l);case"keypress":return l.which!==32?null:(Xv=!0,zl);case"textInput":return a=l.data,a===zl&&Xv?null:a;default:return null}}function vR(a,l){if(jl)return a==="compositionend"||!Kn&&Jv(a,l)?(a=mu(),ti=Ol=vi=null,jl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ba&&l.locale!=="ko"?null:l.data;default:return null}}var _R={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e1(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!_R[a.type]:l==="textarea"}function t1(a,l,d,g){bt(g),l=bh(l,"onChange"),0<l.length&&(d=new Dl("onChange","change",null,d,g),a.push({event:d,listeners:l}))}var vu=null,_u=null;function ER(a){v1(a,0)}function wh(a){var l=Gl(a);if(St(l))return a}function bR(a,l){if(a==="change")return l}var n1=!1;if(u){var _m;if(u){var Em="oninput"in document;if(!Em){var r1=document.createElement("div");r1.setAttribute("oninput","return;"),Em=typeof r1.oninput=="function"}_m=Em}else _m=!1;n1=_m&&(!document.documentMode||9<document.documentMode)}function i1(){vu&&(vu.detachEvent("onpropertychange",s1),_u=vu=null)}function s1(a){if(a.propertyName==="value"&&wh(_u)){var l=[];t1(l,_u,a,zt(a)),pi(ER,l)}}function SR(a,l,d){a==="focusin"?(i1(),vu=l,_u=d,vu.attachEvent("onpropertychange",s1)):a==="focusout"&&i1()}function AR(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return wh(_u)}function IR(a,l){if(a==="click")return wh(l)}function TR(a,l){if(a==="input"||a==="change")return wh(l)}function kR(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Ji=typeof Object.is=="function"?Object.is:kR;function Eu(a,l){if(Ji(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var E=d[g];if(!h.call(l,E)||!Ji(a[E],l[E]))return!1}return!0}function o1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function a1(a,l){var d=o1(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=l&&g>=l)return{node:d,offset:l-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=o1(d)}}function l1(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?l1(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function c1(){for(var a=window,l=wn();l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=wn(a.document)}return l}function bm(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function xR(a){var l=c1(),d=a.focusedElem,g=a.selectionRange;if(l!==d&&d&&d.ownerDocument&&l1(d.ownerDocument.documentElement,d)){if(g!==null&&bm(d)){if(l=g.start,a=g.end,a===void 0&&(a=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(a,d.value.length);else if(a=(l=d.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var E=d.textContent.length,x=Math.min(g.start,E);g=g.end===void 0?x:Math.min(g.end,E),!a.extend&&x>g&&(E=g,g=x,x=E),E=a1(d,x);var K=a1(d,g);E&&K&&(a.rangeCount!==1||a.anchorNode!==E.node||a.anchorOffset!==E.offset||a.focusNode!==K.node||a.focusOffset!==K.offset)&&(l=l.createRange(),l.setStart(E.node,E.offset),a.removeAllRanges(),x>g?(a.addRange(l),a.extend(K.node,K.offset)):(l.setEnd(K.node,K.offset),a.addRange(l)))}}for(l=[],a=d;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)a=l[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var RR=u&&"documentMode"in document&&11>=document.documentMode,ql=null,Sm=null,bu=null,Am=!1;function u1(a,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Am||ql==null||ql!==wn(g)||(g=ql,"selectionStart"in g&&bm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),bu&&Eu(bu,g)||(bu=g,g=bh(Sm,"onSelect"),0<g.length&&(l=new Dl("onSelect","select",null,l,d),a.push({event:l,listeners:g}),l.target=ql)))}function vh(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var $l={animationend:vh("Animation","AnimationEnd"),animationiteration:vh("Animation","AnimationIteration"),animationstart:vh("Animation","AnimationStart"),transitionend:vh("Transition","TransitionEnd")},Im={},d1={};u&&(d1=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function _h(a){if(Im[a])return Im[a];if(!$l[a])return a;var l=$l[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in d1)return Im[a]=l[d];return a}var h1=_h("animationend"),f1=_h("animationiteration"),p1=_h("animationstart"),m1=_h("transitionend"),g1=new Map,y1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uo(a,l){g1.set(a,l),o(l,[a])}for(var Tm=0;Tm<y1.length;Tm++){var km=y1[Tm],CR=km.toLowerCase(),PR=km[0].toUpperCase()+km.slice(1);Uo(CR,"on"+PR)}Uo(h1,"onAnimationEnd"),Uo(f1,"onAnimationIteration"),Uo(p1,"onAnimationStart"),Uo("dblclick","onDoubleClick"),Uo("focusin","onFocus"),Uo("focusout","onBlur"),Uo(m1,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Su));function w1(a,l,d){var g=a.type||"unknown-event";a.currentTarget=d,un(g,l,void 0,a),a.currentTarget=null}function v1(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],E=g.event;g=g.listeners;e:{var x=void 0;if(l)for(var K=g.length-1;0<=K;K--){var ne=g[K],le=ne.instance,Ee=ne.currentTarget;if(ne=ne.listener,le!==x&&E.isPropagationStopped())break e;w1(E,ne,Ee),x=le}else for(K=0;K<g.length;K++){if(ne=g[K],le=ne.instance,Ee=ne.currentTarget,ne=ne.listener,le!==x&&E.isPropagationStopped())break e;w1(E,ne,Ee),x=le}}}if(Nt)throw a=cn,Nt=!1,cn=null,a}function Sn(a,l){var d=l[Lm];d===void 0&&(d=l[Lm]=new Set);var g=a+"__bubble";d.has(g)||(_1(l,a,2,!1),d.add(g))}function xm(a,l,d){var g=0;l&&(g|=4),_1(d,a,g,l)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function Au(a){if(!a[Eh]){a[Eh]=!0,i.forEach(function(d){d!=="selectionchange"&&(MR.has(d)||xm(d,!1,a),xm(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Eh]||(l[Eh]=!0,xm("selectionchange",!1,l))}}function _1(a,l,d,g){switch(pu(l)){case 1:var E=Tn;break;case 4:E=wm;break;default:E=fu}d=E.bind(null,l,d,a),E=void 0,!an||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),g?E!==void 0?a.addEventListener(l,d,{capture:!0,passive:E}):a.addEventListener(l,d,!0):E!==void 0?a.addEventListener(l,d,{passive:E}):a.addEventListener(l,d,!1)}function Rm(a,l,d,g,E){var x=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var K=g.tag;if(K===3||K===4){var ne=g.stateNode.containerInfo;if(ne===E||ne.nodeType===8&&ne.parentNode===E)break;if(K===4)for(K=g.return;K!==null;){var le=K.tag;if((le===3||le===4)&&(le=K.stateNode.containerInfo,le===E||le.nodeType===8&&le.parentNode===E))return;K=K.return}for(;ne!==null;){if(K=Ua(ne),K===null)return;if(le=K.tag,le===5||le===6){g=x=K;continue e}ne=ne.parentNode}}g=g.return}pi(function(){var Ee=x,Pe=zt(d),Ne=[];e:{var Ce=g1.get(a);if(Ce!==void 0){var Ke=Dl,Ze=a;switch(a){case"keypress":if(Ll(d)===0)break e;case"keydown":case"keyup":Ke=T;break;case"focusin":Ze="focus",Ke=Fl;break;case"focusout":Ze="blur",Ke=Fl;break;case"beforeblur":case"afterblur":Ke=Fl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=Ae;break;case h1:case f1:case p1:Ke=Zs;break;case m1:Ke=pn;break;case"scroll":Ke=vm;break;case"wheel":Ke=Qt;break;case"copy":case"cut":case"paste":Ke=ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=J}var tt=(l&4)!==0,Wn=!tt&&a==="scroll",ye=tt?Ce!==null?Ce+"Capture":null:Ce;tt=[];for(var fe=Ee,ve;fe!==null;){ve=fe;var Le=ve.stateNode;if(ve.tag===5&&Le!==null&&(ve=Le,ye!==null&&(Le=mt(fe,ye),Le!=null&&tt.push(Iu(fe,Le,ve)))),Wn)break;fe=fe.return}0<tt.length&&(Ce=new Ke(Ce,Ze,null,d,Pe),Ne.push({event:Ce,listeners:tt}))}}if((l&7)===0){e:{if(Ce=a==="mouseover"||a==="pointerover",Ke=a==="mouseout"||a==="pointerout",Ce&&d!==et&&(Ze=d.relatedTarget||d.fromElement)&&(Ua(Ze)||Ze[eo]))break e;if((Ke||Ce)&&(Ce=Pe.window===Pe?Pe:(Ce=Pe.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Ke?(Ze=d.relatedTarget||d.toElement,Ke=Ee,Ze=Ze?Ua(Ze):null,Ze!==null&&(Wn=ir(Ze),Ze!==Wn||Ze.tag!==5&&Ze.tag!==6)&&(Ze=null)):(Ke=null,Ze=Ee),Ke!==Ze)){if(tt=Ul,Le="onMouseLeave",ye="onMouseEnter",fe="mouse",(a==="pointerout"||a==="pointerover")&&(tt=J,Le="onPointerLeave",ye="onPointerEnter",fe="pointer"),Wn=Ke==null?Ce:Gl(Ke),ve=Ze==null?Ce:Gl(Ze),Ce=new tt(Le,fe+"leave",Ke,d,Pe),Ce.target=Wn,Ce.relatedTarget=ve,Le=null,Ua(Pe)===Ee&&(tt=new tt(ye,fe+"enter",Ze,d,Pe),tt.target=ve,tt.relatedTarget=Wn,Le=tt),Wn=Le,Ke&&Ze)t:{for(tt=Ke,ye=Ze,fe=0,ve=tt;ve;ve=Kl(ve))fe++;for(ve=0,Le=ye;Le;Le=Kl(Le))ve++;for(;0<fe-ve;)tt=Kl(tt),fe--;for(;0<ve-fe;)ye=Kl(ye),ve--;for(;fe--;){if(tt===ye||ye!==null&&tt===ye.alternate)break t;tt=Kl(tt),ye=Kl(ye)}tt=null}else tt=null;Ke!==null&&E1(Ne,Ce,Ke,tt,!1),Ze!==null&&Wn!==null&&E1(Ne,Wn,Ze,tt,!0)}}e:{if(Ce=Ee?Gl(Ee):window,Ke=Ce.nodeName&&Ce.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&Ce.type==="file")var rt=bR;else if(e1(Ce))if(n1)rt=TR;else{rt=AR;var ut=SR}else(Ke=Ce.nodeName)&&Ke.toLowerCase()==="input"&&(Ce.type==="checkbox"||Ce.type==="radio")&&(rt=IR);if(rt&&(rt=rt(a,Ee))){t1(Ne,rt,d,Pe);break e}ut&&ut(a,Ce,Ee),a==="focusout"&&(ut=Ce._wrapperState)&&ut.controlled&&Ce.type==="number"&&pr(Ce,"number",Ce.value)}switch(ut=Ee?Gl(Ee):window,a){case"focusin":(e1(ut)||ut.contentEditable==="true")&&(ql=ut,Sm=Ee,bu=null);break;case"focusout":bu=Sm=ql=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,u1(Ne,d,Pe);break;case"selectionchange":if(RR)break;case"keydown":case"keyup":u1(Ne,d,Pe)}var dt;if(Kn)e:{switch(a){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else jl?Jv(a,d)&&(gt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(gt="onCompositionStart");gt&&(Ba&&d.locale!=="ko"&&(jl||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&jl&&(dt=mu()):(vi=Pe,Ol="value"in vi?vi.value:vi.textContent,jl=!0)),ut=bh(Ee,gt),0<ut.length&&(gt=new wu(gt,a,null,d,Pe),Ne.push({event:gt,listeners:ut}),dt?gt.data=dt:(dt=Zv(d),dt!==null&&(gt.data=dt)))),(dt=_i?wR(a,d):vR(a,d))&&(Ee=bh(Ee,"onBeforeInput"),0<Ee.length&&(Pe=new wu("onBeforeInput","beforeinput",null,d,Pe),Ne.push({event:Pe,listeners:Ee}),Pe.data=dt))}v1(Ne,l)})}function Iu(a,l,d){return{instance:a,listener:l,currentTarget:d}}function bh(a,l){for(var d=l+"Capture",g=[];a!==null;){var E=a,x=E.stateNode;E.tag===5&&x!==null&&(E=x,x=mt(a,d),x!=null&&g.unshift(Iu(a,x,E)),x=mt(a,l),x!=null&&g.push(Iu(a,x,E))),a=a.return}return g}function Kl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function E1(a,l,d,g,E){for(var x=l._reactName,K=[];d!==null&&d!==g;){var ne=d,le=ne.alternate,Ee=ne.stateNode;if(le!==null&&le===g)break;ne.tag===5&&Ee!==null&&(ne=Ee,E?(le=mt(d,x),le!=null&&K.unshift(Iu(d,le,ne))):E||(le=mt(d,x),le!=null&&K.push(Iu(d,le,ne)))),d=d.return}K.length!==0&&a.push({event:l,listeners:K})}var NR=/\r\n?/g,OR=/\u0000|\uFFFD/g;function b1(a){return(typeof a=="string"?a:""+a).replace(NR,`
`).replace(OR,"")}function Sh(a,l,d){if(l=b1(l),b1(a)!==l&&d)throw Error(n(425))}function Ah(){}var Cm=null,Pm=null;function Mm(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Nm=typeof setTimeout=="function"?setTimeout:void 0,LR=typeof clearTimeout=="function"?clearTimeout:void 0,S1=typeof Promise=="function"?Promise:void 0,DR=typeof queueMicrotask=="function"?queueMicrotask:typeof S1<"u"?function(a){return S1.resolve(null).then(a).catch(BR)}:Nm;function BR(a){setTimeout(function(){throw a})}function Om(a,l){var d=l,g=0;do{var E=d.nextSibling;if(a.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"){if(g===0){a.removeChild(E),Yi(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=E}while(d);Yi(l)}function Vo(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function A1(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}var Hl=Math.random().toString(36).slice(2),Ss="__reactFiber$"+Hl,Tu="__reactProps$"+Hl,eo="__reactContainer$"+Hl,Lm="__reactEvents$"+Hl,UR="__reactListeners$"+Hl,VR="__reactHandles$"+Hl;function Ua(a){var l=a[Ss];if(l)return l;for(var d=a.parentNode;d;){if(l=d[eo]||d[Ss]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=A1(a);a!==null;){if(d=a[Ss])return d;a=A1(a)}return l}a=d,d=a.parentNode}return null}function ku(a){return a=a[Ss]||a[eo],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Gl(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Ih(a){return a[Tu]||null}var Dm=[],Ql=-1;function Fo(a){return{current:a}}function An(a){0>Ql||(a.current=Dm[Ql],Dm[Ql]=null,Ql--)}function vn(a,l){Ql++,Dm[Ql]=a.current,a.current=l}var Wo={},xr=Fo(Wo),ni=Fo(!1),Va=Wo;function Yl(a,l){var d=a.type.contextTypes;if(!d)return Wo;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var E={},x;for(x in d)E[x]=l[x];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=E),E}function ri(a){return a=a.childContextTypes,a!=null}function Th(){An(ni),An(xr)}function I1(a,l,d){if(xr.current!==Wo)throw Error(n(168));vn(xr,l),vn(ni,d)}function T1(a,l,d){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var E in g)if(!(E in l))throw Error(n(108,ue(a)||"Unknown",E));return ee({},d,g)}function kh(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Wo,Va=xr.current,vn(xr,a),vn(ni,ni.current),!0}function k1(a,l,d){var g=a.stateNode;if(!g)throw Error(n(169));d?(a=T1(a,l,Va),g.__reactInternalMemoizedMergedChildContext=a,An(ni),An(xr),vn(xr,a)):An(ni),vn(ni,d)}var to=null,xh=!1,Bm=!1;function x1(a){to===null?to=[a]:to.push(a)}function FR(a){xh=!0,x1(a)}function zo(){if(!Bm&&to!==null){Bm=!0;var a=0,l=lt;try{var d=to;for(lt=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}to=null,xh=!1}catch(E){throw to!==null&&(to=to.slice(a+1)),gi(yi,zo),E}finally{lt=l,Bm=!1}}return null}var Xl=[],Jl=0,Rh=null,Ch=0,Bi=[],Ui=0,Fa=null,no=1,ro="";function Wa(a,l){Xl[Jl++]=Ch,Xl[Jl++]=Rh,Rh=a,Ch=l}function R1(a,l,d){Bi[Ui++]=no,Bi[Ui++]=ro,Bi[Ui++]=Fa,Fa=a;var g=no;a=ro;var E=32-Fn(g)-1;g&=~(1<<E),d+=1;var x=32-Fn(l)+E;if(30<x){var K=E-E%5;x=(g&(1<<K)-1).toString(32),g>>=K,E-=K,no=1<<32-Fn(l)+E|d<<E|g,ro=x+a}else no=1<<x|d<<E|g,ro=a}function Um(a){a.return!==null&&(Wa(a,1),R1(a,1,0))}function Vm(a){for(;a===Rh;)Rh=Xl[--Jl],Xl[Jl]=null,Ch=Xl[--Jl],Xl[Jl]=null;for(;a===Fa;)Fa=Bi[--Ui],Bi[Ui]=null,ro=Bi[--Ui],Bi[Ui]=null,no=Bi[--Ui],Bi[Ui]=null}var Ei=null,bi=null,kn=!1,Zi=null;function C1(a,l){var d=zi(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,l=a.deletions,l===null?(a.deletions=[d],a.flags|=16):l.push(d)}function P1(a,l){switch(a.tag){case 5:var d=a.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,Ei=a,bi=Vo(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,Ei=a,bi=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Fa!==null?{id:no,overflow:ro}:null,a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=zi(18,null,null,0),d.stateNode=l,d.return=a,a.child=d,Ei=a,bi=null,!0):!1;default:return!1}}function Fm(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Wm(a){if(kn){var l=bi;if(l){var d=l;if(!P1(a,l)){if(Fm(a))throw Error(n(418));l=Vo(d.nextSibling);var g=Ei;l&&P1(a,l)?C1(g,d):(a.flags=a.flags&-4097|2,kn=!1,Ei=a)}}else{if(Fm(a))throw Error(n(418));a.flags=a.flags&-4097|2,kn=!1,Ei=a}}}function M1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ei=a}function Ph(a){if(a!==Ei)return!1;if(!kn)return M1(a),kn=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Mm(a.type,a.memoizedProps)),l&&(l=bi)){if(Fm(a))throw N1(),Error(n(418));for(;l;)C1(a,l),l=Vo(l.nextSibling)}if(M1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(l===0){bi=Vo(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}a=a.nextSibling}bi=null}}else bi=Ei?Vo(a.stateNode.nextSibling):null;return!0}function N1(){for(var a=bi;a;)a=Vo(a.nextSibling)}function Zl(){bi=Ei=null,kn=!1}function zm(a){Zi===null?Zi=[a]:Zi.push(a)}var WR=te.ReactCurrentBatchConfig;function xu(a,l,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,a));var E=g,x=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===x?l.ref:(l=function(K){var ne=E.refs;K===null?delete ne[x]:ne[x]=K},l._stringRef=x,l)}if(typeof a!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,a))}return a}function Mh(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function O1(a){var l=a._init;return l(a._payload)}function L1(a){function l(ye,fe){if(a){var ve=ye.deletions;ve===null?(ye.deletions=[fe],ye.flags|=16):ve.push(fe)}}function d(ye,fe){if(!a)return null;for(;fe!==null;)l(ye,fe),fe=fe.sibling;return null}function g(ye,fe){for(ye=new Map;fe!==null;)fe.key!==null?ye.set(fe.key,fe):ye.set(fe.index,fe),fe=fe.sibling;return ye}function E(ye,fe){return ye=Yo(ye,fe),ye.index=0,ye.sibling=null,ye}function x(ye,fe,ve){return ye.index=ve,a?(ve=ye.alternate,ve!==null?(ve=ve.index,ve<fe?(ye.flags|=2,fe):ve):(ye.flags|=2,fe)):(ye.flags|=1048576,fe)}function K(ye){return a&&ye.alternate===null&&(ye.flags|=2),ye}function ne(ye,fe,ve,Le){return fe===null||fe.tag!==6?(fe=Ng(ve,ye.mode,Le),fe.return=ye,fe):(fe=E(fe,ve),fe.return=ye,fe)}function le(ye,fe,ve,Le){var rt=ve.type;return rt===Q?Pe(ye,fe,ve.props.children,Le,ve.key):fe!==null&&(fe.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===B&&O1(rt)===fe.type)?(Le=E(fe,ve.props),Le.ref=xu(ye,fe,ve),Le.return=ye,Le):(Le=nf(ve.type,ve.key,ve.props,null,ye.mode,Le),Le.ref=xu(ye,fe,ve),Le.return=ye,Le)}function Ee(ye,fe,ve,Le){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ve.containerInfo||fe.stateNode.implementation!==ve.implementation?(fe=Og(ve,ye.mode,Le),fe.return=ye,fe):(fe=E(fe,ve.children||[]),fe.return=ye,fe)}function Pe(ye,fe,ve,Le,rt){return fe===null||fe.tag!==7?(fe=Qa(ve,ye.mode,Le,rt),fe.return=ye,fe):(fe=E(fe,ve),fe.return=ye,fe)}function Ne(ye,fe,ve){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=Ng(""+fe,ye.mode,ve),fe.return=ye,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case ae:return ve=nf(fe.type,fe.key,fe.props,null,ye.mode,ve),ve.ref=xu(ye,null,fe),ve.return=ye,ve;case se:return fe=Og(fe,ye.mode,ve),fe.return=ye,fe;case B:var Le=fe._init;return Ne(ye,Le(fe._payload),ve)}if(Pt(fe)||X(fe))return fe=Qa(fe,ye.mode,ve,null),fe.return=ye,fe;Mh(ye,fe)}return null}function Ce(ye,fe,ve,Le){var rt=fe!==null?fe.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return rt!==null?null:ne(ye,fe,""+ve,Le);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case ae:return ve.key===rt?le(ye,fe,ve,Le):null;case se:return ve.key===rt?Ee(ye,fe,ve,Le):null;case B:return rt=ve._init,Ce(ye,fe,rt(ve._payload),Le)}if(Pt(ve)||X(ve))return rt!==null?null:Pe(ye,fe,ve,Le,null);Mh(ye,ve)}return null}function Ke(ye,fe,ve,Le,rt){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return ye=ye.get(ve)||null,ne(fe,ye,""+Le,rt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case ae:return ye=ye.get(Le.key===null?ve:Le.key)||null,le(fe,ye,Le,rt);case se:return ye=ye.get(Le.key===null?ve:Le.key)||null,Ee(fe,ye,Le,rt);case B:var ut=Le._init;return Ke(ye,fe,ve,ut(Le._payload),rt)}if(Pt(Le)||X(Le))return ye=ye.get(ve)||null,Pe(fe,ye,Le,rt,null);Mh(fe,Le)}return null}function Ze(ye,fe,ve,Le){for(var rt=null,ut=null,dt=fe,gt=fe=0,cr=null;dt!==null&&gt<ve.length;gt++){dt.index>gt?(cr=dt,dt=null):cr=dt.sibling;var rn=Ce(ye,dt,ve[gt],Le);if(rn===null){dt===null&&(dt=cr);break}a&&dt&&rn.alternate===null&&l(ye,dt),fe=x(rn,fe,gt),ut===null?rt=rn:ut.sibling=rn,ut=rn,dt=cr}if(gt===ve.length)return d(ye,dt),kn&&Wa(ye,gt),rt;if(dt===null){for(;gt<ve.length;gt++)dt=Ne(ye,ve[gt],Le),dt!==null&&(fe=x(dt,fe,gt),ut===null?rt=dt:ut.sibling=dt,ut=dt);return kn&&Wa(ye,gt),rt}for(dt=g(ye,dt);gt<ve.length;gt++)cr=Ke(dt,ye,gt,ve[gt],Le),cr!==null&&(a&&cr.alternate!==null&&dt.delete(cr.key===null?gt:cr.key),fe=x(cr,fe,gt),ut===null?rt=cr:ut.sibling=cr,ut=cr);return a&&dt.forEach(function(Xo){return l(ye,Xo)}),kn&&Wa(ye,gt),rt}function tt(ye,fe,ve,Le){var rt=X(ve);if(typeof rt!="function")throw Error(n(150));if(ve=rt.call(ve),ve==null)throw Error(n(151));for(var ut=rt=null,dt=fe,gt=fe=0,cr=null,rn=ve.next();dt!==null&&!rn.done;gt++,rn=ve.next()){dt.index>gt?(cr=dt,dt=null):cr=dt.sibling;var Xo=Ce(ye,dt,rn.value,Le);if(Xo===null){dt===null&&(dt=cr);break}a&&dt&&Xo.alternate===null&&l(ye,dt),fe=x(Xo,fe,gt),ut===null?rt=Xo:ut.sibling=Xo,ut=Xo,dt=cr}if(rn.done)return d(ye,dt),kn&&Wa(ye,gt),rt;if(dt===null){for(;!rn.done;gt++,rn=ve.next())rn=Ne(ye,rn.value,Le),rn!==null&&(fe=x(rn,fe,gt),ut===null?rt=rn:ut.sibling=rn,ut=rn);return kn&&Wa(ye,gt),rt}for(dt=g(ye,dt);!rn.done;gt++,rn=ve.next())rn=Ke(dt,ye,gt,rn.value,Le),rn!==null&&(a&&rn.alternate!==null&&dt.delete(rn.key===null?gt:rn.key),fe=x(rn,fe,gt),ut===null?rt=rn:ut.sibling=rn,ut=rn);return a&&dt.forEach(function(_C){return l(ye,_C)}),kn&&Wa(ye,gt),rt}function Wn(ye,fe,ve,Le){if(typeof ve=="object"&&ve!==null&&ve.type===Q&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case ae:e:{for(var rt=ve.key,ut=fe;ut!==null;){if(ut.key===rt){if(rt=ve.type,rt===Q){if(ut.tag===7){d(ye,ut.sibling),fe=E(ut,ve.props.children),fe.return=ye,ye=fe;break e}}else if(ut.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===B&&O1(rt)===ut.type){d(ye,ut.sibling),fe=E(ut,ve.props),fe.ref=xu(ye,ut,ve),fe.return=ye,ye=fe;break e}d(ye,ut);break}else l(ye,ut);ut=ut.sibling}ve.type===Q?(fe=Qa(ve.props.children,ye.mode,Le,ve.key),fe.return=ye,ye=fe):(Le=nf(ve.type,ve.key,ve.props,null,ye.mode,Le),Le.ref=xu(ye,fe,ve),Le.return=ye,ye=Le)}return K(ye);case se:e:{for(ut=ve.key;fe!==null;){if(fe.key===ut)if(fe.tag===4&&fe.stateNode.containerInfo===ve.containerInfo&&fe.stateNode.implementation===ve.implementation){d(ye,fe.sibling),fe=E(fe,ve.children||[]),fe.return=ye,ye=fe;break e}else{d(ye,fe);break}else l(ye,fe);fe=fe.sibling}fe=Og(ve,ye.mode,Le),fe.return=ye,ye=fe}return K(ye);case B:return ut=ve._init,Wn(ye,fe,ut(ve._payload),Le)}if(Pt(ve))return Ze(ye,fe,ve,Le);if(X(ve))return tt(ye,fe,ve,Le);Mh(ye,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,fe!==null&&fe.tag===6?(d(ye,fe.sibling),fe=E(fe,ve),fe.return=ye,ye=fe):(d(ye,fe),fe=Ng(ve,ye.mode,Le),fe.return=ye,ye=fe),K(ye)):d(ye,fe)}return Wn}var ec=L1(!0),D1=L1(!1),Nh=Fo(null),Oh=null,tc=null,jm=null;function qm(){jm=tc=Oh=null}function $m(a){var l=Nh.current;An(Nh),a._currentValue=l}function Km(a,l,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===d)break;a=a.return}}function nc(a,l){Oh=a,jm=tc=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(ii=!0),a.firstContext=null)}function Vi(a){var l=a._currentValue;if(jm!==a)if(a={context:a,memoizedValue:l,next:null},tc===null){if(Oh===null)throw Error(n(308));tc=a,Oh.dependencies={lanes:0,firstContext:a}}else tc=tc.next=a;return l}var za=null;function Hm(a){za===null?za=[a]:za.push(a)}function B1(a,l,d,g){var E=l.interleaved;return E===null?(d.next=d,Hm(l)):(d.next=E.next,E.next=d),l.interleaved=d,io(a,g)}function io(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,d=a.alternate,d!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var jo=!1;function Gm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U1(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function so(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function qo(a,l,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Zt&2)!==0){var E=g.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),g.pending=l,io(a,d)}return E=g.interleaved,E===null?(l.next=l,Hm(g)):(l.next=E.next,E.next=l),g.interleaved=l,io(a,d)}function Lh(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,_t(a,d)}}function V1(a,l){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var E=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var K={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};x===null?E=x=K:x=x.next=K,d=d.next}while(d!==null);x===null?E=x=l:x=x.next=l}else E=x=l;d={baseState:g.baseState,firstBaseUpdate:E,lastBaseUpdate:x,shared:g.shared,effects:g.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function Dh(a,l,d,g){var E=a.updateQueue;jo=!1;var x=E.firstBaseUpdate,K=E.lastBaseUpdate,ne=E.shared.pending;if(ne!==null){E.shared.pending=null;var le=ne,Ee=le.next;le.next=null,K===null?x=Ee:K.next=Ee,K=le;var Pe=a.alternate;Pe!==null&&(Pe=Pe.updateQueue,ne=Pe.lastBaseUpdate,ne!==K&&(ne===null?Pe.firstBaseUpdate=Ee:ne.next=Ee,Pe.lastBaseUpdate=le))}if(x!==null){var Ne=E.baseState;K=0,Pe=Ee=le=null,ne=x;do{var Ce=ne.lane,Ke=ne.eventTime;if((g&Ce)===Ce){Pe!==null&&(Pe=Pe.next={eventTime:Ke,lane:0,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null});e:{var Ze=a,tt=ne;switch(Ce=l,Ke=d,tt.tag){case 1:if(Ze=tt.payload,typeof Ze=="function"){Ne=Ze.call(Ke,Ne,Ce);break e}Ne=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=tt.payload,Ce=typeof Ze=="function"?Ze.call(Ke,Ne,Ce):Ze,Ce==null)break e;Ne=ee({},Ne,Ce);break e;case 2:jo=!0}}ne.callback!==null&&ne.lane!==0&&(a.flags|=64,Ce=E.effects,Ce===null?E.effects=[ne]:Ce.push(ne))}else Ke={eventTime:Ke,lane:Ce,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Pe===null?(Ee=Pe=Ke,le=Ne):Pe=Pe.next=Ke,K|=Ce;if(ne=ne.next,ne===null){if(ne=E.shared.pending,ne===null)break;Ce=ne,ne=Ce.next,Ce.next=null,E.lastBaseUpdate=Ce,E.shared.pending=null}}while(!0);if(Pe===null&&(le=Ne),E.baseState=le,E.firstBaseUpdate=Ee,E.lastBaseUpdate=Pe,l=E.shared.interleaved,l!==null){E=l;do K|=E.lane,E=E.next;while(E!==l)}else x===null&&(E.shared.lanes=0);$a|=K,a.lanes=K,a.memoizedState=Ne}}function F1(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],E=g.callback;if(E!==null){if(g.callback=null,g=d,typeof E!="function")throw Error(n(191,E));E.call(g)}}}var Ru={},As=Fo(Ru),Cu=Fo(Ru),Pu=Fo(Ru);function ja(a){if(a===Ru)throw Error(n(174));return a}function Qm(a,l){switch(vn(Pu,l),vn(Cu,a),vn(As,Ru),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:$(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=$(l,a)}An(As),vn(As,l)}function rc(){An(As),An(Cu),An(Pu)}function W1(a){ja(Pu.current);var l=ja(As.current),d=$(l,a.type);l!==d&&(vn(Cu,a),vn(As,d))}function Ym(a){Cu.current===a&&(An(As),An(Cu))}var Rn=Fo(0);function Bh(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Xm=[];function Jm(){for(var a=0;a<Xm.length;a++)Xm[a]._workInProgressVersionPrimary=null;Xm.length=0}var Uh=te.ReactCurrentDispatcher,Zm=te.ReactCurrentBatchConfig,qa=0,Cn=null,tr=null,ar=null,Vh=!1,Mu=!1,Nu=0,zR=0;function Rr(){throw Error(n(321))}function eg(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Ji(a[d],l[d]))return!1;return!0}function tg(a,l,d,g,E,x){if(qa=x,Cn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Uh.current=a===null||a.memoizedState===null?KR:HR,a=d(g,E),Mu){x=0;do{if(Mu=!1,Nu=0,25<=x)throw Error(n(301));x+=1,ar=tr=null,l.updateQueue=null,Uh.current=GR,a=d(g,E)}while(Mu)}if(Uh.current=zh,l=tr!==null&&tr.next!==null,qa=0,ar=tr=Cn=null,Vh=!1,l)throw Error(n(300));return a}function ng(){var a=Nu!==0;return Nu=0,a}function Is(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Cn.memoizedState=ar=a:ar=ar.next=a,ar}function Fi(){if(tr===null){var a=Cn.alternate;a=a!==null?a.memoizedState:null}else a=tr.next;var l=ar===null?Cn.memoizedState:ar.next;if(l!==null)ar=l,tr=a;else{if(a===null)throw Error(n(310));tr=a,a={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},ar===null?Cn.memoizedState=ar=a:ar=ar.next=a}return ar}function Ou(a,l){return typeof l=="function"?l(a):l}function rg(a){var l=Fi(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var g=tr,E=g.baseQueue,x=d.pending;if(x!==null){if(E!==null){var K=E.next;E.next=x.next,x.next=K}g.baseQueue=E=x,d.pending=null}if(E!==null){x=E.next,g=g.baseState;var ne=K=null,le=null,Ee=x;do{var Pe=Ee.lane;if((qa&Pe)===Pe)le!==null&&(le=le.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),g=Ee.hasEagerState?Ee.eagerState:a(g,Ee.action);else{var Ne={lane:Pe,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};le===null?(ne=le=Ne,K=g):le=le.next=Ne,Cn.lanes|=Pe,$a|=Pe}Ee=Ee.next}while(Ee!==null&&Ee!==x);le===null?K=g:le.next=ne,Ji(g,l.memoizedState)||(ii=!0),l.memoizedState=g,l.baseState=K,l.baseQueue=le,d.lastRenderedState=g}if(a=d.interleaved,a!==null){E=a;do x=E.lane,Cn.lanes|=x,$a|=x,E=E.next;while(E!==a)}else E===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function ig(a){var l=Fi(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var g=d.dispatch,E=d.pending,x=l.memoizedState;if(E!==null){d.pending=null;var K=E=E.next;do x=a(x,K.action),K=K.next;while(K!==E);Ji(x,l.memoizedState)||(ii=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),d.lastRenderedState=x}return[x,g]}function z1(){}function j1(a,l){var d=Cn,g=Fi(),E=l(),x=!Ji(g.memoizedState,E);if(x&&(g.memoizedState=E,ii=!0),g=g.queue,sg(K1.bind(null,d,g,a),[a]),g.getSnapshot!==l||x||ar!==null&&ar.memoizedState.tag&1){if(d.flags|=2048,Lu(9,$1.bind(null,d,g,E,l),void 0,null),lr===null)throw Error(n(349));(qa&30)!==0||q1(d,l,E)}return E}function q1(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Cn.updateQueue,l===null?(l={lastEffect:null,stores:null},Cn.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function $1(a,l,d,g){l.value=d,l.getSnapshot=g,H1(l)&&G1(a)}function K1(a,l,d){return d(function(){H1(l)&&G1(a)})}function H1(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Ji(a,d)}catch{return!0}}function G1(a){var l=io(a,1);l!==null&&rs(l,a,1,-1)}function Q1(a){var l=Is();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:a},l.queue=a,a=a.dispatch=$R.bind(null,Cn,a),[l.memoizedState,a]}function Lu(a,l,d,g){return a={tag:a,create:l,destroy:d,deps:g,next:null},l=Cn.updateQueue,l===null?(l={lastEffect:null,stores:null},Cn.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect,d===null?l.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,l.lastEffect=a)),a}function Y1(){return Fi().memoizedState}function Fh(a,l,d,g){var E=Is();Cn.flags|=a,E.memoizedState=Lu(1|l,d,void 0,g===void 0?null:g)}function Wh(a,l,d,g){var E=Fi();g=g===void 0?null:g;var x=void 0;if(tr!==null){var K=tr.memoizedState;if(x=K.destroy,g!==null&&eg(g,K.deps)){E.memoizedState=Lu(l,d,x,g);return}}Cn.flags|=a,E.memoizedState=Lu(1|l,d,x,g)}function X1(a,l){return Fh(8390656,8,a,l)}function sg(a,l){return Wh(2048,8,a,l)}function J1(a,l){return Wh(4,2,a,l)}function Z1(a,l){return Wh(4,4,a,l)}function e_(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function t_(a,l,d){return d=d!=null?d.concat([a]):null,Wh(4,4,e_.bind(null,l,a),d)}function og(){}function n_(a,l){var d=Fi();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&eg(l,g[1])?g[0]:(d.memoizedState=[a,l],a)}function r_(a,l){var d=Fi();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&eg(l,g[1])?g[0]:(a=a(),d.memoizedState=[a,l],a)}function i_(a,l,d){return(qa&21)===0?(a.baseState&&(a.baseState=!1,ii=!0),a.memoizedState=d):(Ji(d,l)||(d=Fe(),Cn.lanes|=d,$a|=d,a.baseState=!0),l)}function jR(a,l){var d=lt;lt=d!==0&&4>d?d:4,a(!0);var g=Zm.transition;Zm.transition={};try{a(!1),l()}finally{lt=d,Zm.transition=g}}function s_(){return Fi().memoizedState}function qR(a,l,d){var g=Go(a);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},o_(a))a_(l,d);else if(d=B1(a,l,d,g),d!==null){var E=Kr();rs(d,a,g,E),l_(d,l,g)}}function $R(a,l,d){var g=Go(a),E={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(o_(a))a_(l,E);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var K=l.lastRenderedState,ne=x(K,d);if(E.hasEagerState=!0,E.eagerState=ne,Ji(ne,K)){var le=l.interleaved;le===null?(E.next=E,Hm(l)):(E.next=le.next,le.next=E),l.interleaved=E;return}}catch{}finally{}d=B1(a,l,E,g),d!==null&&(E=Kr(),rs(d,a,g,E),l_(d,l,g))}}function o_(a){var l=a.alternate;return a===Cn||l!==null&&l===Cn}function a_(a,l){Mu=Vh=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function l_(a,l,d){if((d&4194240)!==0){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,_t(a,d)}}var zh={readContext:Vi,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},KR={readContext:Vi,useCallback:function(a,l){return Is().memoizedState=[a,l===void 0?null:l],a},useContext:Vi,useEffect:X1,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,Fh(4194308,4,e_.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Fh(4194308,4,a,l)},useInsertionEffect:function(a,l){return Fh(4,2,a,l)},useMemo:function(a,l){var d=Is();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var g=Is();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=qR.bind(null,Cn,a),[g.memoizedState,a]},useRef:function(a){var l=Is();return a={current:a},l.memoizedState=a},useState:Q1,useDebugValue:og,useDeferredValue:function(a){return Is().memoizedState=a},useTransition:function(){var a=Q1(!1),l=a[0];return a=jR.bind(null,a[1]),Is().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var g=Cn,E=Is();if(kn){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),lr===null)throw Error(n(349));(qa&30)!==0||q1(g,l,d)}E.memoizedState=d;var x={value:d,getSnapshot:l};return E.queue=x,X1(K1.bind(null,g,x,a),[a]),g.flags|=2048,Lu(9,$1.bind(null,g,x,d,l),void 0,null),d},useId:function(){var a=Is(),l=lr.identifierPrefix;if(kn){var d=ro,g=no;d=(g&~(1<<32-Fn(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=Nu++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=zR++,l=":"+l+"r"+d.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},HR={readContext:Vi,useCallback:n_,useContext:Vi,useEffect:sg,useImperativeHandle:t_,useInsertionEffect:J1,useLayoutEffect:Z1,useMemo:r_,useReducer:rg,useRef:Y1,useState:function(){return rg(Ou)},useDebugValue:og,useDeferredValue:function(a){var l=Fi();return i_(l,tr.memoizedState,a)},useTransition:function(){var a=rg(Ou)[0],l=Fi().memoizedState;return[a,l]},useMutableSource:z1,useSyncExternalStore:j1,useId:s_,unstable_isNewReconciler:!1},GR={readContext:Vi,useCallback:n_,useContext:Vi,useEffect:sg,useImperativeHandle:t_,useInsertionEffect:J1,useLayoutEffect:Z1,useMemo:r_,useReducer:ig,useRef:Y1,useState:function(){return ig(Ou)},useDebugValue:og,useDeferredValue:function(a){var l=Fi();return tr===null?l.memoizedState=a:i_(l,tr.memoizedState,a)},useTransition:function(){var a=ig(Ou)[0],l=Fi().memoizedState;return[a,l]},useMutableSource:z1,useSyncExternalStore:j1,useId:s_,unstable_isNewReconciler:!1};function es(a,l){if(a&&a.defaultProps){l=ee({},l),a=a.defaultProps;for(var d in a)l[d]===void 0&&(l[d]=a[d]);return l}return l}function ag(a,l,d,g){l=a.memoizedState,d=d(g,l),d=d==null?l:ee({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var jh={isMounted:function(a){return(a=a._reactInternals)?ir(a)===a:!1},enqueueSetState:function(a,l,d){a=a._reactInternals;var g=Kr(),E=Go(a),x=so(g,E);x.payload=l,d!=null&&(x.callback=d),l=qo(a,x,E),l!==null&&(rs(l,a,E,g),Lh(l,a,E))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var g=Kr(),E=Go(a),x=so(g,E);x.tag=1,x.payload=l,d!=null&&(x.callback=d),l=qo(a,x,E),l!==null&&(rs(l,a,E,g),Lh(l,a,E))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Kr(),g=Go(a),E=so(d,g);E.tag=2,l!=null&&(E.callback=l),l=qo(a,E,g),l!==null&&(rs(l,a,g,d),Lh(l,a,g))}};function c_(a,l,d,g,E,x,K){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,x,K):l.prototype&&l.prototype.isPureReactComponent?!Eu(d,g)||!Eu(E,x):!0}function u_(a,l,d){var g=!1,E=Wo,x=l.contextType;return typeof x=="object"&&x!==null?x=Vi(x):(E=ri(l)?Va:xr.current,g=l.contextTypes,x=(g=g!=null)?Yl(a,E):Wo),l=new l(d,x),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=jh,a.stateNode=l,l._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=E,a.__reactInternalMemoizedMaskedChildContext=x),l}function d_(a,l,d,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==a&&jh.enqueueReplaceState(l,l.state,null)}function lg(a,l,d,g){var E=a.stateNode;E.props=d,E.state=a.memoizedState,E.refs={},Gm(a);var x=l.contextType;typeof x=="object"&&x!==null?E.context=Vi(x):(x=ri(l)?Va:xr.current,E.context=Yl(a,x)),E.state=a.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(ag(a,l,x,d),E.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(l=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),l!==E.state&&jh.enqueueReplaceState(E,E.state,null),Dh(a,d,E,g),E.state=a.memoizedState),typeof E.componentDidMount=="function"&&(a.flags|=4194308)}function ic(a,l){try{var d="",g=l;do d+=Y(g),g=g.return;while(g);var E=d}catch(x){E=`
Error generating stack: `+x.message+`
`+x.stack}return{value:a,source:l,stack:E,digest:null}}function cg(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function ug(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var QR=typeof WeakMap=="function"?WeakMap:Map;function h_(a,l,d){d=so(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){Yh||(Yh=!0,Ig=g),ug(a,l)},d}function f_(a,l,d){d=so(-1,d),d.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var E=l.value;d.payload=function(){return g(E)},d.callback=function(){ug(a,l)}}var x=a.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(d.callback=function(){ug(a,l),typeof g!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var K=l.stack;this.componentDidCatch(l.value,{componentStack:K!==null?K:""})}),d}function p_(a,l,d){var g=a.pingCache;if(g===null){g=a.pingCache=new QR;var E=new Set;g.set(l,E)}else E=g.get(l),E===void 0&&(E=new Set,g.set(l,E));E.has(d)||(E.add(d),a=cC.bind(null,a,l,d),l.then(a,a))}function m_(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function g_(a,l,d,g,E){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=so(-1,1),l.tag=2,qo(d,l,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=E,a)}var YR=te.ReactCurrentOwner,ii=!1;function $r(a,l,d,g){l.child=a===null?D1(l,null,d,g):ec(l,a.child,d,g)}function y_(a,l,d,g,E){d=d.render;var x=l.ref;return nc(l,E),g=tg(a,l,d,g,x,E),d=ng(),a!==null&&!ii?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~E,oo(a,l,E)):(kn&&d&&Um(l),l.flags|=1,$r(a,l,g,E),l.child)}function w_(a,l,d,g,E){if(a===null){var x=d.type;return typeof x=="function"&&!Mg(x)&&x.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=x,v_(a,l,x,g,E)):(a=nf(d.type,null,g,l,l.mode,E),a.ref=l.ref,a.return=l,l.child=a)}if(x=a.child,(a.lanes&E)===0){var K=x.memoizedProps;if(d=d.compare,d=d!==null?d:Eu,d(K,g)&&a.ref===l.ref)return oo(a,l,E)}return l.flags|=1,a=Yo(x,g),a.ref=l.ref,a.return=l,l.child=a}function v_(a,l,d,g,E){if(a!==null){var x=a.memoizedProps;if(Eu(x,g)&&a.ref===l.ref)if(ii=!1,l.pendingProps=g=x,(a.lanes&E)!==0)(a.flags&131072)!==0&&(ii=!0);else return l.lanes=a.lanes,oo(a,l,E)}return dg(a,l,d,g,E)}function __(a,l,d){var g=l.pendingProps,E=g.children,x=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(oc,Si),Si|=d;else{if((d&1073741824)===0)return a=x!==null?x.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,vn(oc,Si),Si|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=x!==null?x.baseLanes:d,vn(oc,Si),Si|=g}else x!==null?(g=x.baseLanes|d,l.memoizedState=null):g=d,vn(oc,Si),Si|=g;return $r(a,l,E,d),l.child}function E_(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function dg(a,l,d,g,E){var x=ri(d)?Va:xr.current;return x=Yl(l,x),nc(l,E),d=tg(a,l,d,g,x,E),g=ng(),a!==null&&!ii?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~E,oo(a,l,E)):(kn&&g&&Um(l),l.flags|=1,$r(a,l,d,E),l.child)}function b_(a,l,d,g,E){if(ri(d)){var x=!0;kh(l)}else x=!1;if(nc(l,E),l.stateNode===null)$h(a,l),u_(l,d,g),lg(l,d,g,E),g=!0;else if(a===null){var K=l.stateNode,ne=l.memoizedProps;K.props=ne;var le=K.context,Ee=d.contextType;typeof Ee=="object"&&Ee!==null?Ee=Vi(Ee):(Ee=ri(d)?Va:xr.current,Ee=Yl(l,Ee));var Pe=d.getDerivedStateFromProps,Ne=typeof Pe=="function"||typeof K.getSnapshotBeforeUpdate=="function";Ne||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ne!==g||le!==Ee)&&d_(l,K,g,Ee),jo=!1;var Ce=l.memoizedState;K.state=Ce,Dh(l,g,K,E),le=l.memoizedState,ne!==g||Ce!==le||ni.current||jo?(typeof Pe=="function"&&(ag(l,d,Pe,g),le=l.memoizedState),(ne=jo||c_(l,d,ne,g,Ce,le,Ee))?(Ne||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(l.flags|=4194308)):(typeof K.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=le),K.props=g,K.state=le,K.context=Ee,g=ne):(typeof K.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{K=l.stateNode,U1(a,l),ne=l.memoizedProps,Ee=l.type===l.elementType?ne:es(l.type,ne),K.props=Ee,Ne=l.pendingProps,Ce=K.context,le=d.contextType,typeof le=="object"&&le!==null?le=Vi(le):(le=ri(d)?Va:xr.current,le=Yl(l,le));var Ke=d.getDerivedStateFromProps;(Pe=typeof Ke=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ne!==Ne||Ce!==le)&&d_(l,K,g,le),jo=!1,Ce=l.memoizedState,K.state=Ce,Dh(l,g,K,E);var Ze=l.memoizedState;ne!==Ne||Ce!==Ze||ni.current||jo?(typeof Ke=="function"&&(ag(l,d,Ke,g),Ze=l.memoizedState),(Ee=jo||c_(l,d,Ee,g,Ce,Ze,le)||!1)?(Pe||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(g,Ze,le),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(g,Ze,le)),typeof K.componentDidUpdate=="function"&&(l.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof K.componentDidUpdate!="function"||ne===a.memoizedProps&&Ce===a.memoizedState||(l.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ne===a.memoizedProps&&Ce===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ze),K.props=g,K.state=Ze,K.context=le,g=Ee):(typeof K.componentDidUpdate!="function"||ne===a.memoizedProps&&Ce===a.memoizedState||(l.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ne===a.memoizedProps&&Ce===a.memoizedState||(l.flags|=1024),g=!1)}return hg(a,l,d,g,x,E)}function hg(a,l,d,g,E,x){E_(a,l);var K=(l.flags&128)!==0;if(!g&&!K)return E&&k1(l,d,!1),oo(a,l,x);g=l.stateNode,YR.current=l;var ne=K&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&K?(l.child=ec(l,a.child,null,x),l.child=ec(l,null,ne,x)):$r(a,l,ne,x),l.memoizedState=g.state,E&&k1(l,d,!0),l.child}function S_(a){var l=a.stateNode;l.pendingContext?I1(a,l.pendingContext,l.pendingContext!==l.context):l.context&&I1(a,l.context,!1),Qm(a,l.containerInfo)}function A_(a,l,d,g,E){return Zl(),zm(E),l.flags|=256,$r(a,l,d,g),l.child}var fg={dehydrated:null,treeContext:null,retryLane:0};function pg(a){return{baseLanes:a,cachePool:null,transitions:null}}function I_(a,l,d){var g=l.pendingProps,E=Rn.current,x=!1,K=(l.flags&128)!==0,ne;if((ne=K)||(ne=a!==null&&a.memoizedState===null?!1:(E&2)!==0),ne?(x=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(E|=1),vn(Rn,E&1),a===null)return Wm(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(K=g.children,a=g.fallback,x?(g=l.mode,x=l.child,K={mode:"hidden",children:K},(g&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=K):x=rf(K,g,0,null),a=Qa(a,g,d,null),x.return=l,a.return=l,x.sibling=a,l.child=x,l.child.memoizedState=pg(d),l.memoizedState=fg,a):mg(l,K));if(E=a.memoizedState,E!==null&&(ne=E.dehydrated,ne!==null))return XR(a,l,K,g,ne,E,d);if(x){x=g.fallback,K=l.mode,E=a.child,ne=E.sibling;var le={mode:"hidden",children:g.children};return(K&1)===0&&l.child!==E?(g=l.child,g.childLanes=0,g.pendingProps=le,l.deletions=null):(g=Yo(E,le),g.subtreeFlags=E.subtreeFlags&14680064),ne!==null?x=Yo(ne,x):(x=Qa(x,K,d,null),x.flags|=2),x.return=l,g.return=l,g.sibling=x,l.child=g,g=x,x=l.child,K=a.child.memoizedState,K=K===null?pg(d):{baseLanes:K.baseLanes|d,cachePool:null,transitions:K.transitions},x.memoizedState=K,x.childLanes=a.childLanes&~d,l.memoizedState=fg,g}return x=a.child,a=x.sibling,g=Yo(x,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,a!==null&&(d=l.deletions,d===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=g,l.memoizedState=null,g}function mg(a,l){return l=rf({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function qh(a,l,d,g){return g!==null&&zm(g),ec(l,a.child,null,d),a=mg(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function XR(a,l,d,g,E,x,K){if(d)return l.flags&256?(l.flags&=-257,g=cg(Error(n(422))),qh(a,l,K,g)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(x=g.fallback,E=l.mode,g=rf({mode:"visible",children:g.children},E,0,null),x=Qa(x,E,K,null),x.flags|=2,g.return=l,x.return=l,g.sibling=x,l.child=g,(l.mode&1)!==0&&ec(l,a.child,null,K),l.child.memoizedState=pg(K),l.memoizedState=fg,x);if((l.mode&1)===0)return qh(a,l,K,null);if(E.data==="$!"){if(g=E.nextSibling&&E.nextSibling.dataset,g)var ne=g.dgst;return g=ne,x=Error(n(419)),g=cg(x,g,void 0),qh(a,l,K,g)}if(ne=(K&a.childLanes)!==0,ii||ne){if(g=lr,g!==null){switch(K&-K){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(g.suspendedLanes|K))!==0?0:E,E!==0&&E!==x.retryLane&&(x.retryLane=E,io(a,E),rs(g,a,E,-1))}return Pg(),g=cg(Error(n(421))),qh(a,l,K,g)}return E.data==="$?"?(l.flags|=128,l.child=a.child,l=uC.bind(null,a),E._reactRetry=l,null):(a=x.treeContext,bi=Vo(E.nextSibling),Ei=l,kn=!0,Zi=null,a!==null&&(Bi[Ui++]=no,Bi[Ui++]=ro,Bi[Ui++]=Fa,no=a.id,ro=a.overflow,Fa=l),l=mg(l,g.children),l.flags|=4096,l)}function T_(a,l,d){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),Km(a.return,l,d)}function gg(a,l,d,g,E){var x=a.memoizedState;x===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:E}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=g,x.tail=d,x.tailMode=E)}function k_(a,l,d){var g=l.pendingProps,E=g.revealOrder,x=g.tail;if($r(a,l,g.children,d),g=Rn.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&T_(a,d,l);else if(a.tag===19)T_(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(vn(Rn,g),(l.mode&1)===0)l.memoizedState=null;else switch(E){case"forwards":for(d=l.child,E=null;d!==null;)a=d.alternate,a!==null&&Bh(a)===null&&(E=d),d=d.sibling;d=E,d===null?(E=l.child,l.child=null):(E=d.sibling,d.sibling=null),gg(l,!1,E,d,x);break;case"backwards":for(d=null,E=l.child,l.child=null;E!==null;){if(a=E.alternate,a!==null&&Bh(a)===null){l.child=E;break}a=E.sibling,E.sibling=d,d=E,E=a}gg(l,!0,d,null,x);break;case"together":gg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function $h(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function oo(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),$a|=l.lanes,(d&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,d=Yo(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=Yo(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function JR(a,l,d){switch(l.tag){case 3:S_(l),Zl();break;case 5:W1(l);break;case 1:ri(l.type)&&kh(l);break;case 4:Qm(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,E=l.memoizedProps.value;vn(Nh,g._currentValue),g._currentValue=E;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(vn(Rn,Rn.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?I_(a,l,d):(vn(Rn,Rn.current&1),a=oo(a,l,d),a!==null?a.sibling:null);vn(Rn,Rn.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(a.flags&128)!==0){if(g)return k_(a,l,d);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),vn(Rn,Rn.current),g)break;return null;case 22:case 23:return l.lanes=0,__(a,l,d)}return oo(a,l,d)}var x_,yg,R_,C_;x_=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},yg=function(){},R_=function(a,l,d,g){var E=a.memoizedProps;if(E!==g){a=l.stateNode,ja(As.current);var x=null;switch(d){case"input":E=At(a,E),g=At(a,g),x=[];break;case"select":E=ee({},E,{value:void 0}),g=ee({},g,{value:void 0}),x=[];break;case"textarea":E=xn(a,E),g=xn(a,g),x=[];break;default:typeof E.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Ah)}nt(d,g);var K;d=null;for(Ee in E)if(!g.hasOwnProperty(Ee)&&E.hasOwnProperty(Ee)&&E[Ee]!=null)if(Ee==="style"){var ne=E[Ee];for(K in ne)ne.hasOwnProperty(K)&&(d||(d={}),d[K]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(s.hasOwnProperty(Ee)?x||(x=[]):(x=x||[]).push(Ee,null));for(Ee in g){var le=g[Ee];if(ne=E?.[Ee],g.hasOwnProperty(Ee)&&le!==ne&&(le!=null||ne!=null))if(Ee==="style")if(ne){for(K in ne)!ne.hasOwnProperty(K)||le&&le.hasOwnProperty(K)||(d||(d={}),d[K]="");for(K in le)le.hasOwnProperty(K)&&ne[K]!==le[K]&&(d||(d={}),d[K]=le[K])}else d||(x||(x=[]),x.push(Ee,d)),d=le;else Ee==="dangerouslySetInnerHTML"?(le=le?le.__html:void 0,ne=ne?ne.__html:void 0,le!=null&&ne!==le&&(x=x||[]).push(Ee,le)):Ee==="children"?typeof le!="string"&&typeof le!="number"||(x=x||[]).push(Ee,""+le):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ee)?(le!=null&&Ee==="onScroll"&&Sn("scroll",a),x||ne===le||(x=[])):(x=x||[]).push(Ee,le))}d&&(x=x||[]).push("style",d);var Ee=x;(l.updateQueue=Ee)&&(l.flags|=4)}},C_=function(a,l,d,g){d!==g&&(l.flags|=4)};function Du(a,l){if(!kn)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Cr(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(l)for(var E=a.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags&14680064,g|=E.flags&14680064,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags,g|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=g,a.childLanes=d,l}function ZR(a,l,d){var g=l.pendingProps;switch(Vm(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(l),null;case 1:return ri(l.type)&&Th(),Cr(l),null;case 3:return g=l.stateNode,rc(),An(ni),An(xr),Jm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Ph(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Zi!==null&&(xg(Zi),Zi=null))),yg(a,l),Cr(l),null;case 5:Ym(l);var E=ja(Pu.current);if(d=l.type,a!==null&&l.stateNode!=null)R_(a,l,d,g,E),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return Cr(l),null}if(a=ja(As.current),Ph(l)){g=l.stateNode,d=l.type;var x=l.memoizedProps;switch(g[Ss]=l,g[Tu]=x,a=(l.mode&1)!==0,d){case"dialog":Sn("cancel",g),Sn("close",g);break;case"iframe":case"object":case"embed":Sn("load",g);break;case"video":case"audio":for(E=0;E<Su.length;E++)Sn(Su[E],g);break;case"source":Sn("error",g);break;case"img":case"image":case"link":Sn("error",g),Sn("load",g);break;case"details":Sn("toggle",g);break;case"input":$t(g,x),Sn("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!x.multiple},Sn("invalid",g);break;case"textarea":Dt(g,x),Sn("invalid",g)}nt(d,x),E=null;for(var K in x)if(x.hasOwnProperty(K)){var ne=x[K];K==="children"?typeof ne=="string"?g.textContent!==ne&&(x.suppressHydrationWarning!==!0&&Sh(g.textContent,ne,a),E=["children",ne]):typeof ne=="number"&&g.textContent!==""+ne&&(x.suppressHydrationWarning!==!0&&Sh(g.textContent,ne,a),E=["children",""+ne]):s.hasOwnProperty(K)&&ne!=null&&K==="onScroll"&&Sn("scroll",g)}switch(d){case"input":ht(g),Kt(g,x,!0);break;case"textarea":ht(g),Vn(g);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(g.onclick=Ah)}g=E,l.updateQueue=g,g!==null&&(l.flags|=4)}else{K=E.nodeType===9?E:E.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=wt(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=K.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=K.createElement(d,{is:g.is}):(a=K.createElement(d),d==="select"&&(K=a,g.multiple?K.multiple=!0:g.size&&(K.size=g.size))):a=K.createElementNS(a,d),a[Ss]=l,a[Tu]=g,x_(a,l,!1,!1),l.stateNode=a;e:{switch(K=It(d,g),d){case"dialog":Sn("cancel",a),Sn("close",a),E=g;break;case"iframe":case"object":case"embed":Sn("load",a),E=g;break;case"video":case"audio":for(E=0;E<Su.length;E++)Sn(Su[E],a);E=g;break;case"source":Sn("error",a),E=g;break;case"img":case"image":case"link":Sn("error",a),Sn("load",a),E=g;break;case"details":Sn("toggle",a),E=g;break;case"input":$t(a,g),E=At(a,g),Sn("invalid",a);break;case"option":E=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},E=ee({},g,{value:void 0}),Sn("invalid",a);break;case"textarea":Dt(a,g),E=xn(a,g),Sn("invalid",a);break;default:E=g}nt(d,E),ne=E;for(x in ne)if(ne.hasOwnProperty(x)){var le=ne[x];x==="style"?ct(a,le):x==="dangerouslySetInnerHTML"?(le=le?le.__html:void 0,le!=null&&R(a,le)):x==="children"?typeof le=="string"?(d!=="textarea"||le!=="")&&Z(a,le):typeof le=="number"&&Z(a,""+le):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?le!=null&&x==="onScroll"&&Sn("scroll",a):le!=null&&G(a,x,le,K))}switch(d){case"input":ht(a),Kt(a,g,!1);break;case"textarea":ht(a),Vn(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Se(g.value));break;case"select":a.multiple=!!g.multiple,x=g.value,x!=null?xt(a,!!g.multiple,x,!1):g.defaultValue!=null&&xt(a,!!g.multiple,g.defaultValue,!0);break;default:typeof E.onClick=="function"&&(a.onclick=Ah)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Cr(l),null;case 6:if(a&&l.stateNode!=null)C_(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(d=ja(Pu.current),ja(As.current),Ph(l)){if(g=l.stateNode,d=l.memoizedProps,g[Ss]=l,(x=g.nodeValue!==d)&&(a=Ei,a!==null))switch(a.tag){case 3:Sh(g.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Sh(g.nodeValue,d,(a.mode&1)!==0)}x&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[Ss]=l,l.stateNode=g}return Cr(l),null;case 13:if(An(Rn),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(kn&&bi!==null&&(l.mode&1)!==0&&(l.flags&128)===0)N1(),Zl(),l.flags|=98560,x=!1;else if(x=Ph(l),g!==null&&g.dehydrated!==null){if(a===null){if(!x)throw Error(n(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Ss]=l}else Zl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Cr(l),x=!1}else Zi!==null&&(xg(Zi),Zi=null),x=!0;if(!x)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(Rn.current&1)!==0?nr===0&&(nr=3):Pg())),l.updateQueue!==null&&(l.flags|=4),Cr(l),null);case 4:return rc(),yg(a,l),a===null&&Au(l.stateNode.containerInfo),Cr(l),null;case 10:return $m(l.type._context),Cr(l),null;case 17:return ri(l.type)&&Th(),Cr(l),null;case 19:if(An(Rn),x=l.memoizedState,x===null)return Cr(l),null;if(g=(l.flags&128)!==0,K=x.rendering,K===null)if(g)Du(x,!1);else{if(nr!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(K=Bh(a),K!==null){for(l.flags|=128,Du(x,!1),g=K.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)x=d,a=g,x.flags&=14680066,K=x.alternate,K===null?(x.childLanes=0,x.lanes=a,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=K.childLanes,x.lanes=K.lanes,x.child=K.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=K.memoizedProps,x.memoizedState=K.memoizedState,x.updateQueue=K.updateQueue,x.type=K.type,a=K.dependencies,x.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return vn(Rn,Rn.current&1|2),l.child}a=a.sibling}x.tail!==null&&qt()>ac&&(l.flags|=128,g=!0,Du(x,!1),l.lanes=4194304)}else{if(!g)if(a=Bh(K),a!==null){if(l.flags|=128,g=!0,d=a.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Du(x,!0),x.tail===null&&x.tailMode==="hidden"&&!K.alternate&&!kn)return Cr(l),null}else 2*qt()-x.renderingStartTime>ac&&d!==1073741824&&(l.flags|=128,g=!0,Du(x,!1),l.lanes=4194304);x.isBackwards?(K.sibling=l.child,l.child=K):(d=x.last,d!==null?d.sibling=K:l.child=K,x.last=K)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=qt(),l.sibling=null,d=Rn.current,vn(Rn,g?d&1|2:d&1),l):(Cr(l),null);case 22:case 23:return Cg(),g=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Si&1073741824)!==0&&(Cr(l),l.subtreeFlags&6&&(l.flags|=8192)):Cr(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function eC(a,l){switch(Vm(l),l.tag){case 1:return ri(l.type)&&Th(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return rc(),An(ni),An(xr),Jm(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Ym(l),null;case 13:if(An(Rn),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Zl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return An(Rn),null;case 4:return rc(),null;case 10:return $m(l.type._context),null;case 22:case 23:return Cg(),null;case 24:return null;default:return null}}var Kh=!1,Pr=!1,tC=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function sc(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Dn(a,l,g)}else d.current=null}function wg(a,l,d){try{d()}catch(g){Dn(a,l,g)}}var P_=!1;function nC(a,l){if(Cm=Do,a=c1(),bm(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var E=g.anchorOffset,x=g.focusNode;g=g.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break e}var K=0,ne=-1,le=-1,Ee=0,Pe=0,Ne=a,Ce=null;t:for(;;){for(var Ke;Ne!==d||E!==0&&Ne.nodeType!==3||(ne=K+E),Ne!==x||g!==0&&Ne.nodeType!==3||(le=K+g),Ne.nodeType===3&&(K+=Ne.nodeValue.length),(Ke=Ne.firstChild)!==null;)Ce=Ne,Ne=Ke;for(;;){if(Ne===a)break t;if(Ce===d&&++Ee===E&&(ne=K),Ce===x&&++Pe===g&&(le=K),(Ke=Ne.nextSibling)!==null)break;Ne=Ce,Ce=Ne.parentNode}Ne=Ke}d=ne===-1||le===-1?null:{start:ne,end:le}}else d=null}d=d||{start:0,end:0}}else d=null;for(Pm={focusedElem:a,selectionRange:d},Do=!1,Xe=l;Xe!==null;)if(l=Xe,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Xe=a;else for(;Xe!==null;){l=Xe;try{var Ze=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ze!==null){var tt=Ze.memoizedProps,Wn=Ze.memoizedState,ye=l.stateNode,fe=ye.getSnapshotBeforeUpdate(l.elementType===l.type?tt:es(l.type,tt),Wn);ye.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var ve=l.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Le){Dn(l,l.return,Le)}if(a=l.sibling,a!==null){a.return=l.return,Xe=a;break}Xe=l.return}return Ze=P_,P_=!1,Ze}function Bu(a,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var E=g=g.next;do{if((E.tag&a)===a){var x=E.destroy;E.destroy=void 0,x!==void 0&&wg(l,d,x)}E=E.next}while(E!==g)}}function Hh(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function vg(a){var l=a.ref;if(l!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof l=="function"?l(a):l.current=a}}function M_(a){var l=a.alternate;l!==null&&(a.alternate=null,M_(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Ss],delete l[Tu],delete l[Lm],delete l[UR],delete l[VR])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function N_(a){return a.tag===5||a.tag===3||a.tag===4}function O_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||N_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function _g(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(a,l):d.insertBefore(a,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(a,d)):(l=d,l.appendChild(a)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Ah));else if(g!==4&&(a=a.child,a!==null))for(_g(a,l,d),a=a.sibling;a!==null;)_g(a,l,d),a=a.sibling}function Eg(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(Eg(a,l,d),a=a.sibling;a!==null;)Eg(a,l,d),a=a.sibling}var yr=null,ts=!1;function $o(a,l,d){for(d=d.child;d!==null;)L_(a,l,d),d=d.sibling}function L_(a,l,d){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(wi,d)}catch{}switch(d.tag){case 5:Pr||sc(d,l);case 6:var g=yr,E=ts;yr=null,$o(a,l,d),yr=g,ts=E,yr!==null&&(ts?(a=yr,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):yr.removeChild(d.stateNode));break;case 18:yr!==null&&(ts?(a=yr,d=d.stateNode,a.nodeType===8?Om(a.parentNode,d):a.nodeType===1&&Om(a,d),Yi(a)):Om(yr,d.stateNode));break;case 4:g=yr,E=ts,yr=d.stateNode.containerInfo,ts=!0,$o(a,l,d),yr=g,ts=E;break;case 0:case 11:case 14:case 15:if(!Pr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){E=g=g.next;do{var x=E,K=x.destroy;x=x.tag,K!==void 0&&((x&2)!==0||(x&4)!==0)&&wg(d,l,K),E=E.next}while(E!==g)}$o(a,l,d);break;case 1:if(!Pr&&(sc(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(ne){Dn(d,l,ne)}$o(a,l,d);break;case 21:$o(a,l,d);break;case 22:d.mode&1?(Pr=(g=Pr)||d.memoizedState!==null,$o(a,l,d),Pr=g):$o(a,l,d);break;default:$o(a,l,d)}}function D_(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new tC),l.forEach(function(g){var E=dC.bind(null,a,g);d.has(g)||(d.add(g),g.then(E,E))})}}function ns(a,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var E=d[g];try{var x=a,K=l,ne=K;e:for(;ne!==null;){switch(ne.tag){case 5:yr=ne.stateNode,ts=!1;break e;case 3:yr=ne.stateNode.containerInfo,ts=!0;break e;case 4:yr=ne.stateNode.containerInfo,ts=!0;break e}ne=ne.return}if(yr===null)throw Error(n(160));L_(x,K,E),yr=null,ts=!1;var le=E.alternate;le!==null&&(le.return=null),E.return=null}catch(Ee){Dn(E,l,Ee)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)B_(l,a),l=l.sibling}function B_(a,l){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ns(l,a),Ts(a),g&4){try{Bu(3,a,a.return),Hh(3,a)}catch(tt){Dn(a,a.return,tt)}try{Bu(5,a,a.return)}catch(tt){Dn(a,a.return,tt)}}break;case 1:ns(l,a),Ts(a),g&512&&d!==null&&sc(d,d.return);break;case 5:if(ns(l,a),Ts(a),g&512&&d!==null&&sc(d,d.return),a.flags&32){var E=a.stateNode;try{Z(E,"")}catch(tt){Dn(a,a.return,tt)}}if(g&4&&(E=a.stateNode,E!=null)){var x=a.memoizedProps,K=d!==null?d.memoizedProps:x,ne=a.type,le=a.updateQueue;if(a.updateQueue=null,le!==null)try{ne==="input"&&x.type==="radio"&&x.name!=null&&kr(E,x),It(ne,K);var Ee=It(ne,x);for(K=0;K<le.length;K+=2){var Pe=le[K],Ne=le[K+1];Pe==="style"?ct(E,Ne):Pe==="dangerouslySetInnerHTML"?R(E,Ne):Pe==="children"?Z(E,Ne):G(E,Pe,Ne,Ee)}switch(ne){case"input":Wt(E,x);break;case"textarea":Ht(E,x);break;case"select":var Ce=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!x.multiple;var Ke=x.value;Ke!=null?xt(E,!!x.multiple,Ke,!1):Ce!==!!x.multiple&&(x.defaultValue!=null?xt(E,!!x.multiple,x.defaultValue,!0):xt(E,!!x.multiple,x.multiple?[]:"",!1))}E[Tu]=x}catch(tt){Dn(a,a.return,tt)}}break;case 6:if(ns(l,a),Ts(a),g&4){if(a.stateNode===null)throw Error(n(162));E=a.stateNode,x=a.memoizedProps;try{E.nodeValue=x}catch(tt){Dn(a,a.return,tt)}}break;case 3:if(ns(l,a),Ts(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Yi(l.containerInfo)}catch(tt){Dn(a,a.return,tt)}break;case 4:ns(l,a),Ts(a);break;case 13:ns(l,a),Ts(a),E=a.child,E.flags&8192&&(x=E.memoizedState!==null,E.stateNode.isHidden=x,!x||E.alternate!==null&&E.alternate.memoizedState!==null||(Ag=qt())),g&4&&D_(a);break;case 22:if(Pe=d!==null&&d.memoizedState!==null,a.mode&1?(Pr=(Ee=Pr)||Pe,ns(l,a),Pr=Ee):ns(l,a),Ts(a),g&8192){if(Ee=a.memoizedState!==null,(a.stateNode.isHidden=Ee)&&!Pe&&(a.mode&1)!==0)for(Xe=a,Pe=a.child;Pe!==null;){for(Ne=Xe=Pe;Xe!==null;){switch(Ce=Xe,Ke=Ce.child,Ce.tag){case 0:case 11:case 14:case 15:Bu(4,Ce,Ce.return);break;case 1:sc(Ce,Ce.return);var Ze=Ce.stateNode;if(typeof Ze.componentWillUnmount=="function"){g=Ce,d=Ce.return;try{l=g,Ze.props=l.memoizedProps,Ze.state=l.memoizedState,Ze.componentWillUnmount()}catch(tt){Dn(g,d,tt)}}break;case 5:sc(Ce,Ce.return);break;case 22:if(Ce.memoizedState!==null){F_(Ne);continue}}Ke!==null?(Ke.return=Ce,Xe=Ke):F_(Ne)}Pe=Pe.sibling}e:for(Pe=null,Ne=a;;){if(Ne.tag===5){if(Pe===null){Pe=Ne;try{E=Ne.stateNode,Ee?(x=E.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(ne=Ne.stateNode,le=Ne.memoizedProps.style,K=le!=null&&le.hasOwnProperty("display")?le.display:null,ne.style.display=be("display",K))}catch(tt){Dn(a,a.return,tt)}}}else if(Ne.tag===6){if(Pe===null)try{Ne.stateNode.nodeValue=Ee?"":Ne.memoizedProps}catch(tt){Dn(a,a.return,tt)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===a)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===a)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===a)break e;Pe===Ne&&(Pe=null),Ne=Ne.return}Pe===Ne&&(Pe=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:ns(l,a),Ts(a),g&4&&D_(a);break;case 21:break;default:ns(l,a),Ts(a)}}function Ts(a){var l=a.flags;if(l&2){try{e:{for(var d=a.return;d!==null;){if(N_(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var E=g.stateNode;g.flags&32&&(Z(E,""),g.flags&=-33);var x=O_(a);Eg(a,x,E);break;case 3:case 4:var K=g.stateNode.containerInfo,ne=O_(a);_g(a,ne,K);break;default:throw Error(n(161))}}catch(le){Dn(a,a.return,le)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function rC(a,l,d){Xe=a,U_(a)}function U_(a,l,d){for(var g=(a.mode&1)!==0;Xe!==null;){var E=Xe,x=E.child;if(E.tag===22&&g){var K=E.memoizedState!==null||Kh;if(!K){var ne=E.alternate,le=ne!==null&&ne.memoizedState!==null||Pr;ne=Kh;var Ee=Pr;if(Kh=K,(Pr=le)&&!Ee)for(Xe=E;Xe!==null;)K=Xe,le=K.child,K.tag===22&&K.memoizedState!==null?W_(E):le!==null?(le.return=K,Xe=le):W_(E);for(;x!==null;)Xe=x,U_(x),x=x.sibling;Xe=E,Kh=ne,Pr=Ee}V_(a)}else(E.subtreeFlags&8772)!==0&&x!==null?(x.return=E,Xe=x):V_(a)}}function V_(a){for(;Xe!==null;){var l=Xe;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Pr||Hh(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Pr)if(d===null)g.componentDidMount();else{var E=l.elementType===l.type?d.memoizedProps:es(l.type,d.memoizedProps);g.componentDidUpdate(E,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var x=l.updateQueue;x!==null&&F1(l,x,g);break;case 3:var K=l.updateQueue;if(K!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}F1(l,K,d)}break;case 5:var ne=l.stateNode;if(d===null&&l.flags&4){d=ne;var le=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":le.autoFocus&&d.focus();break;case"img":le.src&&(d.src=le.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Ee=l.alternate;if(Ee!==null){var Pe=Ee.memoizedState;if(Pe!==null){var Ne=Pe.dehydrated;Ne!==null&&Yi(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pr||l.flags&512&&vg(l)}catch(Ce){Dn(l,l.return,Ce)}}if(l===a){Xe=null;break}if(d=l.sibling,d!==null){d.return=l.return,Xe=d;break}Xe=l.return}}function F_(a){for(;Xe!==null;){var l=Xe;if(l===a){Xe=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Xe=d;break}Xe=l.return}}function W_(a){for(;Xe!==null;){var l=Xe;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Hh(4,l)}catch(le){Dn(l,d,le)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var E=l.return;try{g.componentDidMount()}catch(le){Dn(l,E,le)}}var x=l.return;try{vg(l)}catch(le){Dn(l,x,le)}break;case 5:var K=l.return;try{vg(l)}catch(le){Dn(l,K,le)}}}catch(le){Dn(l,l.return,le)}if(l===a){Xe=null;break}var ne=l.sibling;if(ne!==null){ne.return=l.return,Xe=ne;break}Xe=l.return}}var iC=Math.ceil,Gh=te.ReactCurrentDispatcher,bg=te.ReactCurrentOwner,Wi=te.ReactCurrentBatchConfig,Zt=0,lr=null,Hn=null,wr=0,Si=0,oc=Fo(0),nr=0,Uu=null,$a=0,Qh=0,Sg=0,Vu=null,si=null,Ag=0,ac=1/0,ao=null,Yh=!1,Ig=null,Ko=null,Xh=!1,Ho=null,Jh=0,Fu=0,Tg=null,Zh=-1,ef=0;function Kr(){return(Zt&6)!==0?qt():Zh!==-1?Zh:Zh=qt()}function Go(a){return(a.mode&1)===0?1:(Zt&2)!==0&&wr!==0?wr&-wr:WR.transition!==null?(ef===0&&(ef=Fe()),ef):(a=lt,a!==0||(a=window.event,a=a===void 0?16:pu(a.type)),a)}function rs(a,l,d,g){if(50<Fu)throw Fu=0,Tg=null,Error(n(185));Ye(a,d,g),((Zt&2)===0||a!==lr)&&(a===lr&&((Zt&2)===0&&(Qh|=d),nr===4&&Qo(a,wr)),oi(a,g),d===1&&Zt===0&&(l.mode&1)===0&&(ac=qt()+500,xh&&zo()))}function oi(a,l){var d=a.callbackNode;he(a,l);var g=Re(a,a===lr?wr:0);if(g===0)d!==null&&Ni(d),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(d!=null&&Ni(d),l===1)a.tag===0?FR(j_.bind(null,a)):x1(j_.bind(null,a)),DR(function(){(Zt&6)===0&&zo()}),d=null;else{switch(Zr(g)){case 1:d=yi;break;case 4:d=Jr;break;case 16:d=sr;break;case 536870912:d=gs;break;default:d=sr}d=X_(d,z_.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function z_(a,l){if(Zh=-1,ef=0,(Zt&6)!==0)throw Error(n(327));var d=a.callbackNode;if(lc()&&a.callbackNode!==d)return null;var g=Re(a,a===lr?wr:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||l)l=tf(a,g);else{l=g;var E=Zt;Zt|=2;var x=$_();(lr!==a||wr!==l)&&(ao=null,ac=qt()+500,Ha(a,l));do try{aC();break}catch(ne){q_(a,ne)}while(!0);qm(),Gh.current=x,Zt=E,Hn!==null?l=0:(lr=null,wr=0,l=nr)}if(l!==0){if(l===2&&(E=ke(a),E!==0&&(g=E,l=kg(a,E))),l===1)throw d=Uu,Ha(a,0),Qo(a,g),oi(a,qt()),d;if(l===6)Qo(a,g);else{if(E=a.current.alternate,(g&30)===0&&!sC(E)&&(l=tf(a,g),l===2&&(x=ke(a),x!==0&&(g=x,l=kg(a,x))),l===1))throw d=Uu,Ha(a,0),Qo(a,g),oi(a,qt()),d;switch(a.finishedWork=E,a.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:Ga(a,si,ao);break;case 3:if(Qo(a,g),(g&130023424)===g&&(l=Ag+500-qt(),10<l)){if(Re(a,0)!==0)break;if(E=a.suspendedLanes,(E&g)!==g){Kr(),a.pingedLanes|=a.suspendedLanes&E;break}a.timeoutHandle=Nm(Ga.bind(null,a,si,ao),l);break}Ga(a,si,ao);break;case 4:if(Qo(a,g),(g&4194240)===g)break;for(l=a.eventTimes,E=-1;0<g;){var K=31-Fn(g);x=1<<K,K=l[K],K>E&&(E=K),g&=~x}if(g=E,g=qt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*iC(g/1960))-g,10<g){a.timeoutHandle=Nm(Ga.bind(null,a,si,ao),g);break}Ga(a,si,ao);break;case 5:Ga(a,si,ao);break;default:throw Error(n(329))}}}return oi(a,qt()),a.callbackNode===d?z_.bind(null,a):null}function kg(a,l){var d=Vu;return a.current.memoizedState.isDehydrated&&(Ha(a,l).flags|=256),a=tf(a,l),a!==2&&(l=si,si=d,l!==null&&xg(l)),a}function xg(a){si===null?si=a:si.push.apply(si,a)}function sC(a){for(var l=a;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var E=d[g],x=E.getSnapshot;E=E.value;try{if(!Ji(x(),E))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Qo(a,l){for(l&=~Sg,l&=~Qh,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-Fn(l),g=1<<d;a[d]=-1,l&=~g}}function j_(a){if((Zt&6)!==0)throw Error(n(327));lc();var l=Re(a,0);if((l&1)===0)return oi(a,qt()),null;var d=tf(a,l);if(a.tag!==0&&d===2){var g=ke(a);g!==0&&(l=g,d=kg(a,g))}if(d===1)throw d=Uu,Ha(a,0),Qo(a,l),oi(a,qt()),d;if(d===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Ga(a,si,ao),oi(a,qt()),null}function Rg(a,l){var d=Zt;Zt|=1;try{return a(l)}finally{Zt=d,Zt===0&&(ac=qt()+500,xh&&zo())}}function Ka(a){Ho!==null&&Ho.tag===0&&(Zt&6)===0&&lc();var l=Zt;Zt|=1;var d=Wi.transition,g=lt;try{if(Wi.transition=null,lt=1,a)return a()}finally{lt=g,Wi.transition=d,Zt=l,(Zt&6)===0&&zo()}}function Cg(){Si=oc.current,An(oc)}function Ha(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,LR(d)),Hn!==null)for(d=Hn.return;d!==null;){var g=d;switch(Vm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Th();break;case 3:rc(),An(ni),An(xr),Jm();break;case 5:Ym(g);break;case 4:rc();break;case 13:An(Rn);break;case 19:An(Rn);break;case 10:$m(g.type._context);break;case 22:case 23:Cg()}d=d.return}if(lr=a,Hn=a=Yo(a.current,null),wr=Si=l,nr=0,Uu=null,Sg=Qh=$a=0,si=Vu=null,za!==null){for(l=0;l<za.length;l++)if(d=za[l],g=d.interleaved,g!==null){d.interleaved=null;var E=g.next,x=d.pending;if(x!==null){var K=x.next;x.next=E,g.next=K}d.pending=g}za=null}return a}function q_(a,l){do{var d=Hn;try{if(qm(),Uh.current=zh,Vh){for(var g=Cn.memoizedState;g!==null;){var E=g.queue;E!==null&&(E.pending=null),g=g.next}Vh=!1}if(qa=0,ar=tr=Cn=null,Mu=!1,Nu=0,bg.current=null,d===null||d.return===null){nr=1,Uu=l,Hn=null;break}e:{var x=a,K=d.return,ne=d,le=l;if(l=wr,ne.flags|=32768,le!==null&&typeof le=="object"&&typeof le.then=="function"){var Ee=le,Pe=ne,Ne=Pe.tag;if((Pe.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var Ce=Pe.alternate;Ce?(Pe.updateQueue=Ce.updateQueue,Pe.memoizedState=Ce.memoizedState,Pe.lanes=Ce.lanes):(Pe.updateQueue=null,Pe.memoizedState=null)}var Ke=m_(K);if(Ke!==null){Ke.flags&=-257,g_(Ke,K,ne,x,l),Ke.mode&1&&p_(x,Ee,l),l=Ke,le=Ee;var Ze=l.updateQueue;if(Ze===null){var tt=new Set;tt.add(le),l.updateQueue=tt}else Ze.add(le);break e}else{if((l&1)===0){p_(x,Ee,l),Pg();break e}le=Error(n(426))}}else if(kn&&ne.mode&1){var Wn=m_(K);if(Wn!==null){(Wn.flags&65536)===0&&(Wn.flags|=256),g_(Wn,K,ne,x,l),zm(ic(le,ne));break e}}x=le=ic(le,ne),nr!==4&&(nr=2),Vu===null?Vu=[x]:Vu.push(x),x=K;do{switch(x.tag){case 3:x.flags|=65536,l&=-l,x.lanes|=l;var ye=h_(x,le,l);V1(x,ye);break e;case 1:ne=le;var fe=x.type,ve=x.stateNode;if((x.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(Ko===null||!Ko.has(ve)))){x.flags|=65536,l&=-l,x.lanes|=l;var Le=f_(x,ne,l);V1(x,Le);break e}}x=x.return}while(x!==null)}H_(d)}catch(rt){l=rt,Hn===d&&d!==null&&(Hn=d=d.return);continue}break}while(!0)}function $_(){var a=Gh.current;return Gh.current=zh,a===null?zh:a}function Pg(){(nr===0||nr===3||nr===2)&&(nr=4),lr===null||($a&268435455)===0&&(Qh&268435455)===0||Qo(lr,wr)}function tf(a,l){var d=Zt;Zt|=2;var g=$_();(lr!==a||wr!==l)&&(ao=null,Ha(a,l));do try{oC();break}catch(E){q_(a,E)}while(!0);if(qm(),Zt=d,Gh.current=g,Hn!==null)throw Error(n(261));return lr=null,wr=0,nr}function oC(){for(;Hn!==null;)K_(Hn)}function aC(){for(;Hn!==null&&!ms();)K_(Hn)}function K_(a){var l=Y_(a.alternate,a,Si);a.memoizedProps=a.pendingProps,l===null?H_(a):Hn=l,bg.current=null}function H_(a){var l=a;do{var d=l.alternate;if(a=l.return,(l.flags&32768)===0){if(d=ZR(d,l,Si),d!==null){Hn=d;return}}else{if(d=eC(d,l),d!==null){d.flags&=32767,Hn=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{nr=6,Hn=null;return}}if(l=l.sibling,l!==null){Hn=l;return}Hn=l=a}while(l!==null);nr===0&&(nr=5)}function Ga(a,l,d){var g=lt,E=Wi.transition;try{Wi.transition=null,lt=1,lC(a,l,d,g)}finally{Wi.transition=E,lt=g}return null}function lC(a,l,d,g){do lc();while(Ho!==null);if((Zt&6)!==0)throw Error(n(327));d=a.finishedWork;var E=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var x=d.lanes|d.childLanes;if(He(a,x),a===lr&&(Hn=lr=null,wr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Xh||(Xh=!0,X_(sr,function(){return lc(),null})),x=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||x){x=Wi.transition,Wi.transition=null;var K=lt;lt=1;var ne=Zt;Zt|=4,bg.current=null,nC(a,d),B_(d,a),xR(Pm),Do=!!Cm,Pm=Cm=null,a.current=d,rC(d),Qs(),Zt=ne,lt=K,Wi.transition=x}else a.current=d;if(Xh&&(Xh=!1,Ho=a,Jh=E),x=a.pendingLanes,x===0&&(Ko=null),ys(d.stateNode),oi(a,qt()),l!==null)for(g=a.onRecoverableError,d=0;d<l.length;d++)E=l[d],g(E.value,{componentStack:E.stack,digest:E.digest});if(Yh)throw Yh=!1,a=Ig,Ig=null,a;return(Jh&1)!==0&&a.tag!==0&&lc(),x=a.pendingLanes,(x&1)!==0?a===Tg?Fu++:(Fu=0,Tg=a):Fu=0,zo(),null}function lc(){if(Ho!==null){var a=Zr(Jh),l=Wi.transition,d=lt;try{if(Wi.transition=null,lt=16>a?16:a,Ho===null)var g=!1;else{if(a=Ho,Ho=null,Jh=0,(Zt&6)!==0)throw Error(n(331));var E=Zt;for(Zt|=4,Xe=a.current;Xe!==null;){var x=Xe,K=x.child;if((Xe.flags&16)!==0){var ne=x.deletions;if(ne!==null){for(var le=0;le<ne.length;le++){var Ee=ne[le];for(Xe=Ee;Xe!==null;){var Pe=Xe;switch(Pe.tag){case 0:case 11:case 15:Bu(8,Pe,x)}var Ne=Pe.child;if(Ne!==null)Ne.return=Pe,Xe=Ne;else for(;Xe!==null;){Pe=Xe;var Ce=Pe.sibling,Ke=Pe.return;if(M_(Pe),Pe===Ee){Xe=null;break}if(Ce!==null){Ce.return=Ke,Xe=Ce;break}Xe=Ke}}}var Ze=x.alternate;if(Ze!==null){var tt=Ze.child;if(tt!==null){Ze.child=null;do{var Wn=tt.sibling;tt.sibling=null,tt=Wn}while(tt!==null)}}Xe=x}}if((x.subtreeFlags&2064)!==0&&K!==null)K.return=x,Xe=K;else e:for(;Xe!==null;){if(x=Xe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Bu(9,x,x.return)}var ye=x.sibling;if(ye!==null){ye.return=x.return,Xe=ye;break e}Xe=x.return}}var fe=a.current;for(Xe=fe;Xe!==null;){K=Xe;var ve=K.child;if((K.subtreeFlags&2064)!==0&&ve!==null)ve.return=K,Xe=ve;else e:for(K=fe;Xe!==null;){if(ne=Xe,(ne.flags&2048)!==0)try{switch(ne.tag){case 0:case 11:case 15:Hh(9,ne)}}catch(rt){Dn(ne,ne.return,rt)}if(ne===K){Xe=null;break e}var Le=ne.sibling;if(Le!==null){Le.return=ne.return,Xe=Le;break e}Xe=ne.return}}if(Zt=E,zo(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(wi,a)}catch{}g=!0}return g}finally{lt=d,Wi.transition=l}}return!1}function G_(a,l,d){l=ic(d,l),l=h_(a,l,1),a=qo(a,l,1),l=Kr(),a!==null&&(Ye(a,1,l),oi(a,l))}function Dn(a,l,d){if(a.tag===3)G_(a,a,d);else for(;l!==null;){if(l.tag===3){G_(l,a,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ko===null||!Ko.has(g))){a=ic(d,a),a=f_(l,a,1),l=qo(l,a,1),a=Kr(),l!==null&&(Ye(l,1,a),oi(l,a));break}}l=l.return}}function cC(a,l,d){var g=a.pingCache;g!==null&&g.delete(l),l=Kr(),a.pingedLanes|=a.suspendedLanes&d,lr===a&&(wr&d)===d&&(nr===4||nr===3&&(wr&130023424)===wr&&500>qt()-Ag?Ha(a,0):Sg|=d),oi(a,l)}function Q_(a,l){l===0&&((a.mode&1)===0?l=1:(l=No,No<<=1,(No&130023424)===0&&(No=4194304)));var d=Kr();a=io(a,l),a!==null&&(Ye(a,l,d),oi(a,d))}function uC(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),Q_(a,d)}function dC(a,l){var d=0;switch(a.tag){case 13:var g=a.stateNode,E=a.memoizedState;E!==null&&(d=E.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),Q_(a,d)}var Y_;Y_=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||ni.current)ii=!0;else{if((a.lanes&d)===0&&(l.flags&128)===0)return ii=!1,JR(a,l,d);ii=(a.flags&131072)!==0}else ii=!1,kn&&(l.flags&1048576)!==0&&R1(l,Ch,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;$h(a,l),a=l.pendingProps;var E=Yl(l,xr.current);nc(l,d),E=tg(null,l,g,a,E,d);var x=ng();return l.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ri(g)?(x=!0,kh(l)):x=!1,l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Gm(l),E.updater=jh,l.stateNode=E,E._reactInternals=l,lg(l,g,a,d),l=hg(null,l,g,!0,x,d)):(l.tag=0,kn&&x&&Um(l),$r(null,l,E,d),l=l.child),l;case 16:g=l.elementType;e:{switch($h(a,l),a=l.pendingProps,E=g._init,g=E(g._payload),l.type=g,E=l.tag=fC(g),a=es(g,a),E){case 0:l=dg(null,l,g,a,d);break e;case 1:l=b_(null,l,g,a,d);break e;case 11:l=y_(null,l,g,a,d);break e;case 14:l=w_(null,l,g,es(g.type,a),d);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,E=l.pendingProps,E=l.elementType===g?E:es(g,E),dg(a,l,g,E,d);case 1:return g=l.type,E=l.pendingProps,E=l.elementType===g?E:es(g,E),b_(a,l,g,E,d);case 3:e:{if(S_(l),a===null)throw Error(n(387));g=l.pendingProps,x=l.memoizedState,E=x.element,U1(a,l),Dh(l,g,null,d);var K=l.memoizedState;if(g=K.element,x.isDehydrated)if(x={element:g,isDehydrated:!1,cache:K.cache,pendingSuspenseBoundaries:K.pendingSuspenseBoundaries,transitions:K.transitions},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){E=ic(Error(n(423)),l),l=A_(a,l,g,d,E);break e}else if(g!==E){E=ic(Error(n(424)),l),l=A_(a,l,g,d,E);break e}else for(bi=Vo(l.stateNode.containerInfo.firstChild),Ei=l,kn=!0,Zi=null,d=D1(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Zl(),g===E){l=oo(a,l,d);break e}$r(a,l,g,d)}l=l.child}return l;case 5:return W1(l),a===null&&Wm(l),g=l.type,E=l.pendingProps,x=a!==null?a.memoizedProps:null,K=E.children,Mm(g,E)?K=null:x!==null&&Mm(g,x)&&(l.flags|=32),E_(a,l),$r(a,l,K,d),l.child;case 6:return a===null&&Wm(l),null;case 13:return I_(a,l,d);case 4:return Qm(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=ec(l,null,g,d):$r(a,l,g,d),l.child;case 11:return g=l.type,E=l.pendingProps,E=l.elementType===g?E:es(g,E),y_(a,l,g,E,d);case 7:return $r(a,l,l.pendingProps,d),l.child;case 8:return $r(a,l,l.pendingProps.children,d),l.child;case 12:return $r(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,E=l.pendingProps,x=l.memoizedProps,K=E.value,vn(Nh,g._currentValue),g._currentValue=K,x!==null)if(Ji(x.value,K)){if(x.children===E.children&&!ni.current){l=oo(a,l,d);break e}}else for(x=l.child,x!==null&&(x.return=l);x!==null;){var ne=x.dependencies;if(ne!==null){K=x.child;for(var le=ne.firstContext;le!==null;){if(le.context===g){if(x.tag===1){le=so(-1,d&-d),le.tag=2;var Ee=x.updateQueue;if(Ee!==null){Ee=Ee.shared;var Pe=Ee.pending;Pe===null?le.next=le:(le.next=Pe.next,Pe.next=le),Ee.pending=le}}x.lanes|=d,le=x.alternate,le!==null&&(le.lanes|=d),Km(x.return,d,l),ne.lanes|=d;break}le=le.next}}else if(x.tag===10)K=x.type===l.type?null:x.child;else if(x.tag===18){if(K=x.return,K===null)throw Error(n(341));K.lanes|=d,ne=K.alternate,ne!==null&&(ne.lanes|=d),Km(K,d,l),K=x.sibling}else K=x.child;if(K!==null)K.return=x;else for(K=x;K!==null;){if(K===l){K=null;break}if(x=K.sibling,x!==null){x.return=K.return,K=x;break}K=K.return}x=K}$r(a,l,E.children,d),l=l.child}return l;case 9:return E=l.type,g=l.pendingProps.children,nc(l,d),E=Vi(E),g=g(E),l.flags|=1,$r(a,l,g,d),l.child;case 14:return g=l.type,E=es(g,l.pendingProps),E=es(g.type,E),w_(a,l,g,E,d);case 15:return v_(a,l,l.type,l.pendingProps,d);case 17:return g=l.type,E=l.pendingProps,E=l.elementType===g?E:es(g,E),$h(a,l),l.tag=1,ri(g)?(a=!0,kh(l)):a=!1,nc(l,d),u_(l,g,E),lg(l,g,E,d),hg(null,l,g,!0,a,d);case 19:return k_(a,l,d);case 22:return __(a,l,d)}throw Error(n(156,l.tag))};function X_(a,l){return gi(a,l)}function hC(a,l,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(a,l,d,g){return new hC(a,l,d,g)}function Mg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function fC(a){if(typeof a=="function")return Mg(a)?1:0;if(a!=null){if(a=a.$$typeof,a===W)return 11;if(a===I)return 14}return 2}function Yo(a,l){var d=a.alternate;return d===null?(d=zi(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function nf(a,l,d,g,E,x){var K=2;if(g=a,typeof a=="function")Mg(a)&&(K=1);else if(typeof a=="string")K=5;else e:switch(a){case Q:return Qa(d.children,E,x,l);case V:K=8,E|=8;break;case M:return a=zi(12,d,l,E|2),a.elementType=M,a.lanes=x,a;case b:return a=zi(13,d,l,E),a.elementType=b,a.lanes=x,a;case y:return a=zi(19,d,l,E),a.elementType=y,a.lanes=x,a;case H:return rf(d,E,x,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:K=10;break e;case F:K=9;break e;case W:K=11;break e;case I:K=14;break e;case B:K=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=zi(K,d,l,E),l.elementType=a,l.type=g,l.lanes=x,l}function Qa(a,l,d,g){return a=zi(7,a,g,l),a.lanes=d,a}function rf(a,l,d,g){return a=zi(22,a,g,l),a.elementType=H,a.lanes=d,a.stateNode={isHidden:!1},a}function Ng(a,l,d){return a=zi(6,a,null,l),a.lanes=d,a}function Og(a,l,d){return l=zi(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function pC(a,l,d,g,E){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=De(0),this.expirationTimes=De(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.identifierPrefix=g,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function Lg(a,l,d,g,E,x,K,ne,le){return a=new pC(a,l,d,ne,le),l===1?(l=1,x===!0&&(l|=8)):l=0,x=zi(3,null,null,l),a.current=x,x.stateNode=a,x.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gm(x),a}function mC(a,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:g==null?null:""+g,children:a,containerInfo:l,implementation:d}}function J_(a){if(!a)return Wo;a=a._reactInternals;e:{if(ir(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ri(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var d=a.type;if(ri(d))return T1(a,d,l)}return l}function Z_(a,l,d,g,E,x,K,ne,le){return a=Lg(d,g,!0,a,E,x,K,ne,le),a.context=J_(null),d=a.current,g=Kr(),E=Go(d),x=so(g,E),x.callback=l??null,qo(d,x,E),a.current.lanes=E,Ye(a,E,g),oi(a,g),a}function sf(a,l,d,g){var E=l.current,x=Kr(),K=Go(E);return d=J_(d),l.context===null?l.context=d:l.pendingContext=d,l=so(x,K),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=qo(E,l,K),a!==null&&(rs(a,E,K,x),Lh(a,E,K)),K}function of(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function eE(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Dg(a,l){eE(a,l),(a=a.alternate)&&eE(a,l)}function gC(){return null}var tE=typeof reportError=="function"?reportError:function(a){console.error(a)};function Bg(a){this._internalRoot=a}af.prototype.render=Bg.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));sf(a,l,null,null)},af.prototype.unmount=Bg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Ka(function(){sf(null,a,null,null)}),l[eo]=null}};function af(a){this._internalRoot=a}af.prototype.unstable_scheduleHydration=function(a){if(a){var l=oh();a={blockedOn:null,target:a,priority:l};for(var d=0;d<vs.length&&l!==0&&l<vs[d].priority;d++);vs.splice(d,0,a),d===0&&ch(a)}};function Ug(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function lf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function nE(){}function yC(a,l,d,g,E){if(E){if(typeof g=="function"){var x=g;g=function(){var Ee=of(K);x.call(Ee)}}var K=Z_(l,g,a,0,null,!1,!1,"",nE);return a._reactRootContainer=K,a[eo]=K.current,Au(a.nodeType===8?a.parentNode:a),Ka(),K}for(;E=a.lastChild;)a.removeChild(E);if(typeof g=="function"){var ne=g;g=function(){var Ee=of(le);ne.call(Ee)}}var le=Lg(a,0,!1,null,null,!1,!1,"",nE);return a._reactRootContainer=le,a[eo]=le.current,Au(a.nodeType===8?a.parentNode:a),Ka(function(){sf(l,le,d,g)}),le}function cf(a,l,d,g,E){var x=d._reactRootContainer;if(x){var K=x;if(typeof E=="function"){var ne=E;E=function(){var le=of(K);ne.call(le)}}sf(l,K,a,E)}else K=yC(d,l,a,E,g);return of(K)}Ml=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=je(l.pendingLanes);d!==0&&(_t(l,d|1),oi(l,qt()),(Zt&6)===0&&(ac=qt()+500,zo()))}break;case 13:Ka(function(){var g=io(a,1);if(g!==null){var E=Kr();rs(g,a,1,E)}}),Dg(a,1)}},Oo=function(a){if(a.tag===13){var l=io(a,134217728);if(l!==null){var d=Kr();rs(l,a,134217728,d)}Dg(a,134217728)}},sh=function(a){if(a.tag===13){var l=Go(a),d=io(a,l);if(d!==null){var g=Kr();rs(d,a,l,g)}Dg(a,l)}},oh=function(){return lt},ah=function(a,l){var d=lt;try{return lt=a,l()}finally{lt=d}},Yr=function(a,l,d){switch(l){case"input":if(Wt(a,d),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==a&&g.form===a.form){var E=Ih(g);if(!E)throw Error(n(90));St(g),Wt(g,E)}}}break;case"textarea":Ht(a,d);break;case"select":l=d.value,l!=null&&xt(a,!!d.multiple,l,!1)}},zr=Rg,fn=Ka;var wC={usingClientEntryPoint:!1,Events:[ku,Gl,Ih,bt,ln,Rg]},Wu={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vC={bundleType:Wu.bundleType,version:Wu.version,rendererPackageName:Wu.rendererPackageName,rendererConfig:Wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Mi(a),a===null?null:a.stateNode},findFiberByHostInstance:Wu.findFiberByHostInstance||gC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{wi=uf.inject(vC),Zn=uf}catch{}}return ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wC,ai.createPortal=function(a,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ug(l))throw Error(n(200));return mC(a,l,null,d)},ai.createRoot=function(a,l){if(!Ug(a))throw Error(n(299));var d=!1,g="",E=tE;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),l=Lg(a,1,!1,null,null,d,!1,g,E),a[eo]=l.current,Au(a.nodeType===8?a.parentNode:a),new Bg(l)},ai.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Mi(l),a=a===null?null:a.stateNode,a},ai.flushSync=function(a){return Ka(a)},ai.hydrate=function(a,l,d){if(!lf(l))throw Error(n(200));return cf(null,a,l,!0,d)},ai.hydrateRoot=function(a,l,d){if(!Ug(a))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,E=!1,x="",K=tE;if(d!=null&&(d.unstable_strictMode===!0&&(E=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(K=d.onRecoverableError)),l=Z_(l,null,a,1,d??null,E,!1,x,K),a[eo]=l.current,Au(a),g)for(a=0;a<g.length;a++)d=g[a],E=d._getVersion,E=E(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,E]:l.mutableSourceEagerHydrationData.push(d,E);return new af(l)},ai.render=function(a,l,d){if(!lf(l))throw Error(n(200));return cf(null,a,l,!1,d)},ai.unmountComponentAtNode=function(a){if(!lf(a))throw Error(n(40));return a._reactRootContainer?(Ka(function(){cf(null,null,a,!1,function(){a._reactRootContainer=null,a[eo]=null})}),!0):!1},ai.unstable_batchedUpdates=Rg,ai.unstable_renderSubtreeIntoContainer=function(a,l,d,g){if(!lf(d))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return cf(a,l,d,!1,g)},ai.version="18.3.1-next-f1338f8080-20240426",ai}var uE;function gI(){if(uE)return Wg.exports;uE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wg.exports=TC(),Wg.exports}var dE;function kC(){if(dE)return df;dE=1;var r=gI();return df.createRoot=r.createRoot,df.hydrateRoot=r.hydrateRoot,df}var xC=kC();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hE="popstate";function RC(r={}){function e(s,o){let{pathname:c="/",search:u="",hash:h=""}=El(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),w0("",{pathname:c,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let c=s.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let h=s.location.href,p=h.indexOf("#");u=p===-1?h:h.slice(0,p)}return u+"#"+(typeof o=="string"?o:_d(o))}function i(s,o){us(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return PC(e,n,i,r)}function Nn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function us(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CC(){return Math.random().toString(36).substring(2,10)}function fE(r,e){return{usr:r.state,key:r.key,idx:e}}function w0(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?El(e):e,state:n,key:e&&e.key||i||CC()}}function _d({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function El(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function PC(r,e,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,c=s.history,u="POP",h=null,p=m();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function m(){return(c.state||{idx:null}).idx}function v(){u="POP";let O=m(),z=O==null?null:O-p;p=O,h&&h({action:u,location:P.location,delta:z})}function S(O,z){u="PUSH";let j=w0(P.location,O,z);n&&n(j,O),p=m()+1;let G=fE(j,p),te=P.createHref(j);try{c.pushState(G,"",te)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;s.location.assign(te)}o&&h&&h({action:u,location:P.location,delta:1})}function A(O,z){u="REPLACE";let j=w0(P.location,O,z);n&&n(j,O),p=m();let G=fE(j,p),te=P.createHref(j);c.replaceState(G,"",te),o&&h&&h({action:u,location:P.location,delta:0})}function N(O){return MC(O)}let P={get action(){return u},get location(){return r(s,c)},listen(O){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(hE,v),h=O,()=>{s.removeEventListener(hE,v),h=null}},createHref(O){return e(s,O)},createURL:N,encodeLocation(O){let z=N(O);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:S,replace:A,go(O){return c.go(O)}};return P}function MC(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Nn(n,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:_d(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function yI(r,e,n="/"){return NC(r,e,n,!1)}function NC(r,e,n,i){let s=typeof e=="string"?El(e):e,o=Eo(s.pathname||"/",n);if(o==null)return null;let c=wI(r);OC(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let p=$C(o);u=jC(c[h],p,i)}return u}function wI(r,e=[],n=[],i="",s=!1){let o=(c,u,h=s,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&h)return;Nn(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let v=vo([i,m.relativePath]),S=n.concat(m);c.children&&c.children.length>0&&(Nn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),wI(c.children,e,S,v,h)),!(c.path==null&&!c.index)&&e.push({path:v,score:WC(v,c.index),routesMeta:S})};return r.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))o(c,u);else for(let h of vI(c.path))o(c,u,!0,h)}),e}function vI(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let c=vI(i.join("/")),u=[];return u.push(...c.map(h=>h===""?o:[o,h].join("/"))),s&&u.push(...c),u.map(h=>r.startsWith("/")&&h===""?"/":h)}function OC(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:zC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var LC=/^:[\w-]+$/,DC=3,BC=2,UC=1,VC=10,FC=-2,pE=r=>r==="*";function WC(r,e){let n=r.split("/"),i=n.length;return n.some(pE)&&(i+=FC),e&&(i+=BC),n.filter(s=>!pE(s)).reduce((s,o)=>s+(LC.test(o)?DC:o===""?UC:VC),i)}function zC(r,e){return r.length===e.length&&r.slice(0,-1).every((i,s)=>i===e[s])?r[r.length-1]-e[e.length-1]:0}function jC(r,e,n=!1){let{routesMeta:i}=r,s={},o="/",c=[];for(let u=0;u<i.length;++u){let h=i[u],p=u===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",v=Jf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),S=h.route;if(!v&&p&&n&&!i[i.length-1].route.index&&(v=Jf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!v)return null;Object.assign(s,v.params),c.push({params:s,pathname:vo([o,v.pathname]),pathnameBase:QC(vo([o,v.pathnameBase])),route:S}),v.pathnameBase!=="/"&&(o=vo([o,v.pathnameBase]))}return c}function Jf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=qC(r.path,r.caseSensitive,r.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:v},S)=>{if(m==="*"){let N=u[S]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const A=u[S];return v&&!A?p[m]=void 0:p[m]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:r}}function qC(r,e=!1,n=!0){us(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function $C(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return us(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Eo(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}function KC(r,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof r=="string"?El(r):r;return{pathname:n?n.startsWith("/")?n:HC(n,e):e,search:YC(i),hash:XC(s)}}function HC(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qg(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GC(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _I(r){let e=GC(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function EI(r,e,n,i=!1){let s;typeof r=="string"?s=El(r):(s={...r},Nn(!s.pathname||!s.pathname.includes("?"),qg("?","pathname","search",s)),Nn(!s.pathname||!s.pathname.includes("#"),qg("#","pathname","hash",s)),Nn(!s.search||!s.search.includes("#"),qg("#","search","hash",s)));let o=r===""||s.pathname==="",c=o?"/":s.pathname,u;if(c==null)u=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),v-=1;s.pathname=S.join("/")}u=v>=0?e[v]:"/"}let h=KC(s,u),p=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var vo=r=>r.join("/").replace(/\/\/+/g,"/"),QC=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),YC=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,XC=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function JC(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var bI=["POST","PUT","PATCH","DELETE"];new Set(bI);var ZC=["GET",...bI];new Set(ZC);var Yc=ce.createContext(null);Yc.displayName="DataRouter";var Mp=ce.createContext(null);Mp.displayName="DataRouterState";ce.createContext(!1);var SI=ce.createContext({isTransitioning:!1});SI.displayName="ViewTransition";var eP=ce.createContext(new Map);eP.displayName="Fetchers";var tP=ce.createContext(null);tP.displayName="Await";var Hs=ce.createContext(null);Hs.displayName="Navigation";var Vd=ce.createContext(null);Vd.displayName="Location";var xo=ce.createContext({outlet:null,matches:[],isDataRoute:!1});xo.displayName="Route";var mw=ce.createContext(null);mw.displayName="RouteError";function nP(r,{relative:e}={}){Nn(Fd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=ce.useContext(Hs),{hash:s,pathname:o,search:c}=Wd(r,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:vo([n,o])),i.createHref({pathname:u,search:c,hash:s})}function Fd(){return ce.useContext(Vd)!=null}function Ro(){return Nn(Fd(),"useLocation() may be used only in the context of a <Router> component."),ce.useContext(Vd).location}var AI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function II(r){ce.useContext(Hs).static||ce.useLayoutEffect(r)}function gw(){let{isDataRoute:r}=ce.useContext(xo);return r?mP():rP()}function rP(){Nn(Fd(),"useNavigate() may be used only in the context of a <Router> component.");let r=ce.useContext(Yc),{basename:e,navigator:n}=ce.useContext(Hs),{matches:i}=ce.useContext(xo),{pathname:s}=Ro(),o=JSON.stringify(_I(i)),c=ce.useRef(!1);return II(()=>{c.current=!0}),ce.useCallback((h,p={})=>{if(us(c.current,AI),!c.current)return;if(typeof h=="number"){n.go(h);return}let m=EI(h,JSON.parse(o),s,p.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:vo([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,o,s,r])}ce.createContext(null);function Wd(r,{relative:e}={}){let{matches:n}=ce.useContext(xo),{pathname:i}=Ro(),s=JSON.stringify(_I(n));return ce.useMemo(()=>EI(r,JSON.parse(s),i,e==="path"),[r,s,i,e])}function iP(r,e){return TI(r,e)}function TI(r,e,n,i,s){Nn(Fd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=ce.useContext(Hs),{matches:c}=ce.useContext(xo),u=c[c.length-1],h=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let j=v&&v.path||"";kI(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let S=Ro(),A;if(e){let j=typeof e=="string"?El(e):e;Nn(m==="/"||j.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${j.pathname}" was given in the \`location\` prop.`),A=j}else A=S;let N=A.pathname||"/",P=N;if(m!=="/"){let j=m.replace(/^\//,"").split("/");P="/"+N.replace(/^\//,"").split("/").slice(j.length).join("/")}let O=yI(r,{pathname:P});us(v||O!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),us(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=cP(O&&O.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:vo([m,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:vo([m,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,n,i,s);return e&&z?ce.createElement(Vd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function sP(){let r=pP(),e=JC(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=ce.createElement(ce.Fragment,null,ce.createElement("p",null,"💿 Hey developer 👋"),ce.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ce.createElement("code",{style:o},"ErrorBoundary")," or"," ",ce.createElement("code",{style:o},"errorElement")," prop on your route.")),ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),n?ce.createElement("pre",{style:s},n):null,c)}var oP=ce.createElement(sP,null),aP=class extends ce.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?ce.createElement(xo.Provider,{value:this.props.routeContext},ce.createElement(mw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lP({routeContext:r,match:e,children:n}){let i=ce.useContext(Yc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),ce.createElement(xo.Provider,{value:r},n)}function cP(r,e=[],n=null,i=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,c=n?.errors;if(c!=null){let p=o.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);Nn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,h=-1;if(n)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:v,errors:S}=n,A=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!S||S[m.route.id]===void 0);if(m.route.lazy||A){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,m,v)=>{let S,A=!1,N=null,P=null;n&&(S=c&&m.route.id?c[m.route.id]:void 0,N=m.route.errorElement||oP,u&&(h<0&&v===0?(kI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,P=null):h===v&&(A=!0,P=m.route.hydrateFallbackElement||null)));let O=e.concat(o.slice(0,v+1)),z=()=>{let j;return S?j=N:A?j=P:m.route.Component?j=ce.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=p,ce.createElement(lP,{match:m,routeContext:{outlet:p,matches:O,isDataRoute:n!=null},children:j})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?ce.createElement(aP,{location:n.location,revalidation:n.revalidation,component:N,error:S,children:z(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:i}):z()},null)}function yw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uP(r){let e=ce.useContext(Yc);return Nn(e,yw(r)),e}function dP(r){let e=ce.useContext(Mp);return Nn(e,yw(r)),e}function hP(r){let e=ce.useContext(xo);return Nn(e,yw(r)),e}function ww(r){let e=hP(r),n=e.matches[e.matches.length-1];return Nn(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function fP(){return ww("useRouteId")}function pP(){let r=ce.useContext(mw),e=dP("useRouteError"),n=ww("useRouteError");return r!==void 0?r:e.errors?.[n]}function mP(){let{router:r}=uP("useNavigate"),e=ww("useNavigate"),n=ce.useRef(!1);return II(()=>{n.current=!0}),ce.useCallback(async(s,o={})=>{us(n.current,AI),n.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...o}))},[r,e])}var mE={};function kI(r,e,n){!e&&!mE[r]&&(mE[r]=!0,us(!1,n))}ce.memo(gP);function gP({routes:r,future:e,state:n,unstable_onError:i}){return TI(r,void 0,n,i,e)}function sa(r){Nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yP({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:o=!1}){Nn(!Fd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),u=ce.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof n=="string"&&(n=El(n));let{pathname:h="/",search:p="",hash:m="",state:v=null,key:S="default"}=n,A=ce.useMemo(()=>{let N=Eo(h,c);return N==null?null:{location:{pathname:N,search:p,hash:m,state:v,key:S},navigationType:i}},[c,h,p,m,v,S,i]);return us(A!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:ce.createElement(Hs.Provider,{value:u},ce.createElement(Vd.Provider,{children:e,value:A}))}function wP({children:r,location:e}){return iP(v0(r),e)}function v0(r,e=[]){let n=[];return ce.Children.forEach(r,(i,s)=>{if(!ce.isValidElement(i))return;let o=[...e,s];if(i.type===ce.Fragment){n.push.apply(n,v0(i.props.children,o));return}Nn(i.type===sa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=v0(i.props.children,o)),n.push(c)}),n}var Mf="get",Nf="application/x-www-form-urlencoded";function Np(r){return r!=null&&typeof r.tagName=="string"}function vP(r){return Np(r)&&r.tagName.toLowerCase()==="button"}function _P(r){return Np(r)&&r.tagName.toLowerCase()==="form"}function EP(r){return Np(r)&&r.tagName.toLowerCase()==="input"}function bP(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function SP(r,e){return r.button===0&&(!e||e==="_self")&&!bP(r)}var hf=null;function AP(){if(hf===null)try{new FormData(document.createElement("form"),0),hf=!1}catch{hf=!0}return hf}var IP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $g(r){return r!=null&&!IP.has(r)?(us(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nf}"`),null):r}function TP(r,e){let n,i,s,o,c;if(_P(r)){let u=r.getAttribute("action");i=u?Eo(u,e):null,n=r.getAttribute("method")||Mf,s=$g(r.getAttribute("enctype"))||Nf,o=new FormData(r)}else if(vP(r)||EP(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||u.getAttribute("action");if(i=h?Eo(h,e):null,n=r.getAttribute("formmethod")||u.getAttribute("method")||Mf,s=$g(r.getAttribute("formenctype"))||$g(u.getAttribute("enctype"))||Nf,o=new FormData(u,r),!AP()){let{name:p,type:m,value:v}=r;if(m==="image"){let S=p?`${p}.`:"";o.append(`${S}x`,"0"),o.append(`${S}y`,"0")}else p&&o.append(p,v)}}else{if(Np(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mf,i=null,s=Nf,c=r}return o&&s==="text/plain"&&(c=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vw(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function kP(r,e,n){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Eo(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function xP(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RP(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function CP(r,e,n){let i=await Promise.all(r.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await xP(o,n);return c.links?c.links():[]}return[]}));return OP(i.flat(1).filter(RP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function gE(r,e,n,i,s,o){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,u=(h,p)=>n[p].pathname!==h.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,p)=>c(h,p)||u(h,p)):o==="data"?e.filter((h,p)=>{let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(c(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function PP(r,e,{includeHydrateFallback:n}={}){return MP(r.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function MP(r){return[...new Set(r)]}function NP(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function OP(r,e){let n=new Set;return new Set(e),r.reduce((i,s)=>{let o=JSON.stringify(NP(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}function xI(){let r=ce.useContext(Yc);return vw(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function LP(){let r=ce.useContext(Mp);return vw(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _w=ce.createContext(void 0);_w.displayName="FrameworkContext";function RI(){let r=ce.useContext(_w);return vw(r,"You must render this element inside a <HydratedRouter> element"),r}function DP(r,e){let n=ce.useContext(_w),[i,s]=ce.useState(!1),[o,c]=ce.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,S=ce.useRef(null);ce.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let P=z=>{z.forEach(j=>{c(j.isIntersecting)})},O=new IntersectionObserver(P,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[r]),ce.useEffect(()=>{if(i){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[i]);let A=()=>{s(!0)},N=()=>{s(!1),c(!1)};return n?r!=="intent"?[o,S,{}]:[o,S,{onFocus:ju(u,A),onBlur:ju(h,N),onMouseEnter:ju(p,A),onMouseLeave:ju(m,N),onTouchStart:ju(v,A)}]:[!1,S,{}]}function ju(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function BP({page:r,...e}){let{router:n}=xI(),i=ce.useMemo(()=>yI(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?ce.createElement(VP,{page:r,matches:i,...e}):null}function UP(r){let{manifest:e,routeModules:n}=RI(),[i,s]=ce.useState([]);return ce.useEffect(()=>{let o=!1;return CP(r,e,n).then(c=>{o||s(c)}),()=>{o=!0}},[r,e,n]),i}function VP({page:r,matches:e,...n}){let i=Ro(),{manifest:s,routeModules:o}=RI(),{basename:c}=xI(),{loaderData:u,matches:h}=LP(),p=ce.useMemo(()=>gE(r,e,h,s,i,"data"),[r,e,h,s,i]),m=ce.useMemo(()=>gE(r,e,h,s,i,"assets"),[r,e,h,s,i]),v=ce.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let N=new Set,P=!1;if(e.forEach(z=>{let j=s.routes[z.route.id];!j||!j.hasLoader||(!p.some(G=>G.route.id===z.route.id)&&z.route.id in u&&o[z.route.id]?.shouldRevalidate||j.hasClientLoader?P=!0:N.add(z.route.id))}),N.size===0)return[];let O=kP(r,c,"data");return P&&N.size>0&&O.searchParams.set("_routes",e.filter(z=>N.has(z.route.id)).map(z=>z.route.id).join(",")),[O.pathname+O.search]},[c,u,i,s,p,e,r,o]),S=ce.useMemo(()=>PP(m,s),[m,s]),A=UP(m);return ce.createElement(ce.Fragment,null,v.map(N=>ce.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),S.map(N=>ce.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),A.map(({key:N,link:P})=>ce.createElement("link",{key:N,nonce:n.nonce,...P})))}function FP(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CI&&(window.__reactRouterVersion="7.8.2")}catch{}function WP({basename:r,children:e,window:n}){let i=ce.useRef();i.current==null&&(i.current=RC({window:n,v5Compat:!0}));let s=i.current,[o,c]=ce.useState({action:s.action,location:s.location}),u=ce.useCallback(h=>{ce.startTransition(()=>c(h))},[c]);return ce.useLayoutEffect(()=>s.listen(u),[s,u]),ce.createElement(yP,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:s})}var PI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MI=ce.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:c,state:u,target:h,to:p,preventScrollReset:m,viewTransition:v,...S},A){let{basename:N}=ce.useContext(Hs),P=typeof p=="string"&&PI.test(p),O,z=!1;if(typeof p=="string"&&P&&(O=p,CI))try{let M=new URL(window.location.href),D=p.startsWith("//")?new URL(M.protocol+p):new URL(p),F=Eo(D.pathname,N);D.origin===M.origin&&F!=null?p=F+D.search+D.hash:z=!0}catch{us(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=nP(p,{relative:s}),[G,te,ae]=DP(i,S),se=$P(p,{replace:c,state:u,target:h,preventScrollReset:m,relative:s,viewTransition:v});function Q(M){e&&e(M),M.defaultPrevented||se(M)}let V=ce.createElement("a",{...S,...ae,href:O||j,onClick:z||o?e:Q,ref:FP(A,te),target:h,"data-discover":!P&&n==="render"?"true":void 0});return G&&!P?ce.createElement(ce.Fragment,null,V,ce.createElement(BP,{page:j})):V});MI.displayName="Link";var zP=ce.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:c,viewTransition:u,children:h,...p},m){let v=Wd(c,{relative:p.relative}),S=Ro(),A=ce.useContext(Mp),{navigator:N,basename:P}=ce.useContext(Hs),O=A!=null&&YP(v)&&u===!0,z=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,j=S.pathname,G=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(j=j.toLowerCase(),G=G?G.toLowerCase():null,z=z.toLowerCase()),G&&P&&(G=Eo(G,P)||G);const te=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ae=j===z||!s&&j.startsWith(z)&&j.charAt(te)==="/",se=G!=null&&(G===z||!s&&G.startsWith(z)&&G.charAt(z.length)==="/"),Q={isActive:ae,isPending:se,isTransitioning:O},V=ae?e:void 0,M;typeof i=="function"?M=i(Q):M=[i,ae?"active":null,se?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(Q):o;return ce.createElement(MI,{...p,"aria-current":V,className:M,ref:m,style:D,to:c,viewTransition:u},typeof h=="function"?h(Q):h)});zP.displayName="NavLink";var jP=ce.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:o,method:c=Mf,action:u,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:v,...S},A)=>{let N=GP(),P=QP(u,{relative:p}),O=c.toLowerCase()==="get"?"get":"post",z=typeof u=="string"&&PI.test(u),j=G=>{if(h&&h(G),G.defaultPrevented)return;G.preventDefault();let te=G.nativeEvent.submitter,ae=te?.getAttribute("formmethod")||c;N(te||G.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:s,state:o,relative:p,preventScrollReset:m,viewTransition:v})};return ce.createElement("form",{ref:A,method:O,action:P,onSubmit:i?h:j,...S,"data-discover":!z&&r==="render"?"true":void 0})});jP.displayName="Form";function qP(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NI(r){let e=ce.useContext(Yc);return Nn(e,qP(r)),e}function $P(r,{target:e,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:c}={}){let u=gw(),h=Ro(),p=Wd(r,{relative:o});return ce.useCallback(m=>{if(SP(m,e)){m.preventDefault();let v=n!==void 0?n:_d(h)===_d(p);u(r,{replace:v,state:i,preventScrollReset:s,relative:o,viewTransition:c})}},[h,u,p,n,i,e,r,s,o,c])}var KP=0,HP=()=>`__${String(++KP)}__`;function GP(){let{router:r}=NI("useSubmit"),{basename:e}=ce.useContext(Hs),n=fP();return ce.useCallback(async(i,s={})=>{let{action:o,method:c,encType:u,formData:h,body:p}=TP(i,e);if(s.navigate===!1){let m=s.fetcherKey||HP();await r.fetch(m,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await r.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,n])}function QP(r,{relative:e}={}){let{basename:n}=ce.useContext(Hs),i=ce.useContext(xo);Nn(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Wd(r||".",{relative:e})},c=Ro();if(r==null){o.search=c.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let m=u.toString();o.search=m?`?${m}`:""}}return(!r||r===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:vo([n,o.pathname])),_d(o)}function YP(r,{relative:e}={}){let n=ce.useContext(SI);Nn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=NI("useViewTransitionState"),s=Wd(r,{relative:e});if(!n.isTransitioning)return!1;let o=Eo(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Eo(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Jf(s.pathname,c)!=null||Jf(s.pathname,o)!=null}var XP=gI(),Kg,yE;function JP(){if(yE)return Kg;yE=1;var r=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(o,c){if(o===c)return!0;if(o&&c&&typeof o=="object"&&typeof c=="object"){if(o.constructor!==c.constructor)return!1;var u,h,p;if(Array.isArray(o)){if(u=o.length,u!=c.length)return!1;for(h=u;h--!==0;)if(!s(o[h],c[h]))return!1;return!0}var m;if(e&&o instanceof Map&&c instanceof Map){if(o.size!==c.size)return!1;for(m=o.entries();!(h=m.next()).done;)if(!c.has(h.value[0]))return!1;for(m=o.entries();!(h=m.next()).done;)if(!s(h.value[1],c.get(h.value[0])))return!1;return!0}if(n&&o instanceof Set&&c instanceof Set){if(o.size!==c.size)return!1;for(m=o.entries();!(h=m.next()).done;)if(!c.has(h.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(c)){if(u=o.length,u!=c.length)return!1;for(h=u;h--!==0;)if(o[h]!==c[h])return!1;return!0}if(o.constructor===RegExp)return o.source===c.source&&o.flags===c.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof c.valueOf=="function")return o.valueOf()===c.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof c.toString=="function")return o.toString()===c.toString();if(p=Object.keys(o),u=p.length,u!==Object.keys(c).length)return!1;for(h=u;h--!==0;)if(!Object.prototype.hasOwnProperty.call(c,p[h]))return!1;if(r&&o instanceof Element)return!1;for(h=u;h--!==0;)if(!((p[h]==="_owner"||p[h]==="__v"||p[h]==="__o")&&o.$$typeof)&&!s(o[p[h]],c[p[h]]))return!1;return!0}return o!==o&&c!==c}return Kg=function(c,u){try{return s(c,u)}catch(h){if((h.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw h}},Kg}var ZP=JP();const eM=Pa(ZP);var Hg,wE;function tM(){if(wE)return Hg;wE=1;var r=function(e,n,i,s,o,c,u,h){if(!e){var p;if(n===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[i,s,o,c,u,h],v=0;p=new Error(n.replace(/%s/g,function(){return m[v++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Hg=r,Hg}var nM=tM();const vE=Pa(nM);var Gg,_E;function rM(){return _E||(_E=1,Gg=function(e,n,i,s){var o=i?i.call(s,e,n):void 0;if(o!==void 0)return!!o;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var c=Object.keys(e),u=Object.keys(n);if(c.length!==u.length)return!1;for(var h=Object.prototype.hasOwnProperty.bind(n),p=0;p<c.length;p++){var m=c[p];if(!h(m))return!1;var v=e[m],S=n[m];if(o=i?i.call(s,v,S,m):void 0,o===!1||o===void 0&&v!==S)return!1}return!0}),Gg}var iM=rM();const sM=Pa(iM);var OI=(r=>(r.BASE="base",r.BODY="body",r.HEAD="head",r.HTML="html",r.LINK="link",r.META="meta",r.NOSCRIPT="noscript",r.SCRIPT="script",r.STYLE="style",r.TITLE="title",r.FRAGMENT="Symbol(react.fragment)",r))(OI||{}),Qg={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},EE=Object.values(OI),Ew={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},oM=Object.entries(Ew).reduce((r,[e,n])=>(r[n]=e,r),{}),os="data-rh",Sc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ac=(r,e)=>{for(let n=r.length-1;n>=0;n-=1){const i=r[n];if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}return null},aM=r=>{let e=Ac(r,"title");const n=Ac(r,Sc.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const i=Ac(r,Sc.DEFAULT_TITLE);return e||i||void 0},lM=r=>Ac(r,Sc.ON_CHANGE_CLIENT_STATE)||(()=>{}),Yg=(r,e)=>e.filter(n=>typeof n[r]<"u").map(n=>n[r]).reduce((n,i)=>({...n,...i}),{}),cM=(r,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,i)=>{if(!n.length){const s=Object.keys(i);for(let o=0;o<s.length;o+=1){const u=s[o].toLowerCase();if(r.indexOf(u)!==-1&&i[u])return n.concat(i)}}return n},[]),uM=r=>console&&typeof console.warn=="function"&&console.warn(r),qu=(r,e,n)=>{const i={};return n.filter(s=>Array.isArray(s[r])?!0:(typeof s[r]<"u"&&uM(`Helmet: ${r} should be of type "Array". Instead found type "${typeof s[r]}"`),!1)).map(s=>s[r]).reverse().reduce((s,o)=>{const c={};o.filter(h=>{let p;const m=Object.keys(h);for(let S=0;S<m.length;S+=1){const A=m[S],N=A.toLowerCase();e.indexOf(N)!==-1&&!(p==="rel"&&h[p].toLowerCase()==="canonical")&&!(N==="rel"&&h[N].toLowerCase()==="stylesheet")&&(p=N),e.indexOf(A)!==-1&&(A==="innerHTML"||A==="cssText"||A==="itemprop")&&(p=A)}if(!p||!h[p])return!1;const v=h[p].toLowerCase();return i[p]||(i[p]={}),c[p]||(c[p]={}),i[p][v]?!1:(c[p][v]=!0,!0)}).reverse().forEach(h=>s.push(h));const u=Object.keys(c);for(let h=0;h<u.length;h+=1){const p=u[h],m={...i[p],...c[p]};i[p]=m}return s},[]).reverse()},dM=(r,e)=>{if(Array.isArray(r)&&r.length){for(let n=0;n<r.length;n+=1)if(r[n][e])return!0}return!1},hM=r=>({baseTag:cM(["href"],r),bodyAttributes:Yg("bodyAttributes",r),defer:Ac(r,Sc.DEFER),encode:Ac(r,Sc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Yg("htmlAttributes",r),linkTags:qu("link",["rel","href"],r),metaTags:qu("meta",["name","charset","http-equiv","property","itemprop"],r),noscriptTags:qu("noscript",["innerHTML"],r),onChangeClientState:lM(r),scriptTags:qu("script",["src","innerHTML"],r),styleTags:qu("style",["cssText"],r),title:aM(r),titleAttributes:Yg("titleAttributes",r),prioritizeSeoTags:dM(r,Sc.PRIORITIZE_SEO_TAGS)}),LI=r=>Array.isArray(r)?r.join(""):r,fM=(r,e)=>{const n=Object.keys(r);for(let i=0;i<n.length;i+=1)if(e[n[i]]&&e[n[i]].includes(r[n[i]]))return!0;return!1},Xg=(r,e)=>Array.isArray(r)?r.reduce((n,i)=>(fM(i,e)?n.priority.push(i):n.default.push(i),n),{priority:[],default:[]}):{default:r,priority:[]},bE=(r,e)=>({...r,[e]:void 0}),pM=["noscript","script","style"],_0=(r,e=!0)=>e===!1?String(r):String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),DI=r=>Object.keys(r).reduce((e,n)=>{const i=typeof r[n]<"u"?`${n}="${r[n]}"`:`${n}`;return e?`${e} ${i}`:i},""),mM=(r,e,n,i)=>{const s=DI(n),o=LI(e);return s?`<${r} ${os}="true" ${s}>${_0(o,i)}</${r}>`:`<${r} ${os}="true">${_0(o,i)}</${r}>`},gM=(r,e,n=!0)=>e.reduce((i,s)=>{const o=s,c=Object.keys(o).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,m)=>{const v=typeof o[m]>"u"?m:`${m}="${_0(o[m],n)}"`;return p?`${p} ${v}`:v},""),u=o.innerHTML||o.cssText||"",h=pM.indexOf(r)===-1;return`${i}<${r} ${os}="true" ${c}${h?"/>":`>${u}</${r}>`}`},""),BI=(r,e={})=>Object.keys(r).reduce((n,i)=>{const s=Ew[i];return n[s||i]=r[i],n},e),yM=(r,e,n)=>{const i={key:e,[os]:!0},s=BI(n,i);return[Oe.createElement("title",s,e)]},Of=(r,e)=>e.map((n,i)=>{const s={key:i,[os]:!0};return Object.keys(n).forEach(o=>{const u=Ew[o]||o;if(u==="innerHTML"||u==="cssText"){const h=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:h}}else s[u]=n[o]}),Oe.createElement(r,s)}),ji=(r,e,n=!0)=>{switch(r){case"title":return{toComponent:()=>yM(r,e.title,e.titleAttributes),toString:()=>mM(r,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>BI(e),toString:()=>DI(e)};default:return{toComponent:()=>Of(r,e),toString:()=>gM(r,e,n)}}},wM=({metaTags:r,linkTags:e,scriptTags:n,encode:i})=>{const s=Xg(r,Qg.meta),o=Xg(e,Qg.link),c=Xg(n,Qg.script);return{priorityMethods:{toComponent:()=>[...Of("meta",s.priority),...Of("link",o.priority),...Of("script",c.priority)],toString:()=>`${ji("meta",s.priority,i)} ${ji("link",o.priority,i)} ${ji("script",c.priority,i)}`},metaTags:s.default,linkTags:o.default,scriptTags:c.default}},vM=r=>{const{baseTag:e,bodyAttributes:n,encode:i=!0,htmlAttributes:s,noscriptTags:o,styleTags:c,title:u="",titleAttributes:h,prioritizeSeoTags:p}=r;let{linkTags:m,metaTags:v,scriptTags:S}=r,A={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:A,linkTags:m,metaTags:v,scriptTags:S}=wM(r)),{priority:A,base:ji("base",e,i),bodyAttributes:ji("bodyAttributes",n,i),htmlAttributes:ji("htmlAttributes",s,i),link:ji("link",m,i),meta:ji("meta",v,i),noscript:ji("noscript",o,i),script:ji("script",S,i),style:ji("style",c,i),title:ji("title",{title:u,titleAttributes:h},i)}},E0=vM,ff=[],UI=!!(typeof window<"u"&&window.document&&window.document.createElement),b0=class{instances=[];canUseDOM=UI;context;value={setHelmet:r=>{this.context.helmet=r},helmetInstances:{get:()=>this.canUseDOM?ff:this.instances,add:r=>{(this.canUseDOM?ff:this.instances).push(r)},remove:r=>{const e=(this.canUseDOM?ff:this.instances).indexOf(r);(this.canUseDOM?ff:this.instances).splice(e,1)}}};constructor(r,e){this.context=r,this.canUseDOM=e||!1,e||(r.helmet=E0({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},_M={},VI=Oe.createContext(_M),FI=class WI extends ce.Component{static canUseDOM=UI;helmetData;constructor(e){super(e),this.helmetData=new b0(this.props.context||{},WI.canUseDOM)}render(){return Oe.createElement(VI.Provider,{value:this.helmetData.value},this.props.children)}},cc=(r,e)=>{const n=document.head||document.querySelector("head"),i=n.querySelectorAll(`${r}[${os}]`),s=[].slice.call(i),o=[];let c;return e&&e.length&&e.forEach(u=>{const h=document.createElement(r);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p))if(p==="innerHTML")h.innerHTML=u.innerHTML;else if(p==="cssText")h.styleSheet?h.styleSheet.cssText=u.cssText:h.appendChild(document.createTextNode(u.cssText));else{const m=p,v=typeof u[m]>"u"?"":u[m];h.setAttribute(p,v)}h.setAttribute(os,"true"),s.some((p,m)=>(c=m,h.isEqualNode(p)))?s.splice(c,1):o.push(h)}),s.forEach(u=>u.parentNode?.removeChild(u)),o.forEach(u=>n.appendChild(u)),{oldTags:s,newTags:o}},S0=(r,e)=>{const n=document.getElementsByTagName(r)[0];if(!n)return;const i=n.getAttribute(os),s=i?i.split(","):[],o=[...s],c=Object.keys(e);for(const u of c){const h=e[u]||"";n.getAttribute(u)!==h&&n.setAttribute(u,h),s.indexOf(u)===-1&&s.push(u);const p=o.indexOf(u);p!==-1&&o.splice(p,1)}for(let u=o.length-1;u>=0;u-=1)n.removeAttribute(o[u]);s.length===o.length?n.removeAttribute(os):n.getAttribute(os)!==c.join(",")&&n.setAttribute(os,c.join(","))},EM=(r,e)=>{typeof r<"u"&&document.title!==r&&(document.title=LI(r)),S0("title",e)},SE=(r,e)=>{const{baseTag:n,bodyAttributes:i,htmlAttributes:s,linkTags:o,metaTags:c,noscriptTags:u,onChangeClientState:h,scriptTags:p,styleTags:m,title:v,titleAttributes:S}=r;S0("body",i),S0("html",s),EM(v,S);const A={baseTag:cc("base",n),linkTags:cc("link",o),metaTags:cc("meta",c),noscriptTags:cc("noscript",u),scriptTags:cc("script",p),styleTags:cc("style",m)},N={},P={};Object.keys(A).forEach(O=>{const{newTags:z,oldTags:j}=A[O];z.length&&(N[O]=z),j.length&&(P[O]=A[O].oldTags)}),e&&e(),h(r,N,P)},$u=null,bM=r=>{$u&&cancelAnimationFrame($u),r.defer?$u=requestAnimationFrame(()=>{SE(r,()=>{$u=null})}):(SE(r),$u=null)},SM=bM,AE=class extends ce.Component{rendered=!1;shouldComponentUpdate(r){return!sM(r,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:r}=this.props.context;r.remove(this),this.emitChange()}emitChange(){const{helmetInstances:r,setHelmet:e}=this.props.context;let n=null;const i=hM(r.get().map(s=>{const o={...s.props};return delete o.context,o}));FI.canUseDOM?SM(i):E0&&(n=E0(i)),e(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:r}=this.props.context;r.add(this),this.emitChange()}render(){return this.init(),null}},AM=class extends ce.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(r){return!eM(bE(this.props,"helmetData"),bE(r,"helmetData"))}mapNestedChildrenToProps(r,e){if(!e)return null;switch(r.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${r.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(r,e,n,i){return{...e,[r.type]:[...e[r.type]||[],{...n,...this.mapNestedChildrenToProps(r,i)}]}}mapObjectTypeChildren(r,e,n,i){switch(r.type){case"title":return{...e,[r.type]:i,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[r.type]:{...n}}}}mapArrayTypeChildrenToProps(r,e){let n={...e};return Object.keys(r).forEach(i=>{n={...n,[i]:r[i]}}),n}warnOnInvalidChildren(r,e){return vE(EE.some(n=>r.type===n),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${EE.join(", ")} are allowed. Helmet does not support rendering <${r.type}> elements. Refer to our API for more information.`),vE(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${r.type}>. Did you forget to wrap your children in braces? ( <${r.type}>{\`\`}</${r.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(r,e){let n={};return Oe.Children.forEach(r,i=>{if(!i||!i.props)return;const{children:s,...o}=i.props,c=Object.keys(o).reduce((h,p)=>(h[oM[p]||p]=o[p],h),{});let{type:u}=i;switch(typeof u=="symbol"?u=u.toString():this.warnOnInvalidChildren(i,s),u){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(i,n,c,s);break;default:e=this.mapObjectTypeChildren(i,e,c,s);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:r,...e}=this.props;let n={...e},{helmetData:i}=e;if(r&&(n=this.mapChildrenToProps(r,n)),i&&!(i instanceof b0)){const s=i;i=new b0(s.context,!0),delete n.helmetData}return i?Oe.createElement(AE,{...n,context:i.value}):Oe.createElement(VI.Consumer,null,s=>Oe.createElement(AE,{...n,context:s}))}};const IM="modulepreload",TM=function(r){return"/solstice_SOLS/"+r},IE={},ha=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){let h=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");s=h(n.map(p=>{if(p=TM(p),p in IE)return;IE[p]=!0;const m=p.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const S=document.createElement("link");if(S.rel=m?"stylesheet":IM,m||(S.as="script"),S.crossOrigin="",S.href=p,u&&S.setAttribute("nonce",u),document.head.appendChild(S),m)return new Promise((A,N)=>{S.addEventListener("load",A),S.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return s.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},kM=()=>{};var TE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},xM=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const s=r[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=r[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=r[n++],c=r[n++],u=r[n++],h=((s&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=r[n++],c=r[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},jI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<r.length;s+=3){const o=r[s],c=s+1<r.length,u=c?r[s+1]:0,h=s+2<r.length,p=h?r[s+2]:0,m=o>>2,v=(o&3)<<4|u>>4;let S=(u&15)<<2|p>>6,A=p&63;h||(A=64,c||(S=64)),i.push(n[m],n[v],n[S],n[A])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(zI(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):xM(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<r.length;){const o=n[r.charAt(s++)],u=s<r.length?n[r.charAt(s)]:0;++s;const p=s<r.length?n[r.charAt(s)]:64;++s;const v=s<r.length?n[r.charAt(s)]:64;if(++s,o==null||u==null||p==null||v==null)throw new RM;const S=o<<2|u>>4;if(i.push(S),p!==64){const A=u<<4&240|p>>2;if(i.push(A),v!==64){const N=p<<6&192|v;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class RM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CM=function(r){const e=zI(r);return jI.encodeByteArray(e,!0)},Zf=function(r){return CM(r).replace(/\./g,"")},qI=function(r){try{return jI.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=()=>PM().__FIREBASE_DEFAULTS__,NM=()=>{if(typeof process>"u"||typeof TE>"u")return;const r=TE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},OM=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&qI(r[1]);return e&&JSON.parse(e)},Op=()=>{try{return kM()||MM()||NM()||OM()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$I=r=>Op()?.emulatorHosts?.[r],LM=r=>{const e=$I(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},KI=()=>Op()?.config,HI=r=>Op()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GI(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zf(JSON.stringify(n)),Zf(JSON.stringify(c)),""].join(".")}const ud={};function UM(){const r={prod:[],emulator:[]};for(const e of Object.keys(ud))ud[e]?r.emulator.push(e):r.prod.push(e);return r}function VM(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let kE=!1;function QI(r,e){if(typeof window>"u"||typeof document>"u"||!Xc(window.location.host)||ud[r]===e||ud[r]||kE)return;ud[r]=e;function n(S){return`__firebase__banner__${S}`}const i="__firebase__banner",o=UM().prod.length>0;function c(){const S=document.getElementById(i);S&&S.remove()}function u(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function h(S,A){S.setAttribute("width","24"),S.setAttribute("id",A),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{kE=!0,c()},S}function m(S,A){S.setAttribute("id",A),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function v(){const S=VM(i),A=n("text"),N=document.getElementById(A)||document.createElement("span"),P=n("learnmore"),O=document.getElementById(P)||document.createElement("a"),z=n("preprendIcon"),j=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const G=S.element;u(G),m(O,P);const te=p();h(j,z),G.append(j,N,O,te),document.body.appendChild(G)}o?(N.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fr())}function WM(){const r=Op()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jM(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $M(){const r=Fr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function KM(){return!WM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HM(){try{return typeof indexedDB=="object"}catch{return!1}}function GM(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="FirebaseError";class Co extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=QM,Object.setPrototypeOf(this,Co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zd.prototype.create)}}class zd{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?YM(o,i):"Error",u=`${this.serviceName}: ${c} (${s}).`;return new Co(s,u,i)}}function YM(r,e){return r.replace(XM,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const XM=/\{\$([^}]+)}/g;function JM(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Sa(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=r[s],c=e[s];if(xE(o)&&xE(c)){if(!Sa(o,c))return!1}else if(o!==c)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function xE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ZM(r,e){const n=new eN(r,e);return n.subscribe.bind(n)}class eN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");tN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Jg),s.error===void 0&&(s.error=Jg),s.complete===void 0&&(s.complete=Jg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tN(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Jg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(r){return r&&r._delegate?r._delegate:r}class pl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new DM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iN(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&c.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:rN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rN(r){return r===Za?void 0:r}function iN(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const oN={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},aN=Ut.INFO,lN={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},cN=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),s=lN[e];if(s)console[s](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bw{constructor(e){this.name=e,this._logLevel=aN,this._logHandler=cN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const uN=(r,e)=>e.some(n=>r instanceof n);let RE,CE;function dN(){return RE||(RE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hN(){return CE||(CE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YI=new WeakMap,A0=new WeakMap,XI=new WeakMap,Zg=new WeakMap,Sw=new WeakMap;function fN(r){const e=new Promise((n,i)=>{const s=()=>{r.removeEventListener("success",o),r.removeEventListener("error",c)},o=()=>{n(ya(r.result)),s()},c=()=>{i(r.error),s()};r.addEventListener("success",o),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&YI.set(n,r)}).catch(()=>{}),Sw.set(e,r),e}function pN(r){if(A0.has(r))return;const e=new Promise((n,i)=>{const s=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",c),r.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",o),r.addEventListener("error",c),r.addEventListener("abort",c)});A0.set(r,e)}let I0={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return A0.get(r);if(e==="objectStoreNames")return r.objectStoreNames||XI.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ya(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function mN(r){I0=r(I0)}function gN(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(ey(this),e,...n);return XI.set(i,e.sort?e.sort():[e]),ya(i)}:hN().includes(r)?function(...e){return r.apply(ey(this),e),ya(YI.get(this))}:function(...e){return ya(r.apply(ey(this),e))}}function yN(r){return typeof r=="function"?gN(r):(r instanceof IDBTransaction&&pN(r),uN(r,dN())?new Proxy(r,I0):r)}function ya(r){if(r instanceof IDBRequest)return fN(r);if(Zg.has(r))return Zg.get(r);const e=yN(r);return e!==r&&(Zg.set(r,e),Sw.set(e,r)),e}const ey=r=>Sw.get(r);function wN(r,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const c=indexedDB.open(r,e),u=ya(c);return i&&c.addEventListener("upgradeneeded",h=>{i(ya(c.result),h.oldVersion,h.newVersion,ya(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const vN=["get","getKey","getAll","getAllKeys","count"],_N=["put","add","delete","clear"],ty=new Map;function PE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ty.get(e))return ty.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=_N.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||vN.includes(n)))return;const o=async function(c,...u){const h=this.transaction(c,s?"readwrite":"readonly");let p=h.store;return i&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),s&&h.done]))[0]};return ty.set(e,o),o}mN(r=>({...r,get:(e,n,i)=>PE(e,n)||r.get(e,n,i),has:(e,n)=>!!PE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function bN(r){return r.getComponent()?.type==="VERSION"}const T0="@firebase/app",ME="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new bw("@firebase/app"),SN="@firebase/app-compat",AN="@firebase/analytics-compat",IN="@firebase/analytics",TN="@firebase/app-check-compat",kN="@firebase/app-check",xN="@firebase/auth",RN="@firebase/auth-compat",CN="@firebase/database",PN="@firebase/data-connect",MN="@firebase/database-compat",NN="@firebase/functions",ON="@firebase/functions-compat",LN="@firebase/installations",DN="@firebase/installations-compat",BN="@firebase/messaging",UN="@firebase/messaging-compat",VN="@firebase/performance",FN="@firebase/performance-compat",WN="@firebase/remote-config",zN="@firebase/remote-config-compat",jN="@firebase/storage",qN="@firebase/storage-compat",$N="@firebase/firestore",KN="@firebase/ai",HN="@firebase/firestore-compat",GN="firebase",QN="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="[DEFAULT]",YN={[T0]:"fire-core",[SN]:"fire-core-compat",[IN]:"fire-analytics",[AN]:"fire-analytics-compat",[kN]:"fire-app-check",[TN]:"fire-app-check-compat",[xN]:"fire-auth",[RN]:"fire-auth-compat",[CN]:"fire-rtdb",[PN]:"fire-data-connect",[MN]:"fire-rtdb-compat",[NN]:"fire-fn",[ON]:"fire-fn-compat",[LN]:"fire-iid",[DN]:"fire-iid-compat",[BN]:"fire-fcm",[UN]:"fire-fcm-compat",[VN]:"fire-perf",[FN]:"fire-perf-compat",[WN]:"fire-rc",[zN]:"fire-rc-compat",[jN]:"fire-gcs",[qN]:"fire-gcs-compat",[$N]:"fire-fst",[HN]:"fire-fst-compat",[KN]:"fire-vertex","fire-js":"fire-js",[GN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=new Map,XN=new Map,x0=new Map;function NE(r,e){try{r.container.addComponent(e)}catch(n){bo.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Lc(r){const e=r.name;if(x0.has(e))return bo.debug(`There were multiple attempts to register component ${e}.`),!1;x0.set(e,r);for(const n of ep.values())NE(n,r);for(const n of XN.values())NE(n,r);return!0}function Aw(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ms(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new zd("app","Firebase",JN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=QN;function JI(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:k0,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw wa.create("bad-app-name",{appName:String(s)});if(n||(n=KI()),!n)throw wa.create("no-options");const o=ep.get(s);if(o){if(Sa(n,o.options)&&Sa(i,o.config))return o;throw wa.create("duplicate-app",{appName:s})}const c=new sN(s);for(const h of x0.values())c.addComponent(h);const u=new ZN(n,i,c);return ep.set(s,u),u}function ZI(r=k0){const e=ep.get(r);if(!e&&r===k0&&KI())return JI();if(!e)throw wa.create("no-app",{appName:r});return e}function va(r,e,n){let i=YN[r]??r;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bo.warn(c.join(" "));return}Lc(new pl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="firebase-heartbeat-database",t4=1,Ed="firebase-heartbeat-store";let ny=null;function eT(){return ny||(ny=wN(e4,t4,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ed)}catch(n){console.warn(n)}}}}).catch(r=>{throw wa.create("idb-open",{originalErrorMessage:r.message})})),ny}async function n4(r){try{const n=(await eT()).transaction(Ed),i=await n.objectStore(Ed).get(tT(r));return await n.done,i}catch(e){if(e instanceof Co)bo.warn(e.message);else{const n=wa.create("idb-get",{originalErrorMessage:e?.message});bo.warn(n.message)}}}async function OE(r,e){try{const i=(await eT()).transaction(Ed,"readwrite");await i.objectStore(Ed).put(e,tT(r)),await i.done}catch(n){if(n instanceof Co)bo.warn(n.message);else{const i=wa.create("idb-set",{originalErrorMessage:n?.message});bo.warn(i.message)}}}function tT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=1024,i4=30;class s4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=LE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>i4){const s=l4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=LE(),{heartbeatsToSend:n,unsentEntries:i}=o4(this._heartbeatsCache.heartbeats),s=Zf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return bo.warn(e),""}}}function LE(){return new Date().toISOString().substring(0,10)}function o4(r,e=r4){const n=[];let i=r.slice();for(const s of r){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),DE(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),DE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class a4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HM()?GM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await n4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return OE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return OE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function DE(r){return Zf(JSON.stringify({version:2,heartbeats:r})).length}function l4(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(r){Lc(new pl("platform-logger",e=>new EN(e),"PRIVATE")),Lc(new pl("heartbeat",e=>new s4(e),"PRIVATE")),va(T0,ME,r),va(T0,ME,"esm2020"),va("fire-js","")}c4("");var u4="firebase",d4="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */va(u4,d4,"app");function nT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h4=nT,rT=new zd("auth","Firebase",nT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new bw("@firebase/auth");function f4(r,...e){tp.logLevel<=Ut.WARN&&tp.warn(`Auth (${Jc}): ${r}`,...e)}function Lf(r,...e){tp.logLevel<=Ut.ERROR&&tp.error(`Auth (${Jc}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(r,...e){throw Iw(r,...e)}function Bs(r,...e){return Iw(r,...e)}function iT(r,e,n){const i={...h4(),[e]:n};return new zd("auth","Firebase",i).create(e,{appName:r.name})}function dl(r){return iT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iw(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return rT.create(r,...e)}function yt(r,e,...n){if(!r)throw Iw(e,...n)}function mo(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Lf(e),new Error(e)}function Ao(r,e){r||mo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(){return typeof self<"u"&&self.location?.href||""}function p4(){return BE()==="http:"||BE()==="https:"}function BE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p4()||jM()||"connection"in navigator)?navigator.onLine:!0}function g4(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ao(n>e,"Short delay should be less than long delay!"),this.isMobile=FM()||qM()}get(){return m4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(r,e){Ao(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],v4=new qd(3e4,6e4);function kw(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Zc(r,e,n,i,s={}){return oT(r,s,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const u=jd({key:r.config.apiKey,...c}).slice(1),h=await r._getAdditionalHeaders();h["Content-Type"]="application/json",r.languageCode&&(h["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:h,...o};return zM()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Xc(r.emulatorConfig.host)&&(p.credentials="include"),sT.fetch()(await aT(r,r.config.apiHost,n,u),p)})}async function oT(r,e,n){r._canInitEmulator=!1;const i={...y4,...e};try{const s=new E4(r),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw pf(r,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(r,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw pf(r,"email-already-in-use",c);if(h==="USER_DISABLED")throw pf(r,"user-disabled",c);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw iT(r,m,p);So(r,m)}}catch(s){if(s instanceof Co)throw s;So(r,"network-request-failed",{message:String(s)})}}async function _4(r,e,n,i,s={}){const o=await Zc(r,e,n,i,s);return"mfaPendingCredential"in o&&So(r,"multi-factor-auth-required",{_serverResponse:o}),o}async function aT(r,e,n,i){const s=`${e}${n}?${i}`,o=r,c=o.config.emulator?Tw(r.config,s):`${r.config.apiScheme}://${s}`;return w4.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class E4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Bs(this.auth,"network-request-failed")),v4.get())})}}function pf(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Bs(r,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(r,e){return Zc(r,"POST","/v1/accounts:delete",e)}async function np(r,e){return Zc(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S4(r,e=!1){const n=Gr(r),i=await n.getIdToken(e),s=xw(i);yt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:i,authTime:dd(ry(s.auth_time)),issuedAtTime:dd(ry(s.iat)),expirationTime:dd(ry(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function ry(r){return Number(r)*1e3}function xw(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const s=qI(n);return s?JSON.parse(s):(Lf("Failed to decode base64 JWT payload"),null)}catch(s){return Lf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function UE(r){const e=xw(r);return yt(e,"internal-error"),yt(typeof e.exp<"u","internal-error"),yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Co&&A4(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function A4({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dd(this.lastLoginAt),this.creationTime=dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(r){const e=r.auth,n=await r.getIdToken(),i=await bd(r,np(e,{idToken:n}));yt(i?.users.length,e,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const o=s.providerUserInfo?.length?lT(s.providerUserInfo):[],c=k4(r.providerData,o),u=r.isAnonymous,h=!(r.email&&s.passwordHash)&&!c?.length,p=u?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new C0(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(r,m)}async function T4(r){const e=Gr(r);await rp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k4(r,e){return[...r.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function lT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(r,e){const n=await oT(r,{},async()=>{const i=jd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=r.config,c=await aT(r,s,"/v1/token",`key=${o}`),u=await r._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:i};return r.emulatorConfig&&Xc(r.emulatorConfig.host)&&(h.credentials="include"),sT.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R4(r,e){return Zc(r,"POST","/v2/accounts:revokeToken",kw(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yt(e.idToken,"internal-error"),yt(typeof e.idToken<"u","internal-error"),yt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){yt(e.length!==0,"internal-error");const n=UE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await x4(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,c=new Ic;return i&&(yt(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(yt(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(yt(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ic,this.toJSON())}_performRefresh(){return mo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(r,e){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class as{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new I4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new C0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bd(this,this.stsTokenManager.getToken(this.auth,e));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return S4(this,e)}reload(){return T4(this)}_assign(e){this!==e&&(yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new as({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await rp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ms(this.auth.app))return Promise.reject(dl(this.auth));const e=await this.getIdToken();return await bd(this,b4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,p=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:v,emailVerified:S,isAnonymous:A,providerData:N,stsTokenManager:P}=n;yt(v&&P,e,"internal-error");const O=Ic.fromJSON(this.name,P);yt(typeof v=="string",e,"internal-error"),Jo(i,e.name),Jo(s,e.name),yt(typeof S=="boolean",e,"internal-error"),yt(typeof A=="boolean",e,"internal-error"),Jo(o,e.name),Jo(c,e.name),Jo(u,e.name),Jo(h,e.name),Jo(p,e.name),Jo(m,e.name);const z=new as({uid:v,auth:e,email:s,emailVerified:S,displayName:i,isAnonymous:A,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:O,createdAt:p,lastLoginAt:m});return N&&Array.isArray(N)&&(z.providerData=N.map(j=>({...j}))),h&&(z._redirectEventId=h),z}static async _fromIdTokenResponse(e,n,i=!1){const s=new Ic;s.updateFromServerResponse(n);const o=new as({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await rp(o),o}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];yt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?lT(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,u=new Ic;u.updateFromIdToken(i);const h=new as({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new C0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function go(r){Ao(r instanceof Function,"Expected a class definition");let e=VE.get(r);return e?(Ao(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,VE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cT.type="NONE";const FE=cT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(r,e,n){return`firebase:${r}:${e}:${n}`}class Tc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Df(this.userKey,s.apiKey,o),this.fullPersistenceKey=Df("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await np(this.auth,{idToken:e}).catch(()=>{});return n?as._fromGetAccountInfoResponse(this.auth,n,e):null}return as._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Tc(go(FE),e,i);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||go(FE);const c=Df(i,e.config.apiKey,e.name);let u=null;for(const p of n)try{const m=await p._get(c);if(m){let v;if(typeof m=="string"){const S=await np(e,{idToken:m}).catch(()=>{});if(!S)break;v=await as._fromGetAccountInfoResponse(e,S,m)}else v=as._fromJSON(e,m);p!==o&&(u=v),o=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Tc(o,e,i):(o=h[0],u&&await o._set(c,u.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Tc(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mT(e))return"Blackberry";if(gT(e))return"Webos";if(dT(e))return"Safari";if((e.includes("chrome/")||hT(e))&&!e.includes("edge/"))return"Chrome";if(pT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function uT(r=Fr()){return/firefox\//i.test(r)}function dT(r=Fr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hT(r=Fr()){return/crios\//i.test(r)}function fT(r=Fr()){return/iemobile/i.test(r)}function pT(r=Fr()){return/android/i.test(r)}function mT(r=Fr()){return/blackberry/i.test(r)}function gT(r=Fr()){return/webos/i.test(r)}function Rw(r=Fr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function C4(r=Fr()){return Rw(r)&&!!window.navigator?.standalone}function P4(){return $M()&&document.documentMode===10}function yT(r=Fr()){return Rw(r)||pT(r)||gT(r)||mT(r)||/windows phone/i.test(r)||fT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(r,e=[]){let n;switch(r){case"Browser":n=WE(Fr());break;case"Worker":n=`${WE(Fr())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((c,u)=>{try{const h=e(o);c(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(r,e={}){return Zc(r,"GET","/v2/passwordPolicy",kw(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=6;class L4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??O4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zE(this),this.idTokenSubscription=new zE(this),this.beforeStateQueue=new M4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=go(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Tc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await np(this,{idToken:e}),i=await as._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ms(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ms(this.app))return Promise.reject(dl(this));const n=e?Gr(e):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ms(this.app)?Promise.reject(dl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ms(this.app)?Promise.reject(dl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(go(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N4(this),n=new L4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zd("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await R4(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&go(e)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await Tc.create(this,[go(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,s);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&f4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Cw(r){return Gr(r)}class zE{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZM(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B4(r){Pw=r}function U4(r){return Pw.loadJS(r)}function V4(){return Pw.gapiScript}function F4(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(r,e){const n=Aw(r,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Sa(o,e??{}))return s;So(s,"already-initialized")}return n.initialize({options:e})}function z4(r,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(go);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function j4(r,e,n){const i=Cw(r);yt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=vT(e),{host:c,port:u}=q4(e),h=u===null?"":`:${u}`,p={url:`${o}//${c}${h}/`},m=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){yt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),yt(Sa(p,i.config.emulator)&&Sa(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,Xc(c)?(GI(`${o}//${c}${h}`),QI("Auth",!0)):$4()}function vT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function q4(r){const e=vT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:jE(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:jE(c)}}}function jE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function $4(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mo("not implemented")}_getIdTokenResponse(e){return mo("not implemented")}_linkToIdToken(e,n){return mo("not implemented")}_getReauthenticationResolver(e){return mo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(r,e){return _4(r,"POST","/v1/accounts:signInWithIdp",kw(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="http://localhost";class ml extends _T{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):So("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...o}=n;if(!i||!s)return null;const c=new ml(i,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return kc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,kc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kc(e,n)}buildRequest(){const e={requestUri:K4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends ET{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends $d{constructor(){super("facebook.com")}static credential(e){return ml._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends $d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ml._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return la.credential(n,i)}catch{return null}}}la.GOOGLE_SIGN_IN_METHOD="google.com";la.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends $d{constructor(){super("github.com")}static credential(e){return ml._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ca.credential(e.oauthAccessToken)}catch{return null}}}ca.GITHUB_SIGN_IN_METHOD="github.com";ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends $d{constructor(){super("twitter.com")}static credential(e,n){return ml._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ua.credential(n,i)}catch{return null}}}ua.TWITTER_SIGN_IN_METHOD="twitter.com";ua.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await as._fromIdTokenResponse(e,i,s),c=qE(i);return new Dc({user:o,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=qE(i);return new Dc({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function qE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends Co{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,ip.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new ip(e,n,i,s)}}function bT(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ip._fromErrorAndOperation(r,o,e,i):o})}async function H4(r,e,n=!1){const i=await bd(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Dc._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(r,e,n=!1){const{auth:i}=r;if(Ms(i.app))return Promise.reject(dl(i));const s="reauthenticate";try{const o=await bd(r,bT(i,s,e,r),n);yt(o.idToken,i,"internal-error");const c=xw(o.idToken);yt(c,i,"internal-error");const{sub:u}=c;return yt(r.uid===u,i,"user-mismatch"),Dc._forOperation(r,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&So(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(r,e,n=!1){if(Ms(r.app))return Promise.reject(dl(r));const i="signIn",s=await bT(r,i,e),o=await Dc._fromIdTokenResponse(r,i,s);return n||await r._updateCurrentUser(o.user),o}function Y4(r,e,n,i){return Gr(r).onIdTokenChanged(e,n,i)}function X4(r,e,n){return Gr(r).beforeAuthStateChanged(e,n)}const sp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sp,"1"),this.storage.removeItem(sp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=1e3,Z4=10;class AT extends ST{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,u,h)=>{this.notifyListeners(c,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);P4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Z4):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},J4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AT.type="LOCAL";const e3=AT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends ST{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IT.type="SESSION";const TT=IT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Lp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,c=this.handlersMap[s];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(c).map(async p=>p(n.origin,o)),h=await t3(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((u,h)=>{const p=Mw("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(v){const S=v;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(S.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(){return window}function r3(r){Us().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){return typeof Us().WorkerGlobalScope<"u"&&typeof Us().importScripts=="function"}async function i3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s3(){return navigator?.serviceWorker?.controller||null}function o3(){return kT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firebaseLocalStorageDb",a3=1,op="firebaseLocalStorage",RT="fbase_key";class Kd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dp(r,e){return r.transaction([op],e?"readwrite":"readonly").objectStore(op)}function l3(){const r=indexedDB.deleteDatabase(xT);return new Kd(r).toPromise()}function P0(){const r=indexedDB.open(xT,a3);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(op,{keyPath:RT})}catch(s){n(s)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(op)?e(i):(i.close(),await l3(),e(await P0()))})})}async function $E(r,e,n){const i=Dp(r,!0).put({[RT]:e,value:n});return new Kd(i).toPromise()}async function c3(r,e){const n=Dp(r,!1).get(e),i=await new Kd(n).toPromise();return i===void 0?null:i.value}function KE(r,e){const n=Dp(r,!0).delete(e);return new Kd(n).toPromise()}const u3=800,d3=3;class CT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>d3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lp._getInstance(o3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await i3(),!this.activeServiceWorker)return;this.sender=new n3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P0();return await $E(e,sp,"1"),await KE(e,sp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>$E(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>c3(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Dp(s,!1).getAll();return new Kd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CT.type="LOCAL";const h3=CT;new qd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(r,e){return e?go(e):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw extends _T{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function p3(r){return Q4(r.auth,new Nw(r),r.bypassAuthState)}function m3(r){const{auth:e,user:n}=r;return yt(n,e,"internal-error"),G4(n,new Nw(r),r.bypassAuthState)}async function g3(r){const{auth:e,user:n}=r;return yt(n,e,"internal-error"),H4(n,new Nw(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p3;case"linkViaPopup":case"linkViaRedirect":return g3;case"reauthViaPopup":case"reauthViaRedirect":return m3;default:So(this.auth,"internal-error")}}resolve(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new qd(2e3,1e4);class vc extends PT{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,vc.currentPopupAction&&vc.currentPopupAction.cancel(),vc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yt(e,this.auth,"internal-error"),e}async onExecution(){Ao(this.filter.length===1,"Popup operations only handle one event");const e=Mw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y3.get())};e()}}vc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="pendingRedirect",Bf=new Map;class v3 extends PT{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Bf.get(this.auth._key());if(!e){try{const i=await _3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _3(r,e){const n=S3(e),i=b3(r);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function E3(r,e){Bf.set(r._key(),e)}function b3(r){return go(r._redirectPersistence)}function S3(r){return Df(w3,r.config.apiKey,r.name)}async function A3(r,e,n=!1){if(Ms(r.app))return Promise.reject(dl(r));const i=Cw(r),s=f3(i,e),c=await new v3(i,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=600*1e3;class T3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!MT(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I3&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(e))}saveEventToCache(e){this.cachedEventUids.add(HE(e)),this.lastProcessedEventTime=Date.now()}}function HE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function MT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function k3(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(r,e={}){return Zc(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C3=/^https?/;async function P3(r){if(r.config.emulator)return;const{authorizedDomains:e}=await x3(r);for(const n of e)try{if(M3(n))return}catch{}So(r,"unauthorized-domain")}function M3(r){const e=R0(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!C3.test(n))return!1;if(R3.test(r))return i===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new qd(3e4,6e4);function GE(){const r=Us().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function O3(r){return new Promise((e,n)=>{function i(){GE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GE(),n(Bs(r,"network-request-failed"))},timeout:N3.get()})}if(Us().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Us().gapi?.load)i();else{const s=F4("iframefcb");return Us()[s]=()=>{gapi.load?i():n(Bs(r,"network-request-failed"))},U4(`${V4()}?onload=${s}`).catch(o=>n(o))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function L3(r){return Uf=Uf||O3(r),Uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new qd(5e3,15e3),B3="__/auth/iframe",U3="emulator/auth/iframe",V3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W3(r){const e=r.config;yt(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Tw(e,U3):`https://${r.config.authDomain}/${B3}`,i={apiKey:e.apiKey,appName:r.name,v:Jc},s=F3.get(r.config.apiHost);s&&(i.eid=s);const o=r._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${jd(i).slice(1)}`}async function z3(r){const e=await L3(r),n=Us().gapi;return yt(n,r,"internal-error"),e.open({where:document.body,url:W3(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V3,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const c=Bs(r,"network-request-failed"),u=Us().setTimeout(()=>{o(c)},D3.get());function h(){Us().clearTimeout(u),s(i)}i.ping(h).then(h,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q3=500,$3=600,K3="_blank",H3="http://localhost";class QE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G3(r,e,n,i=q3,s=$3){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h={...j3,width:i.toString(),height:s.toString(),top:o,left:c},p=Fr().toLowerCase();n&&(u=hT(p)?K3:n),uT(p)&&(e=e||H3,h.scrollbars="yes");const m=Object.entries(h).reduce((S,[A,N])=>`${S}${A}=${N},`,"");if(C4(p)&&u!=="_self")return Q3(e||"",u),new QE(null);const v=window.open(e||"",u,m);yt(v,r,"popup-blocked");try{v.focus()}catch{}return new QE(v)}function Q3(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="__/auth/handler",X3="emulator/auth/handler",J3=encodeURIComponent("fac");async function YE(r,e,n,i,s,o){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:Jc,eventId:s};if(e instanceof ET){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",JM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))c[m]=v}if(e instanceof $d){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(c.scopes=m.join(","))}r.tenantId&&(c.tid=r.tenantId);const u=c;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await r._getAppCheckToken(),p=h?`#${J3}=${encodeURIComponent(h)}`:"";return`${Z3(r)}?${jd(u).slice(1)}${p}`}function Z3({config:r}){return r.emulator?Tw(r,X3):`https://${r.authDomain}/${Y3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="webStorageSupport";class eO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TT,this._completeRedirectFn=A3,this._overrideRedirectResult=E3}async _openPopup(e,n,i,s){Ao(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await YE(e,n,i,R0(),s);return G3(e,o,Mw())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await YE(e,n,i,R0(),s);return r3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ao(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await z3(e),i=new T3(e);return n.register("authEvent",s=>(yt(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(iy,{type:iy},s=>{const o=s?.[0]?.[iy];o!==void 0&&n(!!o),So(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=P3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yT()||dT()||Rw()}}const tO=eO;var XE="@firebase/auth",JE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iO(r){Lc(new pl("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=i.options;yt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:c,authDomain:u,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wT(r)},p=new D4(i,s,o,h);return z4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Lc(new pl("auth-internal",e=>{const n=Cw(e.getProvider("auth").getImmediate());return(i=>new nO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),va(XE,JE,rO(r)),va(XE,JE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=300,oO=HI("authIdTokenMaxAge")||sO;let ZE=null;const aO=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>oO)return;const s=n?.token;ZE!==s&&(ZE=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function lO(r=ZI()){const e=Aw(r,"auth");if(e.isInitialized())return e.getImmediate();const n=W4(r,{popupRedirectResolver:tO,persistence:[h3,e3,TT]}),i=HI("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=aO(o.toString());X4(n,c,()=>c(n.currentUser)),Y4(n,u=>c(u))}}const s=$I("auth");return s&&j4(n,`http://${s}`),n}function cO(){return document.getElementsByTagName("head")?.[0]??document}B4({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=s=>{const o=Bs("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",cO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iO("Browser");var eb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _a,NT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Q,V){function M(){}M.prototype=V.prototype,Q.D=V.prototype,Q.prototype=new M,Q.prototype.constructor=Q,Q.C=function(D,F,W){for(var b=Array(arguments.length-2),y=2;y<arguments.length;y++)b[y-2]=arguments[y];return V.prototype[F].apply(D,b)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(Q,V,M){M||(M=0);var D=Array(16);if(typeof V=="string")for(var F=0;16>F;++F)D[F]=V.charCodeAt(M++)|V.charCodeAt(M++)<<8|V.charCodeAt(M++)<<16|V.charCodeAt(M++)<<24;else for(F=0;16>F;++F)D[F]=V[M++]|V[M++]<<8|V[M++]<<16|V[M++]<<24;V=Q.g[0],M=Q.g[1],F=Q.g[2];var W=Q.g[3],b=V+(W^M&(F^W))+D[0]+3614090360&4294967295;V=M+(b<<7&4294967295|b>>>25),b=W+(F^V&(M^F))+D[1]+3905402710&4294967295,W=V+(b<<12&4294967295|b>>>20),b=F+(M^W&(V^M))+D[2]+606105819&4294967295,F=W+(b<<17&4294967295|b>>>15),b=M+(V^F&(W^V))+D[3]+3250441966&4294967295,M=F+(b<<22&4294967295|b>>>10),b=V+(W^M&(F^W))+D[4]+4118548399&4294967295,V=M+(b<<7&4294967295|b>>>25),b=W+(F^V&(M^F))+D[5]+1200080426&4294967295,W=V+(b<<12&4294967295|b>>>20),b=F+(M^W&(V^M))+D[6]+2821735955&4294967295,F=W+(b<<17&4294967295|b>>>15),b=M+(V^F&(W^V))+D[7]+4249261313&4294967295,M=F+(b<<22&4294967295|b>>>10),b=V+(W^M&(F^W))+D[8]+1770035416&4294967295,V=M+(b<<7&4294967295|b>>>25),b=W+(F^V&(M^F))+D[9]+2336552879&4294967295,W=V+(b<<12&4294967295|b>>>20),b=F+(M^W&(V^M))+D[10]+4294925233&4294967295,F=W+(b<<17&4294967295|b>>>15),b=M+(V^F&(W^V))+D[11]+2304563134&4294967295,M=F+(b<<22&4294967295|b>>>10),b=V+(W^M&(F^W))+D[12]+1804603682&4294967295,V=M+(b<<7&4294967295|b>>>25),b=W+(F^V&(M^F))+D[13]+4254626195&4294967295,W=V+(b<<12&4294967295|b>>>20),b=F+(M^W&(V^M))+D[14]+2792965006&4294967295,F=W+(b<<17&4294967295|b>>>15),b=M+(V^F&(W^V))+D[15]+1236535329&4294967295,M=F+(b<<22&4294967295|b>>>10),b=V+(F^W&(M^F))+D[1]+4129170786&4294967295,V=M+(b<<5&4294967295|b>>>27),b=W+(M^F&(V^M))+D[6]+3225465664&4294967295,W=V+(b<<9&4294967295|b>>>23),b=F+(V^M&(W^V))+D[11]+643717713&4294967295,F=W+(b<<14&4294967295|b>>>18),b=M+(W^V&(F^W))+D[0]+3921069994&4294967295,M=F+(b<<20&4294967295|b>>>12),b=V+(F^W&(M^F))+D[5]+3593408605&4294967295,V=M+(b<<5&4294967295|b>>>27),b=W+(M^F&(V^M))+D[10]+38016083&4294967295,W=V+(b<<9&4294967295|b>>>23),b=F+(V^M&(W^V))+D[15]+3634488961&4294967295,F=W+(b<<14&4294967295|b>>>18),b=M+(W^V&(F^W))+D[4]+3889429448&4294967295,M=F+(b<<20&4294967295|b>>>12),b=V+(F^W&(M^F))+D[9]+568446438&4294967295,V=M+(b<<5&4294967295|b>>>27),b=W+(M^F&(V^M))+D[14]+3275163606&4294967295,W=V+(b<<9&4294967295|b>>>23),b=F+(V^M&(W^V))+D[3]+4107603335&4294967295,F=W+(b<<14&4294967295|b>>>18),b=M+(W^V&(F^W))+D[8]+1163531501&4294967295,M=F+(b<<20&4294967295|b>>>12),b=V+(F^W&(M^F))+D[13]+2850285829&4294967295,V=M+(b<<5&4294967295|b>>>27),b=W+(M^F&(V^M))+D[2]+4243563512&4294967295,W=V+(b<<9&4294967295|b>>>23),b=F+(V^M&(W^V))+D[7]+1735328473&4294967295,F=W+(b<<14&4294967295|b>>>18),b=M+(W^V&(F^W))+D[12]+2368359562&4294967295,M=F+(b<<20&4294967295|b>>>12),b=V+(M^F^W)+D[5]+4294588738&4294967295,V=M+(b<<4&4294967295|b>>>28),b=W+(V^M^F)+D[8]+2272392833&4294967295,W=V+(b<<11&4294967295|b>>>21),b=F+(W^V^M)+D[11]+1839030562&4294967295,F=W+(b<<16&4294967295|b>>>16),b=M+(F^W^V)+D[14]+4259657740&4294967295,M=F+(b<<23&4294967295|b>>>9),b=V+(M^F^W)+D[1]+2763975236&4294967295,V=M+(b<<4&4294967295|b>>>28),b=W+(V^M^F)+D[4]+1272893353&4294967295,W=V+(b<<11&4294967295|b>>>21),b=F+(W^V^M)+D[7]+4139469664&4294967295,F=W+(b<<16&4294967295|b>>>16),b=M+(F^W^V)+D[10]+3200236656&4294967295,M=F+(b<<23&4294967295|b>>>9),b=V+(M^F^W)+D[13]+681279174&4294967295,V=M+(b<<4&4294967295|b>>>28),b=W+(V^M^F)+D[0]+3936430074&4294967295,W=V+(b<<11&4294967295|b>>>21),b=F+(W^V^M)+D[3]+3572445317&4294967295,F=W+(b<<16&4294967295|b>>>16),b=M+(F^W^V)+D[6]+76029189&4294967295,M=F+(b<<23&4294967295|b>>>9),b=V+(M^F^W)+D[9]+3654602809&4294967295,V=M+(b<<4&4294967295|b>>>28),b=W+(V^M^F)+D[12]+3873151461&4294967295,W=V+(b<<11&4294967295|b>>>21),b=F+(W^V^M)+D[15]+530742520&4294967295,F=W+(b<<16&4294967295|b>>>16),b=M+(F^W^V)+D[2]+3299628645&4294967295,M=F+(b<<23&4294967295|b>>>9),b=V+(F^(M|~W))+D[0]+4096336452&4294967295,V=M+(b<<6&4294967295|b>>>26),b=W+(M^(V|~F))+D[7]+1126891415&4294967295,W=V+(b<<10&4294967295|b>>>22),b=F+(V^(W|~M))+D[14]+2878612391&4294967295,F=W+(b<<15&4294967295|b>>>17),b=M+(W^(F|~V))+D[5]+4237533241&4294967295,M=F+(b<<21&4294967295|b>>>11),b=V+(F^(M|~W))+D[12]+1700485571&4294967295,V=M+(b<<6&4294967295|b>>>26),b=W+(M^(V|~F))+D[3]+2399980690&4294967295,W=V+(b<<10&4294967295|b>>>22),b=F+(V^(W|~M))+D[10]+4293915773&4294967295,F=W+(b<<15&4294967295|b>>>17),b=M+(W^(F|~V))+D[1]+2240044497&4294967295,M=F+(b<<21&4294967295|b>>>11),b=V+(F^(M|~W))+D[8]+1873313359&4294967295,V=M+(b<<6&4294967295|b>>>26),b=W+(M^(V|~F))+D[15]+4264355552&4294967295,W=V+(b<<10&4294967295|b>>>22),b=F+(V^(W|~M))+D[6]+2734768916&4294967295,F=W+(b<<15&4294967295|b>>>17),b=M+(W^(F|~V))+D[13]+1309151649&4294967295,M=F+(b<<21&4294967295|b>>>11),b=V+(F^(M|~W))+D[4]+4149444226&4294967295,V=M+(b<<6&4294967295|b>>>26),b=W+(M^(V|~F))+D[11]+3174756917&4294967295,W=V+(b<<10&4294967295|b>>>22),b=F+(V^(W|~M))+D[2]+718787259&4294967295,F=W+(b<<15&4294967295|b>>>17),b=M+(W^(F|~V))+D[9]+3951481745&4294967295,Q.g[0]=Q.g[0]+V&4294967295,Q.g[1]=Q.g[1]+(F+(b<<21&4294967295|b>>>11))&4294967295,Q.g[2]=Q.g[2]+F&4294967295,Q.g[3]=Q.g[3]+W&4294967295}i.prototype.u=function(Q,V){V===void 0&&(V=Q.length);for(var M=V-this.blockSize,D=this.B,F=this.h,W=0;W<V;){if(F==0)for(;W<=M;)s(this,Q,W),W+=this.blockSize;if(typeof Q=="string"){for(;W<V;)if(D[F++]=Q.charCodeAt(W++),F==this.blockSize){s(this,D),F=0;break}}else for(;W<V;)if(D[F++]=Q[W++],F==this.blockSize){s(this,D),F=0;break}}this.h=F,this.o+=V},i.prototype.v=function(){var Q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Q[0]=128;for(var V=1;V<Q.length-8;++V)Q[V]=0;var M=8*this.o;for(V=Q.length-8;V<Q.length;++V)Q[V]=M&255,M/=256;for(this.u(Q),Q=Array(16),V=M=0;4>V;++V)for(var D=0;32>D;D+=8)Q[M++]=this.g[V]>>>D&255;return Q};function o(Q,V){var M=u;return Object.prototype.hasOwnProperty.call(M,Q)?M[Q]:M[Q]=V(Q)}function c(Q,V){this.h=V;for(var M=[],D=!0,F=Q.length-1;0<=F;F--){var W=Q[F]|0;D&&W==V||(M[F]=W,D=!1)}this.g=M}var u={};function h(Q){return-128<=Q&&128>Q?o(Q,function(V){return new c([V|0],0>V?-1:0)}):new c([Q|0],0>Q?-1:0)}function p(Q){if(isNaN(Q)||!isFinite(Q))return v;if(0>Q)return O(p(-Q));for(var V=[],M=1,D=0;Q>=M;D++)V[D]=Q/M|0,M*=4294967296;return new c(V,0)}function m(Q,V){if(Q.length==0)throw Error("number format error: empty string");if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(Q.charAt(0)=="-")return O(m(Q.substring(1),V));if(0<=Q.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=p(Math.pow(V,8)),D=v,F=0;F<Q.length;F+=8){var W=Math.min(8,Q.length-F),b=parseInt(Q.substring(F,F+W),V);8>W?(W=p(Math.pow(V,W)),D=D.j(W).add(p(b))):(D=D.j(M),D=D.add(p(b)))}return D}var v=h(0),S=h(1),A=h(16777216);r=c.prototype,r.m=function(){if(P(this))return-O(this).m();for(var Q=0,V=1,M=0;M<this.g.length;M++){var D=this.i(M);Q+=(0<=D?D:4294967296+D)*V,V*=4294967296}return Q},r.toString=function(Q){if(Q=Q||10,2>Q||36<Q)throw Error("radix out of range: "+Q);if(N(this))return"0";if(P(this))return"-"+O(this).toString(Q);for(var V=p(Math.pow(Q,6)),M=this,D="";;){var F=te(M,V).g;M=z(M,F.j(V));var W=((0<M.g.length?M.g[0]:M.h)>>>0).toString(Q);if(M=F,N(M))return W+D;for(;6>W.length;)W="0"+W;D=W+D}},r.i=function(Q){return 0>Q?0:Q<this.g.length?this.g[Q]:this.h};function N(Q){if(Q.h!=0)return!1;for(var V=0;V<Q.g.length;V++)if(Q.g[V]!=0)return!1;return!0}function P(Q){return Q.h==-1}r.l=function(Q){return Q=z(this,Q),P(Q)?-1:N(Q)?0:1};function O(Q){for(var V=Q.g.length,M=[],D=0;D<V;D++)M[D]=~Q.g[D];return new c(M,~Q.h).add(S)}r.abs=function(){return P(this)?O(this):this},r.add=function(Q){for(var V=Math.max(this.g.length,Q.g.length),M=[],D=0,F=0;F<=V;F++){var W=D+(this.i(F)&65535)+(Q.i(F)&65535),b=(W>>>16)+(this.i(F)>>>16)+(Q.i(F)>>>16);D=b>>>16,W&=65535,b&=65535,M[F]=b<<16|W}return new c(M,M[M.length-1]&-2147483648?-1:0)};function z(Q,V){return Q.add(O(V))}r.j=function(Q){if(N(this)||N(Q))return v;if(P(this))return P(Q)?O(this).j(O(Q)):O(O(this).j(Q));if(P(Q))return O(this.j(O(Q)));if(0>this.l(A)&&0>Q.l(A))return p(this.m()*Q.m());for(var V=this.g.length+Q.g.length,M=[],D=0;D<2*V;D++)M[D]=0;for(D=0;D<this.g.length;D++)for(var F=0;F<Q.g.length;F++){var W=this.i(D)>>>16,b=this.i(D)&65535,y=Q.i(F)>>>16,I=Q.i(F)&65535;M[2*D+2*F]+=b*I,j(M,2*D+2*F),M[2*D+2*F+1]+=W*I,j(M,2*D+2*F+1),M[2*D+2*F+1]+=b*y,j(M,2*D+2*F+1),M[2*D+2*F+2]+=W*y,j(M,2*D+2*F+2)}for(D=0;D<V;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=V;D<2*V;D++)M[D]=0;return new c(M,0)};function j(Q,V){for(;(Q[V]&65535)!=Q[V];)Q[V+1]+=Q[V]>>>16,Q[V]&=65535,V++}function G(Q,V){this.g=Q,this.h=V}function te(Q,V){if(N(V))throw Error("division by zero");if(N(Q))return new G(v,v);if(P(Q))return V=te(O(Q),V),new G(O(V.g),O(V.h));if(P(V))return V=te(Q,O(V)),new G(O(V.g),V.h);if(30<Q.g.length){if(P(Q)||P(V))throw Error("slowDivide_ only works with positive integers.");for(var M=S,D=V;0>=D.l(Q);)M=ae(M),D=ae(D);var F=se(M,1),W=se(D,1);for(D=se(D,2),M=se(M,2);!N(D);){var b=W.add(D);0>=b.l(Q)&&(F=F.add(M),W=b),D=se(D,1),M=se(M,1)}return V=z(Q,F.j(V)),new G(F,V)}for(F=v;0<=Q.l(V);){for(M=Math.max(1,Math.floor(Q.m()/V.m())),D=Math.ceil(Math.log(M)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),W=p(M),b=W.j(V);P(b)||0<b.l(Q);)M-=D,W=p(M),b=W.j(V);N(W)&&(W=S),F=F.add(W),Q=z(Q,b)}return new G(F,Q)}r.A=function(Q){return te(this,Q).h},r.and=function(Q){for(var V=Math.max(this.g.length,Q.g.length),M=[],D=0;D<V;D++)M[D]=this.i(D)&Q.i(D);return new c(M,this.h&Q.h)},r.or=function(Q){for(var V=Math.max(this.g.length,Q.g.length),M=[],D=0;D<V;D++)M[D]=this.i(D)|Q.i(D);return new c(M,this.h|Q.h)},r.xor=function(Q){for(var V=Math.max(this.g.length,Q.g.length),M=[],D=0;D<V;D++)M[D]=this.i(D)^Q.i(D);return new c(M,this.h^Q.h)};function ae(Q){for(var V=Q.g.length+1,M=[],D=0;D<V;D++)M[D]=Q.i(D)<<1|Q.i(D-1)>>>31;return new c(M,Q.h)}function se(Q,V){var M=V>>5;V%=32;for(var D=Q.g.length-M,F=[],W=0;W<D;W++)F[W]=0<V?Q.i(W+M)>>>V|Q.i(W+M+1)<<32-V:Q.i(W+M);return new c(F,Q.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,NT=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=m,_a=c}).apply(typeof eb<"u"?eb:typeof self<"u"?self:typeof window<"u"?window:{});var mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OT,id,LT,Vf,M0,DT,BT,UT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,T,L){return f==Array.prototype||f==Object.prototype||(f[T]=L.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof mf=="object"&&mf];for(var T=0;T<f.length;++T){var L=f[T];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var i=n(this);function s(f,T){if(T)e:{var L=i;f=f.split(".");for(var J=0;J<f.length-1;J++){var ge=f[J];if(!(ge in L))break e;L=L[ge]}f=f[f.length-1],J=L[f],T=T(J),T!=J&&T!=null&&e(L,f,{configurable:!0,writable:!0,value:T})}}function o(f,T){f instanceof String&&(f+="");var L=0,J=!1,ge={next:function(){if(!J&&L<f.length){var Ae=L++;return{value:T(Ae,f[Ae]),done:!1}}return J=!0,{done:!0,value:void 0}}};return ge[Symbol.iterator]=function(){return ge},ge}s("Array.prototype.values",function(f){return f||function(){return o(this,function(T,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function h(f){var T=typeof f;return T=T!="object"?T:f?Array.isArray(f)?"array":T:"null",T=="array"||T=="object"&&typeof f.length=="number"}function p(f){var T=typeof f;return T=="object"&&f!=null||T=="function"}function m(f,T,L){return f.call.apply(f.bind,arguments)}function v(f,T,L){if(!f)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var ge=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ge,J),f.apply(T,ge)}}return function(){return f.apply(T,arguments)}}function S(f,T,L){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,S.apply(null,arguments)}function A(f,T){var L=Array.prototype.slice.call(arguments,1);return function(){var J=L.slice();return J.push.apply(J,arguments),f.apply(this,J)}}function N(f,T){function L(){}L.prototype=T.prototype,f.aa=T.prototype,f.prototype=new L,f.prototype.constructor=f,f.Qb=function(J,ge,Ae){for(var Ve=Array(arguments.length-2),pn=2;pn<arguments.length;pn++)Ve[pn-2]=arguments[pn];return T.prototype[ge].apply(J,Ve)}}function P(f){const T=f.length;if(0<T){const L=Array(T);for(let J=0;J<T;J++)L[J]=f[J];return L}return[]}function O(f,T){for(let L=1;L<arguments.length;L++){const J=arguments[L];if(h(J)){const ge=f.length||0,Ae=J.length||0;f.length=ge+Ae;for(let Ve=0;Ve<Ae;Ve++)f[ge+Ve]=J[Ve]}else f.push(J)}}class z{constructor(T,L){this.i=T,this.j=L,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function j(f){return/^[\s\xa0]*$/.test(f)}function G(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function te(f){return te[" "](f),f}te[" "]=function(){};var ae=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function se(f,T,L){for(const J in f)T.call(L,f[J],J,f)}function Q(f,T){for(const L in f)T.call(void 0,f[L],L,f)}function V(f){const T={};for(const L in f)T[L]=f[L];return T}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(f,T){let L,J;for(let ge=1;ge<arguments.length;ge++){J=arguments[ge];for(L in J)f[L]=J[L];for(let Ae=0;Ae<M.length;Ae++)L=M[Ae],Object.prototype.hasOwnProperty.call(J,L)&&(f[L]=J[L])}}function F(f){var T=1;f=f.split(":");const L=[];for(;0<T&&f.length;)L.push(f.shift()),T--;return f.length&&L.push(f.join(":")),L}function W(f){u.setTimeout(()=>{throw f},0)}function b(){var f=X;let T=null;return f.g&&(T=f.g,f.g=f.g.next,f.g||(f.h=null),T.next=null),T}class y{constructor(){this.h=this.g=null}add(T,L){const J=I.get();J.set(T,L),this.h?this.h.next=J:this.g=J,this.h=J}}var I=new z(()=>new B,f=>f.reset());class B{constructor(){this.next=this.g=this.h=null}set(T,L){this.h=T,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let H,q=!1,X=new y,ee=()=>{const f=u.Promise.resolve(void 0);H=()=>{f.then(C)}};var C=()=>{for(var f;f=b();){try{f.h.call(f.g)}catch(L){W(L)}var T=I;T.j(f),100>T.h&&(T.h++,f.next=T.g,T.g=f)}q=!1};function w(){this.s=this.s,this.C=this.C}w.prototype.s=!1,w.prototype.ma=function(){this.s||(this.s=!0,this.N())},w.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _(f,T){this.type=f,this.g=this.target=T,this.defaultPrevented=!1}_.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,T=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const L=()=>{};u.addEventListener("test",L,T),u.removeEventListener("test",L,T)}catch{}return f})();function Y(f,T){if(_.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var L=this.type=f.type,J=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=T,T=f.relatedTarget){if(ae){e:{try{te(T.nodeName);var ge=!0;break e}catch{}ge=!1}ge||(T=null)}}else L=="mouseover"?T=f.fromElement:L=="mouseout"&&(T=f.toElement);this.relatedTarget=T,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ie[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Y.aa.h.call(this)}}N(Y,_);var ie={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Te(f,T,L,J,ge){this.listener=f,this.proxy=null,this.src=T,this.type=L,this.capture=!!J,this.ha=ge,this.key=++Se,this.da=this.fa=!1}function Je(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ht(f){this.src=f,this.g={},this.h=0}ht.prototype.add=function(f,T,L,J,ge){var Ae=f.toString();f=this.g[Ae],f||(f=this.g[Ae]=[],this.h++);var Ve=wn(f,T,J,ge);return-1<Ve?(T=f[Ve],L||(T.fa=!1)):(T=new Te(T,this.src,Ae,!!J,ge),T.fa=L,f.push(T)),T};function St(f,T){var L=T.type;if(L in f.g){var J=f.g[L],ge=Array.prototype.indexOf.call(J,T,void 0),Ae;(Ae=0<=ge)&&Array.prototype.splice.call(J,ge,1),Ae&&(Je(T),f.g[L].length==0&&(delete f.g[L],f.h--))}}function wn(f,T,L,J){for(var ge=0;ge<f.length;++ge){var Ae=f[ge];if(!Ae.da&&Ae.listener==T&&Ae.capture==!!L&&Ae.ha==J)return ge}return-1}var At="closure_lm_"+(1e6*Math.random()|0),$t={};function kr(f,T,L,J,ge){if(Array.isArray(T)){for(var Ae=0;Ae<T.length;Ae++)kr(f,T[Ae],L,J,ge);return null}return L=Vn(L),f&&f[ue]?f.K(T,L,p(J)?!!J.capture:!1,ge):Wt(f,T,L,!1,J,ge)}function Wt(f,T,L,J,ge,Ae){if(!T)throw Error("Invalid event type");var Ve=p(ge)?!!ge.capture:!!ge,pn=Dt(f);if(pn||(f[At]=pn=new ht(f)),L=pn.add(T,L,J,Ve,Ae),L.proxy)return L;if(J=Kt(),L.proxy=J,J.src=f,J.listener=L,f.addEventListener)U||(ge=Ve),ge===void 0&&(ge=!1),f.addEventListener(T.toString(),J,ge);else if(f.attachEvent)f.attachEvent(xt(T.toString()),J);else if(f.addListener&&f.removeListener)f.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Kt(){function f(L){return T.call(f.src,f.listener,L)}const T=xn;return f}function pr(f,T,L,J,ge){if(Array.isArray(T))for(var Ae=0;Ae<T.length;Ae++)pr(f,T[Ae],L,J,ge);else J=p(J)?!!J.capture:!!J,L=Vn(L),f&&f[ue]?(f=f.i,T=String(T).toString(),T in f.g&&(Ae=f.g[T],L=wn(Ae,L,J,ge),-1<L&&(Je(Ae[L]),Array.prototype.splice.call(Ae,L,1),Ae.length==0&&(delete f.g[T],f.h--)))):f&&(f=Dt(f))&&(T=f.g[T.toString()],f=-1,T&&(f=wn(T,L,J,ge)),(L=-1<f?T[f]:null)&&Pt(L))}function Pt(f){if(typeof f!="number"&&f&&!f.da){var T=f.src;if(T&&T[ue])St(T.i,f);else{var L=f.type,J=f.proxy;T.removeEventListener?T.removeEventListener(L,J,f.capture):T.detachEvent?T.detachEvent(xt(L),J):T.addListener&&T.removeListener&&T.removeListener(J),(L=Dt(T))?(St(L,f),L.h==0&&(L.src=null,T[At]=null)):Je(f)}}}function xt(f){return f in $t?$t[f]:$t[f]="on"+f}function xn(f,T){if(f.da)f=!0;else{T=new Y(T,this);var L=f.listener,J=f.ha||f.src;f.fa&&Pt(f),f=L.call(J,T)}return f}function Dt(f){return f=f[At],f instanceof ht?f:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vn(f){return typeof f=="function"?f:(f[Ht]||(f[Ht]=function(T){return f.handleEvent(T)}),f[Ht])}function wt(){w.call(this),this.i=new ht(this),this.M=this,this.F=null}N(wt,w),wt.prototype[ue]=!0,wt.prototype.removeEventListener=function(f,T,L,J){pr(this,f,T,L,J)};function $(f,T){var L,J=f.F;if(J)for(L=[];J;J=J.F)L.push(J);if(f=f.M,J=T.type||T,typeof T=="string")T=new _(T,f);else if(T instanceof _)T.target=T.target||f;else{var ge=T;T=new _(J,f),D(T,ge)}if(ge=!0,L)for(var Ae=L.length-1;0<=Ae;Ae--){var Ve=T.g=L[Ae];ge=k(Ve,J,!0,T)&&ge}if(Ve=T.g=f,ge=k(Ve,J,!0,T)&&ge,ge=k(Ve,J,!1,T)&&ge,L)for(Ae=0;Ae<L.length;Ae++)Ve=T.g=L[Ae],ge=k(Ve,J,!1,T)&&ge}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var f=this.i,T;for(T in f.g){for(var L=f.g[T],J=0;J<L.length;J++)Je(L[J]);delete f.g[T],f.h--}}this.F=null},wt.prototype.K=function(f,T,L,J){return this.i.add(String(f),T,!1,L,J)},wt.prototype.L=function(f,T,L,J){return this.i.add(String(f),T,!0,L,J)};function k(f,T,L,J){if(T=f.i.g[String(T)],!T)return!0;T=T.concat();for(var ge=!0,Ae=0;Ae<T.length;++Ae){var Ve=T[Ae];if(Ve&&!Ve.da&&Ve.capture==L){var pn=Ve.listener,er=Ve.ha||Ve.src;Ve.fa&&St(f.i,Ve),ge=pn.call(er,J)!==!1&&ge}}return ge&&!J.defaultPrevented}function R(f,T,L){if(typeof f=="function")L&&(f=S(f,L));else if(f&&typeof f.handleEvent=="function")f=S(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:u.setTimeout(f,T||0)}function Z(f){f.g=R(()=>{f.g=null,f.i&&(f.i=!1,Z(f))},f.l);const T=f.h;f.h=null,f.m.apply(null,T)}class de extends w{constructor(T,L){super(),this.m=T,this.l=L,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Z(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function me(f){w.call(this),this.h=f,this.g={}}N(me,w);var be=[];function ct(f){se(f.g,function(T,L){this.g.hasOwnProperty(L)&&Pt(T)},f),f.g={}}me.prototype.N=function(){me.aa.N.call(this),ct(this)},me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qe=u.JSON.stringify,nt=u.JSON.parse,It=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function et(){}et.prototype.h=null;function zt(f){return f.h||(f.h=f.i())}function Yr(){}var Rt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bt(){_.call(this,"d")}N(Bt,_);function Xr(){_.call(this,"c")}N(Xr,_);var bt={},ln=null;function zr(){return ln=ln||new wt}bt.La="serverreachability";function fn(f){_.call(this,bt.La,f)}N(fn,_);function Gt(f){const T=zr();$(T,new fn(T))}bt.STAT_EVENT="statevent";function pi(f,T){_.call(this,bt.STAT_EVENT,f),this.stat=T}N(pi,_);function mt(f){const T=zr();$(T,new pi(T,f))}bt.Ma="timingevent";function an(f,T){_.call(this,bt.Ma,f),this.size=T}N(an,_);function $n(f,T){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},T)}function Jt(){this.g=!0}Jt.prototype.xa=function(){this.g=!1};function jt(f,T,L,J,ge,Ae){f.info(function(){if(f.g)if(Ae)for(var Ve="",pn=Ae.split("&"),er=0;er<pn.length;er++){var Qt=pn[er].split("=");if(1<Qt.length){var or=Qt[0];Qt=Qt[1];var Kn=or.split("_");Ve=2<=Kn.length&&Kn[1]=="type"?Ve+(or+"="+Qt+"&"):Ve+(or+"=redacted&")}}else Ve=null;else Ve=Ae;return"XMLHTTP REQ ("+J+") [attempt "+ge+"]: "+T+`
`+L+`
`+Ve})}function jr(f,T,L,J,ge,Ae,Ve){f.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+ge+"]: "+T+`
`+L+`
`+Ae+" "+Ve})}function Nt(f,T,L,J){f.info(function(){return"XMLHTTP TEXT ("+T+"): "+ps(f,L)+(J?" "+J:"")})}function cn(f,T){f.info(function(){return"TIMEOUT: "+T})}Jt.prototype.info=function(){};function ps(f,T){if(!f.g)return T;if(!T)return null;try{var L=JSON.parse(T);if(L){for(f=0;f<L.length;f++)if(Array.isArray(L[f])){var J=L[f];if(!(2>J.length)){var ge=J[1];if(Array.isArray(ge)&&!(1>ge.length)){var Ae=ge[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(var Ve=1;Ve<ge.length;Ve++)ge[Ve]=""}}}}return Qe(L)}catch{return T}}var tn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},un={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function nn(){}N(nn,et),nn.prototype.g=function(){return new XMLHttpRequest},nn.prototype.i=function(){return{}},ir=new nn;function Ot(f,T,L,J){this.j=f,this.i=T,this.l=L,this.R=J||1,this.U=new me(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pi}function Pi(){this.i=null,this.g="",this.h=!1}var Mi={},mi={};function gi(f,T,L){f.L=1,f.v=_t(ke(T)),f.m=L,f.P=!0,Ni(f,null)}function Ni(f,T){f.F=Date.now(),qt(f),f.A=ke(f.v);var L=f.A,J=f.R;Array.isArray(J)||(J=[String(J)]),Lo(L.i,"t",J),f.C=0,L=f.j.J,f.h=new Pi,f.g=mh(f.j,L?T:null,!f.m),0<f.O&&(f.M=new de(S(f.Y,f,f.g),f.O)),T=f.U,L=f.g,J=f.ca;var ge="readystatechange";Array.isArray(ge)||(ge&&(be[0]=ge.toString()),ge=be);for(var Ae=0;Ae<ge.length;Ae++){var Ve=kr(L,ge[Ae],J||T.handleEvent,!1,T.h||T);if(!Ve)break;T.g[Ve.key]=Ve}T=f.H?V(f.H):{},f.m?(f.u||(f.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,T)):(f.u="GET",f.g.ea(f.A,f.u,null,T)),Gt(),jt(f.i,f.u,f.A,f.l,f.R,f.m)}Ot.prototype.ca=function(f){f=f.target;const T=this.M;T&&ti(f)==3?T.j():this.Y(f)},Ot.prototype.Y=function(f){try{if(f==this.g)e:{const Kn=ti(this.g);var T=this.g.Ba();const Di=this.g.Z();if(!(3>Kn)&&(Kn!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||Kn!=4||T==7||(T==8||0>=Di?Gt(3):Gt(2)),yi(this);var L=this.g.Z();this.X=L;t:if(ms(this)){var J=mu(this.g);f="";var ge=J.length,Ae=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),Jr(this);var Ve="";break t}this.h.i=new u.TextDecoder}for(T=0;T<ge;T++)this.h.h=!0,f+=this.h.i.decode(J[T],{stream:!(Ae&&T==ge-1)});J.length=0,this.h.g+=f,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=L==200,jr(this.i,this.u,this.A,this.l,this.R,Kn,L),this.o){if(this.T&&!this.K){t:{if(this.g){var pn,er=this.g;if((pn=er.g?er.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(pn)){var Qt=pn;break t}}Qt=null}if(L=Qt)Nt(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ki(this,L);else{this.o=!1,this.s=3,mt(12),sr(this),Jr(this);break e}}if(this.P){L=!0;let _i;for(;!this.J&&this.C<Ve.length;)if(_i=Qs(this,Ve),_i==mi){Kn==4&&(this.s=4,mt(14),L=!1),Nt(this.i,this.l,null,"[Incomplete Response]");break}else if(_i==Mi){this.s=4,mt(15),Nt(this.i,this.l,Ve,"[Invalid Chunk]"),L=!1;break}else Nt(this.i,this.l,_i,null),Ki(this,_i);if(ms(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kn!=4||Ve.length!=0||this.h.h||(this.s=1,mt(16),L=!1),this.o=this.o&&L,!L)Nt(this.i,this.l,Ve,"[Invalid Chunked Response]"),sr(this),Jr(this);else if(0<Ve.length&&!this.W){this.W=!0;var or=this.j;or.g==this&&or.ba&&!or.M&&(or.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),yu(or),or.M=!0,mt(11))}}else Nt(this.i,this.l,Ve,null),Ki(this,Ve);Kn==4&&sr(this),this.o&&!this.J&&(Kn==4?Fl(this.j,this):(this.o=!1,qt(this)))}else Ll(this.g),L==400&&0<Ve.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),sr(this),Jr(this)}}}catch{}finally{}};function ms(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Qs(f,T){var L=f.C,J=T.indexOf(`
`,L);return J==-1?mi:(L=Number(T.substring(L,J)),isNaN(L)?Mi:(J+=1,J+L>T.length?mi:(T=T.slice(J,J+L),f.C=J+L,T)))}Ot.prototype.cancel=function(){this.J=!0,sr(this)};function qt(f){f.S=Date.now()+f.I,$i(f,f.I)}function $i(f,T){if(f.B!=null)throw Error("WatchDog timer not null");f.B=$n(S(f.ba,f),T)}function yi(f){f.B&&(u.clearTimeout(f.B),f.B=null)}Ot.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(cn(this.i,this.A),this.L!=2&&(Gt(),mt(17)),sr(this),this.s=2,Jr(this)):$i(this,this.S-f)};function Jr(f){f.j.G==0||f.J||Fl(f.j,f)}function sr(f){yi(f);var T=f.M;T&&typeof T.ma=="function"&&T.ma(),f.M=null,ct(f.U),f.g&&(T=f.g,f.g=null,T.abort(),T.ma())}function Ki(f,T){try{var L=f.j;if(L.G!=0&&(L.g==f||Fn(L.h,f))){if(!f.K&&Fn(L.h,f)&&L.G==3){try{var J=L.Da.g.parse(T)}catch{J=null}if(Array.isArray(J)&&J.length==3){var ge=J;if(ge[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<f.F)Vl(L),Xi(L);else break e;Ul(L),mt(18)}}else L.za=ge[1],0<L.za-L.T&&37500>ge[2]&&L.F&&L.v==0&&!L.C&&(L.C=$n(S(L.Za,L),6e3));if(1>=ys(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else Zs(L,11)}else if((f.K||L.g==f)&&Vl(L),!j(T))for(ge=L.Da.g.parse(T),T=0;T<ge.length;T++){let Qt=ge[T];if(L.T=Qt[0],Qt=Qt[1],L.G==2)if(Qt[0]=="c"){L.K=Qt[1],L.ia=Qt[2];const or=Qt[3];or!=null&&(L.la=or,L.j.info("VER="+L.la));const Kn=Qt[4];Kn!=null&&(L.Aa=Kn,L.j.info("SVER="+L.Aa));const Di=Qt[5];Di!=null&&typeof Di=="number"&&0<Di&&(J=1.5*Di,L.L=J,L.j.info("backChannelRequestTimeoutMs_="+J)),J=L;const _i=f.g;if(_i){const Ba=_i.g?_i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var Ae=J.h;Ae.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&(Oi(Ae,Ae.h),Ae.h=null))}if(J.D){const zl=_i.g?_i.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(J.ya=zl,He(J.I,J.D,zl))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-f.F,L.j.info("Handshake RTT: "+L.R+"ms")),J=L;var Ve=f;if(J.qa=ph(J,J.J?J.ia:null,J.W),Ve.K){Pl(J.h,Ve);var pn=Ve,er=J.L;er&&(pn.I=er),pn.B&&(yi(pn),qt(pn)),J.g=Ve}else Da(J);0<L.i.length&&Es(L)}else Qt[0]!="stop"&&Qt[0]!="close"||Zs(L,7);else L.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Zs(L,7):gr(L):Qt[0]!="noop"&&L.l&&L.l.ta(Qt),L.v=0)}}Gt(4)}catch{}}var gs=class{constructor(f,T){this.g=f,this.map=T}};function wi(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ys(f){return f.h?1:f.g?f.g.size:0}function Fn(f,T){return f.h?f.h==T:f.g?f.g.has(T):!1}function Oi(f,T){f.g?f.g.add(T):f.h=T}function Pl(f,T){f.h&&f.h==T?f.h=null:f.g&&f.g.has(T)&&f.g.delete(T)}wi.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Po(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let T=f.i;for(const L of f.g.values())T=T.concat(L.D);return T}return P(f.i)}function Mo(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var T=[],L=f.length,J=0;J<L;J++)T.push(f[J]);return T}T=[],L=0;for(J in f)T[L++]=f[J];return T}function No(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var T=[];f=f.length;for(var L=0;L<f;L++)T.push(L);return T}T=[],L=0;for(const J in f)T[L++]=J;return T}}}function je(f,T){if(f.forEach&&typeof f.forEach=="function")f.forEach(T,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,T,void 0);else for(var L=No(f),J=Mo(f),ge=J.length,Ae=0;Ae<ge;Ae++)T.call(void 0,J[Ae],L&&L[Ae],f)}var Re=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pe(f,T){if(f){f=f.split("&");for(var L=0;L<f.length;L++){var J=f[L].indexOf("="),ge=null;if(0<=J){var Ae=f[L].substring(0,J);ge=f[L].substring(J+1)}else Ae=f[L];T(Ae,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function he(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof he){this.h=f.h,Fe(this,f.j),this.o=f.o,this.g=f.g,De(this,f.s),this.l=f.l;var T=f.i,L=new ws;L.i=T.i,T.g&&(L.g=new Map(T.g),L.h=T.h),Ye(this,L),this.m=f.m}else f&&(T=String(f).match(Re))?(this.h=!1,Fe(this,T[1]||"",!0),this.o=lt(T[2]||""),this.g=lt(T[3]||"",!0),De(this,T[4]),this.l=lt(T[5]||"",!0),Ye(this,T[6]||"",!0),this.m=lt(T[7]||"")):(this.h=!1,this.i=new ws(null,this.h))}he.prototype.toString=function(){var f=[],T=this.j;T&&f.push(Zr(T,Oo,!0),":");var L=this.g;return(L||T=="file")&&(f.push("//"),(T=this.o)&&f.push(Zr(T,Oo,!0),"@"),f.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&f.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&f.push("/"),f.push(Zr(L,L.charAt(0)=="/"?oh:sh,!0))),(L=this.i.toString())&&f.push("?",L),(L=this.m)&&f.push("#",Zr(L,hu)),f.join("")};function ke(f){return new he(f)}function Fe(f,T,L){f.j=L?lt(T,!0):T,f.j&&(f.j=f.j.replace(/:$/,""))}function De(f,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);f.s=T}else f.s=null}function Ye(f,T,L){T instanceof ws?(f.i=T,vs(f.i,f.h)):(L||(T=Zr(T,ah)),f.i=new ws(T,f.h))}function He(f,T,L){f.i.set(T,L)}function _t(f){return He(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function lt(f,T){return f?T?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Zr(f,T,L){return typeof f=="string"?(f=encodeURI(f).replace(T,Ml),L&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ml(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Oo=/[#\/\?@]/g,sh=/[#\?:]/g,oh=/[#\?]/g,ah=/[#\?@]/g,hu=/#/g;function ws(f,T){this.h=this.g=null,this.i=f||null,this.j=!!T}function mr(f){f.g||(f.g=new Map,f.h=0,f.i&&pe(f.i,function(T,L){f.add(decodeURIComponent(T.replace(/\+/g," ")),L)}))}r=ws.prototype,r.add=function(f,T){mr(this),this.i=null,f=Li(this,f);var L=this.g.get(f);return L||this.g.set(f,L=[]),L.push(T),this.h+=1,this};function Hi(f,T){mr(f),T=Li(f,T),f.g.has(T)&&(f.i=null,f.h-=f.g.get(T).length,f.g.delete(T))}function Gi(f,T){return mr(f),T=Li(f,T),f.g.has(T)}r.forEach=function(f,T){mr(this),this.g.forEach(function(L,J){L.forEach(function(ge){f.call(T,ge,J,this)},this)},this)},r.na=function(){mr(this);const f=Array.from(this.g.values()),T=Array.from(this.g.keys()),L=[];for(let J=0;J<T.length;J++){const ge=f[J];for(let Ae=0;Ae<ge.length;Ae++)L.push(T[J])}return L},r.V=function(f){mr(this);let T=[];if(typeof f=="string")Gi(this,f)&&(T=T.concat(this.g.get(Li(this,f))));else{f=Array.from(this.g.values());for(let L=0;L<f.length;L++)T=T.concat(f[L])}return T},r.set=function(f,T){return mr(this),this.i=null,f=Li(this,f),Gi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[T]),this.h+=1,this},r.get=function(f,T){return f?(f=this.V(f),0<f.length?String(f[0]):T):T};function Lo(f,T,L){Hi(f,T),0<L.length&&(f.i=null,f.g.set(Li(f,T),P(L)),f.h+=L.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],T=Array.from(this.g.keys());for(var L=0;L<T.length;L++){var J=T[L];const Ae=encodeURIComponent(String(J)),Ve=this.V(J);for(J=0;J<Ve.length;J++){var ge=Ae;Ve[J]!==""&&(ge+="="+encodeURIComponent(String(Ve[J]))),f.push(ge)}}return this.i=f.join("&")};function Li(f,T){return T=String(T),f.j&&(T=T.toLowerCase()),T}function vs(f,T){T&&!f.j&&(mr(f),f.i=null,f.g.forEach(function(L,J){var ge=J.toLowerCase();J!=ge&&(Hi(this,J),Lo(this,ge,L))},f)),f.j=T}function gm(f,T){const L=new Jt;if(u.Image){const J=new Image;J.onload=A(ei,L,"TestLoadImage: loaded",!0,T,J),J.onerror=A(ei,L,"TestLoadImage: error",!1,T,J),J.onabort=A(ei,L,"TestLoadImage: abort",!1,T,J),J.ontimeout=A(ei,L,"TestLoadImage: timeout",!1,T,J),u.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=f}else T(!1)}function lh(f,T){const L=new Jt,J=new AbortController,ge=setTimeout(()=>{J.abort(),ei(L,"TestPingServer: timeout",!1,T)},1e4);fetch(f,{signal:J.signal}).then(Ae=>{clearTimeout(ge),Ae.ok?ei(L,"TestPingServer: ok",!0,T):ei(L,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ge),ei(L,"TestPingServer: error",!1,T)})}function ei(f,T,L,J,ge){try{ge&&(ge.onload=null,ge.onerror=null,ge.onabort=null,ge.ontimeout=null),J(L)}catch{}}function ym(){this.g=new It}function ch(f,T,L){const J=L||"";try{je(f,function(ge,Ae){let Ve=ge;p(ge)&&(Ve=Qe(ge)),T.push(J+Ae+"="+encodeURIComponent(Ve))})}catch(ge){throw T.push(J+"type="+encodeURIComponent("_badmap")),ge}}function Ys(f){this.l=f.Ub||null,this.j=f.eb||!1}N(Ys,et),Ys.prototype.g=function(){return new Oa(this.l,this.j)},Ys.prototype.i=(function(f){return function(){return f}})({});function Oa(f,T){wt.call(this),this.D=f,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Oa,wt),r=Oa.prototype,r.open=function(f,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=T,this.readyState=1,Yi(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(T.body=f),(this.D||u).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qi(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Yi(this)),this.g&&(this.readyState=3,Yi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uh(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function uh(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var T=f.value?f.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!f.done}))&&(this.response=this.responseText+=T)}f.done?Qi(this):Yi(this),this.readyState==3&&uh(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Qi(this))},r.Qa=function(f){this.g&&(this.response=f,Qi(this))},r.ga=function(){this.g&&Qi(this)};function Qi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Yi(f)}r.setRequestHeader=function(f,T){this.u.append(f,T)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],T=this.h.entries();for(var L=T.next();!L.done;)L=L.value,f.push(L[0]+": "+L[1]),L=T.next();return f.join(`\r
`)};function Yi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xs(f){let T="";return se(f,function(L,J){T+=J,T+=":",T+=L,T+=`\r
`}),T}function Do(f,T,L){e:{for(J in L){var J=!1;break e}J=!0}J||(L=Xs(L),typeof f=="string"?L!=null&&encodeURIComponent(String(L)):He(f,T,L))}function Tn(f){wt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Tn,wt);var wm=/^https?$/i,fu=["POST","PUT"];r=Tn.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,T,L,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);T=T?T.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?zt(this.o):zt(ir),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(T,String(f),!0),this.B=!1}catch(Ae){La(this,Ae);return}if(f=L||"",L=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var ge in J)L.set(ge,J[ge]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Ae of J.keys())L.set(Ae,J.get(Ae));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(L.keys()).find(Ae=>Ae.toLowerCase()=="content-type"),ge=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(fu,T,void 0))||J||ge||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,Ve]of L)this.g.setRequestHeader(Ae,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ol(this),this.u=!0,this.g.send(f),this.u=!1}catch(Ae){La(this,Ae)}};function La(f,T){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=T,f.m=5,Nl(f),vi(f)}function Nl(f){f.A||(f.A=!0,$(f,"complete"),$(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,$(this,"complete"),$(this,"abort"),vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),Tn.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?pu(this):this.bb())},r.bb=function(){pu(this)};function pu(f){if(f.h&&typeof c<"u"&&(!f.v[1]||ti(f)!=4||f.Z()!=2)){if(f.u&&ti(f)==4)R(f.Ea,0,f);else if($(f,"readystatechange"),ti(f)==4){f.h=!1;try{const Ve=f.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var L;if(!(L=T)){var J;if(J=Ve===0){var ge=String(f.D).match(Re)[1]||null;!ge&&u.self&&u.self.location&&(ge=u.self.location.protocol.slice(0,-1)),J=!wm.test(ge?ge.toLowerCase():"")}L=J}if(L)$(f,"complete"),$(f,"success");else{f.m=6;try{var Ae=2<ti(f)?f.g.statusText:""}catch{Ae=""}f.l=Ae+" ["+f.Z()+"]",Nl(f)}}finally{vi(f)}}}}function vi(f,T){if(f.g){Ol(f);const L=f.g,J=f.v[0]?()=>{}:null;f.g=null,f.v=null,T||$(f,"ready");try{L.onreadystatechange=J}catch{}}}function Ol(f){f.I&&(u.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function ti(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var T=this.g.responseText;return f&&T.indexOf(f)==0&&(T=T.substring(f.length)),nt(T)}};function mu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ll(f){const T={};f=(f.g&&2<=ti(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<f.length;J++){if(j(f[J]))continue;var L=F(f[J]);const ge=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Ae=T[ge]||[];T[ge]=Ae,Ae.push(L)}Q(T,function(J){return J.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(f,T,L){return L&&L.internalChannelParams&&L.internalChannelParams[f]||T}function gu(f){this.Aa=0,this.i=[],this.j=new Jt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_s("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_s("baseRetryDelayMs",5e3,f),this.cb=_s("retryDelaySeedMs",1e4,f),this.Wa=_s("forwardChannelMaxRetries",2,f),this.wa=_s("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(f&&f.concurrentRequestLimit),this.Da=new ym,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=gu.prototype,r.la=8,r.G=1,r.connect=function(f,T,L,J){mt(0),this.W=f,this.H=T||{},L&&J!==void 0&&(this.H.OSID=L,this.H.OAID=J),this.F=this.X,this.I=ph(this,null,this.W),Es(this)};function gr(f){if(Dl(f),f.G==3){var T=f.U++,L=ke(f.I);if(He(L,"SID",f.K),He(L,"RID",T),He(L,"TYPE","terminate"),Js(f,L),T=new Ot(f,f.j,T),T.L=2,T.v=_t(ke(L)),L=!1,u.navigator&&u.navigator.sendBeacon)try{L=u.navigator.sendBeacon(T.v.toString(),"")}catch{}!L&&u.Image&&(new Image().src=T.v,L=!0),L||(T.g=mh(T.j,null),T.g.ea(T.v)),T.F=Date.now(),qt(T)}fh(f)}function Xi(f){f.g&&(yu(f),f.g.cancel(),f.g=null)}function Dl(f){Xi(f),f.u&&(u.clearTimeout(f.u),f.u=null),Vl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function Es(f){if(!Zn(f.h)&&!f.s){f.s=!0;var T=f.Ga;H||ee(),q||(H(),q=!0),X.add(T,f),f.B=0}}function vm(f,T){return ys(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=T.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=$n(S(f.Ga,f,T),hh(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ge=new Ot(this,this.j,f);let Ae=this.o;if(this.S&&(Ae?(Ae=V(Ae),D(Ae,this.S)):Ae=this.S),this.m!==null||this.O||(ge.H=Ae,Ae=null),this.P)e:{for(var T=0,L=0;L<this.i.length;L++){t:{var J=this.i[L];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(T+=J,4096<T){T=L;break e}if(T===4096||L===this.i.length-1){T=L+1;break e}}T=1e3}else T=1e3;T=Bo(this,ge,T),L=ke(this.I),He(L,"RID",f),He(L,"CVER",22),this.D&&He(L,"X-HTTP-Session-Id",this.D),Js(this,L),Ae&&(this.O?T="headers="+encodeURIComponent(String(Xs(Ae)))+"&"+T:this.m&&Do(L,this.m,Ae)),Oi(this.h,ge),this.Ua&&He(L,"TYPE","init"),this.P?(He(L,"$req",T),He(L,"SID","null"),ge.T=!0,gi(ge,L,null)):gi(ge,L,T),this.G=2}}else this.G==3&&(f?Bl(this,f):this.i.length==0||Zn(this.h)||Bl(this))};function Bl(f,T){var L;T?L=T.l:L=f.U++;const J=ke(f.I);He(J,"SID",f.K),He(J,"RID",L),He(J,"AID",f.T),Js(f,J),f.m&&f.o&&Do(J,f.m,f.o),L=new Ot(f,f.j,L,f.B+1),f.m===null&&(L.H=f.o),T&&(f.i=T.D.concat(f.i)),T=Bo(f,L,1e3),L.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Oi(f.h,L),gi(L,J,T)}function Js(f,T){f.H&&se(f.H,function(L,J){He(T,J,L)}),f.l&&je({},function(L,J){He(T,J,L)})}function Bo(f,T,L){L=Math.min(f.i.length,L);var J=f.l?S(f.l.Na,f.l,f):null;e:{var ge=f.i;let Ae=-1;for(;;){const Ve=["count="+L];Ae==-1?0<L?(Ae=ge[0].g,Ve.push("ofs="+Ae)):Ae=0:Ve.push("ofs="+Ae);let pn=!0;for(let er=0;er<L;er++){let Qt=ge[er].g;const or=ge[er].map;if(Qt-=Ae,0>Qt)Ae=Math.max(0,ge[er].g-100),pn=!1;else try{ch(or,Ve,"req"+Qt+"_")}catch{J&&J(or)}}if(pn){J=Ve.join("&");break e}}}return f=f.i.splice(0,L),T.D=f,J}function Da(f){if(!f.g&&!f.u){f.Y=1;var T=f.Fa;H||ee(),q||(H(),q=!0),X.add(T,f),f.v=0}}function Ul(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=$n(S(f.Fa,f),hh(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,dh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=$n(S(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Xi(this),dh(this))};function yu(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function dh(f){f.g=new Ot(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var T=ke(f.qa);He(T,"RID","rpc"),He(T,"SID",f.K),He(T,"AID",f.T),He(T,"CI",f.F?"0":"1"),!f.F&&f.ja&&He(T,"TO",f.ja),He(T,"TYPE","xmlhttp"),Js(f,T),f.m&&f.o&&Do(T,f.m,f.o),f.L&&(f.g.I=f.L);var L=f.g;f=f.ia,L.L=1,L.v=_t(ke(T)),L.m=null,L.P=!0,Ni(L,f)}r.Za=function(){this.C!=null&&(this.C=null,Xi(this),Ul(this),mt(19))};function Vl(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Fl(f,T){var L=null;if(f.g==T){Vl(f),yu(f),f.g=null;var J=2}else if(Fn(f.h,T))L=T.D,Pl(f.h,T),J=1;else return;if(f.G!=0){if(T.o)if(J==1){L=T.m?T.m.length:0,T=Date.now()-T.F;var ge=f.B;J=zr(),$(J,new an(J,L)),Es(f)}else Da(f);else if(ge=T.s,ge==3||ge==0&&0<T.X||!(J==1&&vm(f,T)||J==2&&Ul(f)))switch(L&&0<L.length&&(T=f.h,T.i=T.i.concat(L)),ge){case 1:Zs(f,5);break;case 4:Zs(f,10);break;case 3:Zs(f,6);break;default:Zs(f,2)}}}function hh(f,T){let L=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(L*=2),L*T}function Zs(f,T){if(f.j.info("Error code "+T),T==2){var L=S(f.fb,f),J=f.Xa;const ge=!J;J=new he(J||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Fe(J,"https"),_t(J),ge?gm(J.toString(),L):lh(J.toString(),L)}else mt(2);f.G=0,f.l&&f.l.sa(T),fh(f),Dl(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function fh(f){if(f.G=0,f.ka=[],f.l){const T=Po(f.h);(T.length!=0||f.i.length!=0)&&(O(f.ka,T),O(f.ka,f.i),f.h.i.length=0,P(f.i),f.i.length=0),f.l.ra()}}function ph(f,T,L){var J=L instanceof he?ke(L):new he(L);if(J.g!="")T&&(J.g=T+"."+J.g),De(J,J.s);else{var ge=u.location;J=ge.protocol,T=T?T+"."+ge.hostname:ge.hostname,ge=+ge.port;var Ae=new he(null);J&&Fe(Ae,J),T&&(Ae.g=T),ge&&De(Ae,ge),L&&(Ae.l=L),J=Ae}return L=f.D,T=f.ya,L&&T&&He(J,L,T),He(J,"VER",f.la),Js(f,J),J}function mh(f,T,L){if(T&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=f.Ca&&!f.pa?new Tn(new Ys({eb:L})):new Tn(f.pa),T.Ha(f.J),T}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Wl(){}Wl.prototype.g=function(f,T){return new qr(f,T)};function qr(f,T){wt.call(this),this.g=new gu(T),this.l=f,this.h=T&&T.messageUrlParams||null,f=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(f?f["X-WebChannel-Content-Type"]=T.messageContentType:f={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(f?f["X-WebChannel-Client-Profile"]=T.va:f={"X-WebChannel-Client-Profile":T.va}),this.g.S=f,(f=T&&T.Sb)&&!j(f)&&(this.g.m=f),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!j(T)&&(this.g.D=T,f=this.h,f!==null&&T in f&&(f=this.h,T in f&&delete f[T])),this.j=new bs(this)}N(qr,wt),qr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qr.prototype.close=function(){gr(this.g)},qr.prototype.o=function(f){var T=this.g;if(typeof f=="string"){var L={};L.__data__=f,f=L}else this.u&&(L={},L.__data__=Qe(f),f=L);T.i.push(new gs(T.Ya++,f)),T.G==3&&Es(T)},qr.prototype.N=function(){this.g.l=null,delete this.j,gr(this.g),delete this.g,qr.aa.N.call(this)};function gh(f){Bt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var T=f.__sm__;if(T){e:{for(const L in T){f=L;break e}f=void 0}(this.i=f)&&(f=this.i,T=T!==null&&f in T?T[f]:void 0),this.data=T}else this.data=f}N(gh,Bt);function yh(){Xr.call(this),this.status=1}N(yh,Xr);function bs(f){this.g=f}N(bs,wu),bs.prototype.ua=function(){$(this.g,"a")},bs.prototype.ta=function(f){$(this.g,new gh(f))},bs.prototype.sa=function(f){$(this.g,new yh)},bs.prototype.ra=function(){$(this.g,"b")},Wl.prototype.createWebChannel=Wl.prototype.g,qr.prototype.send=qr.prototype.o,qr.prototype.open=qr.prototype.m,qr.prototype.close=qr.prototype.close,UT=function(){return new Wl},BT=function(){return zr()},DT=bt,M0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tn.NO_ERROR=0,tn.TIMEOUT=8,tn.HTTP_ERROR=6,Vf=tn,un.COMPLETE="complete",LT=un,Yr.EventType=Rt,Rt.OPEN="a",Rt.CLOSE="b",Rt.ERROR="c",Rt.MESSAGE="d",wt.prototype.listen=wt.prototype.K,id=Yr,Tn.prototype.listenOnce=Tn.prototype.L,Tn.prototype.getLastError=Tn.prototype.Ka,Tn.prototype.getLastErrorCode=Tn.prototype.Ba,Tn.prototype.getStatus=Tn.prototype.Z,Tn.prototype.getResponseJson=Tn.prototype.Oa,Tn.prototype.getResponseText=Tn.prototype.oa,Tn.prototype.send=Tn.prototype.ea,Tn.prototype.setWithCredentials=Tn.prototype.Ha,OT=Tn}).apply(typeof mf<"u"?mf:typeof self<"u"?self:typeof window<"u"?window:{});const tb="@firebase/firestore",nb="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new bw("@firebase/firestore");function mc(){return gl.logLevel}function Ge(r,...e){if(gl.logLevel<=Ut.DEBUG){const n=e.map(Ow);gl.debug(`Firestore (${eu}): ${r}`,...n)}}function Io(r,...e){if(gl.logLevel<=Ut.ERROR){const n=e.map(Ow);gl.error(`Firestore (${eu}): ${r}`,...n)}}function Bc(r,...e){if(gl.logLevel<=Ut.WARN){const n=e.map(Ow);gl.warn(`Firestore (${eu}): ${r}`,...n)}}function Ow(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,VT(r,i,n)}function VT(r,e,n){let i=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Io(i),new Error(i)}function hn(r,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,r||VT(e,s,i)}function Et(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Co{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ur.UNAUTHENTICATED)))}shutdown(){}}class dO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hO{constructor(e){this.t=e,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){hn(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new _o;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _o,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _o)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(hn(typeof i.accessToken=="string",31837,{l:i}),new FT(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return hn(e===null||typeof e=="string",2055,{h:e}),new Ur(e)}}class fO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new fO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ur.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ms(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){hn(this.o===void 0,3512);const i=o=>{o.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const s=o=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(hn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=gO(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%62))}return i}}function Vt(r,e){return r<e?-1:r>e?1:0}function N0(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const s=r.charAt(i),o=e.charAt(i);if(s!==o)return sy(s)===sy(o)?Vt(s,o):sy(s)?1:-1}return Vt(r.length,e.length)}const yO=55296,wO=57343;function sy(r){const e=r.charCodeAt(0);return e>=yO&&e<=wO}function Uc(r,e,n){return r.length===e.length&&r.every(((i,s)=>n(i,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="__name__";class Cs{constructor(e,n,i){n===void 0?n=0:n>e.length&&pt(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&pt(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Cs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cs?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=Cs.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Vt(e.length,n.length)}static compareSegments(e,n){const i=Cs.isNumericId(e),s=Cs.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Cs.extractNumericId(e).compare(Cs.extractNumericId(n)):N0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _a.fromString(e.substring(4,e.length-2))}}class bn extends Cs{construct(e,n,i){return new bn(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new $e(Ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((s=>s.length>0)))}return new bn(n)}static emptyPath(){return new bn([])}}const vO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends Cs{construct(e,n,i){return new Ar(e,n,i)}static isValidIdentifier(e){return vO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ib}static keyField(){return new Ar([ib])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new $e(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new $e(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new $e(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else u==="`"?(c=!c,s++):u!=="."||c?(i+=u,s++):(o(),s++)}if(o(),c)throw new $e(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ar(n)}static emptyPath(){return new Ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(bn.fromString(e))}static fromName(e){return new ot(bn.fromString(e).popFirst(5))}static empty(){return new ot(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new bn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(r,e,n){if(!n)throw new $e(Ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _O(r,e,n,i){if(e===!0&&i===!0)throw new $e(Ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function sb(r){if(!ot.isDocumentKey(r))throw new $e(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ob(r){if(ot.isDocumentKey(r))throw new $e(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Bp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function qs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new $e(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bp(r);throw new $e(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(r,e){const n={typeString:r};return e&&(n.value=e),n}function Hd(r,e){if(!zT(r))throw new $e(Ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const c=r[i];if(s&&typeof c!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new $e(Ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=-62135596800,lb=1e6;class In{static now(){return In.fromMillis(Date.now())}static fromDate(e){return In.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*lb);return new In(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ab)throw new $e(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lb}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:In._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hd(e,In._jsonSchema))return new In(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ab;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}In._jsonSchemaVersion="firestore/timestamp/1.0",In._jsonSchema={type:Jn("string",In._jsonSchemaVersion),seconds:Jn("number"),nanoseconds:Jn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new In(0,0))}static max(){return new vt(new In(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=-1;function EO(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,s=vt.fromTimestamp(i===1e9?new In(n+1,0):new In(n,i));return new Aa(s,ot.empty(),e)}function bO(r){return new Aa(r.readTime,r.key,Sd)}class Aa{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Aa(vt.min(),ot.empty(),Sd)}static max(){return new Aa(vt.max(),ot.empty(),Sd)}}function SO(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ot.comparator(r.documentKey,e.documentKey),n!==0?n:Vt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(r){if(r.code!==Ie.FAILED_PRECONDITION||r.message!==AO)throw r;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xe(((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.reject(n)}static resolve(e){return new xe(((n,i)=>{n(e)}))}static reject(e){return new xe(((n,i)=>{i(e)}))}static waitFor(e){return new xe(((n,i)=>{let s=0,o=0,c=!1;e.forEach((u=>{++s,u.next((()=>{++o,c&&o===s&&n()}),(h=>i(h)))})),c=!0,o===s&&n()}))}static or(e){let n=xe.resolve(!1);for(const i of e)n=n.next((s=>s?xe.resolve(s):i()));return n}static forEach(e,n){const i=[];return e.forEach(((s,o)=>{i.push(n.call(this,s,o))})),this.waitFor(i)}static mapArray(e,n){return new xe(((i,s)=>{const o=e.length,c=new Array(o);let u=0;for(let h=0;h<o;h++){const p=h;n(e[p]).next((m=>{c[p]=m,++u,u===o&&i(c)}),(m=>s(m)))}}))}static doWhile(e,n){return new xe(((i,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):i()};o()}))}}function TO(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Up.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=-1;function Vp(r){return r==null}function ap(r){return r===0&&1/r==-1/0}function kO(r){return typeof r=="number"&&Number.isInteger(r)&&!ap(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="";function xO(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=cb(e)),e=RO(r.get(n),e);return cb(e)}function RO(r,e){let n=e;const i=r.length;for(let s=0;s<i;s++){const o=r.charAt(s);switch(o){case"\0":n+="";break;case jT:n+="";break;default:n+=o}}return n}function cb(r){return r+jT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ma(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function qT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n){this.comparator=e,this.root=n||br.EMPTY}insert(e,n){return new On(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,br.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,br.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gf(this.root,e,this.comparator,!0)}}class gf{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class br{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??br.RED,this.left=s??br.EMPTY,this.right=o??br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new br(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return br.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}br.EMPTY=null,br.RED=!0,br.BLACK=!1;br.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,n,i,s,o){return this}insert(e,n,i){return new br(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new db(this.data.getIterator())}getIteratorFrom(e){return new db(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rr(this.comparator);return n.data=e,n}}class db{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.fields=e,e.sort(Ar.comparator)}static empty(){return new ki([])}unionWith(e){let n=new rr(Ar.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ki(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uc(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $T("Invalid base64 string: "+o):o}})(e);return new Tr(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const CO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(r){if(hn(!!r,39018),typeof r=="string"){let e=0;const n=CO.exec(r);if(hn(!!n,46558,{timestamp:r}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jn(r.seconds),nanos:jn(r.nanos)}}function jn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ta(r){return typeof r=="string"?Tr.fromBase64String(r):Tr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="server_timestamp",HT="__type__",GT="__previous_value__",QT="__local_write_time__";function Bw(r){return(r?.mapValue?.fields||{})[HT]?.stringValue===KT}function Fp(r){const e=r.mapValue.fields[GT];return Bw(e)?Fp(e):e}function Ad(r){const e=Ia(r.mapValue.fields[QT].timestampValue);return new In(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,i,s,o,c,u,h,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=m}}const lp="(default)";class Id{constructor(e,n){this.projectId=e,this.database=n||lp}static empty(){return new Id("","")}get isDefaultDatabase(){return this.database===lp}isEqual(e){return e instanceof Id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="__type__",MO="__max__",yf={mapValue:{}},XT="__vector__",cp="value";function ka(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bw(r)?4:OO(r)?9007199254740991:NO(r)?10:11:pt(28295,{value:r})}function $s(r,e){if(r===e)return!0;const n=ka(r);if(n!==ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ad(r).isEqual(Ad(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Ia(s.timestampValue),u=Ia(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(s,o){return Ta(s.bytesValue).isEqual(Ta(o.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(s,o){return jn(s.geoPointValue.latitude)===jn(o.geoPointValue.latitude)&&jn(s.geoPointValue.longitude)===jn(o.geoPointValue.longitude)})(r,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return jn(s.integerValue)===jn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=jn(s.doubleValue),u=jn(o.doubleValue);return c===u?ap(c)===ap(u):isNaN(c)&&isNaN(u)}return!1})(r,e);case 9:return Uc(r.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},u=o.mapValue.fields||{};if(ub(c)!==ub(u))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(u[h]===void 0||!$s(c[h],u[h])))return!1;return!0})(r,e);default:return pt(52216,{left:r})}}function Td(r,e){return(r.values||[]).find((n=>$s(n,e)))!==void 0}function Vc(r,e){if(r===e)return 0;const n=ka(r),i=ka(e);if(n!==i)return Vt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,e.booleanValue);case 2:return(function(o,c){const u=jn(o.integerValue||o.doubleValue),h=jn(c.integerValue||c.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(r,e);case 3:return hb(r.timestampValue,e.timestampValue);case 4:return hb(Ad(r),Ad(e));case 5:return N0(r.stringValue,e.stringValue);case 6:return(function(o,c){const u=Ta(o),h=Ta(c);return u.compareTo(h)})(r.bytesValue,e.bytesValue);case 7:return(function(o,c){const u=o.split("/"),h=c.split("/");for(let p=0;p<u.length&&p<h.length;p++){const m=Vt(u[p],h[p]);if(m!==0)return m}return Vt(u.length,h.length)})(r.referenceValue,e.referenceValue);case 8:return(function(o,c){const u=Vt(jn(o.latitude),jn(c.latitude));return u!==0?u:Vt(jn(o.longitude),jn(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return fb(r.arrayValue,e.arrayValue);case 10:return(function(o,c){const u=o.fields||{},h=c.fields||{},p=u[cp]?.arrayValue,m=h[cp]?.arrayValue,v=Vt(p?.values?.length||0,m?.values?.length||0);return v!==0?v:fb(p,m)})(r.mapValue,e.mapValue);case 11:return(function(o,c){if(o===yf.mapValue&&c===yf.mapValue)return 0;if(o===yf.mapValue)return 1;if(c===yf.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),p=c.fields||{},m=Object.keys(p);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){const S=N0(h[v],m[v]);if(S!==0)return S;const A=Vc(u[h[v]],p[m[v]]);if(A!==0)return A}return Vt(h.length,m.length)})(r.mapValue,e.mapValue);default:throw pt(23264,{he:n})}}function hb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Vt(r,e);const n=Ia(r),i=Ia(e),s=Vt(n.seconds,i.seconds);return s!==0?s:Vt(n.nanos,i.nanos)}function fb(r,e){const n=r.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=Vc(n[s],i[s]);if(o)return o}return Vt(n.length,i.length)}function Fc(r){return O0(r)}function O0(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=Ia(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ta(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ot.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=O0(o);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const c of i)o?o=!1:s+=",",s+=`${c}:${O0(n.fields[c])}`;return s+"}"})(r.mapValue):pt(61005,{value:r})}function Ff(r){switch(ka(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fp(r);return e?16+Ff(e):16;case 5:return 2*r.stringValue.length;case 6:return Ta(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,o)=>s+Ff(o)),0)})(r.arrayValue);case 10:case 11:return(function(i){let s=0;return Ma(i.fields,((o,c)=>{s+=o.length+Ff(c)})),s})(r.mapValue);default:throw pt(13486,{value:r})}}function pb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function L0(r){return!!r&&"integerValue"in r}function Uw(r){return!!r&&"arrayValue"in r}function mb(r){return!!r&&"nullValue"in r}function gb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wf(r){return!!r&&"mapValue"in r}function NO(r){return(r?.mapValue?.fields||{})[YT]?.stringValue===XT}function hd(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ma(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=hd(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hd(r.arrayValue.values[n]);return e}return{...r}}function OO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===MO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hd(n)}setAll(e){let n=Ar.emptyPath(),i={},s=[];e.forEach(((c,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=u.popLast()}c?i[u.lastSegment()]=hd(c):s.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());Wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Wf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Ma(n,((s,o)=>e[s]=o));for(const s of i)delete e[s]}clone(){return new hi(hd(this.value))}}function JT(r){const e=[];return Ma(r.fields,((n,i)=>{const s=new Ar([n]);if(Wf(i)){const o=JT(i.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new ki(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,i,s,o,c,u){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(e){return new Vr(e,0,vt.min(),vt.min(),vt.min(),hi.empty(),0)}static newFoundDocument(e,n,i,s){return new Vr(e,1,n,vt.min(),i,s,0)}static newNoDocument(e,n){return new Vr(e,2,n,vt.min(),vt.min(),hi.empty(),0)}static newUnknownDocument(e,n){return new Vr(e,3,n,vt.min(),vt.min(),hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){this.position=e,this.inclusive=n}}function yb(r,e,n){let i=0;for(let s=0;s<r.position.length;s++){const o=e[s],c=r.position[s];if(o.field.isKeyField()?i=ot.comparator(ot.fromName(c.referenceValue),n.key):i=Vc(c,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function wb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!$s(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n="asc"){this.field=e,this.dir=n}}function LO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{}class Xn extends ZT{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new BO(e,n,i):n==="array-contains"?new FO(e,i):n==="in"?new WO(e,i):n==="not-in"?new zO(e,i):n==="array-contains-any"?new jO(e,i):new Xn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new UO(e,i):new VO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vc(n,this.value)):n!==null&&ka(this.value)===ka(n)&&this.matchesComparison(Vc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends ZT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ds(e,n)}matches(e){return ek(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ek(r){return r.op==="and"}function tk(r){return DO(r)&&ek(r)}function DO(r){for(const e of r.filters)if(e instanceof ds)return!1;return!0}function D0(r){if(r instanceof Xn)return r.field.canonicalString()+r.op.toString()+Fc(r.value);if(tk(r))return r.filters.map((e=>D0(e))).join(",");{const e=r.filters.map((n=>D0(n))).join(",");return`${r.op}(${e})`}}function nk(r,e){return r instanceof Xn?(function(i,s){return s instanceof Xn&&i.op===s.op&&i.field.isEqual(s.field)&&$s(i.value,s.value)})(r,e):r instanceof ds?(function(i,s){return s instanceof ds&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((o,c,u)=>o&&nk(c,s.filters[u])),!0):!1})(r,e):void pt(19439)}function rk(r){return r instanceof Xn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fc(n.value)}`})(r):r instanceof ds?(function(n){return n.op.toString()+" {"+n.getFilters().map(rk).join(" ,")+"}"})(r):"Filter"}class BO extends Xn{constructor(e,n,i){super(e,n,i),this.key=ot.fromName(i.referenceValue)}matches(e){const n=ot.comparator(e.key,this.key);return this.matchesComparison(n)}}class UO extends Xn{constructor(e,n){super(e,"in",n),this.keys=ik("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class VO extends Xn{constructor(e,n){super(e,"not-in",n),this.keys=ik("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ik(r,e){return(e.arrayValue?.values||[]).map((n=>ot.fromName(n.referenceValue)))}class FO extends Xn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uw(n)&&Td(n.arrayValue,this.value)}}class WO extends Xn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Td(this.value.arrayValue,n)}}class zO extends Xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Td(this.value.arrayValue,n)}}class jO extends Xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Td(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n=null,i=[],s=[],o=null,c=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=c,this.endAt=u,this.Te=null}}function vb(r,e=null,n=[],i=[],s=null,o=null,c=null){return new qO(r,e,n,i,s,o,c)}function Vw(r){const e=Et(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>D0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Vp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Fc(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Fc(i))).join(",")),e.Te=n}return e.Te}function Fw(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!LO(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!nk(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!wb(r.startAt,e.startAt)&&wb(r.endAt,e.endAt)}function B0(r){return ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n=null,i=[],s=[],o=null,c="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $O(r,e,n,i,s,o,c,u){return new ru(r,e,n,i,s,o,c,u)}function Ww(r){return new ru(r)}function _b(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sk(r){return r.collectionGroup!==null}function fd(r){const e=Et(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new rr(Ar.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new kd(o,i))})),n.has(Ar.keyField().canonicalString())||e.Ie.push(new kd(Ar.keyField(),i))}return e.Ie}function Vs(r){const e=Et(r);return e.Ee||(e.Ee=KO(e,fd(r))),e.Ee}function KO(r,e){if(r.limitType==="F")return vb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new kd(s.field,o)}));const n=r.endAt?new up(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new up(r.startAt.position,r.startAt.inclusive):null;return vb(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function U0(r,e){const n=r.filters.concat([e]);return new ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function V0(r,e,n){return new ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Wp(r,e){return Fw(Vs(r),Vs(e))&&r.limitType===e.limitType}function ok(r){return`${Vw(Vs(r))}|lt:${r.limitType}`}function gc(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((s=>rk(s))).join(", ")}]`),Vp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((s=>Fc(s))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((s=>Fc(s))).join(",")),`Target(${i})`})(Vs(r))}; limitType=${r.limitType})`}function zp(r,e){return e.isFoundDocument()&&(function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ot.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(r,e)&&(function(i,s){for(const o of fd(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(r,e)&&(function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0})(r,e)&&(function(i,s){return!(i.startAt&&!(function(c,u,h){const p=yb(c,u,h);return c.inclusive?p<=0:p<0})(i.startAt,fd(i),s)||i.endAt&&!(function(c,u,h){const p=yb(c,u,h);return c.inclusive?p>=0:p>0})(i.endAt,fd(i),s))})(r,e)}function HO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ak(r){return(e,n)=>{let i=!1;for(const s of fd(r)){const o=GO(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function GO(r,e,n){const i=r.field.isKeyField()?ot.comparator(e.key,n.key):(function(o,c,u){const h=c.data.field(o),p=u.data.field(o);return h!==null&&p!==null?Vc(h,p):pt(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((n,i)=>{for(const[s,o]of i)e(s,o)}))}isEmpty(){return qT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new On(ot.comparator);function To(){return QO}const lk=new On(ot.comparator);function sd(...r){let e=lk;for(const n of r)e=e.insert(n.key,n);return e}function ck(r){let e=lk;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function nl(){return pd()}function uk(){return pd()}function pd(){return new bl((r=>r.toString()),((r,e)=>r.isEqual(e)))}const YO=new On(ot.comparator),XO=new rr(ot.comparator);function Ft(...r){let e=XO;for(const n of r)e=e.add(n);return e}const JO=new rr(Vt);function ZO(){return JO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ap(e)?"-0":e}}function dk(r){return{integerValue:""+r}}function hk(r,e){return kO(e)?dk(e):zw(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this._=void 0}}function e6(r,e,n){return r instanceof xd?(function(s,o){const c={fields:{[HT]:{stringValue:KT},[QT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Bw(o)&&(o=Fp(o)),o&&(c.fields[GT]=o),{mapValue:c}})(n,e):r instanceof Wc?pk(r,e):r instanceof Rd?mk(r,e):(function(s,o){const c=fk(s,o),u=Eb(c)+Eb(s.Ae);return L0(c)&&L0(s.Ae)?dk(u):zw(s.serializer,u)})(r,e)}function t6(r,e,n){return r instanceof Wc?pk(r,e):r instanceof Rd?mk(r,e):n}function fk(r,e){return r instanceof Cd?(function(i){return L0(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class xd extends jp{}class Wc extends jp{constructor(e){super(),this.elements=e}}function pk(r,e){const n=gk(e);for(const i of r.elements)n.some((s=>$s(s,i)))||n.push(i);return{arrayValue:{values:n}}}class Rd extends jp{constructor(e){super(),this.elements=e}}function mk(r,e){let n=gk(e);for(const i of r.elements)n=n.filter((s=>!$s(s,i)));return{arrayValue:{values:n}}}class Cd extends jp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Eb(r){return jn(r.integerValue||r.doubleValue)}function gk(r){return Uw(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n){this.field=e,this.transform=n}}function n6(r,e){return r.field.isEqual(e.field)&&(function(i,s){return i instanceof Wc&&s instanceof Wc||i instanceof Rd&&s instanceof Rd?Uc(i.elements,s.elements,$s):i instanceof Cd&&s instanceof Cd?$s(i.Ae,s.Ae):i instanceof xd&&s instanceof xd})(r.transform,e.transform)}class r6{constructor(e,n){this.version=e,this.transformResults=n}}class cs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cs}static exists(e){return new cs(void 0,e)}static updateTime(e){return new cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qp{}function yk(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new vk(r.key,cs.none()):new Gd(r.key,r.data,cs.none());{const n=r.data,i=hi.empty();let s=new rr(Ar.comparator);for(let o of e.fields)if(!s.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?i.delete(o):i.set(o,c),s=s.add(o)}return new Na(r.key,i,new ki(s.toArray()),cs.none())}}function i6(r,e,n){r instanceof Gd?(function(s,o,c){const u=s.value.clone(),h=Sb(s.fieldTransforms,o,c.transformResults);u.setAll(h),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(r,e,n):r instanceof Na?(function(s,o,c){if(!zf(s.precondition,o))return void o.convertToUnknownDocument(c.version);const u=Sb(s.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(wk(s)),h.setAll(u),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(r,e,n):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function md(r,e,n,i){return r instanceof Gd?(function(o,c,u,h){if(!zf(o.precondition,c))return u;const p=o.value.clone(),m=Ab(o.fieldTransforms,h,c);return p.setAll(m),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(r,e,n,i):r instanceof Na?(function(o,c,u,h){if(!zf(o.precondition,c))return u;const p=Ab(o.fieldTransforms,h,c),m=c.data;return m.setAll(wk(o)),m.setAll(p),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(r,e,n,i):(function(o,c,u){return zf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(r,e,n)}function s6(r,e){let n=null;for(const i of r.fieldTransforms){const s=e.data.field(i.field),o=fk(i.transform,s||null);o!=null&&(n===null&&(n=hi.empty()),n.set(i.field,o))}return n||null}function bb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Uc(i,s,((o,c)=>n6(o,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Gd extends qp{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Na extends qp{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wk(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function Sb(r,e,n){const i=new Map;hn(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let s=0;s<n.length;s++){const o=r[s],c=o.transform,u=e.data.field(o.field);i.set(o.field,t6(c,u,n[s]))}return i}function Ab(r,e,n){const i=new Map;for(const s of r){const o=s.transform,c=n.data.field(s.field);i.set(s.field,e6(o,c,e))}return i}class vk extends qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o6 extends qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&i6(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=md(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=md(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=uk();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=n.has(s.key)?null:u;const h=yk(c,u);h!==null&&i.set(s.key,h),c.isValidDocument()||c.convertToNoDocument(vt.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ft())}isEqual(e){return this.batchId===e.batchId&&Uc(this.mutations,e.mutations,((n,i)=>bb(n,i)))&&Uc(this.baseMutations,e.baseMutations,((n,i)=>bb(n,i)))}}class qw{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){hn(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return YO})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,i[c].version);return new qw(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn,Yt;function u6(r){switch(r){case Ie.OK:return pt(64938);case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function _k(r){if(r===void 0)return Io("GRPC error has no .code"),Ie.UNKNOWN;switch(r){case Gn.OK:return Ie.OK;case Gn.CANCELLED:return Ie.CANCELLED;case Gn.UNKNOWN:return Ie.UNKNOWN;case Gn.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Gn.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Gn.INTERNAL:return Ie.INTERNAL;case Gn.UNAVAILABLE:return Ie.UNAVAILABLE;case Gn.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Gn.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Gn.NOT_FOUND:return Ie.NOT_FOUND;case Gn.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Gn.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Gn.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Gn.ABORTED:return Ie.ABORTED;case Gn.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Gn.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Gn.DATA_LOSS:return Ie.DATA_LOSS;default:return pt(39323,{code:r})}}(Yt=Gn||(Gn={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=new _a([4294967295,4294967295],0);function Ib(r){const e=d6().encode(r),n=new NT;return n.update(e),new Uint8Array(n.digest())}function Tb(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _a([n,i],0),new _a([s,o],0)]}class $w{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new od(`Invalid padding: ${n}`);if(i<0)throw new od(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new od(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new od(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_a.fromNumber(this.ge)}ye(e,n,i){let s=e.add(n.multiply(_a.fromNumber(i)));return s.compare(h6)===1&&(s=new _a([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ib(e),[i,s]=Tb(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,s,o);if(!this.we(c))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new $w(o,s,n);return i.forEach((u=>c.insert(u))),c}insert(e){if(this.ge===0)return;const n=Ib(e),[i,s]=Tb(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,s,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Qd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new $p(vt.min(),s,new On(Vt),To(),Ft())}}class Qd{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Qd(i,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n,i,s){this.be=e,this.removedTargetIds=n,this.key=i,this.De=s}}class Ek{constructor(e,n){this.targetId=e,this.Ce=n}}class bk{constructor(e,n,i=Tr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class kb{constructor(){this.ve=0,this.Fe=xb(),this.Me=Tr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ft(),n=Ft(),i=Ft();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:pt(38017,{changeType:o})}})),new Qd(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=xb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,hn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class f6{constructor(e){this.Ge=e,this.ze=new Map,this.je=To(),this.Je=wf(),this.He=wf(),this.Ye=new On(Vt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,i=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(B0(o))if(i===0){const c=new ot(o.path);this.et(n,c,Vr.newNoDocument(c,vt.min()))}else hn(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const u=this.ut(e),h=u?this.ct(u,e,c):1;if(h!==0){this.it(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let c,u;try{c=Ta(i).toUint8Array()}catch(h){if(h instanceof $T)return Bc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new $w(c,s,o)}catch(h){return Bc(h instanceof od?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach((o=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const u=this.ot(c);if(u){if(o.current&&B0(u.target)){const h=new ot(u.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,Vr.newNoDocument(h,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let i=Ft();this.He.forEach(((o,c)=>{let u=!0;c.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new $p(e,n,this.Ye,this.je,i);return this.je=To(),this.Je=wf(),this.He=wf(),this.Ye=new On(Vt),s}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new kb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rr(Vt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rr(Vt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wf(){return new On(ot.comparator)}function xb(){return new On(ot.comparator)}const p6={asc:"ASCENDING",desc:"DESCENDING"},m6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g6={and:"AND",or:"OR"};class y6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function F0(r,e){return r.useProto3Json||Vp(e)?e:{value:e}}function dp(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sk(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function w6(r,e){return dp(r,e.toTimestamp())}function Fs(r){return hn(!!r,49232),vt.fromTimestamp((function(n){const i=Ia(n);return new In(i.seconds,i.nanos)})(r))}function Kw(r,e){return W0(r,e).canonicalString()}function W0(r,e){const n=(function(s){return new bn(["projects",s.projectId,"databases",s.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Ak(r){const e=bn.fromString(r);return hn(Rk(e),10190,{key:e.toString()}),e}function z0(r,e){return Kw(r.databaseId,e.path)}function oy(r,e){const n=Ak(e);if(n.get(1)!==r.databaseId.projectId)throw new $e(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new $e(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ot(Tk(n))}function Ik(r,e){return Kw(r.databaseId,e)}function v6(r){const e=Ak(r);return e.length===4?bn.emptyPath():Tk(e)}function j0(r){return new bn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Tk(r){return hn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Rb(r,e,n){return{name:z0(r,e),fields:n.value.mapValue.fields}}function _6(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:pt(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(p,m){return p.useProto3Json?(hn(m===void 0||typeof m=="string",58123),Tr.fromBase64String(m||"")):(hn(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Tr.fromUint8Array(m||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(p){const m=p.code===void 0?Ie.UNKNOWN:_k(p.code);return new $e(m,p.message||"")})(c);n=new bk(i,s,o,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=oy(r,i.document.name),o=Fs(i.document.updateTime),c=i.document.createTime?Fs(i.document.createTime):vt.min(),u=new hi({mapValue:{fields:i.document.fields}}),h=Vr.newFoundDocument(s,o,c,u),p=i.targetIds||[],m=i.removedTargetIds||[];n=new jf(p,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=oy(r,i.document),o=i.readTime?Fs(i.readTime):vt.min(),c=Vr.newNoDocument(s,o),u=i.removedTargetIds||[];n=new jf([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=oy(r,i.document),o=i.removedTargetIds||[];n=new jf([],o,s,null)}else{if(!("filter"in e))return pt(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,c=new c6(s,o),u=i.targetId;n=new Ek(u,c)}}return n}function E6(r,e){let n;if(e instanceof Gd)n={update:Rb(r,e.key,e.value)};else if(e instanceof vk)n={delete:z0(r,e.key)};else if(e instanceof Na)n={update:Rb(r,e.key,e.data),updateMask:C6(e.fieldMask)};else{if(!(e instanceof o6))return pt(16599,{Vt:e.type});n={verify:z0(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,c){const u=c.transform;if(u instanceof xd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Wc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Rd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Cd)return{fieldPath:c.field.canonicalString(),increment:u.Ae};throw pt(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:w6(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:pt(27497)})(r,e.precondition)),n}function b6(r,e){return r&&r.length>0?(hn(e!==void 0,14353),r.map((n=>(function(s,o){let c=s.updateTime?Fs(s.updateTime):Fs(o);return c.isEqual(vt.min())&&(c=Fs(o)),new r6(c,s.transformResults||[])})(n,e)))):[]}function S6(r,e){return{documents:[Ik(r,e.path)]}}function A6(r,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Ik(r,s);const o=(function(p){if(p.length!==0)return xk(ds.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((m=>(function(S){return{field:yc(S.field),direction:k6(S.dir)}})(m)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=F0(r,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function I6(r){let e=v6(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){hn(i===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(v){const S=kk(v);return S instanceof ds&&tk(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((S=>(function(N){return new kd(wc(N.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(S)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let S;return S=typeof v=="object"?v.value:v,Vp(S)?null:S})(n.limit));let h=null;n.startAt&&(h=(function(v){const S=!!v.before,A=v.values||[];return new up(A,S)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const S=!v.before,A=v.values||[];return new up(A,S)})(n.endAt)),$O(e,s,c,o,u,"F",h,p)}function T6(r,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kk(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=wc(n.unaryFilter.field);return Xn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=wc(n.unaryFilter.field);return Xn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wc(n.unaryFilter.field);return Xn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wc(n.unaryFilter.field);return Xn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Xn.create(wc(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ds.create(n.compositeFilter.filters.map((i=>kk(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(n.compositeFilter.op))})(r):pt(30097,{filter:r})}function k6(r){return p6[r]}function x6(r){return m6[r]}function R6(r){return g6[r]}function yc(r){return{fieldPath:r.canonicalString()}}function wc(r){return Ar.fromServerFormat(r.fieldPath)}function xk(r){return r instanceof Xn?(function(n){if(n.op==="=="){if(gb(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NAN"}};if(mb(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gb(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NOT_NAN"}};if(mb(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(n.field),op:x6(n.op),value:n.value}}})(r):r instanceof ds?(function(n){const i=n.getFilters().map((s=>xk(s)));return i.length===1?i[0]:{compositeFilter:{op:R6(n.op),filters:i}}})(r):pt(54877,{filter:r})}function C6(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Rk(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,i,s,o=vt.min(),c=vt.min(),u=Tr.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.yt=e}}function M6(r){const e=I6({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?V0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.Cn=new O6}addToCollectionParentIndex(e,n){return this.Cn.add(n),xe.resolve()}getCollectionParents(e,n){return xe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return xe.resolve()}deleteFieldIndex(e,n){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,n){return xe.resolve()}getDocumentsMatchingTarget(e,n){return xe.resolve(null)}getIndexType(e,n){return xe.resolve(0)}getFieldIndexes(e,n){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,n){return xe.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,n){return xe.resolve(Aa.min())}updateCollectionGroup(e,n,i){return xe.resolve()}updateIndexEntries(e,n){return xe.resolve()}}class O6{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new rr(bn.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new rr(bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ck=41943040;class li{static withCacheSize(e){return new li(e,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(Ck,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zc(0)}static cr(){return new zc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="LruGarbageCollector",L6=1048576;function Mb([r,e],[n,i]){const s=Vt(r,n);return s===0?Vt(e,i):s}class D6{constructor(e){this.Ir=e,this.buffer=new rr(Mb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Mb(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class B6{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ge(Pb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nu(n)?Ge(Pb,"Ignoring IndexedDB error during garbage collection: ",n):await tu(n)}await this.Vr(3e5)}))}}class U6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return xe.resolve(Up.ce);const i=new D6(n);return this.mr.forEachTarget(e,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(Cb)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,s,o,c,u,h,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,c=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(i=v,u=Date.now(),this.removeTargets(e,i,n)))).next((v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(p=Date.now(),mc()<=Ut.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-m}ms
	Determined least recently used ${s} in `+(u-c)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-m}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v}))))}}function V6(r,e){return new U6(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(){this.changes=new bl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?xe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(i!==null&&md(i.mutation,s,ki.empty(),In.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ft()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ft()){const s=nl();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,i).next((o=>{let c=sd();return o.forEach(((u,h)=>{c=c.insert(u,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=nl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ft())))}populateOverlays(e,n,i){const s=[];return i.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,u)=>{n.set(c,u)}))}))}computeViews(e,n,i,s){let o=To();const c=pd(),u=(function(){return pd()})();return n.forEach(((h,p)=>{const m=i.get(p.key);s.has(p.key)&&(m===void 0||m.mutation instanceof Na)?o=o.insert(p.key,p):m!==void 0?(c.set(p.key,m.mutation.getFieldMask()),md(m.mutation,p,m.mutation.getFieldMask(),In.now())):c.set(p.key,ki.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((p,m)=>c.set(p,m))),n.forEach(((p,m)=>u.set(p,new W6(m,c.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,n){const i=pd();let s=new On(((c,u)=>c-u)),o=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const u of c)u.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let m=i.get(h)||ki.empty();m=u.applyToLocalView(p,m),i.set(h,m);const v=(s.get(u.batchId)||Ft()).add(h);s=s.insert(u.batchId,v)}))})).next((()=>{const c=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,m=h.value,v=uk();m.forEach((S=>{if(!o.has(S)){const A=yk(n.get(S),i.get(S));A!==null&&v.set(S,A),o=o.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return xe.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,s){return(function(c){return ot.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):xe.resolve(nl());let u=Sd,h=o;return c.next((p=>xe.forEach(p,((m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(m)?xe.resolve():this.remoteDocumentCache.getEntry(e,m).next((S=>{h=h.insert(m,S)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,h,p,Ft()))).next((m=>({batchId:u,changes:ck(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ot(n)).next((i=>{let s=sd();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let c=sd();return this.indexManager.getCollectionParents(e,o).next((u=>xe.forEach(u,(h=>{const p=(function(v,S){return new ru(S,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,i,s).next((m=>{m.forEach(((v,S)=>{c=c.insert(v,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s)))).next((c=>{o.forEach(((h,p)=>{const m=p.getKey();c.get(m)===null&&(c=c.insert(m,Vr.newInvalidDocument(m)))}));let u=sd();return c.forEach(((h,p)=>{const m=o.get(h);m!==void 0&&md(m.mutation,p,ki.empty(),In.now()),zp(n,p)&&(u=u.insert(h,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return xe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Fs(s.createTime)}})(n)),xe.resolve()}getNamedQuery(e,n){return xe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:M6(s.bundledQuery),readTime:Fs(s.readTime)}})(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this.overlays=new On(ot.comparator),this.qr=new Map}getOverlay(e,n){return xe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=nl();return xe.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((s,o)=>{this.St(e,n,o)})),xe.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),xe.resolve()}getOverlaysForCollection(e,n,i){const s=nl(),o=n.length+1,c=new ot(n.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return xe.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new On(((p,m)=>p-m));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let m=o.get(p.largestBatchId);m===null&&(m=nl(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=nl(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,m)=>u.set(p,m))),!(u.size()>=s)););return xe.resolve(u)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new l6(n,i));let o=this.qr.get(n);o===void 0&&(o=Ft(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.Qr=new rr(dr.$r),this.Ur=new rr(dr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new dr(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new dr(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new ot(new bn([])),i=new dr(n,e),s=new dr(n,e+1),o=[];return this.Ur.forEachInRange([i,s],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ot(new bn([])),i=new dr(n,e),s=new dr(n,e+1);let o=Ft();return this.Ur.forEachInRange([i,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new dr(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class dr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ot.comparator(e.key,n.key)||Vt(e.Yr,n.Yr)}static Kr(e,n){return Vt(e.Yr,n.Yr)||ot.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rr(dr.$r)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new a6(o,n,i,s);this.mutationQueue.push(c);for(const u of s)this.Zr=this.Zr.add(new dr(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return xe.resolve(c)}lookupMutationBatch(e,n){return xe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ei(i),o=s<0?0:s;return xe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?Dw:this.tr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new dr(n,0),s=new dr(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,s],(c=>{const u=this.Xr(c.Yr);o.push(u)})),xe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new rr(Vt);return n.forEach((s=>{const o=new dr(s,0),c=new dr(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(u=>{i=i.add(u.Yr)}))})),xe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;ot.isDocumentKey(o)||(o=o.child(""));const c=new dr(new ot(o),0);let u=new rr(Vt);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(u=u.add(h.Yr)),!0)}),c),xe.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((i=>{const s=this.Xr(i);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){hn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return xe.forEach(n.mutations,(s=>{const o=new dr(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new dr(n,0),s=this.Zr.firstAfterOrEqual(i);return xe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.ri=e,this.docs=(function(){return new On(ot.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return xe.resolve(i?i.document.mutableCopy():Vr.newInvalidDocument(n))}getEntries(e,n){let i=To();return n.forEach((s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Vr.newInvalidDocument(s))})),xe.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=To();const c=n.path,u=new ot(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||SO(bO(m),i)<=0||(s.has(m.key)||zp(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return xe.resolve(o)}getAllFromCollectionGroup(e,n,i,s){pt(9500)}ii(e,n){return xe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new G6(this)}getSize(e){return xe.resolve(this.size)}}class G6 extends F6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)})),xe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.persistence=e,this.si=new bl((n=>Vw(n)),Fw),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Hw,this.targetCount=0,this.ai=zc.ur()}forEachTarget(e,n){return this.si.forEach(((i,s)=>n(s))),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),xe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new zc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,xe.resolve()}updateTargetData(e,n){return this.Pr(n),xe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.si.forEach(((c,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),xe.waitFor(o).next((()=>s))}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return xe.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),xe.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),xe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),xe.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return xe.resolve(i)}containsKey(e,n){return xe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n){this.ui={},this.overlays={},this.ci=new Up(0),this.li=!1,this.li=!0,this.hi=new $6,this.referenceDelegate=e(this),this.Pi=new Q6(this),this.indexManager=new N6,this.remoteDocumentCache=(function(s){return new H6(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new P6(n),this.Ii=new j6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new K6(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Ge("MemoryPersistence","Starting transaction:",e);const s=new Y6(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,n){return xe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class Y6 extends IO{constructor(e){super(),this.currentSequenceNumber=e}}class Gw{constructor(e){this.persistence=e,this.Ri=new Hw,this.Vi=null}static mi(e){return new Gw(e)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),xe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),xe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),xe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.fi,(i=>{const s=ot.fromPath(i);return this.gi(e,s).next((o=>{o||n.removeEntry(s,vt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return xe.or([()=>xe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hp{constructor(e,n){this.persistence=e,this.pi=new bl((i=>xO(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=V6(this,n)}static mi(e,n){return new hp(e,n)}Ei(){}di(e){return xe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((s=>i+s))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return xe.forEach(this.pi,((i,s)=>this.br(e,i,s).next((o=>o?xe.resolve():n(s)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(c=>this.br(e,c,n).next((u=>{u||(i++,o.removeEntry(c,vt.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),xe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),xe.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),xe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ff(e.data.value)),n}br(e,n,i){return xe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return xe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=s}static As(e,n){let i=Ft(),s=Ft();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Qw(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KM()?8:TO(Fr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,s,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new X6;return this.Ss(e,n,c).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,c,u.size)}))})).next((()=>o.result))}bs(e,n,i,s){return i.documentReadCount<this.fs?(mc()<=Ut.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",gc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),xe.resolve()):(mc()<=Ut.DEBUG&&Ge("QueryEngine","Query:",gc(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(mc()<=Ut.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",gc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vs(n))):xe.resolve())}ys(e,n){if(_b(n))return xe.resolve(null);let i=Vs(n);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=V0(n,null,"F"),i=Vs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const c=Ft(...o);return this.ps.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,i).next((h=>{const p=this.Ds(n,u);return this.Cs(n,p,c,h.readTime)?this.ys(e,V0(n,null,"F")):this.vs(e,p,n,h)}))))})))))}ws(e,n,i,s){return _b(n)||s.isEqual(vt.min())?xe.resolve(null):this.ps.getDocuments(e,i).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,i,s)?xe.resolve(null):(mc()<=Ut.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gc(n)),this.vs(e,c,n,EO(s,Sd)).next((u=>u)))}))}Ds(e,n){let i=new rr(ak(e));return n.forEach(((s,o)=>{zp(e,o)&&(i=i.add(o))})),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,i){return mc()<=Ut.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",gc(n)),this.ps.getDocumentsMatchingQuery(e,n,Aa.min(),i)}vs(e,n,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="LocalStore",Z6=3e8;class eL{constructor(e,n,i,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new On(Vt),this.xs=new bl((o=>Vw(o)),Fw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function tL(r,e,n,i){return new eL(r,e,n,i)}async function Mk(r,e){const n=Et(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next((o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],u=[];let h=Ft();for(const p of s){c.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of o){u.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(i,h).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:u})))}))}))}function nL(r,e){const n=Et(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,m){const v=p.batch,S=v.keys();let A=xe.resolve();return S.forEach((N=>{A=A.next((()=>m.getEntry(h,N))).next((P=>{const O=p.docVersions.get(N);hn(O!==null,48541),P.version.compareTo(O)<0&&(v.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),m.addEntry(P)))}))})),A.next((()=>u.mutationQueue.removeMutationBatch(h,v)))})(n,i,e,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let h=Ft();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(i,s)))}))}function Nk(r){const e=Et(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function rL(r,e){const n=Et(r),i=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((m,v)=>{const S=s.get(v);if(!S)return;u.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,v))));let A=S.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(Tr.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):m.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(m.resumeToken,i)),s=s.insert(v,A),(function(P,O,z){return P.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=Z6?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(S,A,m)&&u.push(n.Pi.updateTargetData(o,A))}));let h=To(),p=Ft();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),u.push(iL(o,c,e.documentUpdates).next((m=>{h=m.ks,p=m.qs}))),!i.isEqual(vt.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((v=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(m)}return xe.waitFor(u).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,p))).next((()=>h))})).then((o=>(n.Ms=s,o)))}function iL(r,e,n){let i=Ft(),s=Ft();return n.forEach((o=>i=i.add(o))),e.getEntries(r,i).next((o=>{let c=To();return n.forEach(((u,h)=>{const p=o.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(vt.min())?(e.removeEntry(u,h.readTime),c=c.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(u,h)):Ge(Yw,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)})),{ks:c,qs:s}}))}function sL(r,e){const n=Et(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Dw),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function oL(r,e){const n=Et(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return n.Pi.getTargetData(i,e).next((o=>o?(s=o,xe.resolve(s)):n.Pi.allocateTargetId(i).next((c=>(s=new fa(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function q0(r,e,n){const i=Et(r),s=i.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!nu(c))throw c;Ge(Yw,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function Nb(r,e,n){const i=Et(r);let s=vt.min(),o=Ft();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,p,m){const v=Et(h),S=v.xs.get(m);return S!==void 0?xe.resolve(v.Ms.get(S)):v.Pi.getTargetData(p,m)})(i,c,Vs(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,u.targetId).next((h=>{o=h}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,n?s:vt.min(),n?o:Ft()))).next((u=>(aL(i,HO(e),u),{documents:u,Qs:o})))))}function aL(r,e,n){let i=r.Os.get(e)||vt.min();n.forEach(((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),r.Os.set(e,i)}class Ob{constructor(){this.activeTargetIds=ZO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lL{constructor(){this.Mo=new Ob,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ob,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="ConnectivityMonitor";class Db{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ge(Lb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ge(Lb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf=null;function $0(){return vf===null?vf=(function(){return 268435456+Math.round(2147483648*Math.random())})():vf++,"0x"+vf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="RestConnection",uL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===lp?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,n,i,s,o){const c=$0(),u=this.zo(e,n.toUriEncodedString());Ge(ay,`Sending RPC '${e}' ${c}:`,u,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,o);const{host:p}=new URL(u),m=Xc(p);return this.Jo(e,u,h,i,m).then((v=>(Ge(ay,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Bc(ay,`RPC '${e}' ${c} failed with error: `,v,"url: ",u,"request:",i),v}))}Ho(e,n,i,s,o,c){return this.Go(e,n,i,s,o)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),i&&i.headers.forEach(((s,o)=>e[o]=s))}zo(e,n){const i=uL[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="WebChannelConnection";class fL extends dL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,o){const c=$0();return new Promise(((u,h)=>{const p=new OT;p.setWithCredentials(!0),p.listenOnce(LT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Vf.NO_ERROR:const v=p.getResponseJson();Ge(Mr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),u(v);break;case Vf.TIMEOUT:Ge(Mr,`RPC '${e}' ${c} timed out`),h(new $e(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case Vf.HTTP_ERROR:const S=p.getStatus();if(Ge(Mr,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const N=A?.error;if(N&&N.status&&N.message){const P=(function(z){const j=z.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(j)>=0?j:Ie.UNKNOWN})(N.status);h(new $e(P,N.message))}else h(new $e(Ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new $e(Ie.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ge(Mr,`RPC '${e}' ${c} completed.`)}}));const m=JSON.stringify(s);Ge(Mr,`RPC '${e}' ${c} sending request:`,s),p.send(n,"POST",m,i,15)}))}T_(e,n,i){const s=$0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=UT(),u=BT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=o.join("");Ge(Mr,`Creating RPC '${e}' stream ${s}: ${m}`,h);const v=c.createWebChannel(m,h);this.I_(v);let S=!1,A=!1;const N=new hL({Yo:O=>{A?Ge(Mr,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(S||(Ge(Mr,`Opening RPC '${e}' stream ${s} transport.`),v.open(),S=!0),Ge(Mr,`RPC '${e}' stream ${s} sending:`,O),v.send(O))},Zo:()=>v.close()}),P=(O,z,j)=>{O.listen(z,(G=>{try{j(G)}catch(te){setTimeout((()=>{throw te}),0)}}))};return P(v,id.EventType.OPEN,(()=>{A||(Ge(Mr,`RPC '${e}' stream ${s} transport opened.`),N.o_())})),P(v,id.EventType.CLOSE,(()=>{A||(A=!0,Ge(Mr,`RPC '${e}' stream ${s} transport closed`),N.a_(),this.E_(v))})),P(v,id.EventType.ERROR,(O=>{A||(A=!0,Bc(Mr,`RPC '${e}' stream ${s} transport errored. Name:`,O.name,"Message:",O.message),N.a_(new $e(Ie.UNAVAILABLE,"The operation could not be completed")))})),P(v,id.EventType.MESSAGE,(O=>{if(!A){const z=O.data[0];hn(!!z,16349);const j=z,G=j?.error||j[0]?.error;if(G){Ge(Mr,`RPC '${e}' stream ${s} received error:`,G);const te=G.status;let ae=(function(V){const M=Gn[V];if(M!==void 0)return _k(M)})(te),se=G.message;ae===void 0&&(ae=Ie.INTERNAL,se="Unknown error status: "+te+" with message "+G.message),A=!0,N.a_(new $e(ae,se)),v.close()}else Ge(Mr,`RPC '${e}' stream ${s} received:`,z),N.u_(z)}})),P(u,DT.STAT_EVENT,(O=>{O.stat===M0.PROXY?Ge(Mr,`RPC '${e}' stream ${s} detected buffering proxy`):O.stat===M0.NOPROXY&&Ge(Mr,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ly(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(r){return new y6(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,i=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="PersistentStream";class Lk{constructor(e,n,i,s,o,c,u,h){this.Mi=e,this.S_=i,this.b_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ok(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ie.RESOURCE_EXHAUSTED?(Io(n.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===n&&this.G_(i,s)}),(i=>{e((()=>{const s=new $e(Ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ge(Bb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ge(Bb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pL extends Lk{constructor(e,n,i,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_6(this.serializer,e),i=(function(o){if(!("targetChange"in o))return vt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?vt.min():c.readTime?Fs(c.readTime):vt.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=j0(this.serializer),n.addTarget=(function(o,c){let u;const h=c.target;if(u=B0(h)?{documents:S6(o,h)}:{query:A6(o,h).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=Sk(o,c.resumeToken);const p=F0(o,c.expectedCount);p!==null&&(u.expectedCount=p)}else if(c.snapshotVersion.compareTo(vt.min())>0){u.readTime=dp(o,c.snapshotVersion.toTimestamp());const p=F0(o,c.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const i=T6(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=j0(this.serializer),n.removeTarget=e,this.q_(n)}}class mL extends Lk{constructor(e,n,i,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return hn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,hn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){hn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=b6(e.writeResults,e.commitTime),i=Fs(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=j0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>E6(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{}class yL extends gL{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new $e(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,W0(n,i),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(Ie.UNKNOWN,o.toString())}))}Ho(e,n,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Ho(e,W0(n,i),s,c,u,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new $e(Ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Io(n),this.aa=!1):Ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="RemoteStore";class vL{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Sl(this)&&(Ge(yl,"Restarting streams for network reachability change."),await(async function(h){const p=Et(h);p.Ea.add(4),await Yd(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Hp(p)})(this))}))})),this.Ra=new wL(i,s)}}async function Hp(r){if(Sl(r))for(const e of r.da)await e(!0)}async function Yd(r){for(const e of r.da)await e(!1)}function Dk(r,e){const n=Et(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ev(n)?Zw(n):iu(n).O_()&&Jw(n,e))}function Xw(r,e){const n=Et(r),i=iu(n);n.Ia.delete(e),i.O_()&&Bk(n,e),n.Ia.size===0&&(i.O_()?i.L_():Sl(n)&&n.Ra.set("Unknown"))}function Jw(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}iu(r).Y_(e)}function Bk(r,e){r.Va.Ue(e),iu(r).Z_(e)}function Zw(r){r.Va=new f6({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),iu(r).start(),r.Ra.ua()}function ev(r){return Sl(r)&&!iu(r).x_()&&r.Ia.size>0}function Sl(r){return Et(r).Ea.size===0}function Uk(r){r.Va=void 0}async function _L(r){r.Ra.set("Online")}async function EL(r){r.Ia.forEach(((e,n)=>{Jw(r,e)}))}async function bL(r,e){Uk(r),ev(r)?(r.Ra.ha(e),Zw(r)):r.Ra.set("Unknown")}async function SL(r,e,n){if(r.Ra.set("Online"),e instanceof bk&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,c),s.Ia.delete(u),s.Va.removeTarget(u))})(r,e)}catch(i){Ge(yl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await fp(r,i)}else if(e instanceof jf?r.Va.Ze(e):e instanceof Ek?r.Va.st(e):r.Va.tt(e),!n.isEqual(vt.min()))try{const i=await Nk(r.localStore);n.compareTo(i)>=0&&await(function(o,c){const u=o.Va.Tt(c);return u.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(p);m&&o.Ia.set(p,m.withResumeToken(h.resumeToken,c))}})),u.targetMismatches.forEach(((h,p)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(Tr.EMPTY_BYTE_STRING,m.snapshotVersion)),Bk(o,h);const v=new fa(m.target,h,p,m.sequenceNumber);Jw(o,v)})),o.remoteSyncer.applyRemoteEvent(u)})(r,n)}catch(i){Ge(yl,"Failed to raise snapshot:",i),await fp(r,i)}}async function fp(r,e,n){if(!nu(e))throw e;r.Ea.add(1),await Yd(r),r.Ra.set("Offline"),n||(n=()=>Nk(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ge(yl,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Hp(r)}))}function Vk(r,e){return e().catch((n=>fp(r,n,e)))}async function Gp(r){const e=Et(r),n=xa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dw;for(;AL(e);)try{const s=await sL(e.localStore,i);if(s===null){e.Ta.length===0&&n.L_();break}i=s.batchId,IL(e,s)}catch(s){await fp(e,s)}Fk(e)&&Wk(e)}function AL(r){return Sl(r)&&r.Ta.length<10}function IL(r,e){r.Ta.push(e);const n=xa(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Fk(r){return Sl(r)&&!xa(r).x_()&&r.Ta.length>0}function Wk(r){xa(r).start()}async function TL(r){xa(r).ra()}async function kL(r){const e=xa(r);for(const n of r.Ta)e.ea(n.mutations)}async function xL(r,e,n){const i=r.Ta.shift(),s=qw.from(i,e,n);await Vk(r,(()=>r.remoteSyncer.applySuccessfulWrite(s))),await Gp(r)}async function RL(r,e){e&&xa(r).X_&&await(async function(i,s){if((function(c){return u6(c)&&c!==Ie.ABORTED})(s.code)){const o=i.Ta.shift();xa(i).B_(),await Vk(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Gp(i)}})(r,e),Fk(r)&&Wk(r)}async function Ub(r,e){const n=Et(r);n.asyncQueue.verifyOperationInProgress(),Ge(yl,"RemoteStore received new credentials");const i=Sl(n);n.Ea.add(3),await Yd(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hp(n)}async function CL(r,e){const n=Et(r);e?(n.Ea.delete(2),await Hp(n)):e||(n.Ea.add(2),await Yd(n),n.Ra.set("Unknown"))}function iu(r){return r.ma||(r.ma=(function(n,i,s){const o=Et(n);return o.sa(),new pL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(r.datastore,r.asyncQueue,{Xo:_L.bind(null,r),t_:EL.bind(null,r),r_:bL.bind(null,r),H_:SL.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ev(r)?Zw(r):r.Ra.set("Unknown")):(await r.ma.stop(),Uk(r))}))),r.ma}function xa(r){return r.fa||(r.fa=(function(n,i,s){const o=Et(n);return o.sa(),new mL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:TL.bind(null,r),r_:RL.bind(null,r),ta:kL.bind(null,r),na:xL.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Gp(r)):(await r.fa.stop(),r.Ta.length>0&&(Ge(yl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new _o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const c=Date.now()+i,u=new tv(e,n,c,s,o);return u.start(i),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(r,e){if(Io("AsyncQueue",`${e}: ${r}`),nu(r))return new $e(Ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{static emptySet(e){return new xc(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ot.comparator(n.key,i.key):(n,i)=>ot.comparator(n.key,i.key),this.keyedMap=sd(),this.sortedSet=new On(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new xc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.ga=new On(ot.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):pt(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class jc{constructor(e,n,i,s,o,c,u,h,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,s,o){const c=[];return n.forEach((u=>{c.push({type:0,doc:u})})),new jc(e,n,xc.emptySet(n),c,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ML{constructor(){this.queries=Fb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=Et(n),o=s.queries;s.queries=Fb(),o.forEach(((c,u)=>{for(const h of u.Sa)h.onError(i)}))})(this,new $e(Ie.ABORTED,"Firestore shutting down"))}}function Fb(){return new bl((r=>ok(r)),Wp)}async function zk(r,e){const n=Et(r);let i=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(i=2):(o=new PL,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const u=nv(c,`Initialization of query '${gc(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&rv(n)}async function jk(r,e){const n=Et(r),i=e.query;let s=3;const o=n.queries.get(i);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function NL(r,e){const n=Et(r);let i=!1;for(const s of e){const o=s.query,c=n.queries.get(o);if(c){for(const u of c.Sa)u.Fa(s)&&(i=!0);c.wa=s}}i&&rv(n)}function OL(r,e,n){const i=Et(r),s=i.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);i.queries.delete(e)}function rv(r){r.Ca.forEach((e=>{e.next()}))}var K0,Wb;(Wb=K0||(K0={})).Ma="default",Wb.Cache="cache";class qk{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new jc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==K0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.key=e}}class Kk{constructor(e){this.key=e}}class LL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ft(),this.mutatedKeys=Ft(),this.eu=ak(e),this.tu=new xc(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Vb,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,v)=>{const S=s.get(m),A=zp(this.query,v)?v:null,N=!!S&&this.mutatedKeys.has(S.key),P=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let O=!1;S&&A?S.data.isEqual(A.data)?N!==P&&(i.track({type:3,doc:A}),O=!0):this.su(S,A)||(i.track({type:2,doc:A}),O=!0,(h&&this.eu(A,h)>0||p&&this.eu(A,p)<0)&&(u=!0)):!S&&A?(i.track({type:0,doc:A}),O=!0):S&&!A&&(i.track({type:1,doc:S}),O=!0,(h||p)&&(u=!0)),O&&(A?(c=c.add(A),o=P?o.add(m):o.delete(m)):(c=c.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const m=this.query.limitType==="F"?c.last():c.first();c=c.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{tu:c,iu:i,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((m,v)=>(function(A,N){const P=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:O})}};return P(A)-P(N)})(m.type,v.type)||this.eu(m.doc,v.doc))),this.ou(i),s=s??!1;const u=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,p=h!==this.Za;return this.Za=h,c.length!==0||p?{snapshot:new jc(this.query,e.tu,o,c,e.mutatedKeys,h===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Vb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ft(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new Kk(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new $k(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ft();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const iv="SyncEngine";class DL{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class BL{constructor(e){this.key=e,this.hu=!1}}class UL{constructor(e,n,i,s,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new bl((u=>ok(u)),Wp),this.Iu=new Map,this.Eu=new Set,this.du=new On(ot.comparator),this.Au=new Map,this.Ru=new Hw,this.Vu={},this.mu=new Map,this.fu=zc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VL(r,e,n=!0){const i=Jk(r);let s;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await Hk(i,e,n,!0),s}async function FL(r,e){const n=Jk(r);await Hk(n,e,!0,!1)}async function Hk(r,e,n,i){const s=await oL(r.localStore,Vs(e)),o=s.targetId,c=r.sharedClientState.addLocalQueryTarget(o,n);let u;return i&&(u=await WL(r,e,o,c==="current",s.resumeToken)),r.isPrimaryClient&&n&&Dk(r.remoteStore,s),u}async function WL(r,e,n,i,s){r.pu=(v,S,A)=>(async function(P,O,z,j){let G=O.view.ru(z);G.Cs&&(G=await Nb(P.localStore,O.query,!1).then((({documents:Q})=>O.view.ru(Q,G))));const te=j&&j.targetChanges.get(O.targetId),ae=j&&j.targetMismatches.get(O.targetId)!=null,se=O.view.applyChanges(G,P.isPrimaryClient,te,ae);return jb(P,O.targetId,se.au),se.snapshot})(r,v,S,A);const o=await Nb(r.localStore,e,!0),c=new LL(e,o.Qs),u=c.ru(o.documents),h=Qd.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",s),p=c.applyChanges(u,r.isPrimaryClient,h);jb(r,n,p.au);const m=new DL(e,n,c);return r.Tu.set(e,m),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function zL(r,e,n){const i=Et(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter((c=>!Wp(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await q0(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Xw(i.remoteStore,s.targetId),H0(i,s.targetId)})).catch(tu)):(H0(i,s.targetId),await q0(i.localStore,s.targetId,!0))}async function jL(r,e){const n=Et(r),i=n.Tu.get(e),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Xw(n.remoteStore,i.targetId))}async function qL(r,e,n){const i=XL(r);try{const s=await(function(c,u){const h=Et(c),p=In.now(),m=u.reduce(((A,N)=>A.add(N.key)),Ft());let v,S;return h.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let N=To(),P=Ft();return h.Ns.getEntries(A,m).next((O=>{N=O,N.forEach(((z,j)=>{j.isValidDocument()||(P=P.add(z))}))})).next((()=>h.localDocuments.getOverlayedDocuments(A,N))).next((O=>{v=O;const z=[];for(const j of u){const G=s6(j,v.get(j.key).overlayedDocument);G!=null&&z.push(new Na(j.key,G,JT(G.value.mapValue),cs.exists(!0)))}return h.mutationQueue.addMutationBatch(A,p,z,u)})).next((O=>{S=O;const z=O.applyToLocalDocumentSet(v,P);return h.documentOverlayCache.saveOverlays(A,O.batchId,z)}))})).then((()=>({batchId:S.batchId,changes:ck(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(c,u,h){let p=c.Vu[c.currentUser.toKey()];p||(p=new On(Vt)),p=p.insert(u,h),c.Vu[c.currentUser.toKey()]=p})(i,s.batchId,n),await Xd(i,s.changes),await Gp(i.remoteStore)}catch(s){const o=nv(s,"Failed to persist write");n.reject(o)}}async function Gk(r,e){const n=Et(r);try{const i=await rL(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=n.Au.get(o);c&&(hn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?hn(c.hu,14607):s.removedDocuments.size>0&&(hn(c.hu,42227),c.hu=!1))})),await Xd(n,i,e)}catch(i){await tu(i)}}function zb(r,e,n){const i=Et(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach(((o,c)=>{const u=c.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(c,u){const h=Et(c);h.onlineState=u;let p=!1;h.queries.forEach(((m,v)=>{for(const S of v.Sa)S.va(u)&&(p=!0)})),p&&rv(h)})(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function $L(r,e,n){const i=Et(r);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Au.get(e),o=s&&s.key;if(o){let c=new On(ot.comparator);c=c.insert(o,Vr.newNoDocument(o,vt.min()));const u=Ft().add(o),h=new $p(vt.min(),new Map,new On(Vt),c,u);await Gk(i,h),i.du=i.du.remove(o),i.Au.delete(e),sv(i)}else await q0(i.localStore,e,!1).then((()=>H0(i,e,n))).catch(tu)}async function KL(r,e){const n=Et(r),i=e.batch.batchId;try{const s=await nL(n.localStore,e);Yk(n,i,null),Qk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Xd(n,s)}catch(s){await tu(s)}}async function HL(r,e,n){const i=Et(r);try{const s=await(function(c,u){const h=Et(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return h.mutationQueue.lookupMutationBatch(p,u).next((v=>(hn(v!==null,37113),m=v.keys(),h.mutationQueue.removeMutationBatch(p,v)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,m,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>h.localDocuments.getDocuments(p,m)))}))})(i.localStore,e);Yk(i,e,n),Qk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Xd(i,s)}catch(s){await tu(s)}}function Qk(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Yk(r,e,n){const i=Et(r);let s=i.Vu[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function H0(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||Xk(r,i)}))}function Xk(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Xw(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),sv(r))}function jb(r,e,n){for(const i of n)i instanceof $k?(r.Ru.addReference(i.key,e),GL(r,i)):i instanceof Kk?(Ge(iv,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||Xk(r,i.key)):pt(19791,{wu:i})}function GL(r,e){const n=e.key,i=n.path.canonicalString();r.du.get(n)||r.Eu.has(i)||(Ge(iv,"New document in limbo: "+n),r.Eu.add(i),sv(r))}function sv(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ot(bn.fromString(e)),i=r.fu.next();r.Au.set(i,new BL(n)),r.du=r.du.insert(n,i),Dk(r.remoteStore,new fa(Vs(Ww(n.path)),i,"TargetPurposeLimboResolution",Up.ce))}}async function Xd(r,e,n){const i=Et(r),s=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,h)=>{c.push(i.pu(h,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const m=p?!p.fromCache:n?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(p){s.push(p);const m=Qw.As(h.targetId,p);o.push(m)}})))})),await Promise.all(c),i.Pu.H_(s),await(async function(h,p){const m=Et(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>xe.forEach(p,(S=>xe.forEach(S.Es,(A=>m.persistence.referenceDelegate.addReference(v,S.targetId,A))).next((()=>xe.forEach(S.ds,(A=>m.persistence.referenceDelegate.removeReference(v,S.targetId,A)))))))))}catch(v){if(!nu(v))throw v;Ge(Yw,"Failed to update sequence numbers: "+v)}for(const v of p){const S=v.targetId;if(!v.fromCache){const A=m.Ms.get(S),N=A.snapshotVersion,P=A.withLastLimboFreeSnapshotVersion(N);m.Ms=m.Ms.insert(S,P)}}})(i.localStore,o))}async function QL(r,e){const n=Et(r);if(!n.currentUser.isEqual(e)){Ge(iv,"User change. New user:",e.toKey());const i=await Mk(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((u=>{u.forEach((h=>{h.reject(new $e(Ie.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Xd(n,i.Ls)}}function YL(r,e){const n=Et(r),i=n.Au.get(e);if(i&&i.hu)return Ft().add(i.key);{let s=Ft();const o=n.Iu.get(e);if(!o)return s;for(const c of o){const u=n.Tu.get(c);s=s.unionWith(u.view.nu)}return s}}function Jk(r){const e=Et(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$L.bind(null,e),e.Pu.H_=NL.bind(null,e.eventManager),e.Pu.yu=OL.bind(null,e.eventManager),e}function XL(r){const e=Et(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HL.bind(null,e),e}class pp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tL(this.persistence,new J6,e.initialUser,this.serializer)}Cu(e){return new Pk(Gw.mi,this.serializer)}Du(e){return new lL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pp.provider={build:()=>new pp};class JL extends pp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){hn(this.persistence.referenceDelegate instanceof hp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new B6(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new Pk((i=>hp.mi(i,n)),this.serializer)}}class G0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>zb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=QL.bind(null,this.syncEngine),await CL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ML})()}createDatastore(e){const n=Kp(e.databaseInfo.databaseId),i=(function(o){return new fL(o)})(e.databaseInfo);return(function(o,c,u,h){return new yL(o,c,u,h)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,s,o,c,u){return new vL(i,s,o,c,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>zb(this.syncEngine,n,0)),(function(){return Db.v()?new Db:new cL})())}createSyncEngine(e,n){return(function(s,o,c,u,h,p,m){const v=new UL(s,o,c,u,h,p);return m&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Et(n);Ge(yl,"RemoteStore shutting down."),i.Ea.add(5),await Yd(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}G0.provider={build:()=>new G0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Io("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="FirestoreClient";class ZL{constructor(e,n,i,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Ur.UNAUTHENTICATED,this.clientId=Lw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{Ge(Ra,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Ge(Ra,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=nv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function cy(r,e){r.asyncQueue.verifyOperationInProgress(),Ge(Ra,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async s=>{i.isEqual(s)||(await Mk(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function qb(r,e){r.asyncQueue.verifyOperationInProgress();const n=await e5(r);Ge(Ra,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>Ub(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,s)=>Ub(e.remoteStore,s))),r._onlineComponents=e}async function e5(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ge(Ra,"Using user provided OfflineComponentProvider");try{await cy(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Ie.FAILED_PRECONDITION||s.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Bc("Error using user provided cache. Falling back to memory cache: "+n),await cy(r,new pp)}}else Ge(Ra,"Using default OfflineComponentProvider"),await cy(r,new JL(void 0));return r._offlineComponents}async function e2(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ge(Ra,"Using user provided OnlineComponentProvider"),await qb(r,r._uninitializedComponentsProvider._online)):(Ge(Ra,"Using default OnlineComponentProvider"),await qb(r,new G0))),r._onlineComponents}function t5(r){return e2(r).then((e=>e.syncEngine))}async function t2(r){const e=await e2(r),n=e.eventManager;return n.onListen=VL.bind(null,e.syncEngine),n.onUnlisten=zL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jL.bind(null,e.syncEngine),n}function n5(r,e,n={}){const i=new _o;return r.asyncQueue.enqueueAndForget((async()=>(function(o,c,u,h,p){const m=new Zk({next:S=>{m.Nu(),c.enqueueAndForget((()=>jk(o,v)));const A=S.docs.has(u);!A&&S.fromCache?p.reject(new $e(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&S.fromCache&&h&&h.source==="server"?p.reject(new $e(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),v=new qk(Ww(u.path),m,{includeMetadataChanges:!0,qa:!0});return zk(o,v)})(await t2(r),r.asyncQueue,e,n,i))),i.promise}function r5(r,e,n={}){const i=new _o;return r.asyncQueue.enqueueAndForget((async()=>(function(o,c,u,h,p){const m=new Zk({next:S=>{m.Nu(),c.enqueueAndForget((()=>jk(o,v))),S.fromCache&&h.source==="server"?p.reject(new $e(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),v=new qk(u,m,{includeMetadataChanges:!0,qa:!0});return zk(o,v)})(await t2(r),r.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="firestore.googleapis.com",Kb=!0;class Hb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $e(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r2,this.ssl=Kb}else this.host=e.host,this.ssl=e.ssl??Kb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ck;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L6)throw new $e(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_O("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n2(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new $e(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new $e(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new $e(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qp{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new uO;switch(i.type){case"firstParty":return new pO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $e(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=$b.get(n);i&&(Ge("ComponentProvider","Removing Datastore"),$b.delete(n),i.terminate())})(this),Promise.resolve()}}function i5(r,e,n,i={}){r=qs(r,Qp);const s=Xc(e),o=r._getSettings(),c={...o,emulatorOptions:r._getEmulatorOptions()},u=`${e}:${n}`;s&&(GI(`https://${u}`),QI("Firestore",!0)),o.host!==r2&&o.host!==u&&Bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:u,ssl:s,emulatorOptions:i};if(!Sa(h,c)&&(r._setSettings(h),i.mockUserToken)){let p,m;if(typeof i.mockUserToken=="string")p=i.mockUserToken,m=Ur.MOCK_USER;else{p=BM(i.mockUserToken,r._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new $e(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ur(v)}r._authCredentials=new dO(new FT(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Al(this.firestore,e,this._query)}}class qn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}toJSON(){return{type:qn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Hd(n,qn._jsonSchema))return new qn(e,i||null,new ot(bn.fromString(n.referencePath)))}}qn._jsonSchemaVersion="firestore/documentReference/1.0",qn._jsonSchema={type:Jn("string",qn._jsonSchemaVersion),referencePath:Jn("string")};class Ea extends Al{constructor(e,n,i){super(e,n,Ww(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new ot(e))}withConverter(e){return new Ea(this.firestore,e,this._path)}}function Gb(r,e,...n){if(r=Gr(r),WT("collection","path",e),r instanceof Qp){const i=bn.fromString(e,...n);return ob(i),new Ea(r,null,i)}{if(!(r instanceof qn||r instanceof Ea))throw new $e(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(bn.fromString(e,...n));return ob(i),new Ea(r.firestore,null,i)}}function s5(r,e,...n){if(r=Gr(r),arguments.length===1&&(e=Lw.newId()),WT("doc","path",e),r instanceof Qp){const i=bn.fromString(e,...n);return sb(i),new qn(r,null,new ot(i))}{if(!(r instanceof qn||r instanceof Ea))throw new $e(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(bn.fromString(e,...n));return sb(i),new qn(r.firestore,r instanceof Ea?r.converter:null,new ot(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="AsyncQueue";class Yb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ok(this,"async_queue_retry"),this._c=()=>{const i=ly();i&&Ge(Qb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ly();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ly();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _o;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nu(e))throw e;Ge(Qb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Io("INTERNAL UNHANDLED ERROR: ",Xb(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=tv.createAndSchedule(this,e,n,i,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&pt(47125,{Pc:Xb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Xb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class su extends Qp{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new Yb,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yb(e),this._firestoreClient=void 0,await e}}}function o5(r,e){const n=typeof r=="object"?r:ZI(),i=typeof r=="string"?r:lp,s=Aw(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=LM("firestore");o&&i5(s,...o)}return s}function ov(r){if(r._terminated)throw new $e(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||a5(r),r._firestoreClient}function a5(r){const e=r._freezeSettings(),n=(function(s,o,c,u){return new PO(s,o,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,n2(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ZL(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qi(Tr.fromBase64String(e))}catch(n){throw new $e(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qi(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hd(e,qi._jsonSchema))return qi.fromBase64String(e.bytes)}}qi._jsonSchemaVersion="firestore/bytes/1.0",qi._jsonSchema={type:Jn("string",qi._jsonSchemaVersion),bytes:Jn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $e(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ws._jsonSchemaVersion}}static fromJSON(e){if(Hd(e,Ws._jsonSchema))return new Ws(e.latitude,e.longitude)}}Ws._jsonSchemaVersion="firestore/geoPoint/1.0",Ws._jsonSchema={type:Jn("string",Ws._jsonSchemaVersion),latitude:Jn("number"),longitude:Jn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hd(e,zs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new zs(e.vectorValues);throw new $e(Ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zs._jsonSchemaVersion="firestore/vectorValue/1.0",zs._jsonSchema={type:Jn("string",zs._jsonSchemaVersion),vectorValues:Jn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=/^__.*__$/;class c5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Na(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gd(e,this.data,n,this.fieldTransforms)}}class i2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Na(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function s2(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class Xp{constructor(e,n,i,s,o,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(s2(this.Ac)&&l5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class u5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Kp(e)}Cc(e,n,i,s=!1){return new Xp({Ac:e,methodName:n,Dc:i,path:Ar.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jp(r){const e=r._freezeSettings(),n=Kp(r._databaseId);return new u5(r._databaseId,!!e.ignoreUndefinedProperties,n)}function o2(r,e,n,i,s,o={}){const c=r.Cc(o.merge||o.mergeFields?2:0,e,n,s);uv("Data must be an object, but it was:",c,i);const u=a2(i,c);let h,p;if(o.merge)h=new ki(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const S=Q0(e,v,n);if(!c.contains(S))throw new $e(Ie.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);c2(m,S)||m.push(S)}h=new ki(m),p=c.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,p=c.fieldTransforms;return new c5(new hi(u),h,p)}class Zp extends ou{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zp}}function d5(r,e,n){return new Xp({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class av extends ou{_toFieldTransform(e){return new jw(e.path,new xd)}isEqual(e){return e instanceof av}}class lv extends ou{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=d5(this,e,!0),i=this.vc.map((o=>au(o,n))),s=new Wc(i);return new jw(e.path,s)}isEqual(e){return e instanceof lv&&Sa(this.vc,e.vc)}}class cv extends ou{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Cd(e.serializer,hk(e.serializer,this.Fc));return new jw(e.path,n)}isEqual(e){return e instanceof cv&&this.Fc===e.Fc}}function h5(r,e,n,i){const s=r.Cc(1,e,n);uv("Data must be an object, but it was:",s,i);const o=[],c=hi.empty();Ma(i,((h,p)=>{const m=dv(e,h,n);p=Gr(p);const v=s.yc(m);if(p instanceof Zp)o.push(m);else{const S=au(p,v);S!=null&&(o.push(m),c.set(m,S))}}));const u=new ki(o);return new i2(c,u,s.fieldTransforms)}function f5(r,e,n,i,s,o){const c=r.Cc(1,e,n),u=[Q0(e,i,n)],h=[s];if(o.length%2!=0)throw new $e(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<o.length;S+=2)u.push(Q0(e,o[S])),h.push(o[S+1]);const p=[],m=hi.empty();for(let S=u.length-1;S>=0;--S)if(!c2(p,u[S])){const A=u[S];let N=h[S];N=Gr(N);const P=c.yc(A);if(N instanceof Zp)p.push(A);else{const O=au(N,P);O!=null&&(p.push(A),m.set(A,O))}}const v=new ki(p);return new i2(m,v,c.fieldTransforms)}function p5(r,e,n,i=!1){return au(n,r.Cc(i?4:3,e))}function au(r,e){if(l2(r=Gr(r)))return uv("Unsupported field value:",e,r),a2(r,e);if(r instanceof ou)return(function(i,s){if(!s2(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,s){const o=[];let c=0;for(const u of i){let h=au(u,s.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(r,e)}return(function(i,s){if((i=Gr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return hk(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=In.fromDate(i);return{timestampValue:dp(s.serializer,o)}}if(i instanceof In){const o=new In(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:dp(s.serializer,o)}}if(i instanceof Ws)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qi)return{bytesValue:Sk(s.serializer,i._byteString)};if(i instanceof qn){const o=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw s.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Kw(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof zs)return(function(c,u){return{mapValue:{fields:{[YT]:{stringValue:XT},[cp]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return zw(u.serializer,p)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${Bp(i)}`)})(r,e)}function a2(r,e){const n={};return qT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(r,((i,s)=>{const o=au(s,e.mc(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function l2(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof In||r instanceof Ws||r instanceof qi||r instanceof qn||r instanceof ou||r instanceof zs)}function uv(r,e,n){if(!l2(n)||!zT(n)){const i=Bp(n);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function Q0(r,e,n){if((e=Gr(e))instanceof Yp)return e._internalPath;if(typeof e=="string")return dv(r,e);throw mp("Field path arguments must be of type string or ",r,!1,void 0,n)}const m5=new RegExp("[~\\*/\\[\\]]");function dv(r,e,n){if(e.search(m5)>=0)throw mp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Yp(...e.split("."))._internalPath}catch{throw mp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function mp(r,e,n,i,s){const o=i&&!i.isEmpty(),c=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${i}`),c&&(h+=` in document ${s}`),h+=")"),new $e(Ie.INVALID_ARGUMENT,u+r+h)}function c2(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g5 extends u2{data(){return super.data()}}function hv(r,e){return typeof e=="string"?dv(r,e):e instanceof Yp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new $e(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fv{}class d2 extends fv{}function w5(r,e,...n){let i=[];e instanceof fv&&i.push(e),i=i.concat(n),(function(o){const c=o.filter((h=>h instanceof mv)).length,u=o.filter((h=>h instanceof pv)).length;if(c>1||c>0&&u>0)throw new $e(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)r=s._apply(r);return r}class pv extends d2{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new pv(e,n,i)}_apply(e){const n=this._parse(e);return h2(e._query,n),new Al(e.firestore,e.converter,U0(e._query,n))}_parse(e){const n=Jp(e.firestore);return(function(o,c,u,h,p,m,v){let S;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new $e(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Zb(v,m);const N=[];for(const P of v)N.push(Jb(h,o,P));S={arrayValue:{values:N}}}else S=Jb(h,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Zb(v,m),S=p5(u,c,v,m==="in"||m==="not-in");return Xn.create(p,m,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class mv extends fv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let c=s;const u=o.getFlattenedFilters();for(const h of u)h2(c,h),c=U0(c,h)})(e._query,n),new Al(e.firestore,e.converter,U0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gv extends d2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gv(e,n)}_apply(e){const n=(function(s,o,c){if(s.startAt!==null)throw new $e(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new $e(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kd(o,c)})(e._query,this._field,this._direction);return new Al(e.firestore,e.converter,(function(s,o){const c=s.explicitOrderBy.concat([o]);return new ru(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function v5(r,e="asc"){const n=e,i=hv("orderBy",r);return gv._create(i,n)}function Jb(r,e,n){if(typeof(n=Gr(n))=="string"){if(n==="")throw new $e(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sk(e)&&n.indexOf("/")!==-1)throw new $e(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(bn.fromString(n));if(!ot.isDocumentKey(i))throw new $e(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return pb(r,new ot(i))}if(n instanceof qn)return pb(r,n._key);throw new $e(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bp(n)}.`)}function Zb(r,e){if(!Array.isArray(r)||r.length===0)throw new $e(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h2(r,e){const n=(function(s,o){for(const c of s)for(const u of c.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(r.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new $e(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _5{convertValue(e,n="none"){switch(ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ma(e,((s,o)=>{i[s]=this.convertValue(o,n)})),i}convertVectorValue(e){const n=e.fields?.[cp].arrayValue?.values?.map((i=>jn(i.doubleValue)));return new zs(n)}convertGeoPoint(e){return new Ws(jn(e.latitude),jn(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Fp(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ad(e));default:return null}}convertTimestamp(e){const n=Ia(e);return new In(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=bn.fromString(e);hn(Rk(i),9688,{name:e});const s=new Id(i.get(1),i.get(3)),o=new ot(i.popFirst(5));return s.isEqual(n)||Io(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(r,e,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,i}class ad{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hl extends u2{constructor(e,n,i,s,o,c){super(e,n,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(hv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=hl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}hl._jsonSchemaVersion="firestore/documentSnapshot/1.0",hl._jsonSchema={type:Jn("string",hl._jsonSchemaVersion),bundleSource:Jn("string","DocumentSnapshot"),bundleName:Jn("string"),bundle:Jn("string")};class qf extends hl{data(e={}){return super.data(e)}}class Rc{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ad(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new qf(this._firestore,this._userDataWriter,i.key,i,new ad(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $e(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((u=>{const h=new qf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new ad(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const h=new qf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new ad(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,m=-1;return u.type!==0&&(p=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),m=c.indexOf(u.doc.key)),{type:E5(u.type),doc:h,oldIndex:p,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function E5(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(r){r=qs(r,qn);const e=qs(r.firestore,su);return n5(ov(e),r._key).then((n=>A5(e,r,n)))}Rc._jsonSchemaVersion="firestore/querySnapshot/1.0",Rc._jsonSchema={type:Jn("string",Rc._jsonSchemaVersion),bundleSource:Jn("string","QuerySnapshot"),bundleName:Jn("string"),bundle:Jn("string")};class p2 extends _5{constructor(e){super(),this.firestore=e}convertBytes(e){return new qi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function b5(r){r=qs(r,Al);const e=qs(r.firestore,su),n=ov(e),i=new p2(e);return y5(r._query),r5(n,r._query).then((s=>new Rc(e,i,r,s)))}function aW(r,e,n){r=qs(r,qn);const i=qs(r.firestore,su),s=f2(r.converter,e,n);return yv(i,[o2(Jp(i),"setDoc",r._key,s,r.converter!==null,n).toMutation(r._key,cs.none())])}function lW(r,e,n,...i){r=qs(r,qn);const s=qs(r.firestore,su),o=Jp(s);let c;return c=typeof(e=Gr(e))=="string"||e instanceof Yp?f5(o,"updateDoc",r._key,e,n,i):h5(o,"updateDoc",r._key,e),yv(s,[c.toMutation(r._key,cs.exists(!0))])}function S5(r,e){const n=qs(r.firestore,su),i=s5(r),s=f2(r.converter,e);return yv(n,[o2(Jp(r.firestore),"addDoc",i._key,s,r.converter!==null,{}).toMutation(i._key,cs.exists(!1))]).then((()=>i))}function yv(r,e){return(function(i,s){const o=new _o;return i.asyncQueue.enqueueAndForget((async()=>qL(await t5(i),s,o))),o.promise})(ov(r),e)}function A5(r,e,n){const i=n.docs.get(e._key),s=new p2(r);return new hl(r,s,e._key,i,new ad(n.hasPendingWrites,n.fromCache),e.converter)}function cW(){return new av("serverTimestamp")}function uW(...r){return new lv("arrayUnion",r)}function dW(r){return new cv("increment",r)}(function(e,n=!0){(function(s){eu=s})(Jc),Lc(new pl("firestore",((i,{instanceIdentifier:s,options:o})=>{const c=i.getProvider("app").getImmediate(),u=new su(new hO(i.getProvider("auth-internal")),new mO(c,i.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new $e(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(p.options.projectId,m)})(c,s),c);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),va(tb,nb,e),va(tb,nb,"esm2020")})();const I5={apiKey:"AIzaSyC5kkeOckjhvVHSxpiTXP56GyaipaEbmQc",authDomain:"solstice-14da8.firebaseapp.com",projectId:"solstice-14da8",storageBucket:"solstice-14da8.appspot.com",messagingSenderId:"834230457430",appId:"1:834230457430:web:3c7439e1ae4123a89517f7",measurementId:"G-TJS20KZ48R"},m2=JI(I5);lO(m2);const eS=o5(m2);function T5({t:r}){const[e,n]=ce.useState([]),[i,s]=ce.useState(""),[o,c]=ce.useState(""),[u,h]=ce.useState(""),[p,m]=ce.useState(1),[v,S]=ce.useState(!1),[A,N]=ce.useState(!1),[P,O]=ce.useState(!1),[z,j]=ce.useState(!1),[G,te]=ce.useState(!1),ae=async()=>{te(!0);try{const Q=w5(Gb(eS,"airdrop_participants"),v5("created","desc")),M=(await b5(Q)).docs.map(D=>D.data());n(M)}catch{n([])}te(!1)};ce.useEffect(()=>{ae()},[]);const se=async Q=>{if(Q.preventDefault(),h(""),!o||o.length<3){h("Por favor, ingresa tu usuario de Twitter.");return}if(!/^([1-9A-HJ-NP-Za-km-z]{32,44})$/.test(i)){h("Wallet de Solana no válida");return}te(!0);try{await S5(Gb(eS,"airdrop_participants"),{wallet:i,twitter:o,created:Date.now()}),h("¡Wallet registrada para el airdrop!"),s(""),c(""),ae()}catch{h("Error al registrar. Intenta de nuevo.")}te(!1)};return oe.jsxs("section",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[oe.jsx("h1",{className:"text-3xl font-bold text-[#66fcf1] mb-6",children:r["airdrop-title"]}),oe.jsxs("div",{className:"max-w-2xl text-gray-200 text-base mb-8 text-center",children:[oe.jsx("strong",{className:"block text-lg text-[#66fcf1] mb-2",children:r["airdrop-hero-title"]}),oe.jsx("p",{className:"mb-2",children:r["airdrop-hero-desc1"]}),oe.jsx("p",{className:"mb-2 font-semibold text-[#66fcf1]",children:r["airdrop-why-title"]}),oe.jsx("p",{className:"mb-2",children:r["airdrop-why-desc"]}),oe.jsxs("ul",{className:"list-disc list-inside mb-2 text-left mx-auto",style:{maxWidth:"600px"},children:[oe.jsxs("li",{children:[oe.jsxs("strong",{children:[r["airdrop-why-pioneer"].split(":")[0],":"]})," ",r["airdrop-why-pioneer"].split(":")[1]]}),oe.jsxs("li",{children:[oe.jsxs("strong",{children:[r["airdrop-why-governance"].split(":")[0],":"]})," ",r["airdrop-why-governance"].split(":")[1]]}),oe.jsxs("li",{children:[oe.jsxs("strong",{children:[r["airdrop-why-utility"].split(":")[0],":"]})," ",r["airdrop-why-utility"].split(":")[1]]})]}),oe.jsx("p",{className:"mb-2 font-semibold text-[#66fcf1]",children:r["airdrop-how-title"]}),oe.jsx("p",{className:"mb-2",children:r["airdrop-how-desc"]}),oe.jsx("p",{className:"mt-4",children:r["airdrop-join-desc"]})]}),oe.jsxs("p",{className:"text-gray-400 text-center mb-8",children:[r["airdrop-steps-title"],oe.jsx("br",{}),r["airdrop-steps-desc"],oe.jsx("br",{}),oe.jsx("span",{className:"block mt-2 text-sm text-[#66fcf1] font-semibold",children:r["airdrop-steps-unlock"]||"Para desbloquear la pestaña Participar en el Airdrop, haz clic en Sigue nuestra cuenta de Twitter/X y Haz retweet al último post fijado."}),oe.jsx("span",{className:"block mt-4",children:oe.jsxs("div",{className:"flex flex-col items-center gap-1",children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("span",{children:"1. "}),oe.jsx("a",{href:"https://x.com/SolsticeSols",target:"_blank",rel:"noopener noreferrer",className:`text-[#66fcf1] underline ${P?"font-bold":""}`,onClick:()=>O(!0),children:r["airdrop-step1"].replace(/Twitter\/X ?/i,"").replace(/^[0-9]+\.\s*/,"")})]}),oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("span",{children:"2. "}),oe.jsx("a",{href:"https://x.com/SolsticeSols",target:"_blank",rel:"noopener noreferrer",className:`text-[#66fcf1] underline ${z?"font-bold":""}`,onClick:()=>j(!0),children:r["airdrop-step2"].replace(/^[0-9]+\.\s*/,"")})]})]})})]}),p===1&&oe.jsxs("div",{className:"flex flex-col items-start gap-4 mb-8",children:[oe.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[oe.jsx("input",{type:"checkbox",checked:v,onChange:Q=>S(Q.target.checked)}),oe.jsx("span",{className:"text-gray-300",children:r["airdrop-checkbox-follow"]})]}),oe.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[oe.jsx("input",{type:"checkbox",checked:A,onChange:Q=>N(Q.target.checked)}),oe.jsx("span",{className:"text-gray-300",children:r["airdrop-checkbox-retweet"]})]}),oe.jsx("button",{className:`mt-4 px-6 py-2 rounded-lg font-bold text-lg transition w-fit ${v&&A?"bg-gradient-to-r from-[#45a29e] to-[#66fcf1] text-[#0b0c10] hover:scale-105":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,disabled:!(v&&A),onClick:()=>m(2),children:r["airdrop-continue"]})]}),p===2&&oe.jsxs(oe.Fragment,{children:[oe.jsxs("form",{onSubmit:se,className:"flex flex-col items-center gap-6 w-fit",children:[oe.jsx("input",{type:"text",placeholder:r["airdrop-twitter-placeholder"],value:o,onChange:Q=>c(Q.target.value),className:"input border border-[#45a29e] bg-[#0b0c10] rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-[#66fcf1]/40 transition text-white",autoComplete:"off",maxLength:30,style:{minWidth:"220px",color:"#fff"},required:!0,"aria-label":"Usuario de Twitter"}),oe.jsx("input",{type:"text",placeholder:r["airdrop-wallet-placeholder"],value:i,onChange:Q=>s(Q.target.value),className:"input border border-[#45a29e] bg-[#0b0c10] rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-[#66fcf1]/40 transition text-white",autoComplete:"off",maxLength:44,style:{minWidth:"220px",color:"#fff"},required:!0,"aria-label":"Wallet de Solana"}),oe.jsx("button",{type:"submit",className:`bg-gradient-to-r from-[#45a29e] to-[#66fcf1] text-[#0b0c10] px-8 py-3 rounded-lg font-bold text-lg shadow hover:scale-105 transition w-fit mt-4 ${P&&z?"":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,disabled:!(P&&z),children:r["airdrop-btn-participate"]}),u&&oe.jsx("p",{className:"text-[#66fcf1] text-center font-semibold mt-4",children:u})]}),oe.jsxs("div",{className:"mt-10 w-full flex flex-col items-center",children:[oe.jsx("h3",{className:"text-lg font-bold text-[#66fcf1] mb-2",children:r["airdrop-participants-title"]}),oe.jsx("div",{className:"w-full max-w-xl overflow-x-auto rounded-lg shadow-lg",children:oe.jsxs("table",{className:"min-w-[340px] w-full bg-[#1f2833] rounded-lg text-sm",children:[oe.jsx("thead",{className:"sticky top-0 bg-[#162025] z-10",children:oe.jsxs("tr",{children:[oe.jsx("th",{className:"px-4 py-3 text-left text-[#66fcf1] font-bold w-32 min-w-[120px]",children:r["airdrop-table-twitter"]}),oe.jsx("th",{className:"px-4 py-3 text-left text-[#66fcf1] font-bold w-64 min-w-[200px]",children:r["airdrop-table-wallet"]})]})}),oe.jsx("tbody",{children:G?oe.jsx("tr",{children:oe.jsx("td",{colSpan:2,className:"px-4 py-4 text-gray-400 text-center",children:"Cargando..."})}):e.length===0?oe.jsx("tr",{children:oe.jsx("td",{colSpan:2,className:"px-4 py-4 text-gray-400 text-center",children:"Aún no hay participantes registrados."})}):e.map((Q,V)=>oe.jsxs("tr",{className:`border-t border-[#45a29e]/30 ${V%2===0?"bg-[#232b33]":"bg-[#1f2833]"} hover:bg-[#28343d] transition`,children:[oe.jsx("td",{className:"px-4 py-3 text-gray-200 font-mono w-64 min-w-[200px] max-w-[320px] truncate",children:oe.jsx("a",{href:`https://solscan.io/token/${Q.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"text-[#66fcf1] underline hover:text-[#45a29e]",title:Q.wallet,children:Q.wallet.length>16?`${Q.wallet.slice(0,6)}...${Q.wallet.slice(-4)}`:Q.wallet})}),oe.jsxs("td",{className:"px-4 py-3 text-gray-200 w-32 min-w-[120px]",children:["@",Q.twitter]})]},V))})]})})]})]})]})}const qc={es:{"presale-min-label-prefix":"Mínimo de compra:","dao-commission-label":"Comisión propuesta DAO","presale-label":"Preventa","airdrop-steps-unlock":"Para desbloquear la pestaña “Participar en el Airdrop”, primero haz clic en “Sigue nuestra cuenta de Twitter/X” y luego en “Haz retweet al último post fijado”. Cuando ambos pasos estén completos, el botón para participar se activará automáticamente.","team-title":"Conoce al Equipo","team-subtitle":"Un grupo dedicado de visionarios y expertos que trabajan para construir un futuro descentralizado en Solana.","team-jonathan-name":"Jonathan","team-jonathan-role":"CEO & Founder","team-jonathan-desc":"Apasionado por blockchain. Líder visionario.","team-photo":"Foto","team-comingSoon":"PRÓXIMAMENTE","presale-loading-txs":"Cargando transacciones...","airdrop-twitter-placeholder":"Usuario de Twitter (sin @)","airdrop-wallet-placeholder":"Tu wallet de Solana","airdrop-btn-participate":"Participar en el Airdrop","airdrop-title":"Airdrop","airdrop-hero-title":"Únete al Amanecer de Solstice: Tu Participación en la Gobernanza Comienza Aquí","airdrop-hero-desc1":"En Solstice, creemos firmemente que el futuro de Solana se construye de manera colectiva. Nuestro airdrop no es solo una distribución de tokens; es una invitación para que te conviertas en un miembro activo y fundamental de nuestro ecosistema.","airdrop-why-title":"¿Por qué unirte a nuestro Airdrop?","airdrop-why-desc":"Este es tu momento para ser parte del cambio. Al reclamar tus tokens $SOLS, no solo obtienes una pieza de nuestro proyecto, sino que adquieres el poder de influir directamente en las decisiones de la comunidad.","airdrop-why-pioneer":"Sé un Pionero: Posiciónate como uno de los primeros en adoptar $SOLS y únete a una comunidad que valora la participación.","airdrop-why-governance":"Gobernanza Activa: Tus tokens te otorgan derechos de voto para dar forma al futuro de Solstice, desde las propuestas de desarrollo hasta las asignaciones de fondos.","airdrop-why-utility":"Utilidad Real: Accede a beneficios exclusivos y sé parte de la creación de un ecosistema que prioriza la utilidad sobre la especulación.","airdrop-how-title":"¿Cómo Reclamar tus $SOLS?","airdrop-how-desc":"Pronto anunciaremos los pasos detallados para reclamar tus tokens. Sigue nuestras redes sociales para no perderte las últimas actualizaciones.","airdrop-join-desc":"¡Únete a nosotros en este viaje! Juntos, iluminaremos el camino hacia una comunidad más fuerte y descentralizada en Solana.","airdrop-steps-title":"Aceptar reglas del Airdrop.","airdrop-steps-desc":"Para participar debes seguir estos pasos:","airdrop-step1":"1. Sigue nuestra cuenta de Twitter/X","airdrop-step2":"2. Retuitea la última publicación anclada","airdrop-checkbox-follow":"Aceptar reglas del Airdrop.","airdrop-checkbox-retweet":"Aceptar términos y condiciones.","airdrop-continue":"Continuar","airdrop-participants-title":"Participantes","airdrop-table-twitter":"Usuario Twitter","airdrop-table-wallet":"Wallet",disconnect:"Desconectar","pay-commission":"Pagar comisión 0.001 SOL",connect_phantom:"Conectar Phantom","presale-recent-purchases-title":"Compras recientes","presale-no-recent-purchases":"No hay compras recientes.","presale-launch-label":"Preventa de Solstice 200.000.000 SOLS","phantom-connected":"Phantom conectada","presale-buy":"Comprar","presale-buy-loading":"Procesando...","page-title":"Solstice - Ecosistema DAO en Solana","nav-home":"Inicio","nav-presale":"Preventa","nav-whitepaper":"Libro Blanco","nav-team":"Equipo","nav-dao":"DAO","hero-title":"Construyendo el futuro de la gobernanza comunitaria en Solana","hero-subtitle":"Solstice es la nueva generación de proyectos DeFi, empoderando a la comunidad con transparencia y control total sobre el ecosistema.","hero-btn-presale":"Participa en la Preventa","hero-btn-whitepaper":"Lee el Libro Blanco","features-title":"Nuestras Características","feature1-title":"Gobernanza DAO","feature1-text":"La comunidad controla el futuro del proyecto a través de un modelo de gobernanza descentralizada.","feature2-title":"Tokenomía Justa","feature2-text":"Una distribución de tokens que recompensa la participación y promueve la sostenibilidad a largo plazo.","feature3-title":"Transparencia Total","feature3-text":"Cada decisión y transacción es visible en la blockchain, asegurando la máxima transparencia.","tokenomics-title":"Tokenomía ($SOLS)","tokenomics-intro":"El token $SOLS es el corazón del ecosistema Solstice. Su tokenomía está diseñada para incentivar la participación y garantizar un crecimiento saludable.","tokenomics-total-supply":"Suministro Total: 1,000,000,000 $SOLS","tokenomics-distribution":"Distribución:","tokenomics-presale":"Preventa (20%): Destinado a la financiación inicial del proyecto.","tokenomics-rewards":"Recompensas de la Comunidad (30%): Fomenta el crecimiento y la lealtad.","tokenomics-treasury":"Fondo de Tesorería de la DAO (35%): Controlado por la comunidad para financiar futuras iniciativas.","tokenomics-liquidity":"Liquidez Inicial (10%): Para garantizar una liquidez robusta en los intercambios.","tokenomics-airdrop":"Airdrop (5%): Repartido entre 500,000 personas, 100 SOLS cada una.","presale-page-title":"Oficial $SOLS Preventa","presale-page-subtitle":"Asegura tu participación en el futuro del ecosistema Solstice. ¡El tiempo es limitado!","presale-price-label":"Precio por Token: 0,0001 SOLS","presale-raised":"0 SOL Recaudado","presale-goal":"20,000 SOL Objetivo","presale-status-title":"Próximamente disponible, esperando lanzamiento","presale-disclaimer":"Al participar, aceptas los términos y condiciones de la preventa. Por favor, lee nuestro Libro Blanco para más detalles.","whitepaper-page-title":"Libro Blanco de Solstice","whitepaper-page-subtitle":"El documento fundamental que detalla la visión, la tecnología y el futuro de nuestro proyecto en la red de Solana.","team-page-title":"Conoce al Equipo","team-page-subtitle":"Un grupo dedicado de visionarios y expertos que trabajan para construir un futuro descentralizado en Solana.","dao-page-title":"Panel de Control de la DAO","dao-page-subtitle":"Participa en la toma de decisiones y vota en las propuestas que darán forma al futuro de Solstice.","dao-wallet-status-title":"Estado de la Billetera","dao-btn-connect-wallet":"Conectar Billetera Solana","dao-btn-create-proposal":"Crear Nueva Propuesta","dao-active-proposals-title":"Propuestas Activas","proposal-form-page-title":"Crear Nueva Propuesta","proposal-form-page-subtitle":"Presenta una idea para la comunidad. Si es aprobada, será implementada.","proposal-form-title-label":"Título de la Propuesta","proposal-form-desc-label":"Descripción Completa","proposal-form-btn-submit":"Enviar Propuesta","footer-text":"© 2024 Solstice. Todos los derechos reservados.","language-selector":"Idioma:",connected:"Conectada","wallet-connected":"Billetera Conectada:","wallet-connect-success":"Billetera conectada con éxito.","phantom-not-found":"¡Phantom Wallet no encontrada! Por favor, instálala para continuar.","phantom-connect-error":"No se pudo conectar con Phantom. Intenta de nuevo.","presale-connect-required":"Conecta tu wallet Phantom para participar.","presale-amount-invalid":"Introduce una cantidad válida.","presale-amount-placeholder":"Cantidad a comprar","presale-max-tokens-wallet":"Máximo = 4,000,000 tokens solstice por cartera","presale-min-label-05":"Mínimo de compra: 0.5 SOL","presale-min-label-025":"Mínimo de compra: 0.25 SOL","presale-min-label-01":"Mínimo de compra: 0.1 SOL","presale-min-label-001":"Mínimo de compra: 0.01 SOL","presale-success":"¡Transacción enviada correctamente! Recibirás tus $SOLS automáticamente en tu wallet Phantom tras la confirmación.","presale-tx-error":"Error en la transacción. Intenta de nuevo.","proposal-creation-success":"¡Propuesta creada con éxito!","member1-name":"PROXIMAMENTE","member1-role":"PROXIMAMENTE","member1-bio":"PROXIMAMENTE","member2-name":"PROXIMAMENTE","member2-role":"PROXIMAMENTE","member2-bio":"PROXIMAMENTE","member3-name":"PROXIMAMENTE","member3-role":"PROXIMAMENTE","member3-bio":"PROXIMAMENTE","member4-name":"PROXIMAMENTE","member4-role":"PROXIMAMENTE","member4-bio":"PROXIMAMENTE","dao-connecting":"Conectando...","dao-loading-proposals":"Cargando propuestas...","dao-no-proposals":"No hay propuestas activas en este momento.","dao-proposal-status":"Estado:","dao-proposal-status-active":"Activa","dao-proposal-status-voted":"¡Votado!","dao-proposal-votes":"Votos:","dao-wallet-connect-rejected":"Conexión de billetera rechazada.","dao-wallet-connect-error":"Error al conectar la billetera.","proposal-form-title-placeholder":"Título de la Propuesta","proposal-form-desc-placeholder":"Descripción Completa","proposal-form-title-desc-empty":"El título y la descripción no pueden estar vacíos.","proposal-creation-error":"Error al crear la propuesta:","back-to-top":"Arriba","back-to-top-aria":"Volver arriba","copy-link":"Copiar enlace","link-copied":"Enlace copiado al portapapeles","copy-failed":"No se pudo copiar el enlace",whitepaper:{tocTitle:"Índice",toc:["1. Introducción: El Problema y Nuestra Solución","2. Visión y Misión del Ecosistema","3. Tecnología y Arquitectura de la Blockchain","4. Tokenomía Detallada ($SOLS)","5. Hoja de Ruta Completa y Futuros Hitos","6. Mecanismos de Gobernanza Descentralizada","7. Seguridad y Auditorías del Protocolo","8. Conclusión: El Futuro de Solstice","9. Transparencia de tokens $SOLS","10. Preventa: Cómo Participar, Requisitos y Seguridad","11. DAO: Funcionamiento, Propuestas y Votaciones","12. Preguntas Frecuentes (FAQ)","13. Condiciones Legales, Términos y Privacidad"],"dao-proposal-btn-vote":"Votar",sections:{presale:{title:"Preventa: Cómo Participar, Requisitos y Seguridad",content:["<b>¿Cómo participar?</b> Para unirse a la preventa, simplemente conecta tu billetera Phantom y sigue las instrucciones en la pestaña de preventa. Solo se permite la conexión mediante Phantom para máxima seguridad y facilidad de uso.","<b>Requisitos:</b> Debes tener una billetera Phantom activa y saldo suficiente en SOL para cubrir la compra y las comisiones de red.","<b>Seguridad:</b> Todas las transacciones se realizan en la blockchain de Solana, garantizando transparencia y seguridad. No almacenamos claves privadas ni accedemos a tus fondos.","El progreso de la preventa y los límites de compra se muestran en tiempo real en la plataforma."]},dao:{title:"DAO: Funcionamiento, Propuestas y Votaciones",content:["<b>Creación de propuestas:</b> Para crear una propuesta, debes conectar tu billetera Phantom y pagar una comisión de 0.001 SOL. El botón de crear propuesta solo se habilita tras el pago de la comisión.","<b>Votación:</b> Cada wallet puede votar una sola vez por propuesta, garantizando un proceso justo y descentralizado. El recuento de votos y el estado de cada propuesta se muestran en tiempo real.","La DAO permite a la comunidad tomar decisiones clave sobre el futuro del proyecto de forma transparente y segura."]},faq:{title:"Preguntas Frecuentes (FAQ)",content:["<b>¿Qué billetera puedo usar?</b> Solo Phantom es compatible para máxima seguridad y experiencia de usuario.","<b>¿Cómo participo en la preventa?</b> Conecta tu Phantom y sigue las instrucciones en la pestaña de preventa.","<b>¿Cómo creo una propuesta en la DAO?</b> Conecta tu Phantom, paga la comisión y rellena el formulario de propuesta.","<b>¿Puedo votar varias veces?</b> No, solo puedes votar una vez por propuesta con cada wallet.","<b>¿Mis fondos están seguros?</b> Sí, todas las operaciones se realizan en la blockchain de Solana y nunca almacenamos tus claves privadas."]},legal:{title:"Condiciones Legales, Términos y Privacidad",content:["El uso de la plataforma implica la aceptación de los términos y condiciones publicados. La plataforma no solicita ni almacena datos personales sensibles. Todas las operaciones se realizan en la blockchain de Solana.","Para más información sobre privacidad y términos legales, consulta la sección correspondiente en la web oficial o contacta con el equipo de Solstice."]},transparencia:{title:"Transparencia de tokens $SOLS",content:'<b>Wallet donde están los tokens de la preventa:</b><br/><span class="break-all font-mono text-[#66fcf1]">CgAkPzZpdKAY9Cwzd2AiKmrRHgAK6DyVFn1n6VCQknEb</span><br/>Esta wallet contiene los $SOLS que se están vendiendo actualmente en la preventa.<br/><br/><b>Wallet donde están el resto de tokens $SOLS:</b><br/><span class="break-all font-mono text-[#66fcf1]">EZwVQKnP5c3K2etpt24VjE1hG3ycq2SZe52NUcZpgo2F</span><br/>Aquí se guardan los tokens que no forman parte de la preventa, hasta la creación del pool de liquidez.<br/><br/>Ambas direcciones pueden ser auditadas en cualquier explorador de Solana.'},intro:{title:"1. Introducción: El Problema y Nuestra Solución",content:"La mayoría de los proyectos DeFi se enfrentan a problemas de centralización, falta de transparencia y una distribución de valor injusta. Solstice aborda estos desafíos aprovechando la infraestructura de alta velocidad de Solana para crear un ecosistema totalmente descentralizado..."},vision:{title:"2. Visión y Misión del Ecosistema",content:"Nuestra visión es que Solstice se convierta en la plataforma de lanzamiento de referencia para proyectos transparentes y orientados a la comunidad en la red de Solana..."},tech:{title:"3. Tecnología y Arquitectura de la Blockchain",content:"Solstice está construido sobre la blockchain de Solana, una de las redes más rápidas y de menor costo del sector..."},tokenomics:{title:"4. Tokenomía Detallada ($SOLS)",totalSupply:"Suministro Total: 1,000,000,000 $SOLS",distribution:"Distribución:",presale:"Preventa (20%): Destinado a la financiación inicial del proyecto.",rewards:"Recompensas de la Comunidad (30%): Fomenta el crecimiento y la lealtad.",treasury:"Fondo de Tesorería de la DAO (35%): Controlado por la comunidad para financiar futuras iniciativas.",liquidity:"Liquidez Inicial (10%): Para garantizar una liquidez robusta en los intercambios.",airdrop:"Airdrop (5%): Repartido entre 500,000 personas, 100 SOLS cada una."},roadmap:{title:"5. Hoja de Ruta Completa y Futuros Hitos",phase1:"Fase 1 (Q3 2024): Lanzamiento y Establecimiento...",phase2:"Fase 2 (Q4 2024): Expansión del Ecosistema...",phase3:"Fase 3 (Q1 2025): Madurez y Adopción..."},governance:{title:"6. Mecanismos de Gobernanza Descentralizada",content:"La gobernanza de Solstice se ejecutará a través de una DAO, empoderando a los titulares de $SOLS para tomar decisiones críticas..."},security:{title:"7. Seguridad y Auditorías del Protocolo",content:"La seguridad es nuestra máxima prioridad. Todos los contratos inteligentes de Solstice serán sometidos a una auditoría..."},conclusion:{title:"8. Conclusión: El Futuro de Solstice",content:"Solstice representa un nuevo amanecer para las finanzas descentralizadas en Solana..."}}}},en:{"presale-min-label-prefix":"Minimum purchase:","dao-commission-label":"DAO proposal commission","presale-label":"Presale","dao-proposal-btn-vote":"Vote","airdrop-steps-unlock":"To unlock the “Participate in the Airdrop” tab, first click on “Follow our Twitter/X account” and then on “Retweet the latest pinned post”. Once both steps are completed, the participate button will be automatically enabled.","team-title":"Meet the Team","team-subtitle":"A dedicated group of visionaries and experts working to build a decentralized future on Solana.","team-jonathan-name":"Jonathan","team-jonathan-role":"CEO & Founder","team-jonathan-desc":"Passionate about blockchain. Visionary leader.","team-photo":"Photo","team-comingSoon":"COMING SOON","tokenomics-airdrop":"Airdrop (5%): Distributed among 500,000 people, 100 SOLS each.","presale-loading-txs":"Loading transactions...","airdrop-twitter-placeholder":"Twitter user (without @)","airdrop-wallet-placeholder":"Your Solana wallet","airdrop-btn-participate":"Participate in the Airdrop","airdrop-title":"Airdrop","airdrop-hero-title":"Join the Dawn of Solstice: Your Governance Journey Starts Here","airdrop-hero-desc1":"At Solstice, we firmly believe the future of Solana is built collectively. Our airdrop is not just a token distribution; it is an invitation to become an active and essential member of our ecosystem.","airdrop-why-title":"Why join our Airdrop?","airdrop-why-desc":"This is your moment to be part of the change. By claiming your $SOLS tokens, you not only get a piece of our project, but you gain the power to directly influence community decisions.","airdrop-why-pioneer":"Be a Pioneer: Position yourself as one of the first to adopt $SOLS and join a community that values participation.","airdrop-why-governance":"Active Governance: Your tokens grant you voting rights to shape the future of Solstice, from development proposals to fund allocations.","airdrop-why-utility":"Real Utility: Access exclusive benefits and be part of building an ecosystem that prioritizes utility over speculation.","airdrop-how-title":"How to Claim your $SOLS?","airdrop-how-desc":"We will soon announce the detailed steps to claim your tokens. Follow our social networks to stay up to date.","airdrop-join-desc":"Join us on this journey! Together, we will light the way to a stronger, more decentralized community on Solana.","airdrop-steps-title":"Participate in our airdrop.","airdrop-steps-desc":"To participate you must follow these steps:","airdrop-step1":"1. Follow our Twitter/X account","airdrop-step2":"2. Retweet the latest pinned post","airdrop-checkbox-follow":"Accept the Airdrop rules.","airdrop-checkbox-retweet":"Accept terms and conditions.","airdrop-continue":"Continue","airdrop-participants-title":"Participants","airdrop-table-twitter":"Twitter User","airdrop-table-wallet":"Wallet",disconnect:"Disconnect","pay-commission":"Pay 0.001 SOL fee",connect_phantom:"Connect Phantom","presale-recent-purchases-title":"Recent purchases","presale-no-recent-purchases":"No recent purchases.","presale-launch-label":"Solstice Presale 200,000,000 SOLS","phantom-connected":"Phantom connected","presale-buy":"Buy","presale-buy-loading":"Processing...","page-title":"Solstice - DAO Ecosystem on Solana","nav-home":"Home","nav-presale":"Presale","nav-whitepaper":"Whitepaper","nav-team":"Team","nav-dao":"DAO","hero-title":"Building the future of community governance on Solana","hero-subtitle":"Solstice is the next generation of DeFi projects, empowering the community with transparency and full control over the ecosystem.","hero-btn-presale":"Join the Presale","hero-btn-whitepaper":"Read the Whitepaper","features-title":"Our Features","feature1-title":"DAO Governance","feature1-text":"The community controls the future of the project through a decentralized governance model.","feature2-title":"Fair Tokenomics","feature2-text":"A token distribution that rewards participation and promotes long-term sustainability.","feature3-title":"Total Transparency","feature3-text":"Every decision and transaction is visible on the blockchain, ensuring maximum transparency.","tokenomics-title":"Tokenomics ($SOLS)","tokenomics-intro":"The $SOLS token is the heart of the Solstice ecosystem. Its tokenomics are designed to incentivize participation and ensure healthy growth.","tokenomics-total-supply":"Total Supply: 1,000,000,000 $SOLS.","tokenomics-distribution":"Distribution:","tokenomics-presale":"Presale (20%): Initial funding and marketing.","tokenomics-rewards":"Community Rewards (30%): Fosters growth and loyalty.","tokenomics-treasury":"DAO Treasury Fund (40%): For future development and sustainability.","tokenomics-liquidity":"Initial Liquidity (10%): Ensures market stability.","presale-page-title":"Official $SOLS Presale","presale-page-subtitle":"Secure your stake in the future of the Solstice ecosystem. Time is limited!","presale-price-label":"Price per Token: 0.0001 SOLS","presale-raised":"0 SOL Raised","presale-goal":"20,000 SOL Goal","presale-status-title":"Coming soon, awaiting launch","presale-disclaimer":"By participating, you agree to the terms and conditions of the presale. Please read our Whitepaper for more details.","whitepaper-page-title":"Solstice Whitepaper","whitepaper-page-subtitle":"The foundational document detailing the vision, technology, and future of our project on the Solana network.","team-page-title":"Meet the Team","team-page-subtitle":"A dedicated group of visionaries and experts working to build a decentralized future on Solana.","dao-page-title":"DAO Dashboard","dao-page-subtitle":"Participate in decision-making and vote on proposals that will shape the future of Solstice.","dao-wallet-status-title":"Wallet Status","dao-btn-connect-wallet":"Connect Solana Wallet","dao-btn-create-proposal":"Create New Proposal","dao-active-proposals-title":"Active Proposals","proposal-form-page-title":"Create New Proposal","proposal-form-page-subtitle":"Submit an idea for the community. If approved, it will be implemented.","proposal-form-title-label":"Proposal Title","proposal-form-desc-label":"Full Description","proposal-form-btn-submit":"Submit Proposal","footer-text":"© 2024 Solstice. All rights reserved.","language-selector":"Language:",connected:"Connected","wallet-connected":"Wallet Connected:","wallet-connect-success":"Wallet connected successfully.","phantom-not-found":"Phantom Wallet not found! Please install it to continue.","phantom-connect-error":"Could not connect to Phantom. Please try again.","presale-connect-required":"Connect your Phantom wallet to participate.","presale-amount-invalid":"Enter a valid amount.","presale-amount-placeholder":"Amount to buy","presale-max-tokens-wallet":"Max = 4,000,000 solstice tokens per wallet","presale-min-label-05":"Minimum purchase: 0.5 SOL","presale-min-label-025":"Minimum purchase: 0.25 SOL","presale-min-label-01":"Minimum purchase: 0.1 SOL","presale-min-label-001":"Minimum purchase: 0.01 SOL","presale-success":"Transaction sent successfully! You will receive your $SOLS automatically in your Phantom wallet after confirmation.","presale-tx-error":"Transaction error. Please try again.","proposal-creation-success":"Proposal created successfully!","member1-name":"COMING SOON","member1-role":"COMING SOON","member1-bio":"COMING SOON","member2-name":"COMING SOON","member2-role":"COMING SOON","member2-bio":"COMING SOON","member3-name":"COMING SOON","member3-role":"COMING SOON","member3-bio":"COMING SOON","member4-name":"COMING SOON","member4-role":"COMING SOON","member4-bio":"COMING SOON","dao-connecting":"Connecting...","dao-loading-proposals":"Loading proposals...","dao-no-proposals":"No active proposals at this time.","dao-proposal-status":"Status:","dao-proposal-status-active":"Active","dao-proposal-status-voted":"Voted!","dao-proposal-votes":"Votes:","dao-wallet-connect-rejected":"Wallet connection rejected.","dao-wallet-connect-error":"Error connecting wallet.","proposal-form-title-placeholder":"Proposal Title","proposal-form-desc-placeholder":"Full Description","proposal-form-title-desc-empty":"Title and description cannot be empty.","proposal-creation-error":"Error creating proposal:","back-to-top":"Back to top","back-to-top-aria":"Back to top","copy-link":"Copy link","link-copied":"Link copied to clipboard","copy-failed":"Failed to copy link",whitepaper:{tocTitle:"Table of Contents",toc:["1. Introduction: The Problem and Our Solution","2. Vision and Mission of the Ecosystem","3. Blockchain Technology and Architecture","4. Detailed Tokenomics ($SOLS)","5. Complete Roadmap and Future Milestones","6. Decentralized Governance Mechanisms","7. Protocol Security and Audits","8. Conclusion: The Future of Solstice","9. Token $SOLS Transparency","10. Presale: How to Participate, Requirements & Security","11. DAO: Operation, Proposals & Voting","12. Frequently Asked Questions (FAQ)","13. Legal Terms, Conditions & Privacy"],sections:{intro:{title:"1. Introduction: The Problem and Our Solution",content:"Most DeFi projects face issues of centralization, lack of transparency, and unfair value distribution. Solstice addresses these challenges by leveraging Solana's high-speed infrastructure to create a fully decentralized ecosystem..."},vision:{title:"2. Vision and Mission of the Ecosystem",content:"Our vision is for Solstice to become the reference launchpad for transparent, community-driven projects on the Solana network..."},tech:{title:"3. Blockchain Technology and Architecture",content:"Solstice is built on the Solana blockchain, one of the fastest and lowest-cost networks in the industry..."},tokenomics:{title:"4. Detailed Tokenomics ($SOLS)",totalSupply:"Total Supply: 1,000,000,000 $SOLS",distribution:"Distribution:",presale:"Presale (20%): Allocated for initial project funding.",rewards:"Community Rewards (30%): Fosters growth and loyalty.",treasury:"DAO Treasury Fund (35%): Controlled by the community to finance future initiatives.",liquidity:"Initial Liquidity (10%): To ensure robust liquidity on exchanges.",airdrop:"Airdrop (5%): Distributed among 500,000 people, 100 SOLS each."},roadmap:{title:"5. Complete Roadmap and Future Milestones",phase1:"Phase 1 (Q3 2024): Launch and Establishment...",phase2:"Phase 2 (Q4 2024): Ecosystem Expansion...",phase3:"Phase 3 (Q1 2025): Maturity and Adoption..."},governance:{title:"6. Decentralized Governance Mechanisms",content:"Solstice governance will be executed through a DAO, empowering $SOLS holders to make critical decisions..."},security:{title:"7. Protocol Security and Audits",content:"Security is our top priority. All Solstice smart contracts will undergo an audit..."},conclusion:{title:"8. Conclusion: The Future of Solstice",content:"Solstice represents a new dawn for decentralized finance on Solana..."},transparencia:{title:"9. Token $SOLS Transparency",content:'<b>Wallet holding the presale tokens:</b><br/><span class="break-all font-mono text-[#66fcf1]">CgAkPzZpdKAY9Cwzd2AiKmrRHgAK6DyVFn1n6VCQknEb</span><br/>This wallet contains the $SOLS currently being sold in the presale.<br/><br/><b>Wallet holding the remaining $SOLS tokens:</b><br/><span class="break-all font-mono text-[#66fcf1]">EZwVQKnP5c3K2etpt24VjE1hG3ycq2SZe52NUcZpgo2F</span><br/>Here are stored the tokens not included in the presale, until the liquidity pool is created.<br/><br/>Both addresses can be audited on any Solana explorer.'},presale:{title:"10. Presale: How to Participate, Requirements & Security",content:["<b>How to participate?</b> To join the presale, simply connect your Phantom wallet and follow the instructions in the presale tab. Only Phantom is allowed for maximum security and ease of use.","<b>Requirements:</b> You must have an active Phantom wallet and enough SOL to cover the purchase and network fees.","<b>Security:</b> All transactions are performed on the Solana blockchain, ensuring transparency and security. We do not store private keys or access your funds.","Presale progress and purchase limits are displayed in real time on the platform."]},dao:{title:"11. DAO: Operation, Proposals & Voting",content:["<b>Proposal creation:</b> To create a proposal, connect your Phantom wallet and pay a 0.001 SOL fee. The create proposal button is only enabled after the fee is paid.","<b>Voting:</b> Each wallet can vote only once per proposal, ensuring a fair and decentralized process. Vote counts and proposal status are shown in real time.","The DAO allows the community to make key decisions about the project’s future in a transparent and secure way."]},faq:{title:"12. Frequently Asked Questions (FAQ)",content:["<b>Which wallet can I use?</b> Only Phantom is supported for maximum security and user experience.","<b>How do I participate in the presale?</b> Connect your Phantom and follow the instructions in the presale tab.","<b>How do I create a proposal in the DAO?</b> Connect your Phantom, pay the fee, and fill out the proposal form.","<b>Can I vote multiple times?</b> No, you can only vote once per proposal with each wallet.","<b>Are my funds safe?</b> Yes, all operations are performed on the Solana blockchain and we never store your private keys."]},legal:{title:"13. Legal Terms, Conditions & Privacy",content:["Using the platform implies acceptance of the published terms and conditions. The platform does not request or store sensitive personal data. All operations are performed on the Solana blockchain.","For more information about privacy and legal terms, see the relevant section on the official website or contact the Solstice team."]}}}},zh:{"presale-min-label-prefix":"最低购买量：","dao-commission-label":"DAO 提案手续费","presale-label":"预售","dao-proposal-btn-vote":"投票","airdrop-steps-unlock":"要解锁“参与空投”标签页，请先点击“关注我们的 Twitter/X 账号”，再点击“转发最新置顶推文”。当两个步骤都完成后，参与按钮会自动激活。","team-jonathan-name":"Jonathan","team-jonathan-role":"首席执行官 & 创始人","team-jonathan-desc":"区块链爱好者。愿景领袖。","team-title":"认识团队","team-subtitle":"一个由远见卓识者和专家组成的敬业团队，致力于在 Solana 上构建去中心化的未来。","team-photo":"照片","team-comingSoon":"即将到来","tokenomics-airdrop":"空投 (5%)：分发给 500,000 人，每人 100 SOLS。","presale-loading-txs":"正在加载交易…","airdrop-twitter-placeholder":"Twitter 用户名（不含@）","airdrop-wallet-placeholder":"你的 Solana 钱包","airdrop-btn-participate":"参与空投","airdrop-title":"空投","airdrop-hero-title":"加入 Solstice 的黎明：您的治理之旅从这里开始","airdrop-hero-desc1":"在 Solstice，我们坚信 Solana 的未来是集体构建的。我们的空投不仅仅是代币分发；它是邀请您成为我们生态系统积极且重要成员的机会。","airdrop-why-title":"为什么加入我们的空投？","airdrop-why-desc":"这是您成为变革一部分的时刻。领取 $SOLS 代币，不仅获得我们项目的一部分，还能直接影响社区决策。","airdrop-why-pioneer":"成为先锋: 成为首批采用 $SOLS 的人，加入重视参与的社区。","airdrop-why-governance":"积极治理: 您的代币赋予您投票权，从开发提案到资金分配，共同塑造 Solstice 的未来。","airdrop-why-utility":"真实效用: 获得专属福利，参与构建以效用为先的生态系统。","airdrop-how-title":"如何领取您的 $SOLS？","airdrop-how-desc":"我们将很快公布领取代币的详细步骤。请关注我们的社交网络，获取最新信息。","airdrop-join-desc":"加入我们的旅程！让我们共同照亮 Solana 上更强大、更去中心化的社区之路。","airdrop-steps-title":"参与我们的空投。","airdrop-steps-desc":"要参与，您必须完成以下步骤：","airdrop-step1":"1. 关注我们的 Twitter/X 账号","airdrop-step2":"2. 转发最新置顶推文","airdrop-checkbox-follow":"您接受空投规则。","airdrop-checkbox-retweet":"接受条款和条件。","airdrop-continue":"继续","airdrop-participants-title":"参与者","airdrop-table-twitter":"Twitter 用户","airdrop-table-wallet":"钱包",disconnect:"断开连接","pay-commission":"支付 0.001 SOL 手续费",connect_phantom:"连接 Phantom","presale-recent-purchases-title":"最近的购买","presale-no-recent-purchases":"暂无购买记录。","presale-launch-label":"Solstice 预售 200,000,000 SOLS","phantom-connected":"Phantom 已连接","presale-buy":"购买","presale-buy-loading":"处理中...","page-title":"Solstice - Solana上的DAO生态系统","nav-home":"主页","nav-presale":"预售","nav-whitepaper":"白皮书","nav-team":"团队","nav-dao":"DAO","hero-title":"在Solana上构建社区治理的未来","hero-subtitle":"Solstice是下一代DeFi项目，通过透明度和对生态系统的完全控制来赋能社区。","hero-btn-presale":"加入预售","hero-btn-whitepaper":"阅读白皮书","features-title":"我们的特点","feature1-title":"DAO治理","feature1-text":"社区通过去中心化治理模式控制项目的未来。","feature2-title":"公平代币经济","feature2-text":"一种奖励参与并促进长期可持续性的代币分配。","feature3-title":"完全透明","feature3-text":"每个决策和交易都在区块链上可见，确保最大程度的透明度。","tokenomics-title":"代币经济学 ($SOLS)","tokenomics-intro":"$SOLS 代币是 Solstice 生态系统的核心。其代币经济学旨在激励参与并确保健康成长。","tokenomics-total-supply":"总供应量：1,000,000,000 $SOLS。","tokenomics-distribution":"分配：","tokenomics-presale":"预售 (20%)：初始资金和营销。","tokenomics-rewards":"社区奖励 (30%)：促进成长和忠诚度。","tokenomics-treasury":"DAO 财政基金 (40%)：用于未来发展和可持续性。","tokenomics-liquidity":"初始流动性 (10%)：确保市场稳定。","presale-page-title":"官方 $SOLS 预售","presale-page-subtitle":"确保您在 Solstice 生态系统未来中的份额。时间有限！","presale-price-label":"代币价格：0.0001 SOLS","presale-raised":"已募资 0 SOL","presale-goal":"20,000 SOL 目标","presale-status-title":"即将推出，敬请期待","presale-disclaimer":"通过参与，您同意预售条款和条件。请阅读我们的白皮书以获取更多详细信息。","whitepaper-page-title":"Solstice 白皮书","whitepaper-page-subtitle":"详细介绍我们在 Solana 网络上的项目愿景、技术和未来的基础文件。","team-page-title":"认识团队","team-page-subtitle":"一个由远见卓识者和专家组成的敬业团队，致力于在 Solana 上构建去中心化的未来。","dao-page-title":"DAO 面板","dao-page-subtitle":"参与决策并对将塑造 Solstice 未来的提案进行投票。","dao-wallet-status-title":"钱包状态","dao-btn-connect-wallet":"连接 Solana 钱包","dao-btn-create-proposal":"创建新提案","dao-active-proposals-title":"活跃提案","proposal-form-page-title":"创建新提案","proposal-form-page-subtitle":"为社区提交一个想法。如果获得批准，它将被实施。","proposal-form-title-label":"提案标题","proposal-form-desc-label":"完整描述","proposal-form-btn-submit":"提交提案","footer-text":"© 2024 Solstice. 保留所有权利。","language-selector":"语言：",connected:"已连接","wallet-connected":"钱包已连接:","wallet-connect-success":"钱包连接成功。","phantom-not-found":"未找到 Phantom 钱包！请安装后再试。","phantom-connect-error":"无法连接 Phantom。请重试。","presale-connect-required":"请连接您的 Phantom 钱包以参与。","presale-amount-invalid":"请输入有效的数量。","presale-amount-placeholder":"购买数量","presale-max-tokens-wallet":"每个钱包最多 4,000,000 个 solstice 代币","presale-min-label-05":"最低购买量：0.5 SOL","presale-min-label-025":"最低购买量：0.25 SOL","presale-min-label-01":"最低购买量：0.1 SOL","presale-min-label-001":"最低购买量：0.01 SOL","presale-success":"交易发送成功！确认后您将自动收到 $SOLS 到您的 Phantom 钱包。","presale-tx-error":"交易出错。请重试。","proposal-creation-success":"提案创建成功！","member1-name":"即将到来","member1-role":"即将到来","member1-bio":"即将到来","member2-name":"即将到来","member2-role":"即将到来","member2-bio":"即将到来","member3-name":"即将到来","member3-role":"即将到来","member3-bio":"即将到来","member4-name":"即将到来","member4-role":"即将到来","member4-bio":"即将到来","dao-connecting":"连接中...","dao-loading-proposals":"正在加载提案...","dao-no-proposals":"目前没有活跃的提案。","dao-proposal-status":"状态：","dao-proposal-status-active":"活跃","dao-proposal-status-voted":"已投票！","dao-proposal-votes":"投票：","dao-wallet-connect-rejected":"钱包连接被拒绝。","dao-wallet-connect-error":"连接钱包时出错。","proposal-form-title-placeholder":"提案标题","proposal-form-desc-placeholder":"完整描述","proposal-form-title-desc-empty":"标题和描述不能为空。","proposal-creation-error":"创建提案时出错：","back-to-top":"返回顶部","back-to-top-aria":"返回顶部","copy-link":"复制链接","link-copied":"链接已复制到剪贴板","copy-failed":"无法复制链接",whitepaper:{tocTitle:"目录",toc:["1. 简介：问题与我们的解决方案","2. 生态系统的愿景与使命","3. 区块链技术与架构","4. 详细代币经济学（$SOLS）","5. 完整路线图与未来里程碑","6. 去中心化治理机制","7. 协议安全与审计","8. 结论：Solstice 的未来","9. SOLS 代币透明度","10. 预售：参与方式、要求与安全","11. DAO：运作、提案与投票","12. 常见问题 (FAQ)","13. 法律条款、条件与隐私"],sections:{presale:{title:"预售：参与方式、要求与安全",content:["<b>如何参与？</b> 要加入预售，只需连接您的 Phantom 钱包并按照预售标签中的说明操作。仅支持 Phantom，以确保最大安全性和易用性。","<b>要求：</b> 您必须拥有一个激活的 Phantom 钱包，并有足够的 SOL 以支付购买和网络费用。","<b>安全：</b> 所有交易均在 Solana 区块链上进行，确保透明和安全。我们不存储私钥，也不会访问您的资金。","预售进度和购买限额会在平台上实时显示。"]},dao:{title:"DAO：运作、提案与投票",content:["<b>提案创建：</b> 要创建提案，请连接您的 Phantom 钱包并支付 0.001 SOL 的费用。支付费用后，创建提案按钮才会启用。","<b>投票：</b> 每个钱包每个提案只能投票一次，确保公平和去中心化。投票计数和提案状态会实时显示。","DAO 允许社区以透明和安全的方式对项目未来做出关键决策。"]},faq:{title:"常见问题 (FAQ)",content:["<b>我可以用哪个钱包？</b> 仅支持 Phantom，以确保最大安全性和用户体验。","<b>如何参与预售？</b> 连接您的 Phantom 并按照预售标签中的说明操作。","<b>如何在 DAO 中创建提案？</b> 连接您的 Phantom，支付费用并填写提案表单。","<b>我可以多次投票吗？</b> 不可以，每个钱包每个提案只能投票一次。","<b>我的资金安全吗？</b> 是的，所有操作都在 Solana 区块链上进行，我们从不存储您的私钥。"]},legal:{title:"法律条款、条件与隐私",content:["使用本平台即表示接受已发布的条款和条件。平台不会请求或存储敏感的个人数据。所有操作均在 Solana 区块链上进行。","有关隐私和法律条款的更多信息，请参阅官方网站的相关部分或联系 Solstice 团队。"]},transparencia:{title:"SOLS 代币透明度",content:'<b>预售代币所在钱包：</b><br/><span class="break-all font-mono text-[#66fcf1]">CgAkPzZpdKAY9Cwzd2AiKmrRHgAK6DyVFn1n6VCQknEb</span><br/>该钱包包含当前正在预售的 $SOLS。<br/><br/><b>其余 $SOLS 代币所在钱包：</b><br/><span class="break-all font-mono text-[#66fcf1]">EZwVQKnP5c3K2etpt24VjE1hG3ycq2SZe52NUcZpgo2F</span><br/>此处存放未参与预售的代币，直至创建流动性池。<br/><br/>这两个地址都可以在任何 Solana 区块链浏览器中进行审计。'},intro:{title:"1. 引言：问题与我们的解决方案",content:"大多数DeFi项目都面临中心化、缺乏透明度和不公平价值分配的问题。Solstice 通过利用 Solana 的高速基础设施来应对这些挑战，创建一个完全去中心化的生态系统..."},vision:{title:"2. 生态系统愿景与使命",content:"我们的愿景是让 Solstice 成为 Solana 网络上透明、以社区驱动的项目参考启动平台..."},tech:{title:"3. 区块链技术与架构",content:"Solstice 构建在 Solana 区块链之上，这是业内最快、成本最低的网络之一..."},tokenomics:{title:"4. 详细代币经济学 ($SOLS)",totalSupply:"总供应量：1,000,000,000 $SOLS",distribution:"分配：",presale:"预售 (20%)：用于项目初始资金。",rewards:"社区奖励 (30%)：促进增长与忠诚。",treasury:"DAO 财政基金 (35%)：由社区控制以资助未来举措。",liquidity:"初始流动性 (10%)：以确保交易所的稳健流动性。",airdrop:"空投 (5%)：分发给 500,000 人，每人 100 SOLS。"},roadmap:{title:"5. 完整路线图与未来里程碑",phase1:"第一阶段 (Q3 2024)：启动与建立...",phase2:"第二阶段 (Q4 2024)：生态系统扩展...",phase3:"第三阶段 (Q1 2025)：成熟与采用..."},governance:{title:"6. 去中心化治理机制",content:"Solstice 治理将通过 DAO 执行，赋能 $SOLS 持有者做出关键决策..."},security:{title:"7. 安全与协议审计",content:"安全是我们的首要任务。所有 Solstice 智能合约都将接受审计..."},conclusion:{title:"8. 结论：Solstice 的未来",content:"Solstice 代表着 Solana 上去中心化金融的新曙光..."}}}}},gd={PHANTOM:"Phantom",NONE:null},k5=()=>window?.solana&&window.solana.isPhantom?gd.PHANTOM:gd.NONE,x5=()=>{const[r,e]=ce.useState(gd.NONE),[n,i]=ce.useState(null),[s,o]=ce.useState(!1);ce.useEffect(()=>{e(k5())},[]);const c=async()=>{r===gd.PHANTOM&&window.solana?.isConnected&&await window.solana.disconnect(),i(null),o(!1)},u=()=>!s||!n?null:r===gd.PHANTOM?oe.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:oe.jsxs("div",{className:"bg-purple-900 rounded-lg p-6 shadow-lg w-80 text-center text-white",children:[oe.jsx("img",{src:"/solstice_SOLS/solstice-logo.png",alt:"Phantom",className:"mx-auto mb-4 w-16 h-16"}),oe.jsx("h2",{className:"text-xl font-bold mb-2",children:"Phantom Conectado"}),oe.jsx("p",{className:"mb-4 text-sm break-all",children:n}),oe.jsx("button",{onClick:c,className:"bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800",children:t.disconnect||"Desconectar"})]})}):null;return oe.jsx("div",{children:u()})},tS={es:{"language-selector":"Idioma:",home:"Inicio",presale:"Preventa",whitepaper:"Libro Blanco",team:"Equipo",dao:"DAO",airdrop:"Airdrop"},en:{"language-selector":"Language:",home:"Home",presale:"Presale",whitepaper:"Whitepaper",team:"Team",dao:"DAO",airdrop:"Airdrop"},zh:{"language-selector":"语言：",home:"主页",presale:"预售",whitepaper:"白皮书",team:"团队",dao:"DAO",airdrop:"空投"}},R5=[{id:"home",labelKey:"home"},{id:"presale",labelKey:"presale"},{id:"whitepaper",labelKey:"whitepaper"},{id:"dao",labelKey:"dao"},{id:"airdrop",labelKey:"airdrop"}],C5=({currentPage:r,setCurrentPage:e,language:n,setLanguage:i})=>{const s=gw(),o=Ro(),c=tS[n]||tS.es,u=ce.useRef(null),h=ce.useRef(null),[p,m]=ce.useState(!1),[v,S]=ce.useState(!1);ce.useEffect(()=>{},[n,r]),ce.useEffect(()=>{const P=h.current;if(!P)return;const O=()=>{const{scrollLeft:j,scrollWidth:G,clientWidth:te}=P;m(j>0),S(j+te<G-1)};O(),P.addEventListener("scroll",O,{passive:!0});const z=()=>O();return window.addEventListener("resize",z),()=>{P.removeEventListener("scroll",O),window.removeEventListener("resize",z)}},[n,r]);const A={presale:()=>ha(()=>import("./Presale-D08KcQUC.js"),[]),whitepaper:()=>ha(()=>import("./Whitepaper-DnXi6Oly.js"),[]),dao:()=>ha(()=>import("./DaoDashboard-BhbEo3FL.js"),[]),"create-proposal":()=>ha(()=>import("./CreateProposal-C6WNiKyx.js"),[])},N=P=>{s(P==="home"?"/":"/"+P)};return oe.jsx("header",{ref:u,className:"header-glass sticky top-0 z-50",children:oe.jsxs("div",{className:"mx-auto w-full max-w-[var(--container-max)] relative flex flex-row items-center justify-between gap-2 px-2 md:px-6 py-2 overflow-x-auto no-scrollbar",children:[oe.jsxs("div",{className:"flex flex-row items-center space-x-3 shrink-0 ml-0",children:[oe.jsx("img",{src:"/solstice_SOLS/solstice-custom-logo.png",alt:"Solstice Logo",width:"48",height:"48",className:"w-12 h-12 rounded-full object-contain shrink-0 -ml-1 md:-ml-2",loading:"lazy",decoding:"async",onError:P=>{if(!P.currentTarget.dataset.fallback){P.currentTarget.dataset.fallback="svg",P.currentTarget.src="/solstice_SOLS/solstice-logo.svg";return}P.currentTarget.dataset.fallback==="svg"&&(P.currentTarget.dataset.fallback="vite",P.currentTarget.src="/solstice_SOLS/vite.svg")}}),oe.jsx("span",{className:"text-2xl md:text-[28px] font-bold gradient-text",children:"Solstice"})]}),oe.jsx("nav",{className:"flex flex-row items-center gap-2 sm:gap-4 md:gap-6 lg:gap-8 xl:gap-10 text-white font-medium text-[13px] sm:text-sm md:text-base whitespace-nowrap overflow-x-auto no-scrollbar scroll-smooth px-0 ml-0 select-none custom-vertical-tabs","aria-label":"Main Navigation",role:"navigation",ref:h,style:{WebkitOverflowScrolling:"touch"},children:R5.map(P=>{let O=!1;return(P.id==="home"&&(o.pathname==="/"||o.pathname==="")||o.pathname==="/"+P.id)&&(O=!0),oe.jsx("button",{onClick:()=>N(P.id),onMouseEnter:()=>A[P.id]?.(),onFocus:()=>A[P.id]?.(),"data-id":P.id,className:"tab-btn relative z-10 bg-transparent px-1 sm:px-2 md:px-3 pb-1 pt-1 transition-colors snap-start text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-[#66fcf1]/40","aria-label":c[P.labelKey],"aria-current":O?"page":void 0,children:c[P.labelKey]},P.id)})}),oe.jsxs("div",{className:"flex flex-col items-center gap-2 ml-auto pr-6",children:[oe.jsx("img",{src:"https://flagcdn.com/48x36/us.png",alt:"English",title:"English",className:"object-cover cursor-pointer",style:{width:"16px",height:"12px"},loading:"lazy",decoding:"async",onClick:()=>i("en"),"aria-label":"Seleccionar English"}),oe.jsx("img",{src:"https://flagcdn.com/48x36/es.png",alt:"Español",title:"Español",className:"object-cover cursor-pointer",style:{width:"16px",height:"12px"},loading:"lazy",decoding:"async",onClick:()=>i("es"),"aria-label":"Seleccionar Español"}),oe.jsx("img",{src:"https://flagcdn.com/48x36/cn.png",alt:"中文",title:"中文",className:"object-cover cursor-pointer",style:{width:"16px",height:"12px"},loading:"lazy",decoding:"async",onClick:()=>i("zh"),"aria-label":"选择中文"}),oe.jsx("div",{className:"ml-2",children:oe.jsx(x5,{})})]})]})})},nS={sm:"px-3 py-2 text-sm",md:"px-5 py-3 text-base",lg:"px-6 py-3 text-lg"},P5="inline-flex items-center justify-center rounded-full font-bold transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--brand)]/40 disabled:opacity-60 disabled:cursor-not-allowed",rS={primary:"btn-primary",outline:"btn-outline text-[var(--brand)]",ghost:"bg-transparent text-gray-200 hover:bg-white/5",link:"bg-transparent px-0 py-0 text-[var(--brand)] hover:text-white underline-offset-4 hover:underline"};function iS({children:r,variant:e="primary",size:n="md",type:i="button",loading:s=!1,disabled:o=!1,className:c="",leftIcon:u=null,rightIcon:h=null,...p}){const m=[P5,nS[n]||nS.md,rS[e]||rS.primary,c].filter(Boolean).join(" ");return oe.jsx("button",{type:i,className:m,disabled:o||s,...p,children:s?oe.jsxs("span",{className:"inline-flex items-center gap-2",children:[oe.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),oe.jsx("span",{children:"..."})]}):oe.jsxs("span",{className:"inline-flex items-center gap-2",children:[u,oe.jsx("span",{children:r}),h]})})}const M5=({setCurrentPage:r,language:e})=>{const n=(e||"es").split("-")[0].toLowerCase(),i=qc[n]||qc.es,s=gw();return oe.jsxs("section",{children:[oe.jsxs("div",{className:"narrow min-h-[40vh] md:min-h-[50vh] flex flex-col items-center justify-center text-center",children:[oe.jsx("h1",{className:"fluid-h1 font-extrabold gradient-text tracking-tight mt-0",children:i["hero-title"]}),oe.jsx("p",{className:"fluid-subtitle text-gray-400 mt-3 md:mt-4 text-content",children:i["hero-subtitle"]}),oe.jsxs("div",{className:"mt-6 md:mt-8 w-full flex flex-row justify-center items-center gap-3",children:[oe.jsx(iS,{onClick:()=>s("presale"),size:"lg",variant:"primary",className:"w-fit",children:i["hero-btn-presale"]}),oe.jsx(iS,{onClick:()=>s("whitepaper"),size:"lg",variant:"outline",className:"w-fit",children:i["hero-btn-whitepaper"]})]})]}),oe.jsx("section",{className:"section narrow text-center !my-8 md:!my-12",children:oe.jsxs("div",{className:"py-6 md:py-8 flex flex-col items-center",children:[oe.jsx("div",{className:"section-header !mb-3 md:!mb-4",children:oe.jsx("h2",{className:"fluid-h2 font-extrabold text-white text-center section-title",children:i["features-title"]})}),oe.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 items-start justify-items-center gap-4 md:gap-6 w-full",children:[oe.jsxs("div",{className:"w-full max-w-[360px] p-2 sm:p-2 md:p-2 justify-self-center text-center md:self-start",children:[oe.jsx("h3",{className:"text-2xl font-bold text-[#66fcf1] mb-2",children:i["feature1-title"]}),oe.jsx("p",{className:"text-gray-400 text-content",children:i["feature1-text"]})]}),oe.jsxs("div",{className:"w-full max-w-[360px] p-2 sm:p-2 md:p-2 md:self-start justify-self-center text-center",children:[oe.jsx("h3",{className:"text-2xl font-bold text-[#66fcf1] mb-2",children:i["feature2-title"]}),oe.jsx("p",{className:"text-gray-400 text-content",children:i["feature2-text"]})]}),oe.jsxs("div",{className:"w-full max-w-[360px] p-2 sm:p-2 md:p-2 justify-self-center text-center md:self-start",children:[oe.jsx("h3",{className:"text-2xl font-bold text-[#66fcf1] mb-2",children:i["feature3-title"]}),oe.jsx("p",{className:"text-gray-400 text-content",children:i["feature3-text"]})]})]})]})}),oe.jsxs("section",{className:"section text-left narrow !my-8 md:!my-12",children:[oe.jsx("div",{className:"section-header",children:oe.jsx("h2",{className:"fluid-h2 font-extrabold text-white text-center section-title",children:i["tokenomics-title"]})}),oe.jsx("div",{className:"card p-4 md:p-5",children:oe.jsx("div",{className:"panel p-4 md:p-5",children:oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_max-content] items-center gap-3 sm:gap-4 md:gap-6",children:[oe.jsxs("div",{className:"w-full min-w-0",children:[oe.jsx("p",{className:"text-gray-400 mb-4 text-content",children:i["tokenomics-intro"]}),oe.jsxs("ul",{className:"list-enhanced text-gray-400 space-y-2 text-content",children:[oe.jsx("li",{children:i["tokenomics-total-supply"]}),oe.jsx("li",{children:i["tokenomics-presale"]}),oe.jsx("li",{children:i["tokenomics-rewards"]}),oe.jsx("li",{children:i["tokenomics-treasury"]}),oe.jsx("li",{children:i["tokenomics-liquidity"]}),oe.jsx("li",{children:i["tokenomics-airdrop"]})]})]}),oe.jsx("div",{className:"justify-self-center md:justify-self-end self-center w-full max-w-[220px] sm:max-w-[260px] md:max-w-[300px] lg:max-w-[360px]",children:oe.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-auto",role:"img","aria-label":"Distribución de suministro",preserveAspectRatio:"xMidYMid meet",children:[oe.jsx("path",{d:"M50 50 L50 5 A45 45 0 0 1 88.5 35.5 Z",fill:"#7b5ab7"}),oe.jsx("path",{d:"M50 50 L88.5 35.5 A45 45 0 0 1 88.5 64.5 Z",fill:"#5a78e5"}),oe.jsx("path",{d:"M50 50 L88.5 64.5 A45 45 0 0 1 11.5 64.5 Z",fill:"#3a9b9f"}),oe.jsx("path",{d:"M50 50 L11.5 64.5 A45 45 0 0 1 50 5 Z",fill:"#7ef7ee"}),oe.jsx("circle",{cx:"50",cy:"50",r:"41",fill:"none",stroke:"rgba(0,0,0,0.75)",strokeWidth:"5"}),oe.jsx("circle",{cx:"50",cy:"50",r:"46",fill:"none",stroke:"#cbd5e1",strokeWidth:"4"})]})})]})})})]}),oe.jsx("section",{className:"mt-16",children:oe.jsxs("div",{className:"flex flex-col items-center",children:[oe.jsx("div",{className:"section-header"}),oe.jsx("h1",{className:"fluid-h1 font-extrabold gradient-text mb-4 section-title",children:i["team-title"]}),oe.jsx("p",{className:"fluid-subtitle text-gray-400 text-content mb-8",children:i["team-subtitle"]}),oe.jsx("div",{className:"section-separator mb-4"}),oe.jsx("img",{src:"https://i.imgur.com/taMBQrE.png",alt:"Jonathan, CEO",width:"120",height:"120",loading:"lazy",decoding:"async",className:"rounded-full object-cover w-[120px] h-[120px] border-4 border-[#66fcf1] bg-[#111827] mb-4 mx-auto"}),oe.jsx("h3",{className:"text-2xl font-bold text-white mb-1 text-center",children:i["team-jonathan-name"]||"Jonathan"}),oe.jsx("p",{className:"text-[#66fcf1] font-semibold mb-2 text-center",children:i["team-jonathan-role"]||"CEO & Founder"}),oe.jsx("p",{className:"text-gray-400 text-sm text-center mb-3",children:i["team-jonathan-desc"]||"Apasionado por blockchain. Líder visionario."}),oe.jsx("a",{href:"https://x.com/glgdona",target:"_blank",rel:"noopener noreferrer",className:"block text-[#66fcf1] hover:underline text-center text-sm mb-4",children:"@glgdona"})]})})]})},N5={es:{title:"Conoce al Equipo",subtitle:"Un grupo dedicado de visionarios y expertos que trabajan para construir un futuro descentralizado en Solana.",comingSoon:"PROXIMAMENTE",photo:"Foto"},en:{title:"Meet the Team",subtitle:"A dedicated group of visionaries and experts working to build a decentralized future on Solana.",comingSoon:"COMING SOON",photo:"Photo"},zh:{title:"认识团队",subtitle:"一个由远见卓识者和专家组成的敬业团队，致力于在 Solana 上构建去中心化的未来。",comingSoon:"即将到来",photo:"照片"}},O5=({language:r})=>{const e=N5[r],n=({isLarge:i=!1})=>oe.jsxs("div",{className:`flex flex-col items-center w-80 mx-auto ${i?"col-span-1 md:col-span-2 lg:col-span-3":""}`,children:[oe.jsx("div",{className:"w-[170px] h-[170px] rounded-full border-3 border-[#66fcf1] bg-[#111827] flex items-center justify-center mb-4",children:oe.jsx("span",{className:"text-[#45a29e] text-3xl font-semibold",children:e.photo})}),oe.jsx("p",{className:"text-gray-400 text-lg mb-4",children:e.comingSoon}),oe.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:e.comingSoon}),oe.jsx("p",{className:"text-[#66fcf1] font-medium mb-4",children:e.comingSoon}),oe.jsx("p",{className:"text-gray-400 text-sm text-center",children:e.comingSoon})]});return oe.jsxs("section",{className:"space-y-8",children:[oe.jsxs("div",{className:"text-center narrow",children:[oe.jsx("div",{className:"section-header"}),oe.jsx("h1",{className:"fluid-h1 font-extrabold gradient-text mb-4 section-title",children:e.title}),oe.jsx("p",{className:"fluid-subtitle text-gray-400 text-content mb-8",children:e.subtitle}),oe.jsx("div",{className:"section-separator"})]}),oe.jsxs("div",{className:"flex flex-row gap-8 md:gap-10 section justify-center items-start overflow-x-auto w-full py-4",children:[oe.jsx(n,{}),oe.jsx(n,{}),oe.jsx(n,{}),oe.jsx(n,{})]})]})},L5=({label:r="Cargando…"})=>oe.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-4",children:[oe.jsxs("div",{className:"inline-flex items-center gap-3 text-[#66fcf1]",children:[oe.jsx("span",{className:"animate-spin h-5 w-5 rounded-full border-2 border-[#66fcf1] border-t-transparent"}),oe.jsx("span",{className:"text-sm opacity-80",children:r})]}),oe.jsx("div",{className:"w-full max-w-md",children:oe.jsx("div",{className:"h-2 w-full bg-white/5 rounded overflow-hidden",children:oe.jsx("div",{className:"h-full w-1/3 bg-[#66fcf1]/50 animate-[loading_1.2s_ease_infinite]"})})}),oe.jsx("style",{children:"@keyframes loading { 0% { transform: translateX(-100%);} 100% { transform: translateX(300%);} }"})]}),D5=({language:r="es"})=>{const e=qc[r]||qc.es;return oe.jsx("footer",{className:"w-full flex justify-center px-4 md:px-6 pb-8 footer-glass mt-auto",children:oe.jsxs("div",{className:"mx-auto w-full max-w-[var(--container-max)] flex items-center justify-center gap-3 text-sm text-gray-500",children:[oe.jsx("p",{className:"text-center",children:e["footer-text"]}),oe.jsx("div",{className:"flex items-center gap-3 shrink-0",children:oe.jsx("a",{href:"https://x.com/SolsticeSols",target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center justify-center rounded-full p-2 transition-colors hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20","aria-label":"Twitter",children:oe.jsx("img",{src:"https://cdn.simpleicons.org/x/ffffff",alt:"X (Twitter)",width:24,height:24,className:"w-5 h-5 md:w-6 md:h-6 select-none",loading:"lazy",decoding:"async"})})})]})})},B5=({message:r,type:e,onClose:n})=>{if(!r)return null;const i=e==="success";return oe.jsx("div",{className:`fixed top-4 left-1/2 -translate-x-1/2 z-50 px-4 py-3 rounded-xl text-white shadow-lg border ${i?"bg-emerald-600/90 border-emerald-400/40":"bg-rose-600/90 border-rose-400/40"} backdrop-blur`,role:"status","aria-live":"polite",children:oe.jsxs("div",{className:"flex items-center gap-3",children:[oe.jsx("span",{className:`inline-flex h-2 w-2 rounded-full ${i?"bg-emerald-300":"bg-rose-300"}`}),oe.jsx("span",{className:"text-sm font-medium",children:r}),oe.jsx("button",{onClick:n,className:"ml-2 text-white/90 hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-[#66fcf1]/40 rounded","aria-label":"Cerrar mensaje",children:"×"})]})})},U5=Oe.lazy(()=>ha(()=>import("./Whitepaper-DnXi6Oly.js"),[])),V5=Oe.lazy(()=>ha(()=>import("./DaoDashboard-BhbEo3FL.js"),[])),F5=Oe.lazy(()=>ha(()=>import("./CreateProposal-C6WNiKyx.js"),[])),W5=Oe.lazy(()=>ha(()=>import("./Presale-D08KcQUC.js"),[])),z5=()=>{ce.useEffect(()=>{localStorage.removeItem("language")},[]);const[r,e]=ce.useState("en"),n=Ro(),[i,s]=ce.useState({message:"",type:"success"}),o=qc[r]||qc.es;let c="home";if(n&&n.pathname){const S=n.pathname.replace(/^\//,"");["home","",void 0].includes(S)?c="home":["presale","whitepaper","team","dao","create-proposal","airdrop"].includes(S)&&(c=S)}const u={home:o["page-title"]||o["hero-title"],presale:o["presale-page-title"],whitepaper:o["whitepaper-page-title"],team:o["team-page-title"],dao:o["dao-page-title"],"create-proposal":o["proposal-form-page-title"],airdrop:o.airdrop||"Airdrop"},h={home:o["hero-subtitle"],presale:o["presale-disclaimer"]||o["presale-page-title"],whitepaper:o["whitepaper-page-subtitle"],team:o["team-page-subtitle"],dao:o["dao-page-subtitle"],"create-proposal":o["proposal-form-page-subtitle"],airdrop:o["airdrop-participants-title"]||"Airdrop"},p=u[c]||o["page-title"]||"Solstice",m=h[c]||o["page-title"]||"Solstice",v=(S,A="success")=>{s({message:S,type:A}),setTimeout(()=>s({message:"",type:A}),3e3)};return oe.jsxs(oe.Fragment,{children:[oe.jsxs(AM,{children:[oe.jsx("html",{lang:r||"es"}),oe.jsx("title",{children:p}),oe.jsx("meta",{name:"description",content:m}),oe.jsx("meta",{property:"og:title",content:p}),oe.jsx("meta",{property:"og:description",content:m}),oe.jsx("meta",{name:"twitter:title",content:p}),oe.jsx("meta",{name:"twitter:description",content:m})]}),oe.jsxs("div",{className:"min-h-screen flex flex-col items-stretch bg-[#0b0c10] text-[#c5c6c7]",children:[oe.jsx(C5,{currentPage:null,setCurrentPage:()=>{},language:r,setLanguage:e,role:"banner"}),oe.jsx("main",{id:"main",role:"main",className:"mx-auto w-full max-w-[var(--container-max)] mt-8 md:mt-10 mb-12 px-4 md:px-6",children:oe.jsx(ce.Suspense,{fallback:oe.jsx(L5,{label:n.pathname==="/whitepaper"?(o["whitepaper-page-title"]||"Whitepaper")+"…":n.pathname==="/presale"?(o["presale-page-title"]||"Presale")+"…":n.pathname==="/dao"?(o["dao-page-title"]||"DAO")+"…":n.pathname==="/create-proposal"?(o["proposal-form-page-title"]||"Create Proposal")+"…":"Cargando…"}),children:oe.jsxs(wP,{children:[oe.jsx(sa,{path:"/",element:oe.jsx(M5,{language:r,t:o})}),oe.jsx(sa,{path:"/presale",element:oe.jsx(W5,{language:r,t:o})}),oe.jsx(sa,{path:"/whitepaper",element:oe.jsx(U5,{language:r,showMessage:v,t:o})}),oe.jsx(sa,{path:"/team",element:oe.jsx(O5,{language:r,t:o})}),oe.jsx(sa,{path:"/dao",element:oe.jsx(V5,{language:r,showMessage:v,t:o})}),oe.jsx(sa,{path:"/create-proposal",element:oe.jsx(F5,{language:r,showMessage:v,t:o})}),oe.jsx(sa,{path:"/airdrop",element:oe.jsx(T5,{t:o})})]})})}),oe.jsx(D5,{language:r,role:"contentinfo"}),oe.jsx(B5,{message:i.message,type:i.type,onClose:()=>s({message:"",type:i.type})})]})]})};var uy={},Ku={},sS;function j5(){if(sS)return Ku;sS=1,Ku.byteLength=u,Ku.toByteArray=p,Ku.fromByteArray=S;for(var r=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=i.length;s<o;++s)r[s]=i[s],e[i.charCodeAt(s)]=s;e[45]=62,e[95]=63;function c(A){var N=A.length;if(N%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var P=A.indexOf("=");P===-1&&(P=N);var O=P===N?0:4-P%4;return[P,O]}function u(A){var N=c(A),P=N[0],O=N[1];return(P+O)*3/4-O}function h(A,N,P){return(N+P)*3/4-P}function p(A){var N,P=c(A),O=P[0],z=P[1],j=new n(h(A,O,z)),G=0,te=z>0?O-4:O,ae;for(ae=0;ae<te;ae+=4)N=e[A.charCodeAt(ae)]<<18|e[A.charCodeAt(ae+1)]<<12|e[A.charCodeAt(ae+2)]<<6|e[A.charCodeAt(ae+3)],j[G++]=N>>16&255,j[G++]=N>>8&255,j[G++]=N&255;return z===2&&(N=e[A.charCodeAt(ae)]<<2|e[A.charCodeAt(ae+1)]>>4,j[G++]=N&255),z===1&&(N=e[A.charCodeAt(ae)]<<10|e[A.charCodeAt(ae+1)]<<4|e[A.charCodeAt(ae+2)]>>2,j[G++]=N>>8&255,j[G++]=N&255),j}function m(A){return r[A>>18&63]+r[A>>12&63]+r[A>>6&63]+r[A&63]}function v(A,N,P){for(var O,z=[],j=N;j<P;j+=3)O=(A[j]<<16&16711680)+(A[j+1]<<8&65280)+(A[j+2]&255),z.push(m(O));return z.join("")}function S(A){for(var N,P=A.length,O=P%3,z=[],j=16383,G=0,te=P-O;G<te;G+=j)z.push(v(A,G,G+j>te?te:G+j));return O===1?(N=A[P-1],z.push(r[N>>2]+r[N<<4&63]+"==")):O===2&&(N=(A[P-2]<<8)+A[P-1],z.push(r[N>>10]+r[N>>4&63]+r[N<<2&63]+"=")),z.join("")}return Ku}var _f={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var oS;function q5(){return oS||(oS=1,_f.read=function(r,e,n,i,s){var o,c,u=s*8-i-1,h=(1<<u)-1,p=h>>1,m=-7,v=n?s-1:0,S=n?-1:1,A=r[e+v];for(v+=S,o=A&(1<<-m)-1,A>>=-m,m+=u;m>0;o=o*256+r[e+v],v+=S,m-=8);for(c=o&(1<<-m)-1,o>>=-m,m+=i;m>0;c=c*256+r[e+v],v+=S,m-=8);if(o===0)o=1-p;else{if(o===h)return c?NaN:(A?-1:1)*(1/0);c=c+Math.pow(2,i),o=o-p}return(A?-1:1)*c*Math.pow(2,o-i)},_f.write=function(r,e,n,i,s,o){var c,u,h,p=o*8-s-1,m=(1<<p)-1,v=m>>1,S=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=i?0:o-1,N=i?1:-1,P=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=m):(c=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-c))<1&&(c--,h*=2),c+v>=1?e+=S/h:e+=S*Math.pow(2,1-v),e*h>=2&&(c++,h/=2),c+v>=m?(u=0,c=m):c+v>=1?(u=(e*h-1)*Math.pow(2,s),c=c+v):(u=e*Math.pow(2,v-1)*Math.pow(2,s),c=0));s>=8;r[n+A]=u&255,A+=N,u/=256,s-=8);for(c=c<<s|u,p+=s;p>0;r[n+A]=c&255,A+=N,c/=256,p-=8);r[n+A-N]|=P*128}),_f}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var aS;function wv(){return aS||(aS=1,(function(r){const e=j5(),n=q5(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=j,r.INSPECT_MAX_BYTES=50;const s=2147483647;r.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const $=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf($,k),$.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c($){if($>s)throw new RangeError('The value "'+$+'" is invalid for option "size"');const k=new Uint8Array($);return Object.setPrototypeOf(k,u.prototype),k}function u($,k,R){if(typeof $=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v($)}return h($,k,R)}u.poolSize=8192;function h($,k,R){if(typeof $=="string")return S($,k);if(ArrayBuffer.isView($))return N($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(xn($,ArrayBuffer)||$&&xn($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xn($,SharedArrayBuffer)||$&&xn($.buffer,SharedArrayBuffer)))return P($,k,R);if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=$.valueOf&&$.valueOf();if(Z!=null&&Z!==$)return u.from(Z,k,R);const de=O($);if(de)return de;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return u.from($[Symbol.toPrimitive]("string"),k,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}u.from=function($,k,R){return h($,k,R)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function p($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function m($,k,R){return p($),$<=0?c($):k!==void 0?typeof R=="string"?c($).fill(k,R):c($).fill(k):c($)}u.alloc=function($,k,R){return m($,k,R)};function v($){return p($),c($<0?0:z($)|0)}u.allocUnsafe=function($){return v($)},u.allocUnsafeSlow=function($){return v($)};function S($,k){if((typeof k!="string"||k==="")&&(k="utf8"),!u.isEncoding(k))throw new TypeError("Unknown encoding: "+k);const R=G($,k)|0;let Z=c(R);const de=Z.write($,k);return de!==R&&(Z=Z.slice(0,de)),Z}function A($){const k=$.length<0?0:z($.length)|0,R=c(k);for(let Z=0;Z<k;Z+=1)R[Z]=$[Z]&255;return R}function N($){if(xn($,Uint8Array)){const k=new Uint8Array($);return P(k.buffer,k.byteOffset,k.byteLength)}return A($)}function P($,k,R){if(k<0||$.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<k+(R||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return k===void 0&&R===void 0?Z=new Uint8Array($):R===void 0?Z=new Uint8Array($,k):Z=new Uint8Array($,k,R),Object.setPrototypeOf(Z,u.prototype),Z}function O($){if(u.isBuffer($)){const k=z($.length)|0,R=c(k);return R.length===0||$.copy(R,0,0,k),R}if($.length!==void 0)return typeof $.length!="number"||Dt($.length)?c(0):A($);if($.type==="Buffer"&&Array.isArray($.data))return A($.data)}function z($){if($>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return $|0}function j($){return+$!=$&&($=0),u.alloc(+$)}u.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==u.prototype},u.compare=function(k,R){if(xn(k,Uint8Array)&&(k=u.from(k,k.offset,k.byteLength)),xn(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),!u.isBuffer(k)||!u.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===R)return 0;let Z=k.length,de=R.length;for(let me=0,be=Math.min(Z,de);me<be;++me)if(k[me]!==R[me]){Z=k[me],de=R[me];break}return Z<de?-1:de<Z?1:0},u.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(k,R){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return u.alloc(0);let Z;if(R===void 0)for(R=0,Z=0;Z<k.length;++Z)R+=k[Z].length;const de=u.allocUnsafe(R);let me=0;for(Z=0;Z<k.length;++Z){let be=k[Z];if(xn(be,Uint8Array))me+be.length>de.length?(u.isBuffer(be)||(be=u.from(be)),be.copy(de,me)):Uint8Array.prototype.set.call(de,be,me);else if(u.isBuffer(be))be.copy(de,me);else throw new TypeError('"list" argument must be an Array of Buffers');me+=be.length}return de};function G($,k){if(u.isBuffer($))return $.length;if(ArrayBuffer.isView($)||xn($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);const R=$.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&R===0)return 0;let de=!1;for(;;)switch(k){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return Wt($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return Pt($).length;default:if(de)return Z?-1:Wt($).length;k=(""+k).toLowerCase(),de=!0}}u.byteLength=G;function te($,k,R){let Z=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,k>>>=0,R<=k))return"";for($||($="utf8");;)switch($){case"hex":return X(this,k,R);case"utf8":case"utf-8":return y(this,k,R);case"ascii":return H(this,k,R);case"latin1":case"binary":return q(this,k,R);case"base64":return b(this,k,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,k,R);default:if(Z)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),Z=!0}}u.prototype._isBuffer=!0;function ae($,k,R){const Z=$[k];$[k]=$[R],$[R]=Z}u.prototype.swap16=function(){const k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let R=0;R<k;R+=2)ae(this,R,R+1);return this},u.prototype.swap32=function(){const k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let R=0;R<k;R+=4)ae(this,R,R+3),ae(this,R+1,R+2);return this},u.prototype.swap64=function(){const k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let R=0;R<k;R+=8)ae(this,R,R+7),ae(this,R+1,R+6),ae(this,R+2,R+5),ae(this,R+3,R+4);return this},u.prototype.toString=function(){const k=this.length;return k===0?"":arguments.length===0?y(this,0,k):te.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(k){if(!u.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:u.compare(this,k)===0},u.prototype.inspect=function(){let k="";const R=r.INSPECT_MAX_BYTES;return k=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(k+=" ... "),"<Buffer "+k+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(k,R,Z,de,me){if(xn(k,Uint8Array)&&(k=u.from(k,k.offset,k.byteLength)),!u.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(R===void 0&&(R=0),Z===void 0&&(Z=k?k.length:0),de===void 0&&(de=0),me===void 0&&(me=this.length),R<0||Z>k.length||de<0||me>this.length)throw new RangeError("out of range index");if(de>=me&&R>=Z)return 0;if(de>=me)return-1;if(R>=Z)return 1;if(R>>>=0,Z>>>=0,de>>>=0,me>>>=0,this===k)return 0;let be=me-de,ct=Z-R;const Qe=Math.min(be,ct),nt=this.slice(de,me),It=k.slice(R,Z);for(let et=0;et<Qe;++et)if(nt[et]!==It[et]){be=nt[et],ct=It[et];break}return be<ct?-1:ct<be?1:0};function se($,k,R,Z,de){if($.length===0)return-1;if(typeof R=="string"?(Z=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,Dt(R)&&(R=de?0:$.length-1),R<0&&(R=$.length+R),R>=$.length){if(de)return-1;R=$.length-1}else if(R<0)if(de)R=0;else return-1;if(typeof k=="string"&&(k=u.from(k,Z)),u.isBuffer(k))return k.length===0?-1:Q($,k,R,Z,de);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?de?Uint8Array.prototype.indexOf.call($,k,R):Uint8Array.prototype.lastIndexOf.call($,k,R):Q($,[k],R,Z,de);throw new TypeError("val must be string, number or Buffer")}function Q($,k,R,Z,de){let me=1,be=$.length,ct=k.length;if(Z!==void 0&&(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if($.length<2||k.length<2)return-1;me=2,be/=2,ct/=2,R/=2}function Qe(It,et){return me===1?It[et]:It.readUInt16BE(et*me)}let nt;if(de){let It=-1;for(nt=R;nt<be;nt++)if(Qe($,nt)===Qe(k,It===-1?0:nt-It)){if(It===-1&&(It=nt),nt-It+1===ct)return It*me}else It!==-1&&(nt-=nt-It),It=-1}else for(R+ct>be&&(R=be-ct),nt=R;nt>=0;nt--){let It=!0;for(let et=0;et<ct;et++)if(Qe($,nt+et)!==Qe(k,et)){It=!1;break}if(It)return nt}return-1}u.prototype.includes=function(k,R,Z){return this.indexOf(k,R,Z)!==-1},u.prototype.indexOf=function(k,R,Z){return se(this,k,R,Z,!0)},u.prototype.lastIndexOf=function(k,R,Z){return se(this,k,R,Z,!1)};function V($,k,R,Z){R=Number(R)||0;const de=$.length-R;Z?(Z=Number(Z),Z>de&&(Z=de)):Z=de;const me=k.length;Z>me/2&&(Z=me/2);let be;for(be=0;be<Z;++be){const ct=parseInt(k.substr(be*2,2),16);if(Dt(ct))return be;$[R+be]=ct}return be}function M($,k,R,Z){return xt(Wt(k,$.length-R),$,R,Z)}function D($,k,R,Z){return xt(Kt(k),$,R,Z)}function F($,k,R,Z){return xt(Pt(k),$,R,Z)}function W($,k,R,Z){return xt(pr(k,$.length-R),$,R,Z)}u.prototype.write=function(k,R,Z,de){if(R===void 0)de="utf8",Z=this.length,R=0;else if(Z===void 0&&typeof R=="string")de=R,Z=this.length,R=0;else if(isFinite(R))R=R>>>0,isFinite(Z)?(Z=Z>>>0,de===void 0&&(de="utf8")):(de=Z,Z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const me=this.length-R;if((Z===void 0||Z>me)&&(Z=me),k.length>0&&(Z<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");de||(de="utf8");let be=!1;for(;;)switch(de){case"hex":return V(this,k,R,Z);case"utf8":case"utf-8":return M(this,k,R,Z);case"ascii":case"latin1":case"binary":return D(this,k,R,Z);case"base64":return F(this,k,R,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,k,R,Z);default:if(be)throw new TypeError("Unknown encoding: "+de);de=(""+de).toLowerCase(),be=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function b($,k,R){return k===0&&R===$.length?e.fromByteArray($):e.fromByteArray($.slice(k,R))}function y($,k,R){R=Math.min($.length,R);const Z=[];let de=k;for(;de<R;){const me=$[de];let be=null,ct=me>239?4:me>223?3:me>191?2:1;if(de+ct<=R){let Qe,nt,It,et;switch(ct){case 1:me<128&&(be=me);break;case 2:Qe=$[de+1],(Qe&192)===128&&(et=(me&31)<<6|Qe&63,et>127&&(be=et));break;case 3:Qe=$[de+1],nt=$[de+2],(Qe&192)===128&&(nt&192)===128&&(et=(me&15)<<12|(Qe&63)<<6|nt&63,et>2047&&(et<55296||et>57343)&&(be=et));break;case 4:Qe=$[de+1],nt=$[de+2],It=$[de+3],(Qe&192)===128&&(nt&192)===128&&(It&192)===128&&(et=(me&15)<<18|(Qe&63)<<12|(nt&63)<<6|It&63,et>65535&&et<1114112&&(be=et))}}be===null?(be=65533,ct=1):be>65535&&(be-=65536,Z.push(be>>>10&1023|55296),be=56320|be&1023),Z.push(be),de+=ct}return B(Z)}const I=4096;function B($){const k=$.length;if(k<=I)return String.fromCharCode.apply(String,$);let R="",Z=0;for(;Z<k;)R+=String.fromCharCode.apply(String,$.slice(Z,Z+=I));return R}function H($,k,R){let Z="";R=Math.min($.length,R);for(let de=k;de<R;++de)Z+=String.fromCharCode($[de]&127);return Z}function q($,k,R){let Z="";R=Math.min($.length,R);for(let de=k;de<R;++de)Z+=String.fromCharCode($[de]);return Z}function X($,k,R){const Z=$.length;(!k||k<0)&&(k=0),(!R||R<0||R>Z)&&(R=Z);let de="";for(let me=k;me<R;++me)de+=Ht[$[me]];return de}function ee($,k,R){const Z=$.slice(k,R);let de="";for(let me=0;me<Z.length-1;me+=2)de+=String.fromCharCode(Z[me]+Z[me+1]*256);return de}u.prototype.slice=function(k,R){const Z=this.length;k=~~k,R=R===void 0?Z:~~R,k<0?(k+=Z,k<0&&(k=0)):k>Z&&(k=Z),R<0?(R+=Z,R<0&&(R=0)):R>Z&&(R=Z),R<k&&(R=k);const de=this.subarray(k,R);return Object.setPrototypeOf(de,u.prototype),de};function C($,k,R){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+k>R)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(k,R,Z){k=k>>>0,R=R>>>0,Z||C(k,R,this.length);let de=this[k],me=1,be=0;for(;++be<R&&(me*=256);)de+=this[k+be]*me;return de},u.prototype.readUintBE=u.prototype.readUIntBE=function(k,R,Z){k=k>>>0,R=R>>>0,Z||C(k,R,this.length);let de=this[k+--R],me=1;for(;R>0&&(me*=256);)de+=this[k+--R]*me;return de},u.prototype.readUint8=u.prototype.readUInt8=function(k,R){return k=k>>>0,R||C(k,1,this.length),this[k]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(k,R){return k=k>>>0,R||C(k,2,this.length),this[k]|this[k+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(k,R){return k=k>>>0,R||C(k,2,this.length),this[k]<<8|this[k+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(k,R){return k=k>>>0,R||C(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(k,R){return k=k>>>0,R||C(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},u.prototype.readBigUInt64LE=Vn(function(k){k=k>>>0,wn(k,"offset");const R=this[k],Z=this[k+7];(R===void 0||Z===void 0)&&At(k,this.length-8);const de=R+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24,me=this[++k]+this[++k]*2**8+this[++k]*2**16+Z*2**24;return BigInt(de)+(BigInt(me)<<BigInt(32))}),u.prototype.readBigUInt64BE=Vn(function(k){k=k>>>0,wn(k,"offset");const R=this[k],Z=this[k+7];(R===void 0||Z===void 0)&&At(k,this.length-8);const de=R*2**24+this[++k]*2**16+this[++k]*2**8+this[++k],me=this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+Z;return(BigInt(de)<<BigInt(32))+BigInt(me)}),u.prototype.readIntLE=function(k,R,Z){k=k>>>0,R=R>>>0,Z||C(k,R,this.length);let de=this[k],me=1,be=0;for(;++be<R&&(me*=256);)de+=this[k+be]*me;return me*=128,de>=me&&(de-=Math.pow(2,8*R)),de},u.prototype.readIntBE=function(k,R,Z){k=k>>>0,R=R>>>0,Z||C(k,R,this.length);let de=R,me=1,be=this[k+--de];for(;de>0&&(me*=256);)be+=this[k+--de]*me;return me*=128,be>=me&&(be-=Math.pow(2,8*R)),be},u.prototype.readInt8=function(k,R){return k=k>>>0,R||C(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},u.prototype.readInt16LE=function(k,R){k=k>>>0,R||C(k,2,this.length);const Z=this[k]|this[k+1]<<8;return Z&32768?Z|4294901760:Z},u.prototype.readInt16BE=function(k,R){k=k>>>0,R||C(k,2,this.length);const Z=this[k+1]|this[k]<<8;return Z&32768?Z|4294901760:Z},u.prototype.readInt32LE=function(k,R){return k=k>>>0,R||C(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},u.prototype.readInt32BE=function(k,R){return k=k>>>0,R||C(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},u.prototype.readBigInt64LE=Vn(function(k){k=k>>>0,wn(k,"offset");const R=this[k],Z=this[k+7];(R===void 0||Z===void 0)&&At(k,this.length-8);const de=this[k+4]+this[k+5]*2**8+this[k+6]*2**16+(Z<<24);return(BigInt(de)<<BigInt(32))+BigInt(R+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24)}),u.prototype.readBigInt64BE=Vn(function(k){k=k>>>0,wn(k,"offset");const R=this[k],Z=this[k+7];(R===void 0||Z===void 0)&&At(k,this.length-8);const de=(R<<24)+this[++k]*2**16+this[++k]*2**8+this[++k];return(BigInt(de)<<BigInt(32))+BigInt(this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+Z)}),u.prototype.readFloatLE=function(k,R){return k=k>>>0,R||C(k,4,this.length),n.read(this,k,!0,23,4)},u.prototype.readFloatBE=function(k,R){return k=k>>>0,R||C(k,4,this.length),n.read(this,k,!1,23,4)},u.prototype.readDoubleLE=function(k,R){return k=k>>>0,R||C(k,8,this.length),n.read(this,k,!0,52,8)},u.prototype.readDoubleBE=function(k,R){return k=k>>>0,R||C(k,8,this.length),n.read(this,k,!1,52,8)};function w($,k,R,Z,de,me){if(!u.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>de||k<me)throw new RangeError('"value" argument is out of bounds');if(R+Z>$.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(k,R,Z,de){if(k=+k,R=R>>>0,Z=Z>>>0,!de){const ct=Math.pow(2,8*Z)-1;w(this,k,R,Z,ct,0)}let me=1,be=0;for(this[R]=k&255;++be<Z&&(me*=256);)this[R+be]=k/me&255;return R+Z},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(k,R,Z,de){if(k=+k,R=R>>>0,Z=Z>>>0,!de){const ct=Math.pow(2,8*Z)-1;w(this,k,R,Z,ct,0)}let me=Z-1,be=1;for(this[R+me]=k&255;--me>=0&&(be*=256);)this[R+me]=k/be&255;return R+Z},u.prototype.writeUint8=u.prototype.writeUInt8=function(k,R,Z){return k=+k,R=R>>>0,Z||w(this,k,R,1,255,0),this[R]=k&255,R+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(k,R,Z){return k=+k,R=R>>>0,Z||w(this,k,R,2,65535,0),this[R]=k&255,this[R+1]=k>>>8,R+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(k,R,Z){return k=+k,R=R>>>0,Z||w(this,k,R,2,65535,0),this[R]=k>>>8,this[R+1]=k&255,R+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(k,R,Z){return k=+k,R=R>>>0,Z||w(this,k,R,4,4294967295,0),this[R+3]=k>>>24,this[R+2]=k>>>16,this[R+1]=k>>>8,this[R]=k&255,R+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(k,R,Z){return k=+k,R=R>>>0,Z||w(this,k,R,4,4294967295,0),this[R]=k>>>24,this[R+1]=k>>>16,this[R+2]=k>>>8,this[R+3]=k&255,R+4};function _($,k,R,Z,de){St(k,Z,de,$,R,7);let me=Number(k&BigInt(4294967295));$[R++]=me,me=me>>8,$[R++]=me,me=me>>8,$[R++]=me,me=me>>8,$[R++]=me;let be=Number(k>>BigInt(32)&BigInt(4294967295));return $[R++]=be,be=be>>8,$[R++]=be,be=be>>8,$[R++]=be,be=be>>8,$[R++]=be,R}function U($,k,R,Z,de){St(k,Z,de,$,R,7);let me=Number(k&BigInt(4294967295));$[R+7]=me,me=me>>8,$[R+6]=me,me=me>>8,$[R+5]=me,me=me>>8,$[R+4]=me;let be=Number(k>>BigInt(32)&BigInt(4294967295));return $[R+3]=be,be=be>>8,$[R+2]=be,be=be>>8,$[R+1]=be,be=be>>8,$[R]=be,R+8}u.prototype.writeBigUInt64LE=Vn(function(k,R=0){return _(this,k,R,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Vn(function(k,R=0){return U(this,k,R,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(k,R,Z,de){if(k=+k,R=R>>>0,!de){const Qe=Math.pow(2,8*Z-1);w(this,k,R,Z,Qe-1,-Qe)}let me=0,be=1,ct=0;for(this[R]=k&255;++me<Z&&(be*=256);)k<0&&ct===0&&this[R+me-1]!==0&&(ct=1),this[R+me]=(k/be>>0)-ct&255;return R+Z},u.prototype.writeIntBE=function(k,R,Z,de){if(k=+k,R=R>>>0,!de){const Qe=Math.pow(2,8*Z-1);w(this,k,R,Z,Qe-1,-Qe)}let me=Z-1,be=1,ct=0;for(this[R+me]=k&255;--me>=0&&(be*=256);)k<0&&ct===0&&this[R+me+1]!==0&&(ct=1),this[R+me]=(k/be>>0)-ct&255;return R+Z},u.prototype.writeInt8=function(k,R,Z){return k=+k,R=R>>>0,Z||w(this,k,R,1,127,-128),k<0&&(k=255+k+1),this[R]=k&255,R+1},u.prototype.writeInt16LE=function(k,R,Z){return k=+k,R=R>>>0,Z||w(this,k,R,2,32767,-32768),this[R]=k&255,this[R+1]=k>>>8,R+2},u.prototype.writeInt16BE=function(k,R,Z){return k=+k,R=R>>>0,Z||w(this,k,R,2,32767,-32768),this[R]=k>>>8,this[R+1]=k&255,R+2},u.prototype.writeInt32LE=function(k,R,Z){return k=+k,R=R>>>0,Z||w(this,k,R,4,2147483647,-2147483648),this[R]=k&255,this[R+1]=k>>>8,this[R+2]=k>>>16,this[R+3]=k>>>24,R+4},u.prototype.writeInt32BE=function(k,R,Z){return k=+k,R=R>>>0,Z||w(this,k,R,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[R]=k>>>24,this[R+1]=k>>>16,this[R+2]=k>>>8,this[R+3]=k&255,R+4},u.prototype.writeBigInt64LE=Vn(function(k,R=0){return _(this,k,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Vn(function(k,R=0){return U(this,k,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Y($,k,R,Z,de,me){if(R+Z>$.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function ie($,k,R,Z,de){return k=+k,R=R>>>0,de||Y($,k,R,4),n.write($,k,R,Z,23,4),R+4}u.prototype.writeFloatLE=function(k,R,Z){return ie(this,k,R,!0,Z)},u.prototype.writeFloatBE=function(k,R,Z){return ie(this,k,R,!1,Z)};function ue($,k,R,Z,de){return k=+k,R=R>>>0,de||Y($,k,R,8),n.write($,k,R,Z,52,8),R+8}u.prototype.writeDoubleLE=function(k,R,Z){return ue(this,k,R,!0,Z)},u.prototype.writeDoubleBE=function(k,R,Z){return ue(this,k,R,!1,Z)},u.prototype.copy=function(k,R,Z,de){if(!u.isBuffer(k))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!de&&de!==0&&(de=this.length),R>=k.length&&(R=k.length),R||(R=0),de>0&&de<Z&&(de=Z),de===Z||k.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("sourceEnd out of bounds");de>this.length&&(de=this.length),k.length-R<de-Z&&(de=k.length-R+Z);const me=de-Z;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(R,Z,de):Uint8Array.prototype.set.call(k,this.subarray(Z,de),R),me},u.prototype.fill=function(k,R,Z,de){if(typeof k=="string"){if(typeof R=="string"?(de=R,R=0,Z=this.length):typeof Z=="string"&&(de=Z,Z=this.length),de!==void 0&&typeof de!="string")throw new TypeError("encoding must be a string");if(typeof de=="string"&&!u.isEncoding(de))throw new TypeError("Unknown encoding: "+de);if(k.length===1){const be=k.charCodeAt(0);(de==="utf8"&&be<128||de==="latin1")&&(k=be)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(R<0||this.length<R||this.length<Z)throw new RangeError("Out of range index");if(Z<=R)return this;R=R>>>0,Z=Z===void 0?this.length:Z>>>0,k||(k=0);let me;if(typeof k=="number")for(me=R;me<Z;++me)this[me]=k;else{const be=u.isBuffer(k)?k:u.from(k,de),ct=be.length;if(ct===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(me=0;me<Z-R;++me)this[me+R]=be[me%ct]}return this};const Se={};function Te($,k,R){Se[$]=class extends R{constructor(){super(),Object.defineProperty(this,"message",{value:k.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,this.stack,delete this.name}get code(){return $}set code(de){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:de,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}Te("ERR_BUFFER_OUT_OF_BOUNDS",function($){return $?`${$} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Te("ERR_INVALID_ARG_TYPE",function($,k){return`The "${$}" argument must be of type number. Received type ${typeof k}`},TypeError),Te("ERR_OUT_OF_RANGE",function($,k,R){let Z=`The value of "${$}" is out of range.`,de=R;return Number.isInteger(R)&&Math.abs(R)>2**32?de=Je(String(R)):typeof R=="bigint"&&(de=String(R),(R>BigInt(2)**BigInt(32)||R<-(BigInt(2)**BigInt(32)))&&(de=Je(de)),de+="n"),Z+=` It must be ${k}. Received ${de}`,Z},RangeError);function Je($){let k="",R=$.length;const Z=$[0]==="-"?1:0;for(;R>=Z+4;R-=3)k=`_${$.slice(R-3,R)}${k}`;return`${$.slice(0,R)}${k}`}function ht($,k,R){wn(k,"offset"),($[k]===void 0||$[k+R]===void 0)&&At(k,$.length-(R+1))}function St($,k,R,Z,de,me){if($>R||$<k){const be=typeof k=="bigint"?"n":"";let ct;throw k===0||k===BigInt(0)?ct=`>= 0${be} and < 2${be} ** ${(me+1)*8}${be}`:ct=`>= -(2${be} ** ${(me+1)*8-1}${be}) and < 2 ** ${(me+1)*8-1}${be}`,new Se.ERR_OUT_OF_RANGE("value",ct,$)}ht(Z,de,me)}function wn($,k){if(typeof $!="number")throw new Se.ERR_INVALID_ARG_TYPE(k,"number",$)}function At($,k,R){throw Math.floor($)!==$?(wn($,R),new Se.ERR_OUT_OF_RANGE("offset","an integer",$)):k<0?new Se.ERR_BUFFER_OUT_OF_BOUNDS:new Se.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${k}`,$)}const $t=/[^+/0-9A-Za-z-_]/g;function kr($){if($=$.split("=")[0],$=$.trim().replace($t,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function Wt($,k){k=k||1/0;let R;const Z=$.length;let de=null;const me=[];for(let be=0;be<Z;++be){if(R=$.charCodeAt(be),R>55295&&R<57344){if(!de){if(R>56319){(k-=3)>-1&&me.push(239,191,189);continue}else if(be+1===Z){(k-=3)>-1&&me.push(239,191,189);continue}de=R;continue}if(R<56320){(k-=3)>-1&&me.push(239,191,189),de=R;continue}R=(de-55296<<10|R-56320)+65536}else de&&(k-=3)>-1&&me.push(239,191,189);if(de=null,R<128){if((k-=1)<0)break;me.push(R)}else if(R<2048){if((k-=2)<0)break;me.push(R>>6|192,R&63|128)}else if(R<65536){if((k-=3)<0)break;me.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((k-=4)<0)break;me.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return me}function Kt($){const k=[];for(let R=0;R<$.length;++R)k.push($.charCodeAt(R)&255);return k}function pr($,k){let R,Z,de;const me=[];for(let be=0;be<$.length&&!((k-=2)<0);++be)R=$.charCodeAt(be),Z=R>>8,de=R%256,me.push(de),me.push(Z);return me}function Pt($){return e.toByteArray(kr($))}function xt($,k,R,Z){let de;for(de=0;de<Z&&!(de+R>=k.length||de>=$.length);++de)k[de+R]=$[de];return de}function xn($,k){return $ instanceof k||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===k.name}function Dt($){return $!==$}const Ht=(function(){const $="0123456789abcdef",k=new Array(256);for(let R=0;R<16;++R){const Z=R*16;for(let de=0;de<16;++de)k[Z+de]=$[R]+$[de]}return k})();function Vn($){return typeof BigInt>"u"?wt:$}function wt(){throw new Error("BigInt not supported")}})(uy)),uy}var ft=wv();const uc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jd(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Pd(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function ko(r,...e){if(!Jd(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function g2(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Pd(r.outputLen),Pd(r.blockLen)}function $c(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function y2(r,e){ko(r);const n=e.outputLen;if(r.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function $5(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function Ca(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function dy(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function ks(r,e){return r<<32-e|r>>>e}const K5=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function H5(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function G5(r){for(let e=0;e<r.length;e++)r[e]=H5(r[e]);return r}const lS=K5?r=>r:G5,w2=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Q5=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function fl(r){if(ko(r),w2)return r.toHex();let e="";for(let n=0;n<r.length;n++)e+=Q5[r[n]];return e}const lo={_0:48,_9:57,A:65,F:70,a:97,f:102};function cS(r){if(r>=lo._0&&r<=lo._9)return r-lo._0;if(r>=lo.A&&r<=lo.F)return r-(lo.A-10);if(r>=lo.a&&r<=lo.f)return r-(lo.a-10)}function gp(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(w2)return Uint8Array.fromHex(r);const e=r.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const c=cS(r.charCodeAt(o)),u=cS(r.charCodeAt(o+1));if(c===void 0||u===void 0){const h=r[o]+r[o+1];throw new Error('hex string expected, got non-hex character "'+h+'" at index '+o)}i[s]=c*16+u}return i}function Y5(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function em(r){return typeof r=="string"&&(r=Y5(r)),ko(r),r}function Ns(...r){let e=0;for(let i=0;i<r.length;i++){const s=r[i];ko(s),e+=s.length}const n=new Uint8Array(e);for(let i=0,s=0;i<r.length;i++){const o=r[i];n.set(o,s),s+=o.length}return n}class vv{}function _v(r){const e=i=>r().update(em(i)).digest(),n=r();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>r(),e}function Ev(r=32){if(uc&&typeof uc.getRandomValues=="function")return uc.getRandomValues(new Uint8Array(r));if(uc&&typeof uc.randomBytes=="function")return Uint8Array.from(uc.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}function X5(r,e,n,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,n,i);const s=BigInt(32),o=BigInt(4294967295),c=Number(n>>s&o),u=Number(n&o),h=i?4:0,p=i?0:4;r.setUint32(e+h,c,i),r.setUint32(e+p,u,i)}function J5(r,e,n){return r&e^~r&n}function Z5(r,e,n){return r&e^r&n^e&n}class v2 extends vv{constructor(e,n,i,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=s,this.buffer=new Uint8Array(e),this.view=dy(this.buffer)}update(e){$c(this),e=em(e),ko(e);const{view:n,buffer:i,blockLen:s}=this,o=e.length;for(let c=0;c<o;){const u=Math.min(s-this.pos,o-c);if(u===s){const h=dy(e);for(;s<=o-c;c+=s)this.process(h,c);continue}i.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$c(this),y2(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:s,isLE:o}=this;let{pos:c}=this;n[c++]=128,Ca(this.buffer.subarray(c)),this.padOffset>s-c&&(this.process(i,0),c=0);for(let v=c;v<s;v++)n[v]=0;X5(i,s-8,BigInt(this.length*8),o),this.process(i,0);const u=dy(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=h/4,m=this.get();if(p>m.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<p;v++)u.setUint32(4*v,m[v],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:s,finished:o,destroyed:c,pos:u}=this;return e.destroyed=c,e.finished=o,e.length=s,e.pos=u,s%n&&e.buffer.set(i),e}clone(){return this._cloneInto()}}const Zo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Nr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Ef=BigInt(2**32-1),uS=BigInt(32);function eD(r,e=!1){return e?{h:Number(r&Ef),l:Number(r>>uS&Ef)}:{h:Number(r>>uS&Ef)|0,l:Number(r&Ef)|0}}function _2(r,e=!1){const n=r.length;let i=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:c,l:u}=eD(r[o],e);[i[o],s[o]]=[c,u]}return[i,s]}const dS=(r,e,n)=>r>>>n,hS=(r,e,n)=>r<<32-n|e>>>n,dc=(r,e,n)=>r>>>n|e<<32-n,hc=(r,e,n)=>r<<32-n|e>>>n,bf=(r,e,n)=>r<<64-n|e>>>n-32,Sf=(r,e,n)=>r>>>n-32|e<<64-n,tD=(r,e,n)=>r<<n|e>>>32-n,nD=(r,e,n)=>e<<n|r>>>32-n,rD=(r,e,n)=>e<<n-32|r>>>64-n,iD=(r,e,n)=>r<<n-32|e>>>64-n;function co(r,e,n,i){const s=(e>>>0)+(i>>>0);return{h:r+n+(s/2**32|0)|0,l:s|0}}const sD=(r,e,n)=>(r>>>0)+(e>>>0)+(n>>>0),oD=(r,e,n,i)=>e+n+i+(r/2**32|0)|0,aD=(r,e,n,i)=>(r>>>0)+(e>>>0)+(n>>>0)+(i>>>0),lD=(r,e,n,i,s)=>e+n+i+s+(r/2**32|0)|0,cD=(r,e,n,i,s)=>(r>>>0)+(e>>>0)+(n>>>0)+(i>>>0)+(s>>>0),uD=(r,e,n,i,s,o)=>e+n+i+s+o+(r/2**32|0)|0,dD=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ea=new Uint32Array(64);class hD extends v2{constructor(e=32){super(64,e,8,!1),this.A=Zo[0]|0,this.B=Zo[1]|0,this.C=Zo[2]|0,this.D=Zo[3]|0,this.E=Zo[4]|0,this.F=Zo[5]|0,this.G=Zo[6]|0,this.H=Zo[7]|0}get(){const{A:e,B:n,C:i,D:s,E:o,F:c,G:u,H:h}=this;return[e,n,i,s,o,c,u,h]}set(e,n,i,s,o,c,u,h){this.A=e|0,this.B=n|0,this.C=i|0,this.D=s|0,this.E=o|0,this.F=c|0,this.G=u|0,this.H=h|0}process(e,n){for(let v=0;v<16;v++,n+=4)ea[v]=e.getUint32(n,!1);for(let v=16;v<64;v++){const S=ea[v-15],A=ea[v-2],N=ks(S,7)^ks(S,18)^S>>>3,P=ks(A,17)^ks(A,19)^A>>>10;ea[v]=P+ea[v-7]+N+ea[v-16]|0}let{A:i,B:s,C:o,D:c,E:u,F:h,G:p,H:m}=this;for(let v=0;v<64;v++){const S=ks(u,6)^ks(u,11)^ks(u,25),A=m+S+J5(u,h,p)+dD[v]+ea[v]|0,P=(ks(i,2)^ks(i,13)^ks(i,22))+Z5(i,s,o)|0;m=p,p=h,h=u,u=c+A|0,c=o,o=s,s=i,i=A+P|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,c=c+this.D|0,u=u+this.E|0,h=h+this.F|0,p=p+this.G|0,m=m+this.H|0,this.set(i,s,o,c,u,h,p,m)}roundClean(){Ca(ea)}destroy(){this.set(0,0,0,0,0,0,0,0),Ca(this.buffer)}}const E2=_2(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),fD=E2[0],pD=E2[1],ta=new Uint32Array(80),na=new Uint32Array(80);class mD extends v2{constructor(e=64){super(128,e,16,!1),this.Ah=Nr[0]|0,this.Al=Nr[1]|0,this.Bh=Nr[2]|0,this.Bl=Nr[3]|0,this.Ch=Nr[4]|0,this.Cl=Nr[5]|0,this.Dh=Nr[6]|0,this.Dl=Nr[7]|0,this.Eh=Nr[8]|0,this.El=Nr[9]|0,this.Fh=Nr[10]|0,this.Fl=Nr[11]|0,this.Gh=Nr[12]|0,this.Gl=Nr[13]|0,this.Hh=Nr[14]|0,this.Hl=Nr[15]|0}get(){const{Ah:e,Al:n,Bh:i,Bl:s,Ch:o,Cl:c,Dh:u,Dl:h,Eh:p,El:m,Fh:v,Fl:S,Gh:A,Gl:N,Hh:P,Hl:O}=this;return[e,n,i,s,o,c,u,h,p,m,v,S,A,N,P,O]}set(e,n,i,s,o,c,u,h,p,m,v,S,A,N,P,O){this.Ah=e|0,this.Al=n|0,this.Bh=i|0,this.Bl=s|0,this.Ch=o|0,this.Cl=c|0,this.Dh=u|0,this.Dl=h|0,this.Eh=p|0,this.El=m|0,this.Fh=v|0,this.Fl=S|0,this.Gh=A|0,this.Gl=N|0,this.Hh=P|0,this.Hl=O|0}process(e,n){for(let G=0;G<16;G++,n+=4)ta[G]=e.getUint32(n),na[G]=e.getUint32(n+=4);for(let G=16;G<80;G++){const te=ta[G-15]|0,ae=na[G-15]|0,se=dc(te,ae,1)^dc(te,ae,8)^dS(te,ae,7),Q=hc(te,ae,1)^hc(te,ae,8)^hS(te,ae,7),V=ta[G-2]|0,M=na[G-2]|0,D=dc(V,M,19)^bf(V,M,61)^dS(V,M,6),F=hc(V,M,19)^Sf(V,M,61)^hS(V,M,6),W=aD(Q,F,na[G-7],na[G-16]),b=lD(W,se,D,ta[G-7],ta[G-16]);ta[G]=b|0,na[G]=W|0}let{Ah:i,Al:s,Bh:o,Bl:c,Ch:u,Cl:h,Dh:p,Dl:m,Eh:v,El:S,Fh:A,Fl:N,Gh:P,Gl:O,Hh:z,Hl:j}=this;for(let G=0;G<80;G++){const te=dc(v,S,14)^dc(v,S,18)^bf(v,S,41),ae=hc(v,S,14)^hc(v,S,18)^Sf(v,S,41),se=v&A^~v&P,Q=S&N^~S&O,V=cD(j,ae,Q,pD[G],na[G]),M=uD(V,z,te,se,fD[G],ta[G]),D=V|0,F=dc(i,s,28)^bf(i,s,34)^bf(i,s,39),W=hc(i,s,28)^Sf(i,s,34)^Sf(i,s,39),b=i&o^i&u^o&u,y=s&c^s&h^c&h;z=P|0,j=O|0,P=A|0,O=N|0,A=v|0,N=S|0,{h:v,l:S}=co(p|0,m|0,M|0,D|0),p=u|0,m=h|0,u=o|0,h=c|0,o=i|0,c=s|0;const I=sD(D,W,y);i=oD(I,M,F,b),s=I|0}({h:i,l:s}=co(this.Ah|0,this.Al|0,i|0,s|0)),{h:o,l:c}=co(this.Bh|0,this.Bl|0,o|0,c|0),{h:u,l:h}=co(this.Ch|0,this.Cl|0,u|0,h|0),{h:p,l:m}=co(this.Dh|0,this.Dl|0,p|0,m|0),{h:v,l:S}=co(this.Eh|0,this.El|0,v|0,S|0),{h:A,l:N}=co(this.Fh|0,this.Fl|0,A|0,N|0),{h:P,l:O}=co(this.Gh|0,this.Gl|0,P|0,O|0),{h:z,l:j}=co(this.Hh|0,this.Hl|0,z|0,j|0),this.set(i,s,o,c,u,h,p,m,v,S,A,N,P,O,z,j)}roundClean(){Ca(ta,na)}destroy(){Ca(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const b2=_v(()=>new hD),gD=_v(()=>new mD);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bv=BigInt(0),Y0=BigInt(1);function wl(r,e=""){if(typeof r!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof r)}return r}function ls(r,e,n=""){const i=Jd(r),s=r?.length,o=e!==void 0;if(!i||o&&s!==e){const c=n&&`"${n}" `,u=o?` of length ${e}`:"",h=i?`length=${s}`:`type=${typeof r}`;throw new Error(c+"expected Uint8Array"+u+", got "+h)}return r}function Af(r){const e=r.toString(16);return e.length&1?"0"+e:e}function S2(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?bv:BigInt("0x"+r)}function tm(r){return S2(fl(r))}function Md(r){return ko(r),S2(fl(Uint8Array.from(r).reverse()))}function Sv(r,e){return gp(r.toString(16).padStart(e*2,"0"))}function A2(r,e){return Sv(r,e).reverse()}function Un(r,e,n){let i;if(typeof e=="string")try{i=gp(e)}catch(o){throw new Error(r+" must be hex string or Uint8Array, cause: "+o)}else if(Jd(e))i=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const s=i.length;if(typeof n=="number"&&s!==n)throw new Error(r+" of length "+n+" expected, got "+s);return i}function fS(r){return Uint8Array.from(r)}const hy=r=>typeof r=="bigint"&&bv<=r;function yD(r,e,n){return hy(r)&&hy(e)&&hy(n)&&e<=r&&r<n}function X0(r,e,n,i){if(!yD(e,n,i))throw new Error("expected valid "+r+": "+n+" <= n < "+i+", got "+e)}function I2(r){let e;for(e=0;r>bv;r>>=Y0,e+=1);return e}const Zd=r=>(Y0<<BigInt(r))-Y0;function wD(r,e,n){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const i=A=>new Uint8Array(A),s=A=>Uint8Array.of(A);let o=i(r),c=i(r),u=0;const h=()=>{o.fill(1),c.fill(0),u=0},p=(...A)=>n(c,o,...A),m=(A=i(0))=>{c=p(s(0),A),o=p(),A.length!==0&&(c=p(s(1),A),o=p())},v=()=>{if(u++>=1e3)throw new Error("drbg: tried 1000 values");let A=0;const N=[];for(;A<e;){o=p();const P=o.slice();N.push(P),A+=o.length}return Ns(...N)};return(A,N)=>{h(),m(A);let P;for(;!(P=N(v()));)m();return h(),P}}function eh(r,e,n={}){if(!r||typeof r!="object")throw new Error("expected valid options object");function i(s,o,c){const u=r[s];if(c&&u===void 0)return;const h=typeof u;if(h!==o||u===null)throw new Error(`param "${s}" is invalid: expected ${o}, got ${h}`)}Object.entries(e).forEach(([s,o])=>i(s,o,!1)),Object.entries(n).forEach(([s,o])=>i(s,o,!0))}function yp(r){const e=new WeakMap;return(n,...i)=>{const s=e.get(n);if(s!==void 0)return s;const o=r(n,...i);return e.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fi=BigInt(0),Ir=BigInt(1),rl=BigInt(2),T2=BigInt(3),k2=BigInt(4),x2=BigInt(5),vD=BigInt(7),R2=BigInt(8),_D=BigInt(9),C2=BigInt(16);function Yn(r,e){const n=r%e;return n>=fi?n:e+n}function Bn(r,e,n){let i=r;for(;e-- >fi;)i*=i,i%=n;return i}function pS(r,e){if(r===fi)throw new Error("invert: expected non-zero number");if(e<=fi)throw new Error("invert: expected positive modulus, got "+e);let n=Yn(r,e),i=e,s=fi,o=Ir;for(;n!==fi;){const u=i/n,h=i%n,p=s-o*u;i=n,n=h,s=o,o=p}if(i!==Ir)throw new Error("invert: does not exist");return Yn(s,e)}function Av(r,e,n){if(!r.eql(r.sqr(e),n))throw new Error("Cannot find square root")}function P2(r,e){const n=(r.ORDER+Ir)/k2,i=r.pow(e,n);return Av(r,i,e),i}function ED(r,e){const n=(r.ORDER-x2)/R2,i=r.mul(e,rl),s=r.pow(i,n),o=r.mul(e,s),c=r.mul(r.mul(o,rl),s),u=r.mul(o,r.sub(c,r.ONE));return Av(r,u,e),u}function bD(r){const e=Il(r),n=M2(r),i=n(e,e.neg(e.ONE)),s=n(e,i),o=n(e,e.neg(i)),c=(r+vD)/C2;return(u,h)=>{let p=u.pow(h,c),m=u.mul(p,i);const v=u.mul(p,s),S=u.mul(p,o),A=u.eql(u.sqr(m),h),N=u.eql(u.sqr(v),h);p=u.cmov(p,m,A),m=u.cmov(S,v,N);const P=u.eql(u.sqr(m),h),O=u.cmov(p,m,P);return Av(u,O,h),O}}function M2(r){if(r<T2)throw new Error("sqrt is not defined for small field");let e=r-Ir,n=0;for(;e%rl===fi;)e/=rl,n++;let i=rl;const s=Il(r);for(;mS(s,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return P2;let o=s.pow(i,e);const c=(e+Ir)/rl;return function(h,p){if(h.is0(p))return p;if(mS(h,p)!==1)throw new Error("Cannot find square root");let m=n,v=h.mul(h.ONE,o),S=h.pow(p,e),A=h.pow(p,c);for(;!h.eql(S,h.ONE);){if(h.is0(S))return h.ZERO;let N=1,P=h.sqr(S);for(;!h.eql(P,h.ONE);)if(N++,P=h.sqr(P),N===m)throw new Error("Cannot find square root");const O=Ir<<BigInt(m-N-1),z=h.pow(v,O);m=N,v=h.sqr(z),S=h.mul(S,v),A=h.mul(A,z)}return A}}function SD(r){return r%k2===T2?P2:r%R2===x2?ED:r%C2===_D?bD(r):M2(r)}const AD=(r,e)=>(Yn(r,e)&Ir)===Ir,ID=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function TD(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=ID.reduce((i,s)=>(i[s]="function",i),e);return eh(r,n),r}function kD(r,e,n){if(n<fi)throw new Error("invalid exponent, negatives unsupported");if(n===fi)return r.ONE;if(n===Ir)return e;let i=r.ONE,s=e;for(;n>fi;)n&Ir&&(i=r.mul(i,s)),s=r.sqr(s),n>>=Ir;return i}function N2(r,e,n=!1){const i=new Array(e.length).fill(n?r.ZERO:void 0),s=e.reduce((c,u,h)=>r.is0(u)?c:(i[h]=c,r.mul(c,u)),r.ONE),o=r.inv(s);return e.reduceRight((c,u,h)=>r.is0(u)?c:(i[h]=r.mul(c,i[h]),r.mul(c,u)),o),i}function mS(r,e){const n=(r.ORDER-Ir)/rl,i=r.pow(e,n),s=r.eql(i,r.ONE),o=r.eql(i,r.ZERO),c=r.eql(i,r.neg(r.ONE));if(!s&&!o&&!c)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function O2(r,e){e!==void 0&&Pd(e);const n=e!==void 0?e:r.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function Il(r,e,n=!1,i={}){if(r<=fi)throw new Error("invalid field: expected ORDER > 0, got "+r);let s,o,c=!1,u;if(typeof e=="object"&&e!=null){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const S=e;S.BITS&&(s=S.BITS),S.sqrt&&(o=S.sqrt),typeof S.isLE=="boolean"&&(n=S.isLE),typeof S.modFromBytes=="boolean"&&(c=S.modFromBytes),u=S.allowedLengths}else typeof e=="number"&&(s=e),i.sqrt&&(o=i.sqrt);const{nBitLength:h,nByteLength:p}=O2(r,s);if(p>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let m;const v=Object.freeze({ORDER:r,isLE:n,BITS:h,BYTES:p,MASK:Zd(h),ZERO:fi,ONE:Ir,allowedLengths:u,create:S=>Yn(S,r),isValid:S=>{if(typeof S!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof S);return fi<=S&&S<r},is0:S=>S===fi,isValidNot0:S=>!v.is0(S)&&v.isValid(S),isOdd:S=>(S&Ir)===Ir,neg:S=>Yn(-S,r),eql:(S,A)=>S===A,sqr:S=>Yn(S*S,r),add:(S,A)=>Yn(S+A,r),sub:(S,A)=>Yn(S-A,r),mul:(S,A)=>Yn(S*A,r),pow:(S,A)=>kD(v,S,A),div:(S,A)=>Yn(S*pS(A,r),r),sqrN:S=>S*S,addN:(S,A)=>S+A,subN:(S,A)=>S-A,mulN:(S,A)=>S*A,inv:S=>pS(S,r),sqrt:o||(S=>(m||(m=SD(r)),m(v,S))),toBytes:S=>n?A2(S,p):Sv(S,p),fromBytes:(S,A=!0)=>{if(u){if(!u.includes(S.length)||S.length>p)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+S.length);const P=new Uint8Array(p);P.set(S,n?0:P.length-S.length),S=P}if(S.length!==p)throw new Error("Field.fromBytes: expected "+p+" bytes, got "+S.length);let N=n?Md(S):tm(S);if(c&&(N=Yn(N,r)),!A&&!v.isValid(N))throw new Error("invalid field element: outside of range 0..ORDER");return N},invertBatch:S=>N2(v,S),cmov:(S,A,N)=>N?A:S});return Object.freeze(v)}function L2(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function D2(r){const e=L2(r);return e+Math.ceil(e/2)}function xD(r,e,n=!1){const i=r.length,s=L2(e),o=D2(e);if(i<16||i<o||i>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+i);const c=n?Md(r):tm(r),u=Yn(c,e-Ir)+Ir;return n?A2(u,s):Sv(u,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kc=BigInt(0),il=BigInt(1);function wp(r,e){const n=e.negate();return r?n:e}function sl(r,e){const n=N2(r.Fp,e.map(i=>i.Z));return e.map((i,s)=>r.fromAffine(i.toAffine(n[s])))}function B2(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function fy(r,e){B2(r,e);const n=Math.ceil(e/r)+1,i=2**(r-1),s=2**r,o=Zd(r),c=BigInt(r);return{windows:n,windowSize:i,mask:o,maxNumber:s,shiftBy:c}}function gS(r,e,n){const{windowSize:i,mask:s,maxNumber:o,shiftBy:c}=n;let u=Number(r&s),h=r>>c;u>i&&(u-=o,h+=il);const p=e*i,m=p+Math.abs(u)-1,v=u===0,S=u<0,A=e%2!==0;return{nextN:h,offset:m,isZero:v,isNeg:S,isNegF:A,offsetF:p}}function RD(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((n,i)=>{if(!(n instanceof e))throw new Error("invalid point at index "+i)})}function CD(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((n,i)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+i)})}const py=new WeakMap,U2=new WeakMap;function my(r){return U2.get(r)||1}function yS(r){if(r!==Kc)throw new Error("invalid wNAF")}class V2{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,i=this.ZERO){let s=e;for(;n>Kc;)n&il&&(i=i.add(s)),s=s.double(),n>>=il;return i}precomputeWindow(e,n){const{windows:i,windowSize:s}=fy(n,this.bits),o=[];let c=e,u=c;for(let h=0;h<i;h++){u=c,o.push(u);for(let p=1;p<s;p++)u=u.add(c),o.push(u);c=u.double()}return o}wNAF(e,n,i){if(!this.Fn.isValid(i))throw new Error("invalid scalar");let s=this.ZERO,o=this.BASE;const c=fy(e,this.bits);for(let u=0;u<c.windows;u++){const{nextN:h,offset:p,isZero:m,isNeg:v,isNegF:S,offsetF:A}=gS(i,u,c);i=h,m?o=o.add(wp(S,n[A])):s=s.add(wp(v,n[p]))}return yS(i),{p:s,f:o}}wNAFUnsafe(e,n,i,s=this.ZERO){const o=fy(e,this.bits);for(let c=0;c<o.windows&&i!==Kc;c++){const{nextN:u,offset:h,isZero:p,isNeg:m}=gS(i,c,o);if(i=u,!p){const v=n[h];s=s.add(m?v.negate():v)}}return yS(i),s}getPrecomputes(e,n,i){let s=py.get(n);return s||(s=this.precomputeWindow(n,e),e!==1&&(typeof i=="function"&&(s=i(s)),py.set(n,s))),s}cached(e,n,i){const s=my(e);return this.wNAF(s,this.getPrecomputes(s,e,i),n)}unsafe(e,n,i,s){const o=my(e);return o===1?this._unsafeLadder(e,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,e,i),n,s)}createCache(e,n){B2(n,this.bits),U2.set(e,n),py.delete(e)}hasCache(e){return my(e)!==1}}function PD(r,e,n,i){let s=e,o=r.ZERO,c=r.ZERO;for(;n>Kc||i>Kc;)n&il&&(o=o.add(s)),i&il&&(c=c.add(s)),s=s.double(),n>>=il,i>>=il;return{p1:o,p2:c}}function F2(r,e,n,i){RD(n,r),CD(i,e);const s=n.length,o=i.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const c=r.ZERO,u=I2(BigInt(s));let h=1;u>12?h=u-3:u>4?h=u-2:u>0&&(h=2);const p=Zd(h),m=new Array(Number(p)+1).fill(c),v=Math.floor((e.BITS-1)/h)*h;let S=c;for(let A=v;A>=0;A-=h){m.fill(c);for(let P=0;P<o;P++){const O=i[P],z=Number(O>>BigInt(A)&p);m[z]=m[z].add(n[P])}let N=c;for(let P=m.length-1,O=c;P>0;P--)O=O.add(m[P]),N=N.add(O);if(S=S.add(N),A!==0)for(let P=0;P<h;P++)S=S.double()}return S}function wS(r,e,n){if(e){if(e.ORDER!==r)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return TD(e),e}else return Il(r,{isLE:n})}function W2(r,e,n={},i){if(i===void 0&&(i=r==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${r} CURVE object`);for(const h of["p","n","h"]){const p=e[h];if(!(typeof p=="bigint"&&p>Kc))throw new Error(`CURVE.${h} must be positive bigint`)}const s=wS(e.p,n.Fp,i),o=wS(e.n,n.Fn,i),u=["Gx","Gy","a",r==="weierstrass"?"b":"d"];for(const h of u)if(!s.isValid(e[h]))throw new Error(`CURVE.${h} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ra=BigInt(0),ur=BigInt(1),gy=BigInt(2),MD=BigInt(8);function ND(r,e,n,i){const s=r.sqr(n),o=r.sqr(i),c=r.add(r.mul(e.a,s),o),u=r.add(r.ONE,r.mul(e.d,r.mul(s,o)));return r.eql(c,u)}function OD(r,e={}){const n=W2("edwards",r,e,e.FpFnLE),{Fp:i,Fn:s}=n;let o=n.CURVE;const{h:c}=o;eh(e,{},{uvRatio:"function"});const u=gy<<BigInt(s.BYTES*8)-ur,h=O=>i.create(O),p=e.uvRatio||((O,z)=>{try{return{isValid:!0,value:i.sqrt(i.div(O,z))}}catch{return{isValid:!1,value:ra}}});if(!ND(i,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function m(O,z,j=!1){const G=j?ur:ra;return X0("coordinate "+O,z,G,u),z}function v(O){if(!(O instanceof N))throw new Error("ExtendedPoint expected")}const S=yp((O,z)=>{const{X:j,Y:G,Z:te}=O,ae=O.is0();z==null&&(z=ae?MD:i.inv(te));const se=h(j*z),Q=h(G*z),V=i.mul(te,z);if(ae)return{x:ra,y:ur};if(V!==ur)throw new Error("invZ was invalid");return{x:se,y:Q}}),A=yp(O=>{const{a:z,d:j}=o;if(O.is0())throw new Error("bad point: ZERO");const{X:G,Y:te,Z:ae,T:se}=O,Q=h(G*G),V=h(te*te),M=h(ae*ae),D=h(M*M),F=h(Q*z),W=h(M*h(F+V)),b=h(D+h(j*h(Q*V)));if(W!==b)throw new Error("bad point: equation left != right (1)");const y=h(G*te),I=h(ae*se);if(y!==I)throw new Error("bad point: equation left != right (2)");return!0});class N{constructor(z,j,G,te){this.X=m("x",z),this.Y=m("y",j),this.Z=m("z",G,!0),this.T=m("t",te),Object.freeze(this)}static CURVE(){return o}static fromAffine(z){if(z instanceof N)throw new Error("extended point not allowed");const{x:j,y:G}=z||{};return m("x",j),m("y",G),new N(j,G,ur,h(j*G))}static fromBytes(z,j=!1){const G=i.BYTES,{a:te,d:ae}=o;z=fS(ls(z,G,"point")),wl(j,"zip215");const se=fS(z),Q=z[G-1];se[G-1]=Q&-129;const V=Md(se),M=j?u:i.ORDER;X0("point.y",V,ra,M);const D=h(V*V),F=h(D-ur),W=h(ae*D-te);let{isValid:b,value:y}=p(F,W);if(!b)throw new Error("bad point: invalid y coordinate");const I=(y&ur)===ur,B=(Q&128)!==0;if(!j&&y===ra&&B)throw new Error("bad point: x=0 and x_0=1");return B!==I&&(y=h(-y)),N.fromAffine({x:y,y:V})}static fromHex(z,j=!1){return N.fromBytes(Un("point",z),j)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(z=8,j=!0){return P.createCache(this,z),j||this.multiply(gy),this}assertValidity(){A(this)}equals(z){v(z);const{X:j,Y:G,Z:te}=this,{X:ae,Y:se,Z:Q}=z,V=h(j*Q),M=h(ae*te),D=h(G*Q),F=h(se*te);return V===M&&D===F}is0(){return this.equals(N.ZERO)}negate(){return new N(h(-this.X),this.Y,this.Z,h(-this.T))}double(){const{a:z}=o,{X:j,Y:G,Z:te}=this,ae=h(j*j),se=h(G*G),Q=h(gy*h(te*te)),V=h(z*ae),M=j+G,D=h(h(M*M)-ae-se),F=V+se,W=F-Q,b=V-se,y=h(D*W),I=h(F*b),B=h(D*b),H=h(W*F);return new N(y,I,H,B)}add(z){v(z);const{a:j,d:G}=o,{X:te,Y:ae,Z:se,T:Q}=this,{X:V,Y:M,Z:D,T:F}=z,W=h(te*V),b=h(ae*M),y=h(Q*G*F),I=h(se*D),B=h((te+ae)*(V+M)-W-b),H=I-y,q=I+y,X=h(b-j*W),ee=h(B*H),C=h(q*X),w=h(B*X),_=h(H*q);return new N(ee,C,_,w)}subtract(z){return this.add(z.negate())}multiply(z){if(!s.isValidNot0(z))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:j,f:G}=P.cached(this,z,te=>sl(N,te));return sl(N,[j,G])[0]}multiplyUnsafe(z,j=N.ZERO){if(!s.isValid(z))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return z===ra?N.ZERO:this.is0()||z===ur?this:P.unsafe(this,z,G=>sl(N,G),j)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return P.unsafe(this,o.n).is0()}toAffine(z){return S(this,z)}clearCofactor(){return c===ur?this:this.multiplyUnsafe(c)}toBytes(){const{x:z,y:j}=this.toAffine(),G=i.toBytes(j);return G[G.length-1]|=z&ur?128:0,G}toHex(){return fl(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(z){return sl(N,z)}static msm(z,j){return F2(N,s,z,j)}_setWindowSize(z){this.precompute(z)}toRawBytes(){return this.toBytes()}}N.BASE=new N(o.Gx,o.Gy,ur,h(o.Gx*o.Gy)),N.ZERO=new N(ra,ur,ur,ra),N.Fp=i,N.Fn=s;const P=new V2(N,s.BITS);return N.BASE.precompute(8),N}function LD(r,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');eh(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:i}=n,{BASE:s,Fp:o,Fn:c}=r,u=n.randomBytes||Ev,h=n.adjustScalarBytes||(M=>M),p=n.domain||((M,D,F)=>{if(wl(F,"phflag"),D.length||F)throw new Error("Contexts/pre-hash are not supported");return M});function m(M){return c.create(Md(M))}function v(M){const D=G.secretKey;M=Un("private key",M,D);const F=Un("hashed private key",e(M),2*D),W=h(F.slice(0,D)),b=F.slice(D,2*D),y=m(W);return{head:W,prefix:b,scalar:y}}function S(M){const{head:D,prefix:F,scalar:W}=v(M),b=s.multiply(W),y=b.toBytes();return{head:D,prefix:F,scalar:W,point:b,pointBytes:y}}function A(M){return S(M).pointBytes}function N(M=Uint8Array.of(),...D){const F=Ns(...D);return m(e(p(F,Un("context",M),!!i)))}function P(M,D,F={}){M=Un("message",M),i&&(M=i(M));const{prefix:W,scalar:b,pointBytes:y}=S(D),I=N(F.context,W,M),B=s.multiply(I).toBytes(),H=N(F.context,B,y,M),q=c.create(I+H*b);if(!c.isValid(q))throw new Error("sign failed: invalid s");const X=Ns(B,c.toBytes(q));return ls(X,G.signature,"result")}const O={zip215:!0};function z(M,D,F,W=O){const{context:b,zip215:y}=W,I=G.signature;M=Un("signature",M,I),D=Un("message",D),F=Un("publicKey",F,G.publicKey),y!==void 0&&wl(y,"zip215"),i&&(D=i(D));const B=I/2,H=M.subarray(0,B),q=Md(M.subarray(B,I));let X,ee,C;try{X=r.fromBytes(F,y),ee=r.fromBytes(H,y),C=s.multiplyUnsafe(q)}catch{return!1}if(!y&&X.isSmallOrder())return!1;const w=N(b,ee.toBytes(),X.toBytes(),D);return ee.add(X.multiplyUnsafe(w)).subtract(C).clearCofactor().is0()}const j=o.BYTES,G={secretKey:j,publicKey:j,signature:2*j,seed:j};function te(M=u(G.seed)){return ls(M,G.seed,"seed")}function ae(M){const D=V.randomSecretKey(M);return{secretKey:D,publicKey:A(D)}}function se(M){return Jd(M)&&M.length===c.BYTES}function Q(M,D){try{return!!r.fromBytes(M,D)}catch{return!1}}const V={getExtendedPublicKey:S,randomSecretKey:te,isValidSecretKey:se,isValidPublicKey:Q,toMontgomery(M){const{y:D}=r.fromBytes(M),F=G.publicKey,W=F===32;if(!W&&F!==57)throw new Error("only defined for 25519 and 448");const b=W?o.div(ur+D,ur-D):o.div(D-ur,D+ur);return o.toBytes(b)},toMontgomerySecret(M){const D=G.secretKey;ls(M,D);const F=e(M.subarray(0,D));return h(F).subarray(0,D)},randomPrivateKey:te,precompute(M=8,D=r.BASE){return D.precompute(M,!1)}};return Object.freeze({keygen:ae,getPublicKey:A,sign:P,verify:z,utils:V,Point:r,lengths:G})}function DD(r){const e={a:r.a,d:r.d,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},n=r.Fp,i=Il(e.n,r.nBitLength,!0),s={Fp:n,Fn:i,uvRatio:r.uvRatio},o={randomBytes:r.randomBytes,adjustScalarBytes:r.adjustScalarBytes,domain:r.domain,prehash:r.prehash,mapToCurve:r.mapToCurve};return{CURVE:e,curveOpts:s,hash:r.hash,eddsaOpts:o}}function BD(r,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:r,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function UD(r){const{CURVE:e,curveOpts:n,hash:i,eddsaOpts:s}=DD(r),o=OD(e,n),c=LD(o,i,s);return BD(r,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VD=BigInt(1),vS=BigInt(2);BigInt(3);const FD=BigInt(5),WD=BigInt(8),Iv=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),z2={p:Iv,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:WD,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function zD(r){const e=BigInt(10),n=BigInt(20),i=BigInt(40),s=BigInt(80),o=Iv,u=r*r%o*r%o,h=Bn(u,vS,o)*u%o,p=Bn(h,VD,o)*r%o,m=Bn(p,FD,o)*p%o,v=Bn(m,e,o)*m%o,S=Bn(v,n,o)*v%o,A=Bn(S,i,o)*S%o,N=Bn(A,s,o)*A%o,P=Bn(N,s,o)*A%o,O=Bn(P,e,o)*m%o;return{pow_p_5_8:Bn(O,vS,o)*r%o,b2:u}}function jD(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const _S=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function qD(r,e){const n=Iv,i=Yn(e*e*e,n),s=Yn(i*i*e,n),o=zD(r*s).pow_p_5_8;let c=Yn(r*i*o,n);const u=Yn(e*c*c,n),h=c,p=Yn(c*_S,n),m=u===r,v=u===Yn(-r,n),S=u===Yn(-r*_S,n);return m&&(c=h),(v||S)&&(c=p),AD(c,n)&&(c=Yn(-c,n)),{isValid:m||v,value:c}}const $D=Il(z2.p,{isLE:!0}),KD={...z2,Fp:$D,hash:gD,adjustScalarBytes:jD,uvRatio:qD},lu=UD(KD);var $f={exports:{}};const HD={},GD=Object.freeze(Object.defineProperty({__proto__:null,default:HD},Symbol.toStringTag,{value:"Module"})),QD=Ud(GD);var YD=$f.exports,ES;function j2(){return ES||(ES=1,(function(r){(function(e,n){function i(b,y){if(!b)throw new Error(y||"Assertion failed")}function s(b,y){b.super_=y;var I=function(){};I.prototype=y.prototype,b.prototype=new I,b.prototype.constructor=b}function o(b,y,I){if(o.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((y==="le"||y==="be")&&(I=y,y=10),this._init(b||0,y||10,I||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=QD.Buffer}catch{}o.isBN=function(y){return y instanceof o?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===o.wordSize&&Array.isArray(y.words)},o.max=function(y,I){return y.cmp(I)>0?y:I},o.min=function(y,I){return y.cmp(I)<0?y:I},o.prototype._init=function(y,I,B){if(typeof y=="number")return this._initNumber(y,I,B);if(typeof y=="object")return this._initArray(y,I,B);I==="hex"&&(I=16),i(I===(I|0)&&I>=2&&I<=36),y=y.toString().replace(/\s+/g,"");var H=0;y[0]==="-"&&(H++,this.negative=1),H<y.length&&(I===16?this._parseHex(y,H,B):(this._parseBase(y,I,H),B==="le"&&this._initArray(this.toArray(),I,B)))},o.prototype._initNumber=function(y,I,B){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(i(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),B==="le"&&this._initArray(this.toArray(),I,B)},o.prototype._initArray=function(y,I,B){if(i(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var q,X,ee=0;if(B==="be")for(H=y.length-1,q=0;H>=0;H-=3)X=y[H]|y[H-1]<<8|y[H-2]<<16,this.words[q]|=X<<ee&67108863,this.words[q+1]=X>>>26-ee&67108863,ee+=24,ee>=26&&(ee-=26,q++);else if(B==="le")for(H=0,q=0;H<y.length;H+=3)X=y[H]|y[H+1]<<8|y[H+2]<<16,this.words[q]|=X<<ee&67108863,this.words[q+1]=X>>>26-ee&67108863,ee+=24,ee>=26&&(ee-=26,q++);return this._strip()};function u(b,y){var I=b.charCodeAt(y);if(I>=48&&I<=57)return I-48;if(I>=65&&I<=70)return I-55;if(I>=97&&I<=102)return I-87;i(!1,"Invalid character in "+b)}function h(b,y,I){var B=u(b,I);return I-1>=y&&(B|=u(b,I-1)<<4),B}o.prototype._parseHex=function(y,I,B){this.length=Math.ceil((y.length-I)/6),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var q=0,X=0,ee;if(B==="be")for(H=y.length-1;H>=I;H-=2)ee=h(y,I,H)<<q,this.words[X]|=ee&67108863,q>=18?(q-=18,X+=1,this.words[X]|=ee>>>26):q+=8;else{var C=y.length-I;for(H=C%2===0?I+1:I;H<y.length;H+=2)ee=h(y,I,H)<<q,this.words[X]|=ee&67108863,q>=18?(q-=18,X+=1,this.words[X]|=ee>>>26):q+=8}this._strip()};function p(b,y,I,B){for(var H=0,q=0,X=Math.min(b.length,I),ee=y;ee<X;ee++){var C=b.charCodeAt(ee)-48;H*=B,C>=49?q=C-49+10:C>=17?q=C-17+10:q=C,i(C>=0&&q<B,"Invalid character"),H+=q}return H}o.prototype._parseBase=function(y,I,B){this.words=[0],this.length=1;for(var H=0,q=1;q<=67108863;q*=I)H++;H--,q=q/I|0;for(var X=y.length-B,ee=X%H,C=Math.min(X,X-ee)+B,w=0,_=B;_<C;_+=H)w=p(y,_,_+H,I),this.imuln(q),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(ee!==0){var U=1;for(w=p(y,_,y.length,I),_=0;_<ee;_++)U*=I;this.imuln(U),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this._strip()},o.prototype.copy=function(y){y.words=new Array(this.length);for(var I=0;I<this.length;I++)y.words[I]=this.words[I];y.length=this.length,y.negative=this.negative,y.red=this.red};function m(b,y){b.words=y.words,b.length=y.length,b.negative=y.negative,b.red=y.red}if(o.prototype._move=function(y){m(y,this)},o.prototype.clone=function(){var y=new o(null);return this.copy(y),y},o.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{o.prototype.inspect=v}else o.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(y,I){y=y||10,I=I|0||1;var B;if(y===16||y==="hex"){B="";for(var H=0,q=0,X=0;X<this.length;X++){var ee=this.words[X],C=((ee<<H|q)&16777215).toString(16);q=ee>>>24-H&16777215,H+=2,H>=26&&(H-=26,X--),q!==0||X!==this.length-1?B=S[6-C.length]+C+B:B=C+B}for(q!==0&&(B=q.toString(16)+B);B.length%I!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}if(y===(y|0)&&y>=2&&y<=36){var w=A[y],_=N[y];B="";var U=this.clone();for(U.negative=0;!U.isZero();){var Y=U.modrn(_).toString(y);U=U.idivn(_),U.isZero()?B=Y+B:B=S[w-Y.length]+Y+B}for(this.isZero()&&(B="0"+B);B.length%I!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},o.prototype.toJSON=function(){return this.toString(16,2)},c&&(o.prototype.toBuffer=function(y,I){return this.toArrayLike(c,y,I)}),o.prototype.toArray=function(y,I){return this.toArrayLike(Array,y,I)};var P=function(y,I){return y.allocUnsafe?y.allocUnsafe(I):new y(I)};o.prototype.toArrayLike=function(y,I,B){this._strip();var H=this.byteLength(),q=B||Math.max(1,H);i(H<=q,"byte array longer than desired length"),i(q>0,"Requested array length <= 0");var X=P(y,q),ee=I==="le"?"LE":"BE";return this["_toArrayLike"+ee](X,H),X},o.prototype._toArrayLikeLE=function(y,I){for(var B=0,H=0,q=0,X=0;q<this.length;q++){var ee=this.words[q]<<X|H;y[B++]=ee&255,B<y.length&&(y[B++]=ee>>8&255),B<y.length&&(y[B++]=ee>>16&255),X===6?(B<y.length&&(y[B++]=ee>>24&255),H=0,X=0):(H=ee>>>24,X+=2)}if(B<y.length)for(y[B++]=H;B<y.length;)y[B++]=0},o.prototype._toArrayLikeBE=function(y,I){for(var B=y.length-1,H=0,q=0,X=0;q<this.length;q++){var ee=this.words[q]<<X|H;y[B--]=ee&255,B>=0&&(y[B--]=ee>>8&255),B>=0&&(y[B--]=ee>>16&255),X===6?(B>=0&&(y[B--]=ee>>24&255),H=0,X=0):(H=ee>>>24,X+=2)}if(B>=0)for(y[B--]=H;B>=0;)y[B--]=0},Math.clz32?o.prototype._countBits=function(y){return 32-Math.clz32(y)}:o.prototype._countBits=function(y){var I=y,B=0;return I>=4096&&(B+=13,I>>>=13),I>=64&&(B+=7,I>>>=7),I>=8&&(B+=4,I>>>=4),I>=2&&(B+=2,I>>>=2),B+I},o.prototype._zeroBits=function(y){if(y===0)return 26;var I=y,B=0;return(I&8191)===0&&(B+=13,I>>>=13),(I&127)===0&&(B+=7,I>>>=7),(I&15)===0&&(B+=4,I>>>=4),(I&3)===0&&(B+=2,I>>>=2),(I&1)===0&&B++,B},o.prototype.bitLength=function(){var y=this.words[this.length-1],I=this._countBits(y);return(this.length-1)*26+I};function O(b){for(var y=new Array(b.bitLength()),I=0;I<y.length;I++){var B=I/26|0,H=I%26;y[I]=b.words[B]>>>H&1}return y}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,I=0;I<this.length;I++){var B=this._zeroBits(this.words[I]);if(y+=B,B!==26)break}return y},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},o.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var I=0;I<y.length;I++)this.words[I]=this.words[I]|y.words[I];return this._strip()},o.prototype.ior=function(y){return i((this.negative|y.negative)===0),this.iuor(y)},o.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},o.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},o.prototype.iuand=function(y){var I;this.length>y.length?I=y:I=this;for(var B=0;B<I.length;B++)this.words[B]=this.words[B]&y.words[B];return this.length=I.length,this._strip()},o.prototype.iand=function(y){return i((this.negative|y.negative)===0),this.iuand(y)},o.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},o.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},o.prototype.iuxor=function(y){var I,B;this.length>y.length?(I=this,B=y):(I=y,B=this);for(var H=0;H<B.length;H++)this.words[H]=I.words[H]^B.words[H];if(this!==I)for(;H<I.length;H++)this.words[H]=I.words[H];return this.length=I.length,this._strip()},o.prototype.ixor=function(y){return i((this.negative|y.negative)===0),this.iuxor(y)},o.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},o.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},o.prototype.inotn=function(y){i(typeof y=="number"&&y>=0);var I=Math.ceil(y/26)|0,B=y%26;this._expand(I),B>0&&I--;for(var H=0;H<I;H++)this.words[H]=~this.words[H]&67108863;return B>0&&(this.words[H]=~this.words[H]&67108863>>26-B),this._strip()},o.prototype.notn=function(y){return this.clone().inotn(y)},o.prototype.setn=function(y,I){i(typeof y=="number"&&y>=0);var B=y/26|0,H=y%26;return this._expand(B+1),I?this.words[B]=this.words[B]|1<<H:this.words[B]=this.words[B]&~(1<<H),this._strip()},o.prototype.iadd=function(y){var I;if(this.negative!==0&&y.negative===0)return this.negative=0,I=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,I=this.isub(y),y.negative=1,I._normSign();var B,H;this.length>y.length?(B=this,H=y):(B=y,H=this);for(var q=0,X=0;X<H.length;X++)I=(B.words[X]|0)+(H.words[X]|0)+q,this.words[X]=I&67108863,q=I>>>26;for(;q!==0&&X<B.length;X++)I=(B.words[X]|0)+q,this.words[X]=I&67108863,q=I>>>26;if(this.length=B.length,q!==0)this.words[this.length]=q,this.length++;else if(B!==this)for(;X<B.length;X++)this.words[X]=B.words[X];return this},o.prototype.add=function(y){var I;return y.negative!==0&&this.negative===0?(y.negative=0,I=this.sub(y),y.negative^=1,I):y.negative===0&&this.negative!==0?(this.negative=0,I=y.sub(this),this.negative=1,I):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},o.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var I=this.iadd(y);return y.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var B=this.cmp(y);if(B===0)return this.negative=0,this.length=1,this.words[0]=0,this;var H,q;B>0?(H=this,q=y):(H=y,q=this);for(var X=0,ee=0;ee<q.length;ee++)I=(H.words[ee]|0)-(q.words[ee]|0)+X,X=I>>26,this.words[ee]=I&67108863;for(;X!==0&&ee<H.length;ee++)I=(H.words[ee]|0)+X,X=I>>26,this.words[ee]=I&67108863;if(X===0&&ee<H.length&&H!==this)for(;ee<H.length;ee++)this.words[ee]=H.words[ee];return this.length=Math.max(this.length,ee),H!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(y){return this.clone().isub(y)};function z(b,y,I){I.negative=y.negative^b.negative;var B=b.length+y.length|0;I.length=B,B=B-1|0;var H=b.words[0]|0,q=y.words[0]|0,X=H*q,ee=X&67108863,C=X/67108864|0;I.words[0]=ee;for(var w=1;w<B;w++){for(var _=C>>>26,U=C&67108863,Y=Math.min(w,y.length-1),ie=Math.max(0,w-b.length+1);ie<=Y;ie++){var ue=w-ie|0;H=b.words[ue]|0,q=y.words[ie]|0,X=H*q+U,_+=X/67108864|0,U=X&67108863}I.words[w]=U|0,C=_|0}return C!==0?I.words[w]=C|0:I.length--,I._strip()}var j=function(y,I,B){var H=y.words,q=I.words,X=B.words,ee=0,C,w,_,U=H[0]|0,Y=U&8191,ie=U>>>13,ue=H[1]|0,Se=ue&8191,Te=ue>>>13,Je=H[2]|0,ht=Je&8191,St=Je>>>13,wn=H[3]|0,At=wn&8191,$t=wn>>>13,kr=H[4]|0,Wt=kr&8191,Kt=kr>>>13,pr=H[5]|0,Pt=pr&8191,xt=pr>>>13,xn=H[6]|0,Dt=xn&8191,Ht=xn>>>13,Vn=H[7]|0,wt=Vn&8191,$=Vn>>>13,k=H[8]|0,R=k&8191,Z=k>>>13,de=H[9]|0,me=de&8191,be=de>>>13,ct=q[0]|0,Qe=ct&8191,nt=ct>>>13,It=q[1]|0,et=It&8191,zt=It>>>13,Yr=q[2]|0,Rt=Yr&8191,Bt=Yr>>>13,Xr=q[3]|0,bt=Xr&8191,ln=Xr>>>13,zr=q[4]|0,fn=zr&8191,Gt=zr>>>13,pi=q[5]|0,mt=pi&8191,an=pi>>>13,$n=q[6]|0,Jt=$n&8191,jt=$n>>>13,jr=q[7]|0,Nt=jr&8191,cn=jr>>>13,ps=q[8]|0,tn=ps&8191,un=ps>>>13,ir=q[9]|0,nn=ir&8191,Ot=ir>>>13;B.negative=y.negative^I.negative,B.length=19,C=Math.imul(Y,Qe),w=Math.imul(Y,nt),w=w+Math.imul(ie,Qe)|0,_=Math.imul(ie,nt);var Pi=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,C=Math.imul(Se,Qe),w=Math.imul(Se,nt),w=w+Math.imul(Te,Qe)|0,_=Math.imul(Te,nt),C=C+Math.imul(Y,et)|0,w=w+Math.imul(Y,zt)|0,w=w+Math.imul(ie,et)|0,_=_+Math.imul(ie,zt)|0;var Mi=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,C=Math.imul(ht,Qe),w=Math.imul(ht,nt),w=w+Math.imul(St,Qe)|0,_=Math.imul(St,nt),C=C+Math.imul(Se,et)|0,w=w+Math.imul(Se,zt)|0,w=w+Math.imul(Te,et)|0,_=_+Math.imul(Te,zt)|0,C=C+Math.imul(Y,Rt)|0,w=w+Math.imul(Y,Bt)|0,w=w+Math.imul(ie,Rt)|0,_=_+Math.imul(ie,Bt)|0;var mi=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(mi>>>26)|0,mi&=67108863,C=Math.imul(At,Qe),w=Math.imul(At,nt),w=w+Math.imul($t,Qe)|0,_=Math.imul($t,nt),C=C+Math.imul(ht,et)|0,w=w+Math.imul(ht,zt)|0,w=w+Math.imul(St,et)|0,_=_+Math.imul(St,zt)|0,C=C+Math.imul(Se,Rt)|0,w=w+Math.imul(Se,Bt)|0,w=w+Math.imul(Te,Rt)|0,_=_+Math.imul(Te,Bt)|0,C=C+Math.imul(Y,bt)|0,w=w+Math.imul(Y,ln)|0,w=w+Math.imul(ie,bt)|0,_=_+Math.imul(ie,ln)|0;var gi=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(gi>>>26)|0,gi&=67108863,C=Math.imul(Wt,Qe),w=Math.imul(Wt,nt),w=w+Math.imul(Kt,Qe)|0,_=Math.imul(Kt,nt),C=C+Math.imul(At,et)|0,w=w+Math.imul(At,zt)|0,w=w+Math.imul($t,et)|0,_=_+Math.imul($t,zt)|0,C=C+Math.imul(ht,Rt)|0,w=w+Math.imul(ht,Bt)|0,w=w+Math.imul(St,Rt)|0,_=_+Math.imul(St,Bt)|0,C=C+Math.imul(Se,bt)|0,w=w+Math.imul(Se,ln)|0,w=w+Math.imul(Te,bt)|0,_=_+Math.imul(Te,ln)|0,C=C+Math.imul(Y,fn)|0,w=w+Math.imul(Y,Gt)|0,w=w+Math.imul(ie,fn)|0,_=_+Math.imul(ie,Gt)|0;var Ni=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,C=Math.imul(Pt,Qe),w=Math.imul(Pt,nt),w=w+Math.imul(xt,Qe)|0,_=Math.imul(xt,nt),C=C+Math.imul(Wt,et)|0,w=w+Math.imul(Wt,zt)|0,w=w+Math.imul(Kt,et)|0,_=_+Math.imul(Kt,zt)|0,C=C+Math.imul(At,Rt)|0,w=w+Math.imul(At,Bt)|0,w=w+Math.imul($t,Rt)|0,_=_+Math.imul($t,Bt)|0,C=C+Math.imul(ht,bt)|0,w=w+Math.imul(ht,ln)|0,w=w+Math.imul(St,bt)|0,_=_+Math.imul(St,ln)|0,C=C+Math.imul(Se,fn)|0,w=w+Math.imul(Se,Gt)|0,w=w+Math.imul(Te,fn)|0,_=_+Math.imul(Te,Gt)|0,C=C+Math.imul(Y,mt)|0,w=w+Math.imul(Y,an)|0,w=w+Math.imul(ie,mt)|0,_=_+Math.imul(ie,an)|0;var ms=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(ms>>>26)|0,ms&=67108863,C=Math.imul(Dt,Qe),w=Math.imul(Dt,nt),w=w+Math.imul(Ht,Qe)|0,_=Math.imul(Ht,nt),C=C+Math.imul(Pt,et)|0,w=w+Math.imul(Pt,zt)|0,w=w+Math.imul(xt,et)|0,_=_+Math.imul(xt,zt)|0,C=C+Math.imul(Wt,Rt)|0,w=w+Math.imul(Wt,Bt)|0,w=w+Math.imul(Kt,Rt)|0,_=_+Math.imul(Kt,Bt)|0,C=C+Math.imul(At,bt)|0,w=w+Math.imul(At,ln)|0,w=w+Math.imul($t,bt)|0,_=_+Math.imul($t,ln)|0,C=C+Math.imul(ht,fn)|0,w=w+Math.imul(ht,Gt)|0,w=w+Math.imul(St,fn)|0,_=_+Math.imul(St,Gt)|0,C=C+Math.imul(Se,mt)|0,w=w+Math.imul(Se,an)|0,w=w+Math.imul(Te,mt)|0,_=_+Math.imul(Te,an)|0,C=C+Math.imul(Y,Jt)|0,w=w+Math.imul(Y,jt)|0,w=w+Math.imul(ie,Jt)|0,_=_+Math.imul(ie,jt)|0;var Qs=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(Qs>>>26)|0,Qs&=67108863,C=Math.imul(wt,Qe),w=Math.imul(wt,nt),w=w+Math.imul($,Qe)|0,_=Math.imul($,nt),C=C+Math.imul(Dt,et)|0,w=w+Math.imul(Dt,zt)|0,w=w+Math.imul(Ht,et)|0,_=_+Math.imul(Ht,zt)|0,C=C+Math.imul(Pt,Rt)|0,w=w+Math.imul(Pt,Bt)|0,w=w+Math.imul(xt,Rt)|0,_=_+Math.imul(xt,Bt)|0,C=C+Math.imul(Wt,bt)|0,w=w+Math.imul(Wt,ln)|0,w=w+Math.imul(Kt,bt)|0,_=_+Math.imul(Kt,ln)|0,C=C+Math.imul(At,fn)|0,w=w+Math.imul(At,Gt)|0,w=w+Math.imul($t,fn)|0,_=_+Math.imul($t,Gt)|0,C=C+Math.imul(ht,mt)|0,w=w+Math.imul(ht,an)|0,w=w+Math.imul(St,mt)|0,_=_+Math.imul(St,an)|0,C=C+Math.imul(Se,Jt)|0,w=w+Math.imul(Se,jt)|0,w=w+Math.imul(Te,Jt)|0,_=_+Math.imul(Te,jt)|0,C=C+Math.imul(Y,Nt)|0,w=w+Math.imul(Y,cn)|0,w=w+Math.imul(ie,Nt)|0,_=_+Math.imul(ie,cn)|0;var qt=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(qt>>>26)|0,qt&=67108863,C=Math.imul(R,Qe),w=Math.imul(R,nt),w=w+Math.imul(Z,Qe)|0,_=Math.imul(Z,nt),C=C+Math.imul(wt,et)|0,w=w+Math.imul(wt,zt)|0,w=w+Math.imul($,et)|0,_=_+Math.imul($,zt)|0,C=C+Math.imul(Dt,Rt)|0,w=w+Math.imul(Dt,Bt)|0,w=w+Math.imul(Ht,Rt)|0,_=_+Math.imul(Ht,Bt)|0,C=C+Math.imul(Pt,bt)|0,w=w+Math.imul(Pt,ln)|0,w=w+Math.imul(xt,bt)|0,_=_+Math.imul(xt,ln)|0,C=C+Math.imul(Wt,fn)|0,w=w+Math.imul(Wt,Gt)|0,w=w+Math.imul(Kt,fn)|0,_=_+Math.imul(Kt,Gt)|0,C=C+Math.imul(At,mt)|0,w=w+Math.imul(At,an)|0,w=w+Math.imul($t,mt)|0,_=_+Math.imul($t,an)|0,C=C+Math.imul(ht,Jt)|0,w=w+Math.imul(ht,jt)|0,w=w+Math.imul(St,Jt)|0,_=_+Math.imul(St,jt)|0,C=C+Math.imul(Se,Nt)|0,w=w+Math.imul(Se,cn)|0,w=w+Math.imul(Te,Nt)|0,_=_+Math.imul(Te,cn)|0,C=C+Math.imul(Y,tn)|0,w=w+Math.imul(Y,un)|0,w=w+Math.imul(ie,tn)|0,_=_+Math.imul(ie,un)|0;var $i=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+($i>>>26)|0,$i&=67108863,C=Math.imul(me,Qe),w=Math.imul(me,nt),w=w+Math.imul(be,Qe)|0,_=Math.imul(be,nt),C=C+Math.imul(R,et)|0,w=w+Math.imul(R,zt)|0,w=w+Math.imul(Z,et)|0,_=_+Math.imul(Z,zt)|0,C=C+Math.imul(wt,Rt)|0,w=w+Math.imul(wt,Bt)|0,w=w+Math.imul($,Rt)|0,_=_+Math.imul($,Bt)|0,C=C+Math.imul(Dt,bt)|0,w=w+Math.imul(Dt,ln)|0,w=w+Math.imul(Ht,bt)|0,_=_+Math.imul(Ht,ln)|0,C=C+Math.imul(Pt,fn)|0,w=w+Math.imul(Pt,Gt)|0,w=w+Math.imul(xt,fn)|0,_=_+Math.imul(xt,Gt)|0,C=C+Math.imul(Wt,mt)|0,w=w+Math.imul(Wt,an)|0,w=w+Math.imul(Kt,mt)|0,_=_+Math.imul(Kt,an)|0,C=C+Math.imul(At,Jt)|0,w=w+Math.imul(At,jt)|0,w=w+Math.imul($t,Jt)|0,_=_+Math.imul($t,jt)|0,C=C+Math.imul(ht,Nt)|0,w=w+Math.imul(ht,cn)|0,w=w+Math.imul(St,Nt)|0,_=_+Math.imul(St,cn)|0,C=C+Math.imul(Se,tn)|0,w=w+Math.imul(Se,un)|0,w=w+Math.imul(Te,tn)|0,_=_+Math.imul(Te,un)|0,C=C+Math.imul(Y,nn)|0,w=w+Math.imul(Y,Ot)|0,w=w+Math.imul(ie,nn)|0,_=_+Math.imul(ie,Ot)|0;var yi=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(yi>>>26)|0,yi&=67108863,C=Math.imul(me,et),w=Math.imul(me,zt),w=w+Math.imul(be,et)|0,_=Math.imul(be,zt),C=C+Math.imul(R,Rt)|0,w=w+Math.imul(R,Bt)|0,w=w+Math.imul(Z,Rt)|0,_=_+Math.imul(Z,Bt)|0,C=C+Math.imul(wt,bt)|0,w=w+Math.imul(wt,ln)|0,w=w+Math.imul($,bt)|0,_=_+Math.imul($,ln)|0,C=C+Math.imul(Dt,fn)|0,w=w+Math.imul(Dt,Gt)|0,w=w+Math.imul(Ht,fn)|0,_=_+Math.imul(Ht,Gt)|0,C=C+Math.imul(Pt,mt)|0,w=w+Math.imul(Pt,an)|0,w=w+Math.imul(xt,mt)|0,_=_+Math.imul(xt,an)|0,C=C+Math.imul(Wt,Jt)|0,w=w+Math.imul(Wt,jt)|0,w=w+Math.imul(Kt,Jt)|0,_=_+Math.imul(Kt,jt)|0,C=C+Math.imul(At,Nt)|0,w=w+Math.imul(At,cn)|0,w=w+Math.imul($t,Nt)|0,_=_+Math.imul($t,cn)|0,C=C+Math.imul(ht,tn)|0,w=w+Math.imul(ht,un)|0,w=w+Math.imul(St,tn)|0,_=_+Math.imul(St,un)|0,C=C+Math.imul(Se,nn)|0,w=w+Math.imul(Se,Ot)|0,w=w+Math.imul(Te,nn)|0,_=_+Math.imul(Te,Ot)|0;var Jr=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,C=Math.imul(me,Rt),w=Math.imul(me,Bt),w=w+Math.imul(be,Rt)|0,_=Math.imul(be,Bt),C=C+Math.imul(R,bt)|0,w=w+Math.imul(R,ln)|0,w=w+Math.imul(Z,bt)|0,_=_+Math.imul(Z,ln)|0,C=C+Math.imul(wt,fn)|0,w=w+Math.imul(wt,Gt)|0,w=w+Math.imul($,fn)|0,_=_+Math.imul($,Gt)|0,C=C+Math.imul(Dt,mt)|0,w=w+Math.imul(Dt,an)|0,w=w+Math.imul(Ht,mt)|0,_=_+Math.imul(Ht,an)|0,C=C+Math.imul(Pt,Jt)|0,w=w+Math.imul(Pt,jt)|0,w=w+Math.imul(xt,Jt)|0,_=_+Math.imul(xt,jt)|0,C=C+Math.imul(Wt,Nt)|0,w=w+Math.imul(Wt,cn)|0,w=w+Math.imul(Kt,Nt)|0,_=_+Math.imul(Kt,cn)|0,C=C+Math.imul(At,tn)|0,w=w+Math.imul(At,un)|0,w=w+Math.imul($t,tn)|0,_=_+Math.imul($t,un)|0,C=C+Math.imul(ht,nn)|0,w=w+Math.imul(ht,Ot)|0,w=w+Math.imul(St,nn)|0,_=_+Math.imul(St,Ot)|0;var sr=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(sr>>>26)|0,sr&=67108863,C=Math.imul(me,bt),w=Math.imul(me,ln),w=w+Math.imul(be,bt)|0,_=Math.imul(be,ln),C=C+Math.imul(R,fn)|0,w=w+Math.imul(R,Gt)|0,w=w+Math.imul(Z,fn)|0,_=_+Math.imul(Z,Gt)|0,C=C+Math.imul(wt,mt)|0,w=w+Math.imul(wt,an)|0,w=w+Math.imul($,mt)|0,_=_+Math.imul($,an)|0,C=C+Math.imul(Dt,Jt)|0,w=w+Math.imul(Dt,jt)|0,w=w+Math.imul(Ht,Jt)|0,_=_+Math.imul(Ht,jt)|0,C=C+Math.imul(Pt,Nt)|0,w=w+Math.imul(Pt,cn)|0,w=w+Math.imul(xt,Nt)|0,_=_+Math.imul(xt,cn)|0,C=C+Math.imul(Wt,tn)|0,w=w+Math.imul(Wt,un)|0,w=w+Math.imul(Kt,tn)|0,_=_+Math.imul(Kt,un)|0,C=C+Math.imul(At,nn)|0,w=w+Math.imul(At,Ot)|0,w=w+Math.imul($t,nn)|0,_=_+Math.imul($t,Ot)|0;var Ki=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,C=Math.imul(me,fn),w=Math.imul(me,Gt),w=w+Math.imul(be,fn)|0,_=Math.imul(be,Gt),C=C+Math.imul(R,mt)|0,w=w+Math.imul(R,an)|0,w=w+Math.imul(Z,mt)|0,_=_+Math.imul(Z,an)|0,C=C+Math.imul(wt,Jt)|0,w=w+Math.imul(wt,jt)|0,w=w+Math.imul($,Jt)|0,_=_+Math.imul($,jt)|0,C=C+Math.imul(Dt,Nt)|0,w=w+Math.imul(Dt,cn)|0,w=w+Math.imul(Ht,Nt)|0,_=_+Math.imul(Ht,cn)|0,C=C+Math.imul(Pt,tn)|0,w=w+Math.imul(Pt,un)|0,w=w+Math.imul(xt,tn)|0,_=_+Math.imul(xt,un)|0,C=C+Math.imul(Wt,nn)|0,w=w+Math.imul(Wt,Ot)|0,w=w+Math.imul(Kt,nn)|0,_=_+Math.imul(Kt,Ot)|0;var gs=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(gs>>>26)|0,gs&=67108863,C=Math.imul(me,mt),w=Math.imul(me,an),w=w+Math.imul(be,mt)|0,_=Math.imul(be,an),C=C+Math.imul(R,Jt)|0,w=w+Math.imul(R,jt)|0,w=w+Math.imul(Z,Jt)|0,_=_+Math.imul(Z,jt)|0,C=C+Math.imul(wt,Nt)|0,w=w+Math.imul(wt,cn)|0,w=w+Math.imul($,Nt)|0,_=_+Math.imul($,cn)|0,C=C+Math.imul(Dt,tn)|0,w=w+Math.imul(Dt,un)|0,w=w+Math.imul(Ht,tn)|0,_=_+Math.imul(Ht,un)|0,C=C+Math.imul(Pt,nn)|0,w=w+Math.imul(Pt,Ot)|0,w=w+Math.imul(xt,nn)|0,_=_+Math.imul(xt,Ot)|0;var wi=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(wi>>>26)|0,wi&=67108863,C=Math.imul(me,Jt),w=Math.imul(me,jt),w=w+Math.imul(be,Jt)|0,_=Math.imul(be,jt),C=C+Math.imul(R,Nt)|0,w=w+Math.imul(R,cn)|0,w=w+Math.imul(Z,Nt)|0,_=_+Math.imul(Z,cn)|0,C=C+Math.imul(wt,tn)|0,w=w+Math.imul(wt,un)|0,w=w+Math.imul($,tn)|0,_=_+Math.imul($,un)|0,C=C+Math.imul(Dt,nn)|0,w=w+Math.imul(Dt,Ot)|0,w=w+Math.imul(Ht,nn)|0,_=_+Math.imul(Ht,Ot)|0;var Zn=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,C=Math.imul(me,Nt),w=Math.imul(me,cn),w=w+Math.imul(be,Nt)|0,_=Math.imul(be,cn),C=C+Math.imul(R,tn)|0,w=w+Math.imul(R,un)|0,w=w+Math.imul(Z,tn)|0,_=_+Math.imul(Z,un)|0,C=C+Math.imul(wt,nn)|0,w=w+Math.imul(wt,Ot)|0,w=w+Math.imul($,nn)|0,_=_+Math.imul($,Ot)|0;var ys=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(ys>>>26)|0,ys&=67108863,C=Math.imul(me,tn),w=Math.imul(me,un),w=w+Math.imul(be,tn)|0,_=Math.imul(be,un),C=C+Math.imul(R,nn)|0,w=w+Math.imul(R,Ot)|0,w=w+Math.imul(Z,nn)|0,_=_+Math.imul(Z,Ot)|0;var Fn=(ee+C|0)+((w&8191)<<13)|0;ee=(_+(w>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,C=Math.imul(me,nn),w=Math.imul(me,Ot),w=w+Math.imul(be,nn)|0,_=Math.imul(be,Ot);var Oi=(ee+C|0)+((w&8191)<<13)|0;return ee=(_+(w>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,X[0]=Pi,X[1]=Mi,X[2]=mi,X[3]=gi,X[4]=Ni,X[5]=ms,X[6]=Qs,X[7]=qt,X[8]=$i,X[9]=yi,X[10]=Jr,X[11]=sr,X[12]=Ki,X[13]=gs,X[14]=wi,X[15]=Zn,X[16]=ys,X[17]=Fn,X[18]=Oi,ee!==0&&(X[19]=ee,B.length++),B};Math.imul||(j=z);function G(b,y,I){I.negative=y.negative^b.negative,I.length=b.length+y.length;for(var B=0,H=0,q=0;q<I.length-1;q++){var X=H;H=0;for(var ee=B&67108863,C=Math.min(q,y.length-1),w=Math.max(0,q-b.length+1);w<=C;w++){var _=q-w,U=b.words[_]|0,Y=y.words[w]|0,ie=U*Y,ue=ie&67108863;X=X+(ie/67108864|0)|0,ue=ue+ee|0,ee=ue&67108863,X=X+(ue>>>26)|0,H+=X>>>26,X&=67108863}I.words[q]=ee,B=X,X=H}return B!==0?I.words[q]=B:I.length--,I._strip()}function te(b,y,I){return G(b,y,I)}o.prototype.mulTo=function(y,I){var B,H=this.length+y.length;return this.length===10&&y.length===10?B=j(this,y,I):H<63?B=z(this,y,I):H<1024?B=G(this,y,I):B=te(this,y,I),B},o.prototype.mul=function(y){var I=new o(null);return I.words=new Array(this.length+y.length),this.mulTo(y,I)},o.prototype.mulf=function(y){var I=new o(null);return I.words=new Array(this.length+y.length),te(this,y,I)},o.prototype.imul=function(y){return this.clone().mulTo(y,this)},o.prototype.imuln=function(y){var I=y<0;I&&(y=-y),i(typeof y=="number"),i(y<67108864);for(var B=0,H=0;H<this.length;H++){var q=(this.words[H]|0)*y,X=(q&67108863)+(B&67108863);B>>=26,B+=q/67108864|0,B+=X>>>26,this.words[H]=X&67108863}return B!==0&&(this.words[H]=B,this.length++),this.length=y===0?1:this.length,I?this.ineg():this},o.prototype.muln=function(y){return this.clone().imuln(y)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(y){var I=O(y);if(I.length===0)return new o(1);for(var B=this,H=0;H<I.length&&I[H]===0;H++,B=B.sqr());if(++H<I.length)for(var q=B.sqr();H<I.length;H++,q=q.sqr())I[H]!==0&&(B=B.mul(q));return B},o.prototype.iushln=function(y){i(typeof y=="number"&&y>=0);var I=y%26,B=(y-I)/26,H=67108863>>>26-I<<26-I,q;if(I!==0){var X=0;for(q=0;q<this.length;q++){var ee=this.words[q]&H,C=(this.words[q]|0)-ee<<I;this.words[q]=C|X,X=ee>>>26-I}X&&(this.words[q]=X,this.length++)}if(B!==0){for(q=this.length-1;q>=0;q--)this.words[q+B]=this.words[q];for(q=0;q<B;q++)this.words[q]=0;this.length+=B}return this._strip()},o.prototype.ishln=function(y){return i(this.negative===0),this.iushln(y)},o.prototype.iushrn=function(y,I,B){i(typeof y=="number"&&y>=0);var H;I?H=(I-I%26)/26:H=0;var q=y%26,X=Math.min((y-q)/26,this.length),ee=67108863^67108863>>>q<<q,C=B;if(H-=X,H=Math.max(0,H),C){for(var w=0;w<X;w++)C.words[w]=this.words[w];C.length=X}if(X!==0)if(this.length>X)for(this.length-=X,w=0;w<this.length;w++)this.words[w]=this.words[w+X];else this.words[0]=0,this.length=1;var _=0;for(w=this.length-1;w>=0&&(_!==0||w>=H);w--){var U=this.words[w]|0;this.words[w]=_<<26-q|U>>>q,_=U&ee}return C&&_!==0&&(C.words[C.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(y,I,B){return i(this.negative===0),this.iushrn(y,I,B)},o.prototype.shln=function(y){return this.clone().ishln(y)},o.prototype.ushln=function(y){return this.clone().iushln(y)},o.prototype.shrn=function(y){return this.clone().ishrn(y)},o.prototype.ushrn=function(y){return this.clone().iushrn(y)},o.prototype.testn=function(y){i(typeof y=="number"&&y>=0);var I=y%26,B=(y-I)/26,H=1<<I;if(this.length<=B)return!1;var q=this.words[B];return!!(q&H)},o.prototype.imaskn=function(y){i(typeof y=="number"&&y>=0);var I=y%26,B=(y-I)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=B)return this;if(I!==0&&B++,this.length=Math.min(B,this.length),I!==0){var H=67108863^67108863>>>I<<I;this.words[this.length-1]&=H}return this._strip()},o.prototype.maskn=function(y){return this.clone().imaskn(y)},o.prototype.iaddn=function(y){return i(typeof y=="number"),i(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<=y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},o.prototype._iaddn=function(y){this.words[0]+=y;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},o.prototype.isubn=function(y){if(i(typeof y=="number"),i(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this._strip()},o.prototype.addn=function(y){return this.clone().iaddn(y)},o.prototype.subn=function(y){return this.clone().isubn(y)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(y,I,B){var H=y.length+B,q;this._expand(H);var X,ee=0;for(q=0;q<y.length;q++){X=(this.words[q+B]|0)+ee;var C=(y.words[q]|0)*I;X-=C&67108863,ee=(X>>26)-(C/67108864|0),this.words[q+B]=X&67108863}for(;q<this.length-B;q++)X=(this.words[q+B]|0)+ee,ee=X>>26,this.words[q+B]=X&67108863;if(ee===0)return this._strip();for(i(ee===-1),ee=0,q=0;q<this.length;q++)X=-(this.words[q]|0)+ee,ee=X>>26,this.words[q]=X&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(y,I){var B=this.length-y.length,H=this.clone(),q=y,X=q.words[q.length-1]|0,ee=this._countBits(X);B=26-ee,B!==0&&(q=q.ushln(B),H.iushln(B),X=q.words[q.length-1]|0);var C=H.length-q.length,w;if(I!=="mod"){w=new o(null),w.length=C+1,w.words=new Array(w.length);for(var _=0;_<w.length;_++)w.words[_]=0}var U=H.clone()._ishlnsubmul(q,1,C);U.negative===0&&(H=U,w&&(w.words[C]=1));for(var Y=C-1;Y>=0;Y--){var ie=(H.words[q.length+Y]|0)*67108864+(H.words[q.length+Y-1]|0);for(ie=Math.min(ie/X|0,67108863),H._ishlnsubmul(q,ie,Y);H.negative!==0;)ie--,H.negative=0,H._ishlnsubmul(q,1,Y),H.isZero()||(H.negative^=1);w&&(w.words[Y]=ie)}return w&&w._strip(),H._strip(),I!=="div"&&B!==0&&H.iushrn(B),{div:w||null,mod:H}},o.prototype.divmod=function(y,I,B){if(i(!y.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var H,q,X;return this.negative!==0&&y.negative===0?(X=this.neg().divmod(y,I),I!=="mod"&&(H=X.div.neg()),I!=="div"&&(q=X.mod.neg(),B&&q.negative!==0&&q.iadd(y)),{div:H,mod:q}):this.negative===0&&y.negative!==0?(X=this.divmod(y.neg(),I),I!=="mod"&&(H=X.div.neg()),{div:H,mod:X.mod}):(this.negative&y.negative)!==0?(X=this.neg().divmod(y.neg(),I),I!=="div"&&(q=X.mod.neg(),B&&q.negative!==0&&q.isub(y)),{div:X.div,mod:q}):y.length>this.length||this.cmp(y)<0?{div:new o(0),mod:this}:y.length===1?I==="div"?{div:this.divn(y.words[0]),mod:null}:I==="mod"?{div:null,mod:new o(this.modrn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new o(this.modrn(y.words[0]))}:this._wordDiv(y,I)},o.prototype.div=function(y){return this.divmod(y,"div",!1).div},o.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},o.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},o.prototype.divRound=function(y){var I=this.divmod(y);if(I.mod.isZero())return I.div;var B=I.div.negative!==0?I.mod.isub(y):I.mod,H=y.ushrn(1),q=y.andln(1),X=B.cmp(H);return X<0||q===1&&X===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},o.prototype.modrn=function(y){var I=y<0;I&&(y=-y),i(y<=67108863);for(var B=(1<<26)%y,H=0,q=this.length-1;q>=0;q--)H=(B*H+(this.words[q]|0))%y;return I?-H:H},o.prototype.modn=function(y){return this.modrn(y)},o.prototype.idivn=function(y){var I=y<0;I&&(y=-y),i(y<=67108863);for(var B=0,H=this.length-1;H>=0;H--){var q=(this.words[H]|0)+B*67108864;this.words[H]=q/y|0,B=q%y}return this._strip(),I?this.ineg():this},o.prototype.divn=function(y){return this.clone().idivn(y)},o.prototype.egcd=function(y){i(y.negative===0),i(!y.isZero());var I=this,B=y.clone();I.negative!==0?I=I.umod(y):I=I.clone();for(var H=new o(1),q=new o(0),X=new o(0),ee=new o(1),C=0;I.isEven()&&B.isEven();)I.iushrn(1),B.iushrn(1),++C;for(var w=B.clone(),_=I.clone();!I.isZero();){for(var U=0,Y=1;(I.words[0]&Y)===0&&U<26;++U,Y<<=1);if(U>0)for(I.iushrn(U);U-- >0;)(H.isOdd()||q.isOdd())&&(H.iadd(w),q.isub(_)),H.iushrn(1),q.iushrn(1);for(var ie=0,ue=1;(B.words[0]&ue)===0&&ie<26;++ie,ue<<=1);if(ie>0)for(B.iushrn(ie);ie-- >0;)(X.isOdd()||ee.isOdd())&&(X.iadd(w),ee.isub(_)),X.iushrn(1),ee.iushrn(1);I.cmp(B)>=0?(I.isub(B),H.isub(X),q.isub(ee)):(B.isub(I),X.isub(H),ee.isub(q))}return{a:X,b:ee,gcd:B.iushln(C)}},o.prototype._invmp=function(y){i(y.negative===0),i(!y.isZero());var I=this,B=y.clone();I.negative!==0?I=I.umod(y):I=I.clone();for(var H=new o(1),q=new o(0),X=B.clone();I.cmpn(1)>0&&B.cmpn(1)>0;){for(var ee=0,C=1;(I.words[0]&C)===0&&ee<26;++ee,C<<=1);if(ee>0)for(I.iushrn(ee);ee-- >0;)H.isOdd()&&H.iadd(X),H.iushrn(1);for(var w=0,_=1;(B.words[0]&_)===0&&w<26;++w,_<<=1);if(w>0)for(B.iushrn(w);w-- >0;)q.isOdd()&&q.iadd(X),q.iushrn(1);I.cmp(B)>=0?(I.isub(B),H.isub(q)):(B.isub(I),q.isub(H))}var U;return I.cmpn(1)===0?U=H:U=q,U.cmpn(0)<0&&U.iadd(y),U},o.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var I=this.clone(),B=y.clone();I.negative=0,B.negative=0;for(var H=0;I.isEven()&&B.isEven();H++)I.iushrn(1),B.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;B.isEven();)B.iushrn(1);var q=I.cmp(B);if(q<0){var X=I;I=B,B=X}else if(q===0||B.cmpn(1)===0)break;I.isub(B)}while(!0);return B.iushln(H)},o.prototype.invm=function(y){return this.egcd(y).a.umod(y)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(y){return this.words[0]&y},o.prototype.bincn=function(y){i(typeof y=="number");var I=y%26,B=(y-I)/26,H=1<<I;if(this.length<=B)return this._expand(B+1),this.words[B]|=H,this;for(var q=H,X=B;q!==0&&X<this.length;X++){var ee=this.words[X]|0;ee+=q,q=ee>>>26,ee&=67108863,this.words[X]=ee}return q!==0&&(this.words[X]=q,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(y){var I=y<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this._strip();var B;if(this.length>1)B=1;else{I&&(y=-y),i(y<=67108863,"Number is too big");var H=this.words[0]|0;B=H===y?0:H<y?-1:1}return this.negative!==0?-B|0:B},o.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var I=this.ucmp(y);return this.negative!==0?-I|0:I},o.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var I=0,B=this.length-1;B>=0;B--){var H=this.words[B]|0,q=y.words[B]|0;if(H!==q){H<q?I=-1:H>q&&(I=1);break}}return I},o.prototype.gtn=function(y){return this.cmpn(y)===1},o.prototype.gt=function(y){return this.cmp(y)===1},o.prototype.gten=function(y){return this.cmpn(y)>=0},o.prototype.gte=function(y){return this.cmp(y)>=0},o.prototype.ltn=function(y){return this.cmpn(y)===-1},o.prototype.lt=function(y){return this.cmp(y)===-1},o.prototype.lten=function(y){return this.cmpn(y)<=0},o.prototype.lte=function(y){return this.cmp(y)<=0},o.prototype.eqn=function(y){return this.cmpn(y)===0},o.prototype.eq=function(y){return this.cmp(y)===0},o.red=function(y){return new F(y)},o.prototype.toRed=function(y){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(y){return this.red=y,this},o.prototype.forceRed=function(y){return i(!this.red,"Already a number in reduction context"),this._forceRed(y)},o.prototype.redAdd=function(y){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},o.prototype.redIAdd=function(y){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},o.prototype.redSub=function(y){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},o.prototype.redISub=function(y){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},o.prototype.redShl=function(y){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},o.prototype.redMul=function(y){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},o.prototype.redIMul=function(y){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(y){return i(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var ae={k256:null,p224:null,p192:null,p25519:null};function se(b,y){this.name=b,this.p=new o(y,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}se.prototype._tmp=function(){var y=new o(null);return y.words=new Array(Math.ceil(this.n/13)),y},se.prototype.ireduce=function(y){var I=y,B;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),B=I.bitLength();while(B>this.n);var H=B<this.n?-1:I.ucmp(this.p);return H===0?(I.words[0]=0,I.length=1):H>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},se.prototype.split=function(y,I){y.iushrn(this.n,0,I)},se.prototype.imulK=function(y){return y.imul(this.k)};function Q(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(Q,se),Q.prototype.split=function(y,I){for(var B=4194303,H=Math.min(y.length,9),q=0;q<H;q++)I.words[q]=y.words[q];if(I.length=H,y.length<=9){y.words[0]=0,y.length=1;return}var X=y.words[9];for(I.words[I.length++]=X&B,q=10;q<y.length;q++){var ee=y.words[q]|0;y.words[q-10]=(ee&B)<<4|X>>>22,X=ee}X>>>=22,y.words[q-10]=X,X===0&&y.length>10?y.length-=10:y.length-=9},Q.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var I=0,B=0;B<y.length;B++){var H=y.words[B]|0;I+=H*977,y.words[B]=I&67108863,I=H*64+(I/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function V(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(V,se);function M(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(M,se);function D(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(D,se),D.prototype.imulK=function(y){for(var I=0,B=0;B<y.length;B++){var H=(y.words[B]|0)*19+I,q=H&67108863;H>>>=26,y.words[B]=q,I=H}return I!==0&&(y.words[y.length++]=I),y},o._prime=function(y){if(ae[y])return ae[y];var I;if(y==="k256")I=new Q;else if(y==="p224")I=new V;else if(y==="p192")I=new M;else if(y==="p25519")I=new D;else throw new Error("Unknown prime "+y);return ae[y]=I,I};function F(b){if(typeof b=="string"){var y=o._prime(b);this.m=y.p,this.prime=y}else i(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}F.prototype._verify1=function(y){i(y.negative===0,"red works only with positives"),i(y.red,"red works only with red numbers")},F.prototype._verify2=function(y,I){i((y.negative|I.negative)===0,"red works only with positives"),i(y.red&&y.red===I.red,"red works only with red numbers")},F.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):(m(y,y.umod(this.m)._forceRed(this)),y)},F.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},F.prototype.add=function(y,I){this._verify2(y,I);var B=y.add(I);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},F.prototype.iadd=function(y,I){this._verify2(y,I);var B=y.iadd(I);return B.cmp(this.m)>=0&&B.isub(this.m),B},F.prototype.sub=function(y,I){this._verify2(y,I);var B=y.sub(I);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},F.prototype.isub=function(y,I){this._verify2(y,I);var B=y.isub(I);return B.cmpn(0)<0&&B.iadd(this.m),B},F.prototype.shl=function(y,I){return this._verify1(y),this.imod(y.ushln(I))},F.prototype.imul=function(y,I){return this._verify2(y,I),this.imod(y.imul(I))},F.prototype.mul=function(y,I){return this._verify2(y,I),this.imod(y.mul(I))},F.prototype.isqr=function(y){return this.imul(y,y.clone())},F.prototype.sqr=function(y){return this.mul(y,y)},F.prototype.sqrt=function(y){if(y.isZero())return y.clone();var I=this.m.andln(3);if(i(I%2===1),I===3){var B=this.m.add(new o(1)).iushrn(2);return this.pow(y,B)}for(var H=this.m.subn(1),q=0;!H.isZero()&&H.andln(1)===0;)q++,H.iushrn(1);i(!H.isZero());var X=new o(1).toRed(this),ee=X.redNeg(),C=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new o(2*w*w).toRed(this);this.pow(w,C).cmp(ee)!==0;)w.redIAdd(ee);for(var _=this.pow(w,H),U=this.pow(y,H.addn(1).iushrn(1)),Y=this.pow(y,H),ie=q;Y.cmp(X)!==0;){for(var ue=Y,Se=0;ue.cmp(X)!==0;Se++)ue=ue.redSqr();i(Se<ie);var Te=this.pow(_,new o(1).iushln(ie-Se-1));U=U.redMul(Te),_=Te.redSqr(),Y=Y.redMul(_),ie=Se}return U},F.prototype.invm=function(y){var I=y._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},F.prototype.pow=function(y,I){if(I.isZero())return new o(1).toRed(this);if(I.cmpn(1)===0)return y.clone();var B=4,H=new Array(1<<B);H[0]=new o(1).toRed(this),H[1]=y;for(var q=2;q<H.length;q++)H[q]=this.mul(H[q-1],y);var X=H[0],ee=0,C=0,w=I.bitLength()%26;for(w===0&&(w=26),q=I.length-1;q>=0;q--){for(var _=I.words[q],U=w-1;U>=0;U--){var Y=_>>U&1;if(X!==H[0]&&(X=this.sqr(X)),Y===0&&ee===0){C=0;continue}ee<<=1,ee|=Y,C++,!(C!==B&&(q!==0||U!==0))&&(X=this.mul(X,H[ee]),C=0,ee=0)}w=26}return X},F.prototype.convertTo=function(y){var I=y.umod(this.m);return I===y?I.clone():I},F.prototype.convertFrom=function(y){var I=y.clone();return I.red=null,I},o.mont=function(y){return new W(y)};function W(b){F.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(W,F),W.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},W.prototype.convertFrom=function(y){var I=this.imod(y.mul(this.rinv));return I.red=null,I},W.prototype.imul=function(y,I){if(y.isZero()||I.isZero())return y.words[0]=0,y.length=1,y;var B=y.imul(I),H=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=B.isub(H).iushrn(this.shift),X=q;return q.cmp(this.m)>=0?X=q.isub(this.m):q.cmpn(0)<0&&(X=q.iadd(this.m)),X._forceRed(this)},W.prototype.mul=function(y,I){if(y.isZero()||I.isZero())return new o(0)._forceRed(this);var B=y.mul(I),H=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=B.isub(H).iushrn(this.shift),X=q;return q.cmp(this.m)>=0?X=q.isub(this.m):q.cmpn(0)<0&&(X=q.iadd(this.m)),X._forceRed(this)},W.prototype.invm=function(y){var I=this.imod(y._invmp(this.m).mul(this.r2));return I._forceRed(this)}})(r,YD)})($f)),$f.exports}var XD=j2();const bS=Pa(XD);var If={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var SS;function q2(){return SS||(SS=1,(function(r,e){var n=wv(),i=n.Buffer;function s(c,u){for(var h in c)u[h]=c[h]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=n:(s(n,e),e.Buffer=o);function o(c,u,h){return i(c,u,h)}o.prototype=Object.create(i.prototype),s(i,o),o.from=function(c,u,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return i(c,u,h)},o.alloc=function(c,u,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var p=i(c);return u!==void 0?typeof h=="string"?p.fill(u,h):p.fill(u):p.fill(0),p},o.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i(c)},o.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(c)}})(If,If.exports)),If.exports}var yy,AS;function JD(){if(AS)return yy;AS=1;var r=q2().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),s=0;s<i.length;s++)i[s]=255;for(var o=0;o<n.length;o++){var c=n.charAt(o),u=c.charCodeAt(0);if(i[u]!==255)throw new TypeError(c+" is ambiguous");i[u]=o}var h=n.length,p=n.charAt(0),m=Math.log(h)/Math.log(256),v=Math.log(256)/Math.log(h);function S(P){if((Array.isArray(P)||P instanceof Uint8Array)&&(P=r.from(P)),!r.isBuffer(P))throw new TypeError("Expected Buffer");if(P.length===0)return"";for(var O=0,z=0,j=0,G=P.length;j!==G&&P[j]===0;)j++,O++;for(var te=(G-j)*v+1>>>0,ae=new Uint8Array(te);j!==G;){for(var se=P[j],Q=0,V=te-1;(se!==0||Q<z)&&V!==-1;V--,Q++)se+=256*ae[V]>>>0,ae[V]=se%h>>>0,se=se/h>>>0;if(se!==0)throw new Error("Non-zero carry");z=Q,j++}for(var M=te-z;M!==te&&ae[M]===0;)M++;for(var D=p.repeat(O);M<te;++M)D+=n.charAt(ae[M]);return D}function A(P){if(typeof P!="string")throw new TypeError("Expected String");if(P.length===0)return r.alloc(0);for(var O=0,z=0,j=0;P[O]===p;)z++,O++;for(var G=(P.length-O)*m+1>>>0,te=new Uint8Array(G);O<P.length;){var ae=P.charCodeAt(O);if(ae>255)return;var se=i[ae];if(se===255)return;for(var Q=0,V=G-1;(se!==0||Q<j)&&V!==-1;V--,Q++)se+=h*te[V]>>>0,te[V]=se%256>>>0,se=se/256>>>0;if(se!==0)throw new Error("Non-zero carry");j=Q,O++}for(var M=G-j;M!==G&&te[M]===0;)M++;var D=r.allocUnsafe(z+(G-M));D.fill(0,0,z);for(var F=z;M!==G;)D[F++]=te[M++];return D}function N(P){var O=A(P);if(O)return O;throw new Error("Non-base"+h+" character")}return{encode:S,decodeUnsafe:A,decode:N}}return yy=e,yy}var wy,IS;function ZD(){if(IS)return wy;IS=1;var r=JD(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return wy=r(e),wy}var eB=ZD();const Sr=Pa(eB),TS=b2;var mn={},vy,kS;function tB(){if(kS)return vy;kS=1;var r=q2().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),s=0;s<i.length;s++)i[s]=255;for(var o=0;o<n.length;o++){var c=n.charAt(o),u=c.charCodeAt(0);if(i[u]!==255)throw new TypeError(c+" is ambiguous");i[u]=o}var h=n.length,p=n.charAt(0),m=Math.log(h)/Math.log(256),v=Math.log(256)/Math.log(h);function S(P){if((Array.isArray(P)||P instanceof Uint8Array)&&(P=r.from(P)),!r.isBuffer(P))throw new TypeError("Expected Buffer");if(P.length===0)return"";for(var O=0,z=0,j=0,G=P.length;j!==G&&P[j]===0;)j++,O++;for(var te=(G-j)*v+1>>>0,ae=new Uint8Array(te);j!==G;){for(var se=P[j],Q=0,V=te-1;(se!==0||Q<z)&&V!==-1;V--,Q++)se+=256*ae[V]>>>0,ae[V]=se%h>>>0,se=se/h>>>0;if(se!==0)throw new Error("Non-zero carry");z=Q,j++}for(var M=te-z;M!==te&&ae[M]===0;)M++;for(var D=p.repeat(O);M<te;++M)D+=n.charAt(ae[M]);return D}function A(P){if(typeof P!="string")throw new TypeError("Expected String");if(P.length===0)return r.alloc(0);for(var O=0,z=0,j=0;P[O]===p;)z++,O++;for(var G=(P.length-O)*m+1>>>0,te=new Uint8Array(G);O<P.length;){var ae=P.charCodeAt(O);if(ae>255)return;var se=i[ae];if(se===255)return;for(var Q=0,V=G-1;(se!==0||Q<j)&&V!==-1;V--,Q++)se+=h*te[V]>>>0,te[V]=se%256>>>0,se=se/256>>>0;if(se!==0)throw new Error("Non-zero carry");j=Q,O++}for(var M=G-j;M!==G&&te[M]===0;)M++;var D=r.allocUnsafe(z+(G-M));D.fill(0,0,z);for(var F=z;M!==G;)D[F++]=te[M++];return D}function N(P){var O=A(P);if(O)return O;throw new Error("Non-base"+h+" character")}return{encode:S,decodeUnsafe:A,decode:N}}return vy=e,vy}var _y,xS;function nB(){if(xS)return _y;xS=1;var r=tB(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return _y=r(e),_y}function fo(r,e,n){return e<=r&&r<=n}function nm(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function rB(r){for(var e=String(r),n=e.length,i=0,s=[];i<n;){var o=e.charCodeAt(i);if(o<55296||o>57343)s.push(o);else if(56320<=o&&o<=57343)s.push(65533);else if(55296<=o&&o<=56319)if(i===n-1)s.push(65533);else{var c=r.charCodeAt(i+1);if(56320<=c&&c<=57343){var u=o&1023,h=c&1023;s.push(65536+(u<<10)+h),i+=1}else s.push(65533)}i+=1}return s}function iB(r){for(var e="",n=0;n<r.length;++n){var i=r[n];i<=65535?e+=String.fromCharCode(i):(i-=65536,e+=String.fromCharCode((i>>10)+55296,(i&1023)+56320))}return e}var vp=-1;function Tv(r){this.tokens=[].slice.call(r)}Tv.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():vp},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var Hc=-1;function Ey(r,e){if(r)throw TypeError("Decoder error");return e||65533}var _p="utf-8";function Ep(r,e){if(!(this instanceof Ep))return new Ep(r,e);if(r=r!==void 0?String(r).toLowerCase():_p,r!==_p)throw new Error("Encoding not supported. Only utf-8 is supported");e=nm(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Ep.prototype={decode:function(e,n){var i;typeof e=="object"&&e instanceof ArrayBuffer?i=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):i=new Uint8Array(0),n=nm(n),this._streaming||(this._decoder=new sB({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new Tv(i),o=[],c;!s.endOfStream()&&(c=this._decoder.handler(s,s.read()),c!==Hc);)c!==null&&(Array.isArray(c)?o.push.apply(o,c):o.push(c));if(!this._streaming){do{if(c=this._decoder.handler(s,s.read()),c===Hc)break;c!==null&&(Array.isArray(c)?o.push.apply(o,c):o.push(c))}while(!s.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),iB(o)}};function bp(r,e){if(!(this instanceof bp))return new bp(r,e);if(r=r!==void 0?String(r).toLowerCase():_p,r!==_p)throw new Error("Encoding not supported. Only utf-8 is supported");e=nm(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}bp.prototype={encode:function(e,n){e=e?String(e):"",n=nm(n),this._streaming||(this._encoder=new oB(this._options)),this._streaming=!!n.stream;for(var i=[],s=new Tv(rB(e)),o;!s.endOfStream()&&(o=this._encoder.handler(s,s.read()),o!==Hc);)Array.isArray(o)?i.push.apply(i,o):i.push(o);if(!this._streaming){for(;o=this._encoder.handler(s,s.read()),o!==Hc;)Array.isArray(o)?i.push.apply(i,o):i.push(o);this._encoder=null}return new Uint8Array(i)}};function sB(r){var e=r.fatal,n=0,i=0,s=0,o=128,c=191;this.handler=function(u,h){if(h===vp&&s!==0)return s=0,Ey(e);if(h===vp)return Hc;if(s===0){if(fo(h,0,127))return h;if(fo(h,194,223))s=1,n=h-192;else if(fo(h,224,239))h===224&&(o=160),h===237&&(c=159),s=2,n=h-224;else if(fo(h,240,244))h===240&&(o=144),h===244&&(c=143),s=3,n=h-240;else return Ey(e);return n=n<<6*s,null}if(!fo(h,o,c))return n=s=i=0,o=128,c=191,u.prepend(h),Ey(e);if(o=128,c=191,i+=1,n+=h-128<<6*(s-i),i!==s)return null;var p=n;return n=s=i=0,p}}function oB(r){r.fatal,this.handler=function(e,n){if(n===vp)return Hc;if(fo(n,0,127))return n;var i,s;fo(n,128,2047)?(i=1,s=192):fo(n,2048,65535)?(i=2,s=224):fo(n,65536,1114111)&&(i=3,s=240);for(var o=[(n>>6*i)+s];i>0;){var c=n>>6*(i-1);o.push(128|c&63),i-=1}return o}}const aB=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Ep,TextEncoder:bp},Symbol.toStringTag,{value:"Module"})),lB=Ud(aB);var RS;function cB(){if(RS)return mn;RS=1;var r=mn&&mn.__createBinding||(Object.create?(function(M,D,F,W){W===void 0&&(W=F),Object.defineProperty(M,W,{enumerable:!0,get:function(){return D[F]}})}):(function(M,D,F,W){W===void 0&&(W=F),M[W]=D[F]})),e=mn&&mn.__setModuleDefault||(Object.create?(function(M,D){Object.defineProperty(M,"default",{enumerable:!0,value:D})}):function(M,D){M.default=D}),n=mn&&mn.__decorate||function(M,D,F,W){var b=arguments.length,y=b<3?D:W===null?W=Object.getOwnPropertyDescriptor(D,F):W,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(M,D,F,W);else for(var B=M.length-1;B>=0;B--)(I=M[B])&&(y=(b<3?I(y):b>3?I(D,F,y):I(D,F))||y);return b>3&&y&&Object.defineProperty(D,F,y),y},i=mn&&mn.__importStar||function(M){if(M&&M.__esModule)return M;var D={};if(M!=null)for(var F in M)F!=="default"&&Object.hasOwnProperty.call(M,F)&&r(D,M,F);return e(D,M),D},s=mn&&mn.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(mn,"__esModule",{value:!0}),mn.deserializeUnchecked=mn.deserialize=mn.serialize=mn.BinaryReader=mn.BinaryWriter=mn.BorshError=mn.baseDecode=mn.baseEncode=void 0;const o=s(j2()),c=s(nB()),u=i(lB),h=typeof TextDecoder!="function"?u.TextDecoder:TextDecoder,p=new h("utf-8",{fatal:!0});function m(M){return typeof M=="string"&&(M=Buffer.from(M,"utf8")),c.default.encode(Buffer.from(M))}mn.baseEncode=m;function v(M){return Buffer.from(c.default.decode(M))}mn.baseDecode=v;const S=1024;class A extends Error{constructor(D){super(D),this.fieldPath=[],this.originalMessage=D}addToFieldPath(D){this.fieldPath.splice(0,0,D),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}mn.BorshError=A;class N{constructor(){this.buf=Buffer.alloc(S),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(S)]))}writeU8(D){this.maybeResize(),this.buf.writeUInt8(D,this.length),this.length+=1}writeU16(D){this.maybeResize(),this.buf.writeUInt16LE(D,this.length),this.length+=2}writeU32(D){this.maybeResize(),this.buf.writeUInt32LE(D,this.length),this.length+=4}writeU64(D){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(D).toArray("le",8)))}writeU128(D){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(D).toArray("le",16)))}writeU256(D){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(D).toArray("le",32)))}writeU512(D){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(D).toArray("le",64)))}writeBuffer(D){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),D,Buffer.alloc(S)]),this.length+=D.length}writeString(D){this.maybeResize();const F=Buffer.from(D,"utf8");this.writeU32(F.length),this.writeBuffer(F)}writeFixedArray(D){this.writeBuffer(Buffer.from(D))}writeArray(D,F){this.maybeResize(),this.writeU32(D.length);for(const W of D)this.maybeResize(),F(W)}toArray(){return this.buf.subarray(0,this.length)}}mn.BinaryWriter=N;function P(M,D,F){const W=F.value;F.value=function(...b){try{return W.apply(this,b)}catch(y){if(y instanceof RangeError){const I=y.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(I)>=0)throw new A("Reached the end of buffer when deserializing")}throw y}}}class O{constructor(D){this.buf=D,this.offset=0}readU8(){const D=this.buf.readUInt8(this.offset);return this.offset+=1,D}readU16(){const D=this.buf.readUInt16LE(this.offset);return this.offset+=2,D}readU32(){const D=this.buf.readUInt32LE(this.offset);return this.offset+=4,D}readU64(){const D=this.readBuffer(8);return new o.default(D,"le")}readU128(){const D=this.readBuffer(16);return new o.default(D,"le")}readU256(){const D=this.readBuffer(32);return new o.default(D,"le")}readU512(){const D=this.readBuffer(64);return new o.default(D,"le")}readBuffer(D){if(this.offset+D>this.buf.length)throw new A(`Expected buffer length ${D} isn't within bounds`);const F=this.buf.slice(this.offset,this.offset+D);return this.offset+=D,F}readString(){const D=this.readU32(),F=this.readBuffer(D);try{return p.decode(F)}catch(W){throw new A(`Error decoding UTF-8 string: ${W}`)}}readFixedArray(D){return new Uint8Array(this.readBuffer(D))}readArray(D){const F=this.readU32(),W=Array();for(let b=0;b<F;++b)W.push(D());return W}}n([P],O.prototype,"readU8",null),n([P],O.prototype,"readU16",null),n([P],O.prototype,"readU32",null),n([P],O.prototype,"readU64",null),n([P],O.prototype,"readU128",null),n([P],O.prototype,"readU256",null),n([P],O.prototype,"readU512",null),n([P],O.prototype,"readString",null),n([P],O.prototype,"readFixedArray",null),n([P],O.prototype,"readArray",null),mn.BinaryReader=O;function z(M){return M.charAt(0).toUpperCase()+M.slice(1)}function j(M,D,F,W,b){try{if(typeof W=="string")b[`write${z(W)}`](F);else if(W instanceof Array)if(typeof W[0]=="number"){if(F.length!==W[0])throw new A(`Expecting byte array of length ${W[0]}, but got ${F.length} bytes`);b.writeFixedArray(F)}else if(W.length===2&&typeof W[1]=="number"){if(F.length!==W[1])throw new A(`Expecting byte array of length ${W[1]}, but got ${F.length} bytes`);for(let y=0;y<W[1];y++)j(M,null,F[y],W[0],b)}else b.writeArray(F,y=>{j(M,D,y,W[0],b)});else if(W.kind!==void 0)switch(W.kind){case"option":{F==null?b.writeU8(0):(b.writeU8(1),j(M,D,F,W.type,b));break}case"map":{b.writeU32(F.size),F.forEach((y,I)=>{j(M,D,I,W.key,b),j(M,D,y,W.value,b)});break}default:throw new A(`FieldType ${W} unrecognized`)}else G(M,F,b)}catch(y){throw y instanceof A&&y.addToFieldPath(D),y}}function G(M,D,F){if(typeof D.borshSerialize=="function"){D.borshSerialize(F);return}const W=M.get(D.constructor);if(!W)throw new A(`Class ${D.constructor.name} is missing in schema`);if(W.kind==="struct")W.fields.map(([b,y])=>{j(M,b,D[b],y,F)});else if(W.kind==="enum"){const b=D[W.field];for(let y=0;y<W.values.length;++y){const[I,B]=W.values[y];if(I===b){F.writeU8(y),j(M,I,D[I],B,F);break}}}else throw new A(`Unexpected schema kind: ${W.kind} for ${D.constructor.name}`)}function te(M,D,F=N){const W=new F;return G(M,D,W),W.toArray()}mn.serialize=te;function ae(M,D,F,W){try{if(typeof F=="string")return W[`read${z(F)}`]();if(F instanceof Array){if(typeof F[0]=="number")return W.readFixedArray(F[0]);if(typeof F[1]=="number"){const b=[];for(let y=0;y<F[1];y++)b.push(ae(M,null,F[0],W));return b}else return W.readArray(()=>ae(M,D,F[0],W))}if(F.kind==="option")return W.readU8()?ae(M,D,F.type,W):void 0;if(F.kind==="map"){let b=new Map;const y=W.readU32();for(let I=0;I<y;I++){const B=ae(M,D,F.key,W),H=ae(M,D,F.value,W);b.set(B,H)}return b}return se(M,F,W)}catch(b){throw b instanceof A&&b.addToFieldPath(D),b}}function se(M,D,F){if(typeof D.borshDeserialize=="function")return D.borshDeserialize(F);const W=M.get(D);if(!W)throw new A(`Class ${D.name} is missing in schema`);if(W.kind==="struct"){const b={};for(const[y,I]of M.get(D).fields)b[y]=ae(M,y,I,F);return new D(b)}if(W.kind==="enum"){const b=F.readU8();if(b>=W.values.length)throw new A(`Enum index: ${b} is out of range`);const[y,I]=W.values[b],B=ae(M,y,I,F);return new D({[y]:B})}throw new A(`Unexpected schema kind: ${W.kind} for ${D.constructor.name}`)}function Q(M,D,F,W=O){const b=new W(F),y=se(M,D,b);if(b.offset<F.length)throw new A(`Unexpected ${F.length-b.offset} bytes after deserialized data`);return y}mn.deserialize=Q;function V(M,D,F,W=O){const b=new W(F);return se(M,D,b)}return mn.deserializeUnchecked=V,mn}var by=cB(),_e={},CS;function uB(){if(CS)return _e;CS=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.s16=_e.s8=_e.nu64be=_e.u48be=_e.u40be=_e.u32be=_e.u24be=_e.u16be=_e.nu64=_e.u48=_e.u40=_e.u32=_e.u24=_e.u16=_e.u8=_e.offset=_e.greedy=_e.Constant=_e.UTF8=_e.CString=_e.Blob=_e.Boolean=_e.BitField=_e.BitStructure=_e.VariantLayout=_e.Union=_e.UnionLayoutDiscriminator=_e.UnionDiscriminator=_e.Structure=_e.Sequence=_e.DoubleBE=_e.Double=_e.FloatBE=_e.Float=_e.NearInt64BE=_e.NearInt64=_e.NearUInt64BE=_e.NearUInt64=_e.IntBE=_e.Int=_e.UIntBE=_e.UInt=_e.OffsetLayout=_e.GreedyCount=_e.ExternalLayout=_e.bindConstructorLayout=_e.nameWithProperty=_e.Layout=_e.uint8ArrayToBuffer=_e.checkUint8Array=void 0,_e.constant=_e.utf8=_e.cstr=_e.blob=_e.unionLayoutDiscriminator=_e.union=_e.seq=_e.bits=_e.struct=_e.f64be=_e.f64=_e.f32be=_e.f32=_e.ns64be=_e.s48be=_e.s40be=_e.s32be=_e.s24be=_e.s16be=_e.ns64=_e.s48=_e.s40=_e.s32=_e.s24=void 0;const r=wv();function e(w){if(!(w instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}_e.checkUint8Array=e;function n(w){return e(w),r.Buffer.from(w.buffer,w.byteOffset,w.length)}_e.uint8ArrayToBuffer=n;let i=class{constructor(_,U){if(!Number.isInteger(_))throw new TypeError("span must be an integer");this.span=_,this.property=U}makeDestinationObject(){return{}}getSpan(_,U){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(_){const U=Object.create(this.constructor.prototype);return Object.assign(U,this),U.property=_,U}fromArray(_){}};_e.Layout=i;function s(w,_){return _.property?w+"["+_.property+"]":w}_e.nameWithProperty=s;function o(w,_){if(typeof w!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(w,"layout_"))throw new Error("Class is already bound to a layout");if(!(_&&_ instanceof i))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(_,"boundConstructor_"))throw new Error("layout is already bound to a constructor");w.layout_=_,_.boundConstructor_=w,_.makeDestinationObject=(()=>new w),Object.defineProperty(w.prototype,"encode",{value(U,Y){return _.encode(this,U,Y)},writable:!0}),Object.defineProperty(w,"decode",{value(U,Y){return _.decode(U,Y)},writable:!0})}_e.bindConstructorLayout=o;class c extends i{isCount(){throw new Error("ExternalLayout is abstract")}}_e.ExternalLayout=c;class u extends c{constructor(_=1,U){if(!Number.isInteger(_)||0>=_)throw new TypeError("elementSpan must be a (positive) integer");super(-1,U),this.elementSpan=_}isCount(){return!0}decode(_,U=0){e(_);const Y=_.length-U;return Math.floor(Y/this.elementSpan)}encode(_,U,Y){return 0}}_e.GreedyCount=u;class h extends c{constructor(_,U=0,Y){if(!(_ instanceof i))throw new TypeError("layout must be a Layout");if(!Number.isInteger(U))throw new TypeError("offset must be integer or undefined");super(_.span,Y||_.property),this.layout=_,this.offset=U}isCount(){return this.layout instanceof p||this.layout instanceof m}decode(_,U=0){return this.layout.decode(_,U+this.offset)}encode(_,U,Y=0){return this.layout.encode(_,U,Y+this.offset)}}_e.OffsetLayout=h;class p extends i{constructor(_,U){if(super(_,U),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,U=0){return n(_).readUIntLE(U,this.span)}encode(_,U,Y=0){return n(U).writeUIntLE(_,Y,this.span),this.span}}_e.UInt=p;class m extends i{constructor(_,U){if(super(_,U),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,U=0){return n(_).readUIntBE(U,this.span)}encode(_,U,Y=0){return n(U).writeUIntBE(_,Y,this.span),this.span}}_e.UIntBE=m;class v extends i{constructor(_,U){if(super(_,U),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,U=0){return n(_).readIntLE(U,this.span)}encode(_,U,Y=0){return n(U).writeIntLE(_,Y,this.span),this.span}}_e.Int=v;class S extends i{constructor(_,U){if(super(_,U),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,U=0){return n(_).readIntBE(U,this.span)}encode(_,U,Y=0){return n(U).writeIntBE(_,Y,this.span),this.span}}_e.IntBE=S;const A=Math.pow(2,32);function N(w){const _=Math.floor(w/A),U=w-_*A;return{hi32:_,lo32:U}}function P(w,_){return w*A+_}class O extends i{constructor(_){super(8,_)}decode(_,U=0){const Y=n(_),ie=Y.readUInt32LE(U),ue=Y.readUInt32LE(U+4);return P(ue,ie)}encode(_,U,Y=0){const ie=N(_),ue=n(U);return ue.writeUInt32LE(ie.lo32,Y),ue.writeUInt32LE(ie.hi32,Y+4),8}}_e.NearUInt64=O;class z extends i{constructor(_){super(8,_)}decode(_,U=0){const Y=n(_),ie=Y.readUInt32BE(U),ue=Y.readUInt32BE(U+4);return P(ie,ue)}encode(_,U,Y=0){const ie=N(_),ue=n(U);return ue.writeUInt32BE(ie.hi32,Y),ue.writeUInt32BE(ie.lo32,Y+4),8}}_e.NearUInt64BE=z;class j extends i{constructor(_){super(8,_)}decode(_,U=0){const Y=n(_),ie=Y.readUInt32LE(U),ue=Y.readInt32LE(U+4);return P(ue,ie)}encode(_,U,Y=0){const ie=N(_),ue=n(U);return ue.writeUInt32LE(ie.lo32,Y),ue.writeInt32LE(ie.hi32,Y+4),8}}_e.NearInt64=j;class G extends i{constructor(_){super(8,_)}decode(_,U=0){const Y=n(_),ie=Y.readInt32BE(U),ue=Y.readUInt32BE(U+4);return P(ie,ue)}encode(_,U,Y=0){const ie=N(_),ue=n(U);return ue.writeInt32BE(ie.hi32,Y),ue.writeUInt32BE(ie.lo32,Y+4),8}}_e.NearInt64BE=G;class te extends i{constructor(_){super(4,_)}decode(_,U=0){return n(_).readFloatLE(U)}encode(_,U,Y=0){return n(U).writeFloatLE(_,Y),4}}_e.Float=te;class ae extends i{constructor(_){super(4,_)}decode(_,U=0){return n(_).readFloatBE(U)}encode(_,U,Y=0){return n(U).writeFloatBE(_,Y),4}}_e.FloatBE=ae;class se extends i{constructor(_){super(8,_)}decode(_,U=0){return n(_).readDoubleLE(U)}encode(_,U,Y=0){return n(U).writeDoubleLE(_,Y),8}}_e.Double=se;class Q extends i{constructor(_){super(8,_)}decode(_,U=0){return n(_).readDoubleBE(U)}encode(_,U,Y=0){return n(U).writeDoubleBE(_,Y),8}}_e.DoubleBE=Q;class V extends i{constructor(_,U,Y){if(!(_ instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(U instanceof c&&U.isCount()||Number.isInteger(U)&&0<=U))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let ie=-1;!(U instanceof c)&&0<_.span&&(ie=U*_.span),super(ie,Y),this.elementLayout=_,this.count=U}getSpan(_,U=0){if(0<=this.span)return this.span;let Y=0,ie=this.count;if(ie instanceof c&&(ie=ie.decode(_,U)),0<this.elementLayout.span)Y=ie*this.elementLayout.span;else{let ue=0;for(;ue<ie;)Y+=this.elementLayout.getSpan(_,U+Y),++ue}return Y}decode(_,U=0){const Y=[];let ie=0,ue=this.count;for(ue instanceof c&&(ue=ue.decode(_,U));ie<ue;)Y.push(this.elementLayout.decode(_,U)),U+=this.elementLayout.getSpan(_,U),ie+=1;return Y}encode(_,U,Y=0){const ie=this.elementLayout,ue=_.reduce((Se,Te)=>Se+ie.encode(Te,U,Y+Se),0);return this.count instanceof c&&this.count.encode(_.length,U,Y),ue}}_e.Sequence=V;class M extends i{constructor(_,U,Y){if(!(Array.isArray(_)&&_.reduce((ue,Se)=>ue&&Se instanceof i,!0)))throw new TypeError("fields must be array of Layout instances");typeof U=="boolean"&&Y===void 0&&(Y=U,U=void 0);for(const ue of _)if(0>ue.span&&ue.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let ie=-1;try{ie=_.reduce((ue,Se)=>ue+Se.getSpan(),0)}catch{}super(ie,U),this.fields=_,this.decodePrefixes=!!Y}getSpan(_,U=0){if(0<=this.span)return this.span;let Y=0;try{Y=this.fields.reduce((ie,ue)=>{const Se=ue.getSpan(_,U);return U+=Se,ie+Se},0)}catch{throw new RangeError("indeterminate span")}return Y}decode(_,U=0){e(_);const Y=this.makeDestinationObject();for(const ie of this.fields)if(ie.property!==void 0&&(Y[ie.property]=ie.decode(_,U)),U+=ie.getSpan(_,U),this.decodePrefixes&&_.length===U)break;return Y}encode(_,U,Y=0){const ie=Y;let ue=0,Se=0;for(const Te of this.fields){let Je=Te.span;if(Se=0<Je?Je:0,Te.property!==void 0){const ht=_[Te.property];ht!==void 0&&(Se=Te.encode(ht,U,Y),0>Je&&(Je=Te.getSpan(U,Y)))}ue=Y,Y+=Je}return ue+Se-ie}fromArray(_){const U=this.makeDestinationObject();for(const Y of this.fields)Y.property!==void 0&&0<_.length&&(U[Y.property]=_.shift());return U}layoutFor(_){if(typeof _!="string")throw new TypeError("property must be string");for(const U of this.fields)if(U.property===_)return U}offsetOf(_){if(typeof _!="string")throw new TypeError("property must be string");let U=0;for(const Y of this.fields){if(Y.property===_)return U;0>Y.span?U=-1:0<=U&&(U+=Y.span)}}}_e.Structure=M;class D{constructor(_){this.property=_}decode(_,U){throw new Error("UnionDiscriminator is abstract")}encode(_,U,Y){throw new Error("UnionDiscriminator is abstract")}}_e.UnionDiscriminator=D;class F extends D{constructor(_,U){if(!(_ instanceof c&&_.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(U||_.property||"variant"),this.layout=_}decode(_,U){return this.layout.decode(_,U)}encode(_,U,Y){return this.layout.encode(_,U,Y)}}_e.UnionLayoutDiscriminator=F;class W extends i{constructor(_,U,Y){let ie;if(_ instanceof p||_ instanceof m)ie=new F(new h(_));else if(_ instanceof c&&_.isCount())ie=new F(_);else if(_ instanceof D)ie=_;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(U===void 0&&(U=null),!(U===null||U instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(U!==null){if(0>U.span)throw new Error("defaultLayout must have constant span");U.property===void 0&&(U=U.replicate("content"))}let ue=-1;U&&(ue=U.span,0<=ue&&(_ instanceof p||_ instanceof m)&&(ue+=ie.layout.span)),super(ue,Y),this.discriminator=ie,this.usesPrefixDiscriminator=_ instanceof p||_ instanceof m,this.defaultLayout=U,this.registry={};let Se=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Te){return Se(Te)},this.configGetSourceVariant=function(Te){Se=Te.bind(this)}}getSpan(_,U=0){if(0<=this.span)return this.span;const Y=this.getVariant(_,U);if(!Y)throw new Error("unable to determine span for unrecognized variant");return Y.getSpan(_,U)}defaultGetSourceVariant(_){if(Object.prototype.hasOwnProperty.call(_,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(_,this.defaultLayout.property))return;const U=this.registry[_[this.discriminator.property]];if(U&&(!U.layout||U.property&&Object.prototype.hasOwnProperty.call(_,U.property)))return U}else for(const U in this.registry){const Y=this.registry[U];if(Y.property&&Object.prototype.hasOwnProperty.call(_,Y.property))return Y}throw new Error("unable to infer src variant")}decode(_,U=0){let Y;const ie=this.discriminator,ue=ie.decode(_,U),Se=this.registry[ue];if(Se===void 0){const Te=this.defaultLayout;let Je=0;this.usesPrefixDiscriminator&&(Je=ie.layout.span),Y=this.makeDestinationObject(),Y[ie.property]=ue,Y[Te.property]=Te.decode(_,U+Je)}else Y=Se.decode(_,U);return Y}encode(_,U,Y=0){const ie=this.getSourceVariant(_);if(ie===void 0){const ue=this.discriminator,Se=this.defaultLayout;let Te=0;return this.usesPrefixDiscriminator&&(Te=ue.layout.span),ue.encode(_[ue.property],U,Y),Te+Se.encode(_[Se.property],U,Y+Te)}return ie.encode(_,U,Y)}addVariant(_,U,Y){const ie=new b(this,_,U,Y);return this.registry[_]=ie,ie}getVariant(_,U=0){let Y;return _ instanceof Uint8Array?Y=this.discriminator.decode(_,U):Y=_,this.registry[Y]}}_e.Union=W;class b extends i{constructor(_,U,Y,ie){if(!(_ instanceof W))throw new TypeError("union must be a Union");if(!Number.isInteger(U)||0>U)throw new TypeError("variant must be a (non-negative) integer");if(typeof Y=="string"&&ie===void 0&&(ie=Y,Y=null),Y){if(!(Y instanceof i))throw new TypeError("layout must be a Layout");if(_.defaultLayout!==null&&0<=Y.span&&Y.span>_.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof ie!="string")throw new TypeError("variant must have a String property")}let ue=_.span;0>_.span&&(ue=Y?Y.span:0,0<=ue&&_.usesPrefixDiscriminator&&(ue+=_.discriminator.layout.span)),super(ue,ie),this.union=_,this.variant=U,this.layout=Y||null}getSpan(_,U=0){if(0<=this.span)return this.span;let Y=0;this.union.usesPrefixDiscriminator&&(Y=this.union.discriminator.layout.span);let ie=0;return this.layout&&(ie=this.layout.getSpan(_,U+Y)),Y+ie}decode(_,U=0){const Y=this.makeDestinationObject();if(this!==this.union.getVariant(_,U))throw new Error("variant mismatch");let ie=0;return this.union.usesPrefixDiscriminator&&(ie=this.union.discriminator.layout.span),this.layout?Y[this.property]=this.layout.decode(_,U+ie):this.property?Y[this.property]=!0:this.union.usesPrefixDiscriminator&&(Y[this.union.discriminator.property]=this.variant),Y}encode(_,U,Y=0){let ie=0;if(this.union.usesPrefixDiscriminator&&(ie=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(_,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,U,Y);let ue=ie;if(this.layout&&(this.layout.encode(_[this.property],U,Y+ie),ue+=this.layout.getSpan(U,Y+ie),0<=this.union.span&&ue>this.union.span))throw new Error("encoded variant overruns containing union");return ue}fromArray(_){if(this.layout)return this.layout.fromArray(_)}}_e.VariantLayout=b;function y(w){return 0>w&&(w+=4294967296),w}class I extends i{constructor(_,U,Y){if(!(_ instanceof p||_ instanceof m))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof U=="string"&&Y===void 0&&(Y=U,U=!1),4<_.span)throw new RangeError("word cannot exceed 32 bits");super(_.span,Y),this.word=_,this.msb=!!U,this.fields=[];let ie=0;this._packedSetValue=function(ue){return ie=y(ue),this},this._packedGetValue=function(){return ie}}decode(_,U=0){const Y=this.makeDestinationObject(),ie=this.word.decode(_,U);this._packedSetValue(ie);for(const ue of this.fields)ue.property!==void 0&&(Y[ue.property]=ue.decode(_));return Y}encode(_,U,Y=0){const ie=this.word.decode(U,Y);this._packedSetValue(ie);for(const ue of this.fields)if(ue.property!==void 0){const Se=_[ue.property];Se!==void 0&&ue.encode(Se)}return this.word.encode(this._packedGetValue(),U,Y)}addField(_,U){const Y=new B(this,_,U);return this.fields.push(Y),Y}addBoolean(_){const U=new H(this,_);return this.fields.push(U),U}fieldFor(_){if(typeof _!="string")throw new TypeError("property must be string");for(const U of this.fields)if(U.property===_)return U}}_e.BitStructure=I;class B{constructor(_,U,Y){if(!(_ instanceof I))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(U)||0>=U)throw new TypeError("bits must be positive integer");const ie=8*_.span,ue=_.fields.reduce((Se,Te)=>Se+Te.bits,0);if(U+ue>ie)throw new Error("bits too long for span remainder ("+(ie-ue)+" of "+ie+" remain)");this.container=_,this.bits=U,this.valueMask=(1<<U)-1,U===32&&(this.valueMask=4294967295),this.start=ue,this.container.msb&&(this.start=ie-ue-U),this.wordMask=y(this.valueMask<<this.start),this.property=Y}decode(_,U){const Y=this.container._packedGetValue();return y(Y&this.wordMask)>>>this.start}encode(_){if(typeof _!="number"||!Number.isInteger(_)||_!==y(_&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const U=this.container._packedGetValue(),Y=y(_<<this.start);this.container._packedSetValue(y(U&~this.wordMask)|Y)}}_e.BitField=B;class H extends B{constructor(_,U){super(_,1,U)}decode(_,U){return!!super.decode(_,U)}encode(_){typeof _=="boolean"&&(_=+_),super.encode(_)}}_e.Boolean=H;class q extends i{constructor(_,U){if(!(_ instanceof c&&_.isCount()||Number.isInteger(_)&&0<=_))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let Y=-1;_ instanceof c||(Y=_),super(Y,U),this.length=_}getSpan(_,U){let Y=this.span;return 0>Y&&(Y=this.length.decode(_,U)),Y}decode(_,U=0){let Y=this.span;return 0>Y&&(Y=this.length.decode(_,U)),n(_).slice(U,U+Y)}encode(_,U,Y){let ie=this.length;if(this.length instanceof c&&(ie=_.length),!(_ instanceof Uint8Array&&ie===_.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+ie+") Uint8Array as src");if(Y+ie>U.length)throw new RangeError("encoding overruns Uint8Array");const ue=n(_);return n(U).write(ue.toString("hex"),Y,ie,"hex"),this.length instanceof c&&this.length.encode(ie,U,Y),ie}}_e.Blob=q;class X extends i{constructor(_){super(-1,_)}getSpan(_,U=0){e(_);let Y=U;for(;Y<_.length&&_[Y]!==0;)Y+=1;return 1+Y-U}decode(_,U=0){const Y=this.getSpan(_,U);return n(_).slice(U,U+Y-1).toString("utf-8")}encode(_,U,Y=0){typeof _!="string"&&(_=String(_));const ie=r.Buffer.from(_,"utf8"),ue=ie.length;if(Y+ue>U.length)throw new RangeError("encoding overruns Buffer");const Se=n(U);return ie.copy(Se,Y),Se[Y+ue]=0,ue+1}}_e.CString=X;class ee extends i{constructor(_,U){if(typeof _=="string"&&U===void 0&&(U=_,_=void 0),_===void 0)_=-1;else if(!Number.isInteger(_))throw new TypeError("maxSpan must be an integer");super(-1,U),this.maxSpan=_}getSpan(_,U=0){return e(_),_.length-U}decode(_,U=0){const Y=this.getSpan(_,U);if(0<=this.maxSpan&&this.maxSpan<Y)throw new RangeError("text length exceeds maxSpan");return n(_).slice(U,U+Y).toString("utf-8")}encode(_,U,Y=0){typeof _!="string"&&(_=String(_));const ie=r.Buffer.from(_,"utf8"),ue=ie.length;if(0<=this.maxSpan&&this.maxSpan<ue)throw new RangeError("text length exceeds maxSpan");if(Y+ue>U.length)throw new RangeError("encoding overruns Buffer");return ie.copy(n(U),Y),ue}}_e.UTF8=ee;class C extends i{constructor(_,U){super(0,U),this.value=_}decode(_,U){return this.value}encode(_,U,Y){return 0}}return _e.Constant=C,_e.greedy=((w,_)=>new u(w,_)),_e.offset=((w,_,U)=>new h(w,_,U)),_e.u8=(w=>new p(1,w)),_e.u16=(w=>new p(2,w)),_e.u24=(w=>new p(3,w)),_e.u32=(w=>new p(4,w)),_e.u40=(w=>new p(5,w)),_e.u48=(w=>new p(6,w)),_e.nu64=(w=>new O(w)),_e.u16be=(w=>new m(2,w)),_e.u24be=(w=>new m(3,w)),_e.u32be=(w=>new m(4,w)),_e.u40be=(w=>new m(5,w)),_e.u48be=(w=>new m(6,w)),_e.nu64be=(w=>new z(w)),_e.s8=(w=>new v(1,w)),_e.s16=(w=>new v(2,w)),_e.s24=(w=>new v(3,w)),_e.s32=(w=>new v(4,w)),_e.s40=(w=>new v(5,w)),_e.s48=(w=>new v(6,w)),_e.ns64=(w=>new j(w)),_e.s16be=(w=>new S(2,w)),_e.s24be=(w=>new S(3,w)),_e.s32be=(w=>new S(4,w)),_e.s40be=(w=>new S(5,w)),_e.s48be=(w=>new S(6,w)),_e.ns64be=(w=>new G(w)),_e.f32=(w=>new te(w)),_e.f32be=(w=>new ae(w)),_e.f64=(w=>new se(w)),_e.f64be=(w=>new Q(w)),_e.struct=((w,_,U)=>new M(w,_,U)),_e.bits=((w,_,U)=>new I(w,_,U)),_e.seq=((w,_,U)=>new V(w,_,U)),_e.union=((w,_,U)=>new W(w,_,U)),_e.unionLayoutDiscriminator=((w,_)=>new F(w,_)),_e.blob=((w,_)=>new q(w,_)),_e.cstr=(w=>new X(w)),_e.utf8=((w,_)=>new ee(w,_)),_e.constant=((w,_)=>new C(w,_)),_e}var re=uB(),dB=8078e3,hB=8078001,fB=8078004,pB=8078005,mB=8078006,gB=8078011;function $2(r){return Array.isArray(r)?"%5B"+r.map($2).join("%2C%20")+"%5D":typeof r=="bigint"?`${r}n`:encodeURIComponent(String(r!=null&&Object.getPrototypeOf(r)===null?{...r}:r))}function yB([r,e]){return`${r}=${$2(e)}`}function wB(r){const e=Object.entries(r).map(yB).join("&");return btoa(e)}function vB(r,e={}){{let n=`Solana error #${r}; Decode this error by running \`npx @solana/errors decode -- ${r}`;return Object.keys(e).length&&(n+=` '${wB(e)}'`),`${n}\``}}var Cc=class extends Error{cause=this.cause;context;constructor(...[r,e]){let n,i;if(e){const{cause:o,...c}=e;o&&(i={cause:o}),Object.keys(c).length>0&&(n=c)}const s=vB(r,n);super(s,i),this.context={__code:r,...n},this.name="SolanaError"}};function _B(r,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(r)}function EB(r){return Object.freeze({...r,encode:e=>{const n=new Uint8Array(_B(e,r));return r.write(e,n,0),n}})}function bB(r){return Object.freeze({...r,decode:(e,n=0)=>r.read(e,n)[0]})}function fc(r){return"fixedSize"in r&&typeof r.fixedSize=="number"}function SB(r,e){if(fc(r)!==fc(e))throw new Cc(fB);if(fc(r)&&fc(e)&&r.fixedSize!==e.fixedSize)throw new Cc(pB,{decoderFixedSize:e.fixedSize,encoderFixedSize:r.fixedSize});if(!fc(r)&&!fc(e)&&r.maxSize!==e.maxSize)throw new Cc(mB,{decoderMaxSize:e.maxSize,encoderMaxSize:r.maxSize});return{...e,...r,decode:e.decode,encode:r.encode,read:e.read,write:r.write}}function AB(r,e,n=0){if(e.length-n<=0)throw new Cc(dB,{codecDescription:r})}function IB(r,e,n,i=0){const s=n.length-i;if(s<e)throw new Cc(hB,{bytesLength:s,codecDescription:r,expected:e})}function TB(r,e,n,i){if(i<e||i>n)throw new Cc(gB,{codecDescription:r,max:n,min:e,value:i})}function K2(r){return r?.endian!==1}function kB(r){return EB({fixedSize:r.size,write(e,n,i){r.range&&TB(r.name,r.range[0],r.range[1],e);const s=new ArrayBuffer(r.size);return r.set(new DataView(s),e,K2(r.config)),n.set(new Uint8Array(s),i),i+r.size}})}function xB(r){return bB({fixedSize:r.size,read(e,n=0){AB(r.name,e,n),IB(r.name,r.size,e,n);const i=new DataView(RB(e,n,r.size));return[r.get(i,K2(r.config)),n+r.size]}})}function RB(r,e,n){const i=r.byteOffset+(e??0),s=n??r.byteLength;return r.buffer.slice(i,i+s)}var H2=(r={})=>kB({config:r,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,i)=>e.setBigUint64(0,BigInt(n),i),size:8}),CB=(r={})=>xB({config:r,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),PB=(r={})=>SB(H2(r),CB(r));class MB extends TypeError{constructor(e,n){let i;const{message:s,explanation:o,...c}=e,{path:u}=e,h=u.length===0?s:`At path: ${u.join(".")} -- ${s}`;super(o??h),o!=null&&(this.cause=h),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>i??(i=[e,...n()])}}function NB(r){return th(r)&&typeof r[Symbol.iterator]=="function"}function th(r){return typeof r=="object"&&r!=null}function Sp(r){return th(r)&&!Array.isArray(r)}function hs(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function OB(r){const{done:e,value:n}=r.next();return e?void 0:n}function LB(r,e,n,i){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:s,branch:o}=e,{type:c}=n,{refinement:u,message:h=`Expected a value of type \`${c}\`${u?` with refinement \`${u}\``:""}, but received: \`${hs(i)}\``}=r;return{value:i,type:c,refinement:u,key:s[s.length-1],path:s,branch:o,...r,message:h}}function*PS(r,e,n,i){NB(r)||(r=[r]);for(const s of r){const o=LB(s,e,n,i);o&&(yield o)}}function*kv(r,e,n={}){const{path:i=[],branch:s=[r],coerce:o=!1,mask:c=!1}=n,u={path:i,branch:s,mask:c};o&&(r=e.coercer(r,u));let h="valid";for(const p of e.validator(r,u))p.explanation=n.message,h="not_valid",yield[p,void 0];for(let[p,m,v]of e.entries(r,u)){const S=kv(m,v,{path:p===void 0?i:[...i,p],branch:p===void 0?s:[...s,m],coerce:o,mask:c,message:n.message});for(const A of S)A[0]?(h=A[0].refinement!=null?"not_refined":"not_valid",yield[A[0],void 0]):o&&(m=A[1],p===void 0?r=m:r instanceof Map?r.set(p,m):r instanceof Set?r.add(m):th(r)&&(m!==void 0||p in r)&&(r[p]=m))}if(h!=="not_valid")for(const p of e.refiner(r,u))p.explanation=n.message,h="not_refined",yield[p,void 0];h==="valid"&&(yield[void 0,r])}let Gs=class{constructor(e){const{type:n,schema:i,validator:s,refiner:o,coercer:c=h=>h,entries:u=function*(){}}=e;this.type=n,this.schema=i,this.entries=u,this.coercer=c,s?this.validator=(h,p)=>{const m=s(h,p);return PS(m,p,this,h)}:this.validator=()=>[],o?this.refiner=(h,p)=>{const m=o(h,p);return PS(m,p,this,h)}:this.refiner=()=>[]}assert(e,n){return G2(e,this,n)}create(e,n){return We(e,this,n)}is(e){return Q2(e,this)}mask(e,n){return DB(e,this,n)}validate(e,n={}){return nh(e,this,n)}};function G2(r,e,n){const i=nh(r,e,{message:n});if(i[0])throw i[0]}function We(r,e,n){const i=nh(r,e,{coerce:!0,message:n});if(i[0])throw i[0];return i[1]}function DB(r,e,n){const i=nh(r,e,{coerce:!0,mask:!0,message:n});if(i[0])throw i[0];return i[1]}function Q2(r,e){return!nh(r,e)[0]}function nh(r,e,n={}){const i=kv(r,e,n),s=OB(i);return s[0]?[new MB(s[0],function*(){for(const c of i)c[0]&&(yield c[0])}),void 0]:[void 0,s[1]]}function Tl(r,e){return new Gs({type:r,schema:null,validator:e})}function BB(){return Tl("any",()=>!0)}function ze(r){return new Gs({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(const[n,i]of e.entries())yield[n,i,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${hs(e)}`}})}function Ks(){return Tl("boolean",r=>typeof r=="boolean")}function xv(r){return Tl("instance",e=>e instanceof r||`Expected a \`${r.name}\` instance, but received: ${hs(e)}`)}function Mn(r){const e=hs(r),n=typeof r;return new Gs({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?r:null,validator(i){return i===r||`Expected the literal \`${e}\`, but received: ${hs(i)}`}})}function UB(){return Tl("never",()=>!1)}function qe(r){return new Gs({...r,validator:(e,n)=>e===null||r.validator(e,n),refiner:(e,n)=>e===null||r.refiner(e,n)})}function we(){return Tl("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${hs(r)}`)}function at(r){return new Gs({...r,validator:(e,n)=>e===void 0||r.validator(e,n),refiner:(e,n)=>e===void 0||r.refiner(e,n)})}function Y2(r,e){return new Gs({type:"record",schema:null,*entries(n){if(th(n))for(const i in n){const s=n[i];yield[i,i,r],yield[i,s,e]}},validator(n){return Sp(n)||`Expected an object, but received: ${hs(n)}`},coercer(n){return Sp(n)?{...n}:n}})}function Be(){return Tl("string",r=>typeof r=="string"||`Expected a string, but received: ${hs(r)}`)}function Rv(r){const e=UB();return new Gs({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const i=Math.max(r.length,n.length);for(let s=0;s<i;s++)yield[s,n[s],r[s]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${hs(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Me(r){const e=Object.keys(r);return new Gs({type:"type",schema:r,*entries(n){if(th(n))for(const i of e)yield[i,n[i],r[i]]},validator(n){return Sp(n)||`Expected an object, but received: ${hs(n)}`},coercer(n){return Sp(n)?{...n}:n}})}function Qr(r){const e=r.map(n=>n.type).join(" | ");return new Gs({type:"union",schema:null,coercer(n,i){for(const s of r){const[o,c]=s.validate(n,{coerce:!0,mask:i.mask});if(!o)return c}return n},validator(n,i){const s=[];for(const o of r){const[...c]=kv(n,o,i),[u]=c;if(u[0])for(const[h]of c)h&&s.push(h);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${hs(n)}`,...s]}})}function cu(){return Tl("unknown",()=>!0)}function rh(r,e,n){return new Gs({...r,coercer:(i,s)=>Q2(i,e)?r.coercer(n(i,s),s):r.coercer(i,s)})}var Tf,VB=new Uint8Array(16);function X2(){if(!Tf&&(Tf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Tf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Tf(VB)}const FB=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function rm(r){return typeof r=="string"&&FB.test(r)}var vr=[];for(var Sy=0;Sy<256;++Sy)vr.push((Sy+256).toString(16).substr(1));function im(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(vr[r[e+0]]+vr[r[e+1]]+vr[r[e+2]]+vr[r[e+3]]+"-"+vr[r[e+4]]+vr[r[e+5]]+"-"+vr[r[e+6]]+vr[r[e+7]]+"-"+vr[r[e+8]]+vr[r[e+9]]+"-"+vr[r[e+10]]+vr[r[e+11]]+vr[r[e+12]]+vr[r[e+13]]+vr[r[e+14]]+vr[r[e+15]]).toLowerCase();if(!rm(n))throw TypeError("Stringified UUID is invalid");return n}var MS,Ay,Iy=0,Ty=0;function WB(r,e,n){var i=e&&n||0,s=e||new Array(16);r=r||{};var o=r.node||MS,c=r.clockseq!==void 0?r.clockseq:Ay;if(o==null||c==null){var u=r.random||(r.rng||X2)();o==null&&(o=MS=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),c==null&&(c=Ay=(u[6]<<8|u[7])&16383)}var h=r.msecs!==void 0?r.msecs:Date.now(),p=r.nsecs!==void 0?r.nsecs:Ty+1,m=h-Iy+(p-Ty)/1e4;if(m<0&&r.clockseq===void 0&&(c=c+1&16383),(m<0||h>Iy)&&r.nsecs===void 0&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Iy=h,Ty=p,Ay=c,h+=122192928e5;var v=((h&268435455)*1e4+p)%4294967296;s[i++]=v>>>24&255,s[i++]=v>>>16&255,s[i++]=v>>>8&255,s[i++]=v&255;var S=h/4294967296*1e4&268435455;s[i++]=S>>>8&255,s[i++]=S&255,s[i++]=S>>>24&15|16,s[i++]=S>>>16&255,s[i++]=c>>>8|128,s[i++]=c&255;for(var A=0;A<6;++A)s[i+A]=o[A];return e||im(s)}function J2(r){if(!rm(r))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(r.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(r.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(r.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(r.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function zB(r){r=unescape(encodeURIComponent(r));for(var e=[],n=0;n<r.length;++n)e.push(r.charCodeAt(n));return e}var jB="6ba7b810-9dad-11d1-80b4-00c04fd430c8",qB="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Z2(r,e,n){function i(s,o,c,u){if(typeof s=="string"&&(s=zB(s)),typeof o=="string"&&(o=J2(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+s.length);if(h.set(o),h.set(s,o.length),h=n(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,c){u=u||0;for(var p=0;p<16;++p)c[u+p]=h[p];return c}return im(h)}try{i.name=r}catch{}return i.DNS=jB,i.URL=qB,i}function $B(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var n=0;n<e.length;++n)r[n]=e.charCodeAt(n)}return KB(HB(GB(r),r.length*8))}function KB(r){for(var e=[],n=r.length*32,i="0123456789abcdef",s=0;s<n;s+=8){var o=r[s>>5]>>>s%32&255,c=parseInt(i.charAt(o>>>4&15)+i.charAt(o&15),16);e.push(c)}return e}function ex(r){return(r+64>>>9<<4)+14+1}function HB(r,e){r[e>>5]|=128<<e%32,r[ex(e)-1]=e;for(var n=1732584193,i=-271733879,s=-1732584194,o=271733878,c=0;c<r.length;c+=16){var u=n,h=i,p=s,m=o;n=Or(n,i,s,o,r[c],7,-680876936),o=Or(o,n,i,s,r[c+1],12,-389564586),s=Or(s,o,n,i,r[c+2],17,606105819),i=Or(i,s,o,n,r[c+3],22,-1044525330),n=Or(n,i,s,o,r[c+4],7,-176418897),o=Or(o,n,i,s,r[c+5],12,1200080426),s=Or(s,o,n,i,r[c+6],17,-1473231341),i=Or(i,s,o,n,r[c+7],22,-45705983),n=Or(n,i,s,o,r[c+8],7,1770035416),o=Or(o,n,i,s,r[c+9],12,-1958414417),s=Or(s,o,n,i,r[c+10],17,-42063),i=Or(i,s,o,n,r[c+11],22,-1990404162),n=Or(n,i,s,o,r[c+12],7,1804603682),o=Or(o,n,i,s,r[c+13],12,-40341101),s=Or(s,o,n,i,r[c+14],17,-1502002290),i=Or(i,s,o,n,r[c+15],22,1236535329),n=Lr(n,i,s,o,r[c+1],5,-165796510),o=Lr(o,n,i,s,r[c+6],9,-1069501632),s=Lr(s,o,n,i,r[c+11],14,643717713),i=Lr(i,s,o,n,r[c],20,-373897302),n=Lr(n,i,s,o,r[c+5],5,-701558691),o=Lr(o,n,i,s,r[c+10],9,38016083),s=Lr(s,o,n,i,r[c+15],14,-660478335),i=Lr(i,s,o,n,r[c+4],20,-405537848),n=Lr(n,i,s,o,r[c+9],5,568446438),o=Lr(o,n,i,s,r[c+14],9,-1019803690),s=Lr(s,o,n,i,r[c+3],14,-187363961),i=Lr(i,s,o,n,r[c+8],20,1163531501),n=Lr(n,i,s,o,r[c+13],5,-1444681467),o=Lr(o,n,i,s,r[c+2],9,-51403784),s=Lr(s,o,n,i,r[c+7],14,1735328473),i=Lr(i,s,o,n,r[c+12],20,-1926607734),n=Dr(n,i,s,o,r[c+5],4,-378558),o=Dr(o,n,i,s,r[c+8],11,-2022574463),s=Dr(s,o,n,i,r[c+11],16,1839030562),i=Dr(i,s,o,n,r[c+14],23,-35309556),n=Dr(n,i,s,o,r[c+1],4,-1530992060),o=Dr(o,n,i,s,r[c+4],11,1272893353),s=Dr(s,o,n,i,r[c+7],16,-155497632),i=Dr(i,s,o,n,r[c+10],23,-1094730640),n=Dr(n,i,s,o,r[c+13],4,681279174),o=Dr(o,n,i,s,r[c],11,-358537222),s=Dr(s,o,n,i,r[c+3],16,-722521979),i=Dr(i,s,o,n,r[c+6],23,76029189),n=Dr(n,i,s,o,r[c+9],4,-640364487),o=Dr(o,n,i,s,r[c+12],11,-421815835),s=Dr(s,o,n,i,r[c+15],16,530742520),i=Dr(i,s,o,n,r[c+2],23,-995338651),n=Br(n,i,s,o,r[c],6,-198630844),o=Br(o,n,i,s,r[c+7],10,1126891415),s=Br(s,o,n,i,r[c+14],15,-1416354905),i=Br(i,s,o,n,r[c+5],21,-57434055),n=Br(n,i,s,o,r[c+12],6,1700485571),o=Br(o,n,i,s,r[c+3],10,-1894986606),s=Br(s,o,n,i,r[c+10],15,-1051523),i=Br(i,s,o,n,r[c+1],21,-2054922799),n=Br(n,i,s,o,r[c+8],6,1873313359),o=Br(o,n,i,s,r[c+15],10,-30611744),s=Br(s,o,n,i,r[c+6],15,-1560198380),i=Br(i,s,o,n,r[c+13],21,1309151649),n=Br(n,i,s,o,r[c+4],6,-145523070),o=Br(o,n,i,s,r[c+11],10,-1120210379),s=Br(s,o,n,i,r[c+2],15,718787259),i=Br(i,s,o,n,r[c+9],21,-343485551),n=pa(n,u),i=pa(i,h),s=pa(s,p),o=pa(o,m)}return[n,i,s,o]}function GB(r){if(r.length===0)return[];for(var e=r.length*8,n=new Uint32Array(ex(e)),i=0;i<e;i+=8)n[i>>5]|=(r[i/8]&255)<<i%32;return n}function pa(r,e){var n=(r&65535)+(e&65535),i=(r>>16)+(e>>16)+(n>>16);return i<<16|n&65535}function QB(r,e){return r<<e|r>>>32-e}function sm(r,e,n,i,s,o){return pa(QB(pa(pa(e,r),pa(i,o)),s),n)}function Or(r,e,n,i,s,o,c){return sm(e&n|~e&i,r,e,s,o,c)}function Lr(r,e,n,i,s,o,c){return sm(e&i|n&~i,r,e,s,o,c)}function Dr(r,e,n,i,s,o,c){return sm(e^n^i,r,e,s,o,c)}function Br(r,e,n,i,s,o,c){return sm(n^(e|~i),r,e,s,o,c)}var YB=Z2("v3",48,$B);function XB(r,e,n){r=r||{};var i=r.random||(r.rng||X2)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=i[s];return e}return im(i)}function JB(r,e,n,i){switch(r){case 0:return e&n^~e&i;case 1:return e^n^i;case 2:return e&n^e&i^n&i;case 3:return e^n^i}}function ky(r,e){return r<<e|r>>>32-e}function ZB(r){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var i=unescape(encodeURIComponent(r));r=[];for(var s=0;s<i.length;++s)r.push(i.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,c=Math.ceil(o/16),u=new Array(c),h=0;h<c;++h){for(var p=new Uint32Array(16),m=0;m<16;++m)p[m]=r[h*64+m*4]<<24|r[h*64+m*4+1]<<16|r[h*64+m*4+2]<<8|r[h*64+m*4+3];u[h]=p}u[c-1][14]=(r.length-1)*8/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=(r.length-1)*8&4294967295;for(var v=0;v<c;++v){for(var S=new Uint32Array(80),A=0;A<16;++A)S[A]=u[v][A];for(var N=16;N<80;++N)S[N]=ky(S[N-3]^S[N-8]^S[N-14]^S[N-16],1);for(var P=n[0],O=n[1],z=n[2],j=n[3],G=n[4],te=0;te<80;++te){var ae=Math.floor(te/20),se=ky(P,5)+JB(ae,O,z,j)+G+e[ae]+S[te]>>>0;G=j,j=z,z=ky(O,30)>>>0,O=P,P=se}n[0]=n[0]+P>>>0,n[1]=n[1]+O>>>0,n[2]=n[2]+z>>>0,n[3]=n[3]+j>>>0,n[4]=n[4]+G>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var e8=Z2("v5",80,ZB);const t8="00000000-0000-0000-0000-000000000000";function n8(r){if(!rm(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const r8=Object.freeze(Object.defineProperty({__proto__:null,NIL:t8,parse:J2,stringify:im,v1:WB,v3:YB,v4:XB,v5:e8,validate:rm,version:n8},Symbol.toStringTag,{value:"Module"})),tx=Ud(r8);var xy,NS;function i8(){if(NS)return xy;NS=1;const r=tx.v4;return xy=function(n,i,s,o){if(typeof n!="string")throw new TypeError(n+" must be a string");o=o||{};const c=typeof o.version=="number"?o.version:2;if(c!==1&&c!==2)throw new TypeError(c+" must be 1 or 2");const u={method:n};if(c===2&&(u.jsonrpc="2.0"),i){if(typeof i!="object"&&!Array.isArray(i))throw new TypeError(i+" must be an object, array or omitted");u.params=i}if(typeof s>"u"){const h=typeof o.generator=="function"?o.generator:function(){return r()};u.id=h(u,o)}else c===2&&s===null?o.notificationIdNull&&(u.id=null):u.id=s;return u},xy}var Ry,OS;function s8(){if(OS)return Ry;OS=1;const r=tx.v4,e=i8(),n=function(i,s){if(!(this instanceof n))return new n(i,s);s||(s={}),this.options={reviver:typeof s.reviver<"u"?s.reviver:null,replacer:typeof s.replacer<"u"?s.replacer:null,generator:typeof s.generator<"u"?s.generator:function(){return r()},version:typeof s.version<"u"?s.version:2,notificationIdNull:typeof s.notificationIdNull=="boolean"?s.notificationIdNull:!1},this.callServer=i};return Ry=n,n.prototype.request=function(i,s,o,c){const u=this;let h=null;const p=Array.isArray(i)&&typeof s=="function";if(this.options.version===1&&p)throw new TypeError("JSON-RPC 1.0 does not support batching");if(p||!p&&i&&typeof i=="object"&&typeof s=="function")c=s,h=i;else{typeof o=="function"&&(c=o,o=void 0);const S=typeof c=="function";try{h=e(i,s,o,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(A){if(S)return c(A);throw A}if(!S)return h}let v;try{v=JSON.stringify(h,this.options.replacer)}catch(S){return c(S)}return this.callServer(v,function(S,A){u._parseResponse(S,A,c)}),h},n.prototype._parseResponse=function(i,s,o){if(i){o(i);return}if(!s)return o();let c;try{c=JSON.parse(s,this.options.reviver)}catch(u){return o(u)}if(o.length===3)if(Array.isArray(c)){const u=function(p){return typeof p.error<"u"},h=function(p){return!u(p)};return o(null,c.filter(u),c.filter(h))}else return o(null,c.error,c.result);o(null,c)},Ry}var o8=s8();const a8=Pa(o8);var Cy={exports:{}},LS;function nx(){return LS||(LS=1,(function(r){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function s(h,p,m){this.fn=h,this.context=p,this.once=m||!1}function o(h,p,m,v,S){if(typeof m!="function")throw new TypeError("The listener must be a function");var A=new s(m,v||h,S),N=n?n+p:p;return h._events[N]?h._events[N].fn?h._events[N]=[h._events[N],A]:h._events[N].push(A):(h._events[N]=A,h._eventsCount++),h}function c(h,p){--h._eventsCount===0?h._events=new i:delete h._events[p]}function u(){this._events=new i,this._eventsCount=0}u.prototype.eventNames=function(){var p=[],m,v;if(this._eventsCount===0)return p;for(v in m=this._events)e.call(m,v)&&p.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(m)):p},u.prototype.listeners=function(p){var m=n?n+p:p,v=this._events[m];if(!v)return[];if(v.fn)return[v.fn];for(var S=0,A=v.length,N=new Array(A);S<A;S++)N[S]=v[S].fn;return N},u.prototype.listenerCount=function(p){var m=n?n+p:p,v=this._events[m];return v?v.fn?1:v.length:0},u.prototype.emit=function(p,m,v,S,A,N){var P=n?n+p:p;if(!this._events[P])return!1;var O=this._events[P],z=arguments.length,j,G;if(O.fn){switch(O.once&&this.removeListener(p,O.fn,void 0,!0),z){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,m),!0;case 3:return O.fn.call(O.context,m,v),!0;case 4:return O.fn.call(O.context,m,v,S),!0;case 5:return O.fn.call(O.context,m,v,S,A),!0;case 6:return O.fn.call(O.context,m,v,S,A,N),!0}for(G=1,j=new Array(z-1);G<z;G++)j[G-1]=arguments[G];O.fn.apply(O.context,j)}else{var te=O.length,ae;for(G=0;G<te;G++)switch(O[G].once&&this.removeListener(p,O[G].fn,void 0,!0),z){case 1:O[G].fn.call(O[G].context);break;case 2:O[G].fn.call(O[G].context,m);break;case 3:O[G].fn.call(O[G].context,m,v);break;case 4:O[G].fn.call(O[G].context,m,v,S);break;default:if(!j)for(ae=1,j=new Array(z-1);ae<z;ae++)j[ae-1]=arguments[ae];O[G].fn.apply(O[G].context,j)}}return!0},u.prototype.on=function(p,m,v){return o(this,p,m,v,!1)},u.prototype.once=function(p,m,v){return o(this,p,m,v,!0)},u.prototype.removeListener=function(p,m,v,S){var A=n?n+p:p;if(!this._events[A])return this;if(!m)return c(this,A),this;var N=this._events[A];if(N.fn)N.fn===m&&(!S||N.once)&&(!v||N.context===v)&&c(this,A);else{for(var P=0,O=[],z=N.length;P<z;P++)(N[P].fn!==m||S&&!N[P].once||v&&N[P].context!==v)&&O.push(N[P]);O.length?this._events[A]=O.length===1?O[0]:O:c(this,A)}return this},u.prototype.removeAllListeners=function(p){var m;return p?(m=n?n+p:p,this._events[m]&&c(this,m)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,r.exports=u})(Cy)),Cy.exports}var l8=nx();const Cv=Pa(l8);var c8=class extends Cv{socket;constructor(r,e,n){super(),this.socket=new window.WebSocket(r,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(r,e,n){const i=n||e;try{this.socket.send(r),i()}catch(s){i(s)}}close(r,e){this.socket.close(r,e)}addEventListener(r,e,n){this.socket.addEventListener(r,e,n)}};function u8(r,e){return new c8(r,e)}var d8=class{encode(r){return JSON.stringify(r)}decode(r){return JSON.parse(r)}},h8=class extends Cv{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(r,e="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...c}={},u,h){super(),this.webSocketFactory=r,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),h?this.dataPack=h:this.dataPack=new d8,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(r,e,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const c=this.generate_request_id(r,e),u={jsonrpc:"2.0",method:r,params:e||void 0,id:c};this.socket.send(this.dataPack.encode(u),i,h=>{if(h)return o(h);this.queue[c]={promise:[s,o]},n&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],o(new Error("reply timeout"))},n))})})}async login(r){const e=await this.call("rpc.login",r);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(r,e){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:r,params:e};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);n()})})}async subscribe(r){typeof r=="string"&&(r=[r]);const e=await this.call("rpc.on",r);if(typeof r=="string"&&e[r]!=="ok")throw new Error("Failed subscribing to an event '"+r+"' with: "+e[r]);return e}async unsubscribe(r){typeof r=="string"&&(r=[r]);const e=await this.call("rpc.off",r);if(typeof r=="string"&&e[r]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(r,e){this.socket.close(r||1e3,e)}setAutoReconnect(r){this.reconnect=r}setReconnectInterval(r){this.reconnect_interval=r}setMaxReconnects(r){this.max_reconnects=r}_connect(r,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(r,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=ft.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let s=0;s<n.params.length;s++)i.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(r,e),this.reconnect_interval)))})}};const f8=BigInt(0),Hu=BigInt(1),p8=BigInt(2),m8=BigInt(7),g8=BigInt(256),y8=BigInt(113),rx=[],ix=[],sx=[];for(let r=0,e=Hu,n=1,i=0;r<24;r++){[n,i]=[i,(2*n+3*i)%5],rx.push(2*(5*i+n)),ix.push((r+1)*(r+2)/2%64);let s=f8;for(let o=0;o<7;o++)e=(e<<Hu^(e>>m8)*y8)%g8,e&p8&&(s^=Hu<<(Hu<<BigInt(o))-Hu);sx.push(s)}const ox=_2(sx,!0),w8=ox[0],v8=ox[1],DS=(r,e,n)=>n>32?rD(r,e,n):tD(r,e,n),BS=(r,e,n)=>n>32?iD(r,e,n):nD(r,e,n);function _8(r,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let c=0;c<10;c++)n[c]=r[c]^r[c+10]^r[c+20]^r[c+30]^r[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,h=(c+2)%10,p=n[h],m=n[h+1],v=DS(p,m,1)^n[u],S=BS(p,m,1)^n[u+1];for(let A=0;A<50;A+=10)r[c+A]^=v,r[c+A+1]^=S}let s=r[2],o=r[3];for(let c=0;c<24;c++){const u=ix[c],h=DS(s,o,u),p=BS(s,o,u),m=rx[c];s=r[m],o=r[m+1],r[m]=h,r[m+1]=p}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)n[u]=r[c+u];for(let u=0;u<10;u++)r[c+u]^=~n[(u+2)%10]&n[(u+4)%10]}r[0]^=w8[i],r[1]^=v8[i]}Ca(n)}class Pv extends vv{constructor(e,n,i,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=s,this.rounds=o,Pd(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=$5(this.state)}clone(){return this._cloneInto()}keccak(){lS(this.state32),_8(this.state32,this.rounds),lS(this.state32),this.posOut=0,this.pos=0}update(e){$c(this),e=em(e),ko(e);const{blockLen:n,state:i}=this,s=e.length;for(let o=0;o<s;){const c=Math.min(n-this.pos,s-o);for(let u=0;u<c;u++)i[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:s}=this;e[i]^=n,(n&128)!==0&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){$c(this,!1),ko(e),this.finish();const n=this.state,{blockLen:i}=this;for(let s=0,o=e.length;s<o;){this.posOut>=i&&this.keccak();const c=Math.min(i-this.posOut,o-s);e.set(n.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Pd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(y2(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ca(this.state)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:s,rounds:o,enableXOF:c}=this;return e||(e=new Pv(n,i,s,c,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}}const E8=(r,e,n)=>_v(()=>new Pv(e,r,n)),US=E8(1,136,256/8);class ax extends vv{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,g2(e);const i=em(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?e.create().update(i).digest():i);for(let c=0;c<o.length;c++)o[c]^=54;this.iHash.update(o),this.oHash=e.create();for(let c=0;c<o.length;c++)o[c]^=106;this.oHash.update(o),Ca(o)}update(e){return $c(this),this.iHash.update(e),this}digestInto(e){$c(this),ko(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:s,destroyed:o,blockLen:c,outputLen:u}=this;return e=e,e.finished=s,e.destroyed=o,e.blockLen=c,e.outputLen=u,e.oHash=n._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const lx=(r,e,n)=>new ax(r,e).update(n).digest();lx.create=(r,e)=>new ax(r,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VS=(r,e)=>(r+(r>=0?e:-e)/cx)/e;function b8(r,e,n){const[[i,s],[o,c]]=e,u=VS(c*r,n),h=VS(-s*r,n);let p=r-u*i-h*o,m=-u*s-h*c;const v=p<yo,S=m<yo;v&&(p=-p),S&&(m=-m);const A=Zd(Math.ceil(I2(n)/2))+Pc;if(p<yo||p>=A||m<yo||m>=A)throw new Error("splitScalar (endomorphism): failed, k="+r);return{k1neg:v,k1:p,k2neg:S,k2:m}}function J0(r){if(!["compact","recovered","der"].includes(r))throw new Error('Signature format must be "compact", "recovered", or "der"');return r}function Py(r,e){const n={};for(let i of Object.keys(e))n[i]=r[i]===void 0?e[i]:r[i];return wl(n.lowS,"lowS"),wl(n.prehash,"prehash"),n.format!==void 0&&J0(n.format),n}class S8 extends Error{constructor(e=""){super(e)}}const ho={Err:S8,_tlv:{encode:(r,e)=>{const{Err:n}=ho;if(r<0||r>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const i=e.length/2,s=Af(i);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=i>127?Af(s.length/2|128):"";return Af(r)+o+s+e},decode(r,e){const{Err:n}=ho;let i=0;if(r<0||r>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[i++]!==r)throw new n("tlv.decode: wrong tlv");const s=e[i++],o=!!(s&128);let c=0;if(!o)c=s;else{const h=s&127;if(!h)throw new n("tlv.decode(long): indefinite length not supported");if(h>4)throw new n("tlv.decode(long): byte length is too big");const p=e.subarray(i,i+h);if(p.length!==h)throw new n("tlv.decode: length bytes not complete");if(p[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const m of p)c=c<<8|m;if(i+=h,c<128)throw new n("tlv.decode(long): not minimal encoding")}const u=e.subarray(i,i+c);if(u.length!==c)throw new n("tlv.decode: wrong value length");return{v:u,l:e.subarray(i+c)}}},_int:{encode(r){const{Err:e}=ho;if(r<yo)throw new e("integer: negative integers are not allowed");let n=Af(r);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(r){const{Err:e}=ho;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return tm(r)}},toSig(r){const{Err:e,_int:n,_tlv:i}=ho,s=Un("signature",r),{v:o,l:c}=i.decode(48,s);if(c.length)throw new e("invalid signature: left bytes after parsing");const{v:u,l:h}=i.decode(2,o),{v:p,l:m}=i.decode(2,h);if(m.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(u),s:n.decode(p)}},hexFromSig(r){const{_tlv:e,_int:n}=ho,i=e.encode(2,n.encode(r.r)),s=e.encode(2,n.encode(r.s)),o=i+s;return e.encode(48,o)}},yo=BigInt(0),Pc=BigInt(1),cx=BigInt(2),kf=BigInt(3),A8=BigInt(4);function _c(r,e){const{BYTES:n}=r;let i;if(typeof e=="bigint")i=e;else{let s=Un("private key",e);try{i=r.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!r.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}function I8(r,e={}){const n=W2("weierstrass",r,e),{Fp:i,Fn:s}=n;let o=n.CURVE;const{h:c,n:u}=o;eh(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:h}=e;if(h&&(!i.is0(o.a)||typeof h.beta!="bigint"||!Array.isArray(h.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const p=dx(i,s);function m(){if(!i.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function v(W,b,y){const{x:I,y:B}=b.toAffine(),H=i.toBytes(I);if(wl(y,"isCompressed"),y){m();const q=!i.isOdd(B);return Ns(ux(q),H)}else return Ns(Uint8Array.of(4),H,i.toBytes(B))}function S(W){ls(W,void 0,"Point");const{publicKey:b,publicKeyUncompressed:y}=p,I=W.length,B=W[0],H=W.subarray(1);if(I===b&&(B===2||B===3)){const q=i.fromBytes(H);if(!i.isValid(q))throw new Error("bad point: is not on curve, wrong x");const X=P(q);let ee;try{ee=i.sqrt(X)}catch(_){const U=_ instanceof Error?": "+_.message:"";throw new Error("bad point: is not on curve, sqrt error"+U)}m();const C=i.isOdd(ee);return(B&1)===1!==C&&(ee=i.neg(ee)),{x:q,y:ee}}else if(I===y&&B===4){const q=i.BYTES,X=i.fromBytes(H.subarray(0,q)),ee=i.fromBytes(H.subarray(q,q*2));if(!O(X,ee))throw new Error("bad point: is not on curve");return{x:X,y:ee}}else throw new Error(`bad point: got length ${I}, expected compressed=${b} or uncompressed=${y}`)}const A=e.toBytes||v,N=e.fromBytes||S;function P(W){const b=i.sqr(W),y=i.mul(b,W);return i.add(i.add(y,i.mul(W,o.a)),o.b)}function O(W,b){const y=i.sqr(b),I=P(W);return i.eql(y,I)}if(!O(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const z=i.mul(i.pow(o.a,kf),A8),j=i.mul(i.sqr(o.b),BigInt(27));if(i.is0(i.add(z,j)))throw new Error("bad curve params: a or b");function G(W,b,y=!1){if(!i.isValid(b)||y&&i.is0(b))throw new Error(`bad point coordinate ${W}`);return b}function te(W){if(!(W instanceof M))throw new Error("ProjectivePoint expected")}function ae(W){if(!h||!h.basises)throw new Error("no endo");return b8(W,h.basises,s.ORDER)}const se=yp((W,b)=>{const{X:y,Y:I,Z:B}=W;if(i.eql(B,i.ONE))return{x:y,y:I};const H=W.is0();b==null&&(b=H?i.ONE:i.inv(B));const q=i.mul(y,b),X=i.mul(I,b),ee=i.mul(B,b);if(H)return{x:i.ZERO,y:i.ZERO};if(!i.eql(ee,i.ONE))throw new Error("invZ was invalid");return{x:q,y:X}}),Q=yp(W=>{if(W.is0()){if(e.allowInfinityPoint&&!i.is0(W.Y))return;throw new Error("bad point: ZERO")}const{x:b,y}=W.toAffine();if(!i.isValid(b)||!i.isValid(y))throw new Error("bad point: x or y not field elements");if(!O(b,y))throw new Error("bad point: equation left != right");if(!W.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function V(W,b,y,I,B){return y=new M(i.mul(y.X,W),y.Y,y.Z),b=wp(I,b),y=wp(B,y),b.add(y)}class M{constructor(b,y,I){this.X=G("x",b),this.Y=G("y",y,!0),this.Z=G("z",I),Object.freeze(this)}static CURVE(){return o}static fromAffine(b){const{x:y,y:I}=b||{};if(!b||!i.isValid(y)||!i.isValid(I))throw new Error("invalid affine point");if(b instanceof M)throw new Error("projective point not allowed");return i.is0(y)&&i.is0(I)?M.ZERO:new M(y,I,i.ONE)}static fromBytes(b){const y=M.fromAffine(N(ls(b,void 0,"point")));return y.assertValidity(),y}static fromHex(b){return M.fromBytes(Un("pointHex",b))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(b=8,y=!0){return F.createCache(this,b),y||this.multiply(kf),this}assertValidity(){Q(this)}hasEvenY(){const{y:b}=this.toAffine();if(!i.isOdd)throw new Error("Field doesn't support isOdd");return!i.isOdd(b)}equals(b){te(b);const{X:y,Y:I,Z:B}=this,{X:H,Y:q,Z:X}=b,ee=i.eql(i.mul(y,X),i.mul(H,B)),C=i.eql(i.mul(I,X),i.mul(q,B));return ee&&C}negate(){return new M(this.X,i.neg(this.Y),this.Z)}double(){const{a:b,b:y}=o,I=i.mul(y,kf),{X:B,Y:H,Z:q}=this;let X=i.ZERO,ee=i.ZERO,C=i.ZERO,w=i.mul(B,B),_=i.mul(H,H),U=i.mul(q,q),Y=i.mul(B,H);return Y=i.add(Y,Y),C=i.mul(B,q),C=i.add(C,C),X=i.mul(b,C),ee=i.mul(I,U),ee=i.add(X,ee),X=i.sub(_,ee),ee=i.add(_,ee),ee=i.mul(X,ee),X=i.mul(Y,X),C=i.mul(I,C),U=i.mul(b,U),Y=i.sub(w,U),Y=i.mul(b,Y),Y=i.add(Y,C),C=i.add(w,w),w=i.add(C,w),w=i.add(w,U),w=i.mul(w,Y),ee=i.add(ee,w),U=i.mul(H,q),U=i.add(U,U),w=i.mul(U,Y),X=i.sub(X,w),C=i.mul(U,_),C=i.add(C,C),C=i.add(C,C),new M(X,ee,C)}add(b){te(b);const{X:y,Y:I,Z:B}=this,{X:H,Y:q,Z:X}=b;let ee=i.ZERO,C=i.ZERO,w=i.ZERO;const _=o.a,U=i.mul(o.b,kf);let Y=i.mul(y,H),ie=i.mul(I,q),ue=i.mul(B,X),Se=i.add(y,I),Te=i.add(H,q);Se=i.mul(Se,Te),Te=i.add(Y,ie),Se=i.sub(Se,Te),Te=i.add(y,B);let Je=i.add(H,X);return Te=i.mul(Te,Je),Je=i.add(Y,ue),Te=i.sub(Te,Je),Je=i.add(I,B),ee=i.add(q,X),Je=i.mul(Je,ee),ee=i.add(ie,ue),Je=i.sub(Je,ee),w=i.mul(_,Te),ee=i.mul(U,ue),w=i.add(ee,w),ee=i.sub(ie,w),w=i.add(ie,w),C=i.mul(ee,w),ie=i.add(Y,Y),ie=i.add(ie,Y),ue=i.mul(_,ue),Te=i.mul(U,Te),ie=i.add(ie,ue),ue=i.sub(Y,ue),ue=i.mul(_,ue),Te=i.add(Te,ue),Y=i.mul(ie,Te),C=i.add(C,Y),Y=i.mul(Je,Te),ee=i.mul(Se,ee),ee=i.sub(ee,Y),Y=i.mul(Se,ie),w=i.mul(Je,w),w=i.add(w,Y),new M(ee,C,w)}subtract(b){return this.add(b.negate())}is0(){return this.equals(M.ZERO)}multiply(b){const{endo:y}=e;if(!s.isValidNot0(b))throw new Error("invalid scalar: out of range");let I,B;const H=q=>F.cached(this,q,X=>sl(M,X));if(y){const{k1neg:q,k1:X,k2neg:ee,k2:C}=ae(b),{p:w,f:_}=H(X),{p:U,f:Y}=H(C);B=_.add(Y),I=V(y.beta,w,U,q,ee)}else{const{p:q,f:X}=H(b);I=q,B=X}return sl(M,[I,B])[0]}multiplyUnsafe(b){const{endo:y}=e,I=this;if(!s.isValid(b))throw new Error("invalid scalar: out of range");if(b===yo||I.is0())return M.ZERO;if(b===Pc)return I;if(F.hasCache(this))return this.multiply(b);if(y){const{k1neg:B,k1:H,k2neg:q,k2:X}=ae(b),{p1:ee,p2:C}=PD(M,I,H,X);return V(y.beta,ee,C,B,q)}else return F.unsafe(I,b)}multiplyAndAddUnsafe(b,y,I){const B=this.multiplyUnsafe(y).add(b.multiplyUnsafe(I));return B.is0()?void 0:B}toAffine(b){return se(this,b)}isTorsionFree(){const{isTorsionFree:b}=e;return c===Pc?!0:b?b(M,this):F.unsafe(this,u).is0()}clearCofactor(){const{clearCofactor:b}=e;return c===Pc?this:b?b(M,this):this.multiplyUnsafe(c)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}toBytes(b=!0){return wl(b,"isCompressed"),this.assertValidity(),A(M,this,b)}toHex(b=!0){return fl(this.toBytes(b))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(b=!0){return this.toBytes(b)}_setWindowSize(b){this.precompute(b)}static normalizeZ(b){return sl(M,b)}static msm(b,y){return F2(M,s,b,y)}static fromPrivateKey(b){return M.BASE.multiply(_c(s,b))}}M.BASE=new M(o.Gx,o.Gy,i.ONE),M.ZERO=new M(i.ZERO,i.ONE,i.ZERO),M.Fp=i,M.Fn=s;const D=s.BITS,F=new V2(M,e.endo?Math.ceil(D/2):D);return M.BASE.precompute(8),M}function ux(r){return Uint8Array.of(r?2:3)}function dx(r,e){return{secretKey:e.BYTES,publicKey:1+r.BYTES,publicKeyUncompressed:1+2*r.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function T8(r,e={}){const{Fn:n}=r,i=e.randomBytes||Ev,s=Object.assign(dx(r.Fp,n),{seed:D2(n.ORDER)});function o(A){try{return!!_c(n,A)}catch{return!1}}function c(A,N){const{publicKey:P,publicKeyUncompressed:O}=s;try{const z=A.length;return N===!0&&z!==P||N===!1&&z!==O?!1:!!r.fromBytes(A)}catch{return!1}}function u(A=i(s.seed)){return xD(ls(A,s.seed,"seed"),n.ORDER)}function h(A,N=!0){return r.BASE.multiply(_c(n,A)).toBytes(N)}function p(A){const N=u(A);return{secretKey:N,publicKey:h(N)}}function m(A){if(typeof A=="bigint")return!1;if(A instanceof r)return!0;const{secretKey:N,publicKey:P,publicKeyUncompressed:O}=s;if(n.allowedLengths||N===P)return;const z=Un("key",A).length;return z===P||z===O}function v(A,N,P=!0){if(m(A)===!0)throw new Error("first arg must be private key");if(m(N)===!1)throw new Error("second arg must be public key");const O=_c(n,A);return r.fromHex(N).multiply(O).toBytes(P)}return Object.freeze({getPublicKey:h,getSharedSecret:v,keygen:p,Point:r,utils:{isValidSecretKey:o,isValidPublicKey:c,randomSecretKey:u,isValidPrivateKey:o,randomPrivateKey:u,normPrivateKeyToScalar:A=>_c(n,A),precompute(A=8,N=r.BASE){return N.precompute(A,!1)}},lengths:s})}function k8(r,e,n={}){g2(e),eh(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const i=n.randomBytes||Ev,s=n.hmac||((y,...I)=>lx(e,y,Ns(...I))),{Fp:o,Fn:c}=r,{ORDER:u,BITS:h}=c,{keygen:p,getPublicKey:m,getSharedSecret:v,utils:S,lengths:A}=T8(r,n),N={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},P="compact";function O(y){const I=u>>Pc;return y>I}function z(y,I){if(!c.isValidNot0(I))throw new Error(`invalid signature ${y}: out of range 1..Point.Fn.ORDER`);return I}function j(y,I){J0(I);const B=A.signature,H=I==="compact"?B:I==="recovered"?B+1:void 0;return ls(y,H,`${I} signature`)}class G{constructor(I,B,H){this.r=z("r",I),this.s=z("s",B),H!=null&&(this.recovery=H),Object.freeze(this)}static fromBytes(I,B=P){j(I,B);let H;if(B==="der"){const{r:C,s:w}=ho.toSig(ls(I));return new G(C,w)}B==="recovered"&&(H=I[0],B="compact",I=I.subarray(1));const q=c.BYTES,X=I.subarray(0,q),ee=I.subarray(q,q*2);return new G(c.fromBytes(X),c.fromBytes(ee),H)}static fromHex(I,B){return this.fromBytes(gp(I),B)}addRecoveryBit(I){return new G(this.r,this.s,I)}recoverPublicKey(I){const B=o.ORDER,{r:H,s:q,recovery:X}=this;if(X==null||![0,1,2,3].includes(X))throw new Error("recovery id invalid");if(u*cx<B&&X>1)throw new Error("recovery id is ambiguous for h>1 curve");const C=X===2||X===3?H+u:H;if(!o.isValid(C))throw new Error("recovery id 2 or 3 invalid");const w=o.toBytes(C),_=r.fromBytes(Ns(ux((X&1)===0),w)),U=c.inv(C),Y=ae(Un("msgHash",I)),ie=c.create(-Y*U),ue=c.create(q*U),Se=r.BASE.multiplyUnsafe(ie).add(_.multiplyUnsafe(ue));if(Se.is0())throw new Error("point at infinify");return Se.assertValidity(),Se}hasHighS(){return O(this.s)}toBytes(I=P){if(J0(I),I==="der")return gp(ho.hexFromSig(this));const B=c.toBytes(this.r),H=c.toBytes(this.s);if(I==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Ns(Uint8Array.of(this.recovery),B,H)}return Ns(B,H)}toHex(I){return fl(this.toBytes(I))}assertValidity(){}static fromCompact(I){return G.fromBytes(Un("sig",I),"compact")}static fromDER(I){return G.fromBytes(Un("sig",I),"der")}normalizeS(){return this.hasHighS()?new G(this.r,c.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return fl(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return fl(this.toBytes("compact"))}}const te=n.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const B=tm(I),H=I.length*8-h;return H>0?B>>BigInt(H):B},ae=n.bits2int_modN||function(I){return c.create(te(I))},se=Zd(h);function Q(y){return X0("num < 2^"+h,y,yo,se),c.toBytes(y)}function V(y,I){return ls(y,void 0,"message"),I?ls(e(y),void 0,"prehashed message"):y}function M(y,I,B){if(["recovered","canonical"].some(ie=>ie in B))throw new Error("sign() legacy options not supported");const{lowS:H,prehash:q,extraEntropy:X}=Py(B,N);y=V(y,q);const ee=ae(y),C=_c(c,I),w=[Q(C),Q(ee)];if(X!=null&&X!==!1){const ie=X===!0?i(A.secretKey):X;w.push(Un("extraEntropy",ie))}const _=Ns(...w),U=ee;function Y(ie){const ue=te(ie);if(!c.isValidNot0(ue))return;const Se=c.inv(ue),Te=r.BASE.multiply(ue).toAffine(),Je=c.create(Te.x);if(Je===yo)return;const ht=c.create(Se*c.create(U+Je*C));if(ht===yo)return;let St=(Te.x===Je?0:2)|Number(Te.y&Pc),wn=ht;return H&&O(ht)&&(wn=c.neg(ht),St^=1),new G(Je,wn,St)}return{seed:_,k2sig:Y}}function D(y,I,B={}){y=Un("message",y);const{seed:H,k2sig:q}=M(y,I,B);return wD(e.outputLen,c.BYTES,s)(H,q)}function F(y){let I;const B=typeof y=="string"||Jd(y),H=!B&&y!==null&&typeof y=="object"&&typeof y.r=="bigint"&&typeof y.s=="bigint";if(!B&&!H)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(H)I=new G(y.r,y.s);else if(B){try{I=G.fromBytes(Un("sig",y),"der")}catch(q){if(!(q instanceof ho.Err))throw q}if(!I)try{I=G.fromBytes(Un("sig",y),"compact")}catch{return!1}}return I||!1}function W(y,I,B,H={}){const{lowS:q,prehash:X,format:ee}=Py(H,N);if(B=Un("publicKey",B),I=V(Un("message",I),X),"strict"in H)throw new Error("options.strict was renamed to lowS");const C=ee===void 0?F(y):G.fromBytes(Un("sig",y),ee);if(C===!1)return!1;try{const w=r.fromBytes(B);if(q&&C.hasHighS())return!1;const{r:_,s:U}=C,Y=ae(I),ie=c.inv(U),ue=c.create(Y*ie),Se=c.create(_*ie),Te=r.BASE.multiplyUnsafe(ue).add(w.multiplyUnsafe(Se));return Te.is0()?!1:c.create(Te.x)===_}catch{return!1}}function b(y,I,B={}){const{prehash:H}=Py(B,N);return I=V(I,H),G.fromBytes(y,"recovered").recoverPublicKey(I).toBytes()}return Object.freeze({keygen:p,getPublicKey:m,getSharedSecret:v,utils:S,lengths:A,Point:r,sign:D,verify:W,recoverPublicKey:b,Signature:G,hash:e})}function x8(r){const e={a:r.a,b:r.b,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},n=r.Fp;let i=r.allowedPrivateKeyLengths?Array.from(new Set(r.allowedPrivateKeyLengths.map(c=>Math.ceil(c/2)))):void 0;const s=Il(e.n,{BITS:r.nBitLength,allowedLengths:i,modFromBytes:r.wrapPrivateKey}),o={Fp:n,Fn:s,allowInfinityPoint:r.allowInfinityPoint,endo:r.endo,isTorsionFree:r.isTorsionFree,clearCofactor:r.clearCofactor,fromBytes:r.fromBytes,toBytes:r.toBytes};return{CURVE:e,curveOpts:o}}function R8(r){const{CURVE:e,curveOpts:n}=x8(r),i={hmac:r.hmac,randomBytes:r.randomBytes,lowS:r.lowS,bits2int:r.bits2int,bits2int_modN:r.bits2int_modN};return{CURVE:e,curveOpts:n,hash:r.hash,ecdsaOpts:i}}function C8(r,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},r,O2(n.Fn.ORDER,n.Fn.BITS))})}function P8(r){const{CURVE:e,curveOpts:n,hash:i,ecdsaOpts:s}=R8(r),o=I8(e,n),c=k8(o,i,s);return C8(r,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function M8(r,e){const n=i=>P8({...r,hash:i});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mv={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},N8={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},FS=BigInt(2);function O8(r){const e=Mv.p,n=BigInt(3),i=BigInt(6),s=BigInt(11),o=BigInt(22),c=BigInt(23),u=BigInt(44),h=BigInt(88),p=r*r*r%e,m=p*p*r%e,v=Bn(m,n,e)*m%e,S=Bn(v,n,e)*m%e,A=Bn(S,FS,e)*p%e,N=Bn(A,s,e)*A%e,P=Bn(N,o,e)*N%e,O=Bn(P,u,e)*P%e,z=Bn(O,h,e)*O%e,j=Bn(z,u,e)*P%e,G=Bn(j,n,e)*m%e,te=Bn(G,c,e)*N%e,ae=Bn(te,i,e)*p%e,se=Bn(ae,FS,e);if(!Z0.eql(Z0.sqr(se),r))throw new Error("Cannot find square root");return se}const Z0=Il(Mv.p,{sqrt:O8}),Nv=M8({...Mv,Fp:Z0,lowS:!0,endo:N8},b2),L8=lu.utils.randomPrivateKey,WS=()=>{const r=lu.utils.randomPrivateKey(),e=Ap(r),n=new Uint8Array(64);return n.set(r),n.set(e,32),{publicKey:e,secretKey:n}},Ap=lu.getPublicKey;function zS(r){try{return lu.ExtendedPoint.fromHex(r),!0}catch{return!1}}const Ov=(r,e)=>lu.sign(r,e.slice(0,32)),D8=lu.verify,kt=r=>ft.Buffer.isBuffer(r)?r:r instanceof Uint8Array?ft.Buffer.from(r.buffer,r.byteOffset,r.byteLength):ft.Buffer.from(r);class Lv{constructor(e){Object.assign(this,e)}encode(){return ft.Buffer.from(by.serialize(yd,this))}static decode(e){return by.deserialize(yd,this,e)}static decodeUnchecked(e){return by.deserializeUnchecked(yd,this,e)}}class B8 extends Lv{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const yd=new Map;var hx;const fx=32,js=32;function U8(r){return r._bn!==void 0}let jS=1;class Ue extends Lv{constructor(e){if(super({}),this._bn=void 0,U8(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Sr.decode(e);if(n.length!=js)throw new Error("Invalid public key input");this._bn=new bS(n)}else this._bn=new bS(e);if(this._bn.byteLength()>js)throw new Error("Invalid public key input")}}static unique(){const e=new Ue(jS);return jS+=1,new Ue(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Sr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ft.Buffer);if(e.length===js)return e;const n=ft.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,i){const s=ft.Buffer.concat([e.toBuffer(),ft.Buffer.from(n),i.toBuffer()]),o=TS(s);return new Ue(o)}static createProgramAddressSync(e,n){let i=ft.Buffer.alloc(0);e.forEach(function(o){if(o.length>fx)throw new TypeError("Max seed length exceeded");i=ft.Buffer.concat([i,kt(o)])}),i=ft.Buffer.concat([i,n.toBuffer(),ft.Buffer.from("ProgramDerivedAddress")]);const s=TS(i);if(zS(s))throw new Error("Invalid seeds, address must fall off the curve");return new Ue(s)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let i=255,s;for(;i!=0;){try{const o=e.concat(ft.Buffer.from([i]));s=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;i--;continue}return[s,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Ue(e);return zS(n.toBytes())}}hx=Ue;Ue.default=new hx("11111111111111111111111111111111");yd.set(Ue,{kind:"struct",fields:[["_bn","u256"]]});class V8{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=kt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=kt(L8()),this._publicKey=kt(Ap(this._secretKey))}get publicKey(){return new Ue(this._publicKey)}get secretKey(){return ft.Buffer.concat([this._secretKey,this._publicKey],64)}}const F8=new Ue("BPFLoader1111111111111111111111111111111111"),ba=1232,om=127,Nd=64;class Dv extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Dv.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Bv extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Bv.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ec extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ec.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Od{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const i=new Map;this.keySegments().flat().forEach((o,c)=>{i.set(o.toBase58(),c)});const s=o=>{const c=i.get(o.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(o=>({programIdIndex:s(o.programId),accountKeyIndexes:o.keys.map(c=>s(c.pubkey)),data:o.data}))}}const Lt=(r="publicKey")=>re.blob(32,r),W8=(r="signature")=>re.blob(64,r),ol=(r="string")=>{const e=re.struct([re.u32("length"),re.u32("lengthPadding"),re.blob(re.offset(re.u32(),-8),"chars")],r),n=e.decode.bind(e),i=e.encode.bind(e),s=e;return s.decode=(o,c)=>n(o,c).chars.toString(),s.encode=(o,c,u)=>{const h={chars:ft.Buffer.from(o,"utf8")};return i(h,c,u)},s.alloc=o=>re.u32().span+re.u32().span+ft.Buffer.from(o,"utf8").length,s},z8=(r="authorized")=>re.struct([Lt("staker"),Lt("withdrawer")],r),j8=(r="lockup")=>re.struct([re.ns64("unixTimestamp"),re.ns64("epoch"),Lt("custodian")],r),q8=(r="voteInit")=>re.struct([Lt("nodePubkey"),Lt("authorizedVoter"),Lt("authorizedWithdrawer"),re.u8("commission")],r),$8=(r="voteAuthorizeWithSeedArgs")=>re.struct([re.u32("voteAuthorizationType"),Lt("currentAuthorityDerivedKeyOwnerPubkey"),ol("currentAuthorityDerivedKeySeed"),Lt("newAuthorized")],r);function px(r,e){const n=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const o=e[s.property];if(Array.isArray(o))return o.length*n(s.elementLayout)}else if("fields"in s)return px({layout:s},e[s.property]);return 0};let i=0;return r.layout.fields.forEach(s=>{i+=n(s)}),i}function ui(r){let e=0,n=0;for(;;){let i=r.shift();if(e|=(i&127)<<n*7,n+=1,(i&128)===0)break}return e}function Ti(r,e){let n=e;for(;;){let i=n&127;if(n>>=7,n==0){r.push(i);break}else i|=128,r.push(i)}}function on(r,e){if(!r)throw new Error(e||"Assertion failed")}class am{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const i=new Map,s=c=>{const u=c.toBase58();let h=i.get(u);return h===void 0&&(h={isSigner:!1,isWritable:!1,isInvoked:!1},i.set(u,h)),h},o=s(n);o.isSigner=!0,o.isWritable=!0;for(const c of e){s(c.programId).isInvoked=!0;for(const u of c.keys){const h=s(u.pubkey);h.isSigner||=u.isSigner,h.isWritable||=u.isWritable}}return new am(n,i)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];on(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,h])=>h.isSigner&&h.isWritable),i=e.filter(([,h])=>h.isSigner&&!h.isWritable),s=e.filter(([,h])=>!h.isSigner&&h.isWritable),o=e.filter(([,h])=>!h.isSigner&&!h.isWritable),c={numRequiredSignatures:n.length+i.length,numReadonlySignedAccounts:i.length,numReadonlyUnsignedAccounts:o.length};{on(n.length>0,"Expected at least one writable signer key");const[h]=n[0];on(h===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...n.map(([h])=>new Ue(h)),...i.map(([h])=>new Ue(h)),...s.map(([h])=>new Ue(h)),...o.map(([h])=>new Ue(h))];return[c,u]}extractTableLookup(e){const[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[s,o]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:i,readonly:o}]}drainKeysFoundInLookupTable(e,n){const i=new Array,s=new Array;for(const[o,c]of this.keyMetaMap.entries())if(n(c)){const u=new Ue(o),h=e.findIndex(p=>p.equals(u));h>=0&&(on(h<256,"Max lookup table index exceeded"),i.push(h),s.push(u),this.keyMetaMap.delete(o))}return[i,s]}}const mx="Reached end of buffer unexpectedly";function Os(r){if(r.length===0)throw new Error(mx);return r.shift()}function di(r,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>r.length:n>=r.length)throw new Error(mx);return r.splice(...e)}class fs{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Ue(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Sr.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Od(this.staticAccountKeys)}static compile(e){const n=am.compile(e.instructions,e.payerKey),[i,s]=n.getMessageComponents(),c=new Od(s).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:Sr.encode(u.data)}));return new fs({header:i,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const i=e-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Ti(n,e);const i=this.instructions.map(v=>{const{accounts:S,programIdIndex:A}=v,N=Array.from(Sr.decode(v.data));let P=[];Ti(P,S.length);let O=[];return Ti(O,N.length),{programIdIndex:A,keyIndicesCount:ft.Buffer.from(P),keyIndices:S,dataLength:ft.Buffer.from(O),data:N}});let s=[];Ti(s,i.length);let o=ft.Buffer.alloc(ba);ft.Buffer.from(s).copy(o);let c=s.length;i.forEach(v=>{const A=re.struct([re.u8("programIdIndex"),re.blob(v.keyIndicesCount.length,"keyIndicesCount"),re.seq(re.u8("keyIndex"),v.keyIndices.length,"keyIndices"),re.blob(v.dataLength.length,"dataLength"),re.seq(re.u8("userdatum"),v.data.length,"data")]).encode(v,o,c);c+=A}),o=o.slice(0,c);const u=re.struct([re.blob(1,"numRequiredSignatures"),re.blob(1,"numReadonlySignedAccounts"),re.blob(1,"numReadonlyUnsignedAccounts"),re.blob(n.length,"keyCount"),re.seq(Lt("key"),e,"keys"),Lt("recentBlockhash")]),h={numRequiredSignatures:ft.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ft.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ft.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ft.Buffer.from(n),keys:this.accountKeys.map(v=>kt(v.toBytes())),recentBlockhash:Sr.decode(this.recentBlockhash)};let p=ft.Buffer.alloc(2048);const m=u.encode(h,p);return o.copy(p,m),p.slice(0,m+o.length)}static from(e){let n=[...e];const i=Os(n);if(i!==(i&om))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Os(n),o=Os(n),c=ui(n);let u=[];for(let S=0;S<c;S++){const A=di(n,0,js);u.push(new Ue(ft.Buffer.from(A)))}const h=di(n,0,js),p=ui(n);let m=[];for(let S=0;S<p;S++){const A=Os(n),N=ui(n),P=di(n,0,N),O=ui(n),z=di(n,0,O),j=Sr.encode(ft.Buffer.from(z));m.push({programIdIndex:A,accounts:P,data:j})}const v={header:{numRequiredSignatures:i,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:o},recentBlockhash:Sr.encode(ft.Buffer.from(h)),accountKeys:u,instructions:m};return new fs(v)}}class vl{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Od(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,i=this.staticAccountKeys.length;if(e>=i){const s=e-i,o=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return s<o}else if(e>=this.header.numRequiredSignatures){const s=e-n,c=i-n-this.header.numReadonlyUnsignedAccounts;return s<c}else{const s=n-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const i of this.addressTableLookups){const s=e.find(o=>o.key.equals(i.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${i.accountKey.toBase58()}`);for(const o of i.writableIndexes)if(o<s.state.addresses.length)n.writable.push(s.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${i.accountKey.toBase58()}`);for(const o of i.readonlyIndexes)if(o<s.state.addresses.length)n.readonly.push(s.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${i.accountKey.toBase58()}`)}return n}static compile(e){const n=am.compile(e.instructions,e.payerKey),i=new Array,s={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const m of o){const v=n.extractTableLookup(m);if(v!==void 0){const[S,{writable:A,readonly:N}]=v;i.push(S),s.writable.push(...A),s.readonly.push(...N)}}const[c,u]=n.getMessageComponents(),p=new Od(u,s).compileInstructions(e.instructions);return new vl({header:c,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:p,addressTableLookups:i})}serialize(){const e=Array();Ti(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),i=Array();Ti(i,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),o=Array();Ti(o,this.addressTableLookups.length);const c=re.struct([re.u8("prefix"),re.struct([re.u8("numRequiredSignatures"),re.u8("numReadonlySignedAccounts"),re.u8("numReadonlyUnsignedAccounts")],"header"),re.blob(e.length,"staticAccountKeysLength"),re.seq(Lt(),this.staticAccountKeys.length,"staticAccountKeys"),Lt("recentBlockhash"),re.blob(i.length,"instructionsLength"),re.blob(n.length,"serializedInstructions"),re.blob(o.length,"addressTableLookupsLength"),re.blob(s.length,"serializedAddressTableLookups")]),u=new Uint8Array(ba),p=c.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(m=>m.toBytes()),recentBlockhash:Sr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(i),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:s},u);return u.slice(0,p)}serializeInstructions(){let e=0;const n=new Uint8Array(ba);for(const i of this.compiledInstructions){const s=Array();Ti(s,i.accountKeyIndexes.length);const o=Array();Ti(o,i.data.length);const c=re.struct([re.u8("programIdIndex"),re.blob(s.length,"encodedAccountKeyIndexesLength"),re.seq(re.u8(),i.accountKeyIndexes.length,"accountKeyIndexes"),re.blob(o.length,"encodedDataLength"),re.blob(i.data.length,"data")]);e+=c.encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:i.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(ba);for(const i of this.addressTableLookups){const s=Array();Ti(s,i.writableIndexes.length);const o=Array();Ti(o,i.readonlyIndexes.length);const c=re.struct([Lt("accountKey"),re.blob(s.length,"encodedWritableIndexesLength"),re.seq(re.u8(),i.writableIndexes.length,"writableIndexes"),re.blob(o.length,"encodedReadonlyIndexesLength"),re.seq(re.u8(),i.readonlyIndexes.length,"readonlyIndexes")]);e+=c.encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:i.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const i=Os(n),s=i&om;on(i!==s,"Expected versioned message but received legacy message");const o=s;on(o===0,`Expected versioned message with version 0 but found version ${o}`);const c={numRequiredSignatures:Os(n),numReadonlySignedAccounts:Os(n),numReadonlyUnsignedAccounts:Os(n)},u=[],h=ui(n);for(let N=0;N<h;N++)u.push(new Ue(di(n,0,js)));const p=Sr.encode(di(n,0,js)),m=ui(n),v=[];for(let N=0;N<m;N++){const P=Os(n),O=ui(n),z=di(n,0,O),j=ui(n),G=new Uint8Array(di(n,0,j));v.push({programIdIndex:P,accountKeyIndexes:z,data:G})}const S=ui(n),A=[];for(let N=0;N<S;N++){const P=new Ue(di(n,0,js)),O=ui(n),z=di(n,0,O),j=ui(n),G=di(n,0,j);A.push({accountKey:P,writableIndexes:z,readonlyIndexes:G})}return new vl({header:c,staticAccountKeys:u,recentBlockhash:p,compiledInstructions:v,addressTableLookups:A})}}const Uv={deserializeMessageVersion(r){const e=r[0],n=e&om;return n===e?"legacy":n},deserialize:r=>{const e=Uv.deserializeMessageVersion(r);if(e==="legacy")return fs.from(r);if(e===0)return vl.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let uo=(function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r})({});const K8=ft.Buffer.alloc(Nd).fill(0);class yn{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ft.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:i})=>({pubkey:e.toJSON(),isSigner:n,isWritable:i})),programId:this.programId.toJSON(),data:[...this.data]}}}class en{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:i}=e;this.minNonceContextSlot=n,this.nonceInfo=i}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:i}=e;this.recentBlockhash=n,this.lastValidBlockHeight=i}else{const{recentBlockhash:n,nonceInfo:i}=e;i&&(this.nonceInfo=i),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new yn(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let i;if(this.feePayer)i=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)i=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let P=0;P<n.length;P++)if(n[P].programId===void 0)throw new Error(`Transaction instruction index ${P} has undefined program id`);const s=[],o=[];n.forEach(P=>{P.keys.forEach(z=>{o.push({...z})});const O=P.programId.toString();s.includes(O)||s.push(O)}),s.forEach(P=>{o.push({pubkey:new Ue(P),isSigner:!1,isWritable:!1})});const c=[];o.forEach(P=>{const O=P.pubkey.toString(),z=c.findIndex(j=>j.pubkey.toString()===O);z>-1?(c[z].isWritable=c[z].isWritable||P.isWritable,c[z].isSigner=c[z].isSigner||P.isSigner):c.push(P)}),c.sort(function(P,O){if(P.isSigner!==O.isSigner)return P.isSigner?-1:1;if(P.isWritable!==O.isWritable)return P.isWritable?-1:1;const z={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return P.pubkey.toBase58().localeCompare(O.pubkey.toBase58(),"en",z)});const u=c.findIndex(P=>P.pubkey.equals(i));if(u>-1){const[P]=c.splice(u,1);P.isSigner=!0,P.isWritable=!0,c.unshift(P)}else c.unshift({pubkey:i,isSigner:!0,isWritable:!0});for(const P of this.signatures){const O=c.findIndex(z=>z.pubkey.equals(P.publicKey));if(O>-1)c[O].isSigner||(c[O].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${P.publicKey.toString()}`)}let h=0,p=0,m=0;const v=[],S=[];c.forEach(({pubkey:P,isSigner:O,isWritable:z})=>{O?(v.push(P.toString()),h+=1,z||(p+=1)):(S.push(P.toString()),z||(m+=1))});const A=v.concat(S),N=n.map(P=>{const{data:O,programId:z}=P;return{programIdIndex:A.indexOf(z.toString()),accounts:P.keys.map(j=>A.indexOf(j.pubkey.toString())),data:Sr.encode(O)}});return N.forEach(P=>{on(P.programIdIndex>=0),P.accounts.forEach(O=>on(O>=0))}),new fs({header:{numRequiredSignatures:h,numReadonlySignedAccounts:p,numReadonlyUnsignedAccounts:m},accountKeys:A,recentBlockhash:e,instructions:N})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,o)=>n[o].equals(s.publicKey))||(this.signatures=n.map(i=>({signature:null,publicKey:i}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(i=>{const s=i.toString();return n.has(s)?!1:(n.add(s),!0)}).map(i=>({signature:null,publicKey:i}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,i=[];for(const o of e){const c=o.publicKey.toString();n.has(c)||(n.add(c),i.push(o))}this.signatures=i.map(o=>({signature:null,publicKey:o.publicKey}));const s=this._compile();this._partialSign(s,...i)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,i=[];for(const o of e){const c=o.publicKey.toString();n.has(c)||(n.add(c),i.push(o))}const s=this._compile();this._partialSign(s,...i)}_partialSign(e,...n){const i=e.serialize();n.forEach(s=>{const o=Ov(i,s.secretKey);this._addSignature(s.publicKey,kt(o))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){on(n.length===64);const i=this.signatures.findIndex(s=>e.equals(s.publicKey));if(i<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[i].signature=ft.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const i={};for(const{signature:s,publicKey:o}of this.signatures)s===null?n&&(i.missing||=[]).push(o):D8(s,e,o.toBytes())||(i.invalid||=[]).push(o);return i.invalid||i.missing?i:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:i}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(i){const o=this._getMessageSignednessErrors(s,n);if(o){let c="Signature verification failed.";throw o.invalid&&(c+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(u=>u.toBase58()).join("`, `")}\`].`),o.missing&&(c+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(u=>u.toBase58()).join("`, `")}\`].`),new Error(c)}}return this._serialize(s)}_serialize(e){const{signatures:n}=this,i=[];Ti(i,n.length);const s=i.length+n.length*64+e.length,o=ft.Buffer.alloc(s);return on(n.length<256),ft.Buffer.from(i).copy(o,0),n.forEach(({signature:c},u)=>{c!==null&&(on(c.length===64,"signature has invalid length"),ft.Buffer.from(c).copy(o,i.length+u*64))}),e.copy(o,i.length+n.length*64),on(o.length<=ba,`Transaction too large: ${o.length} > ${ba}`),o}get keys(){return on(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return on(this.instructions.length===1),this.instructions[0].programId}get data(){return on(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const i=ui(n);let s=[];for(let o=0;o<i;o++){const c=di(n,0,Nd);s.push(Sr.encode(ft.Buffer.from(c)))}return en.populate(fs.from(n),s)}static populate(e,n=[]){const i=new en;return i.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(i.feePayer=e.accountKeys[0]),n.forEach((s,o)=>{const c={signature:s==Sr.encode(K8)?null:Sr.decode(s),publicKey:e.accountKeys[o]};i.signatures.push(c)}),e.instructions.forEach(s=>{const o=s.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:i.signatures.some(h=>h.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});i.instructions.push(new yn({keys:o,programId:e.accountKeys[s.programIdIndex],data:Sr.decode(s.data)}))}),i._message=e,i._json=i.toJSON(),i}}class Vv{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:i,compiledInstructions:s,recentBlockhash:o}=e,{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:h}=i,p=c-u;on(p>0,"Message header is invalid");const m=e.staticAccountKeys.length-c-h;on(m>=0,"Message header is invalid");const v=e.getAccountKeys(n),S=v.get(0);if(S===void 0)throw new Error("Failed to decompile message because no account keys were found");const A=[];for(const N of s){const P=[];for(const z of N.accountKeyIndexes){const j=v.get(z);if(j===void 0)throw new Error(`Failed to find key for account key index ${z}`);const G=z<c;let te;G?te=z<p:z<v.staticAccountKeys.length?te=z-c<m:te=z-v.staticAccountKeys.length<v.accountKeysFromLookups.writable.length,P.push({pubkey:j,isSigner:z<i.numRequiredSignatures,isWritable:te})}const O=v.get(N.programIdIndex);if(O===void 0)throw new Error(`Failed to find program id for program id index ${N.programIdIndex}`);A.push(new yn({programId:O,data:kt(N.data),keys:P}))}return new Vv({payerKey:S,instructions:A,recentBlockhash:o})}compileToLegacyMessage(){return fs.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return vl.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class Ld{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)on(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const i=[];for(let s=0;s<e.header.numRequiredSignatures;s++)i.push(new Uint8Array(Nd));this.signatures=i}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Ti(n,this.signatures.length);const i=re.struct([re.blob(n.length,"encodedSignaturesLength"),re.seq(W8(),this.signatures.length,"signatures"),re.blob(e.length,"serializedMessage")]),s=new Uint8Array(2048),o=i.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,o)}static deserialize(e){let n=[...e];const i=[],s=ui(n);for(let c=0;c<s;c++)i.push(new Uint8Array(di(n,0,Nd)));const o=Uv.deserialize(new Uint8Array(n));return new Ld(o,i)}sign(e){const n=this.message.serialize(),i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const o=i.findIndex(c=>c.equals(s.publicKey));on(o>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[o]=Ov(n,s.secretKey)}}addSignature(e,n){on(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));on(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}const H8=160,G8=64,Q8=H8/G8,gx=1e3/Q8,Ps=new Ue("SysvarC1ock11111111111111111111111111111111"),Y8=new Ue("SysvarEpochSchedu1e111111111111111111111111"),X8=new Ue("Sysvar1nstructions1111111111111111111111111"),Kf=new Ue("SysvarRecentB1ockHashes11111111111111111111"),Gc=new Ue("SysvarRent111111111111111111111111111111111"),J8=new Ue("SysvarRewards111111111111111111111111111111"),Z8=new Ue("SysvarS1otHashes111111111111111111111111111"),eU=new Ue("SysvarS1otHistory11111111111111111111111111"),Hf=new Ue("SysvarStakeHistory1111111111111111111111111");class Dd extends Error{constructor({action:e,signature:n,transactionMessage:i,logs:s}){const o=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",c="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let u;switch(e){case"send":u=`Transaction ${n} resulted in an error. 
${i}. `+o+c;break;case"simulate":u=`Simulation failed. 
Message: ${i}. 
`+o+c;break;default:u=`Unknown action '${(h=>h)(e)}'`}super(u),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=i,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,i)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const o=s.meta.logMessages;this.transactionLogs=o,n(o)}else i(new Error("Log messages not found"))}).catch(i)})),await this.transactionLogs}}const tU={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class st extends Error{constructor({code:e,message:n,data:i},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=i,this.name="SolanaJSONRPCError"}}async function ew(r,e,n,i){const s=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},o=await r.sendTransaction(e,n,s);let c;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)c=(await r.confirmTransaction({abortSignal:i?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},i&&i.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:u}=e.nonceInfo,h=u.keys[0].pubkey;c=(await r.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:h,nonceValue:e.nonceInfo.nonce,signature:o},i&&i.commitment)).value}else i?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),c=(await r.confirmTransaction(o,i&&i.commitment)).value;if(c.err)throw o!=null?new Dd({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(c)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(c)})`);return o}function tl(r){return new Promise(e=>setTimeout(e,r))}function Xt(r,e){const n=r.layout.span>=0?r.layout.span:px(r,e),i=ft.Buffer.alloc(n),s=Object.assign({instruction:r.index},e);return r.layout.encode(s,i),i}function dn(r,e){let n;try{n=r.layout.decode(e)}catch(i){throw new Error("invalid instruction; "+i)}if(n.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${r.index}`);return n}const yx=re.nu64("lamportsPerSignature"),wx=re.struct([re.u32("version"),re.u32("state"),Lt("authorizedPubkey"),Lt("nonce"),re.struct([yx],"feeCalculator")]),tw=wx.span;class lm{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=wx.decode(kt(e),0);return new lm({authorizedPubkey:new Ue(n.authorizedPubkey),nonce:new Ue(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Qc(r){const e=re.blob(8,r),n=e.decode.bind(e),i=e.encode.bind(e),s=e,o=PB();return s.decode=(c,u)=>{const h=n(c,u);return o.decode(h)},s.encode=(c,u,h)=>{const p=o.encode(c);return i(p,u,h)},s}class nU{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=re.u32("instruction").decode(e.data);let s;for(const[o,c]of Object.entries(En))if(c.index==i){s=o;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:i,programId:s}=dn(En.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:i,programId:new Ue(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=dn(En.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:i,programId:s}=dn(En.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:i,programId:new Ue(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=dn(En.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:i,space:s,programId:o}=dn(En.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ue(n),seed:i,space:s,programId:new Ue(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=dn(En.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ue(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:i,programId:s}=dn(En.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ue(n),seed:i,programId:new Ue(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:i,lamports:s,space:o,programId:c}=dn(En.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ue(n),seed:i,lamports:s,space:o,programId:new Ue(c)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=dn(En.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ue(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),dn(En.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=dn(En.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=dn(En.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ue(n)}}static checkProgramId(e){if(!e.equals(fr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const En=Object.freeze({Create:{index:0,layout:re.struct([re.u32("instruction"),re.ns64("lamports"),re.ns64("space"),Lt("programId")])},Assign:{index:1,layout:re.struct([re.u32("instruction"),Lt("programId")])},Transfer:{index:2,layout:re.struct([re.u32("instruction"),Qc("lamports")])},CreateWithSeed:{index:3,layout:re.struct([re.u32("instruction"),Lt("base"),ol("seed"),re.ns64("lamports"),re.ns64("space"),Lt("programId")])},AdvanceNonceAccount:{index:4,layout:re.struct([re.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:re.struct([re.u32("instruction"),Lt("authorized")])},AuthorizeNonceAccount:{index:7,layout:re.struct([re.u32("instruction"),Lt("authorized")])},Allocate:{index:8,layout:re.struct([re.u32("instruction"),re.ns64("space")])},AllocateWithSeed:{index:9,layout:re.struct([re.u32("instruction"),Lt("base"),ol("seed"),re.ns64("space"),Lt("programId")])},AssignWithSeed:{index:10,layout:re.struct([re.u32("instruction"),Lt("base"),ol("seed"),Lt("programId")])},TransferWithSeed:{index:11,layout:re.struct([re.u32("instruction"),Qc("lamports"),ol("seed"),Lt("programId")])},UpgradeNonceAccount:{index:12,layout:re.struct([re.u32("instruction")])}});class fr{constructor(){}static createAccount(e){const n=En.Create,i=Xt(n,{lamports:e.lamports,space:e.space,programId:kt(e.programId.toBuffer())});return new yn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:i})}static transfer(e){let n,i;if("basePubkey"in e){const s=En.TransferWithSeed;n=Xt(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:kt(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=En.Transfer;n=Xt(s,{lamports:BigInt(e.lamports)}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new yn({keys:i,programId:this.programId,data:n})}static assign(e){let n,i;if("basePubkey"in e){const s=En.AssignWithSeed;n=Xt(s,{base:kt(e.basePubkey.toBuffer()),seed:e.seed,programId:kt(e.programId.toBuffer())}),i=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=En.Assign;n=Xt(s,{programId:kt(e.programId.toBuffer())}),i=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new yn({keys:i,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=En.CreateWithSeed,i=Xt(n,{base:kt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:kt(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new yn({keys:s,programId:this.programId,data:i})}static createNonceAccount(e){const n=new en;"basePubkey"in e&&"seed"in e?n.add(fr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:tw,programId:this.programId})):n.add(fr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:tw,programId:this.programId}));const i={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(i)),n}static nonceInitialize(e){const n=En.InitializeNonceAccount,i=Xt(n,{authorized:kt(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Kf,isSigner:!1,isWritable:!1},{pubkey:Gc,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new yn(s)}static nonceAdvance(e){const n=En.AdvanceNonceAccount,i=Xt(n),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Kf,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new yn(s)}static nonceWithdraw(e){const n=En.WithdrawNonceAccount,i=Xt(n,{lamports:e.lamports});return new yn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Kf,isSigner:!1,isWritable:!1},{pubkey:Gc,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static nonceAuthorize(e){const n=En.AuthorizeNonceAccount,i=Xt(n,{authorized:kt(e.newAuthorizedPubkey.toBuffer())});return new yn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static allocate(e){let n,i;if("basePubkey"in e){const s=En.AllocateWithSeed;n=Xt(s,{base:kt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:kt(e.programId.toBuffer())}),i=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=En.Allocate;n=Xt(s,{space:e.space}),i=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new yn({keys:i,programId:this.programId,data:n})}}fr.programId=new Ue("11111111111111111111111111111111");const rU=ba-300;class _l{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/_l.chunkSize)+1+1)}static async load(e,n,i,s,o){{const v=await e.getMinimumBalanceForRentExemption(o.length),S=await e.getAccountInfo(i.publicKey,"confirmed");let A=null;if(S!==null){if(S.executable)return console.error("Program load failed, account is already executable"),!1;S.data.length!==o.length&&(A=A||new en,A.add(fr.allocate({accountPubkey:i.publicKey,space:o.length}))),S.owner.equals(s)||(A=A||new en,A.add(fr.assign({accountPubkey:i.publicKey,programId:s}))),S.lamports<v&&(A=A||new en,A.add(fr.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:v-S.lamports})))}else A=new en().add(fr.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:v>0?v:1,space:o.length,programId:s}));A!==null&&await ew(e,A,[n,i],{commitment:"confirmed"})}const c=re.struct([re.u32("instruction"),re.u32("offset"),re.u32("bytesLength"),re.u32("bytesLengthPadding"),re.seq(re.u8("byte"),re.offset(re.u32(),-8),"bytes")]),u=_l.chunkSize;let h=0,p=o,m=[];for(;p.length>0;){const v=p.slice(0,u),S=ft.Buffer.alloc(u+16);c.encode({instruction:0,offset:h,bytes:v,bytesLength:0,bytesLengthPadding:0},S);const A=new en().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:S});m.push(ew(e,A,[n,i],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await tl(1e3/4),h+=u,p=p.slice(u)}await Promise.all(m);{const v=re.struct([re.u32("instruction")]),S=ft.Buffer.alloc(v.span);v.encode({instruction:1},S);const A=new en().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:Gc,isSigner:!1,isWritable:!1}],programId:s,data:S}),N="processed",P=await e.sendTransaction(A,[n,i],{preflightCommitment:N}),{context:O,value:z}=await e.confirmTransaction({signature:P,lastValidBlockHeight:A.lastValidBlockHeight,blockhash:A.recentBlockhash},N);if(z.err)throw new Error(`Transaction ${P} failed (${JSON.stringify(z)})`);for(;;){try{if(await e.getSlot({commitment:N})>O.slot)break}catch{}await new Promise(j=>setTimeout(j,Math.round(gx/2)))}}return!0}}_l.chunkSize=rU;const iU=new Ue("BPFLoader2111111111111111111111111111111111");class sU{static getMinNumSignatures(e){return _l.getMinNumSignatures(e)}static load(e,n,i,s,o){return _l.load(e,n,i,o,s)}}function oU(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var My,qS;function aU(){if(qS)return My;qS=1;var r=Object.prototype.toString,e=Object.keys||function(i){var s=[];for(var o in i)s.push(o);return s};function n(i,s){var o,c,u,h,p,m,v;if(i===!0)return"true";if(i===!1)return"false";switch(typeof i){case"object":if(i===null)return null;if(i.toJSON&&typeof i.toJSON=="function")return n(i.toJSON(),s);if(v=r.call(i),v==="[object Array]"){for(u="[",c=i.length-1,o=0;o<c;o++)u+=n(i[o],!0)+",";return c>-1&&(u+=n(i[o],!0)),u+"]"}else if(v==="[object Object]"){for(h=e(i).sort(),c=h.length,u="",o=0;o<c;)p=h[o],m=n(i[p],!1),m!==void 0&&(u&&(u+=","),u+=JSON.stringify(p)+":"+m),o++;return"{"+u+"}"}else return JSON.stringify(i);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(i);default:return isFinite(i)?i:null}}return My=function(i){var s=n(i,!1);if(s!==void 0)return""+s},My}var lU=aU(),$S=oU(lU);const Gu=32;function Ny(r){let e=0;for(;r>1;)r/=2,e++;return e}function cU(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}class vx{constructor(e,n,i,s,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=i,this.firstNormalEpoch=s,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Ny(cU(e+Gu+1))-Ny(Gu)-1,i=this.getSlotsInEpoch(n),s=e-(i-Gu);return[n,s]}else{const n=e-this.firstNormalSlot,i=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+i,o=n%this.slotsPerEpoch;return[s,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Gu:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Ny(Gu)):this.slotsPerEpoch}}var uU=globalThis.fetch;class dU extends h8{constructor(e,n,i){const s=o=>{const c=u8(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in c?this.underlyingSocket=c.socket:this.underlyingSocket=c,c};super(s,e,n,i),this.underlyingSocket=void 0}call(...e){const n=this.underlyingSocket?.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function hU(r,e){let n;try{n=r.layout.decode(e)}catch(i){throw new Error("invalid instruction; "+i)}if(n.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${r.index}`);return n}const KS=56;class nw{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=hU(fU,e),i=e.length-KS;on(i>=0,"lookup table is invalid"),on(i%32===0,"lookup table is invalid");const s=i/32,{addresses:o}=re.struct([re.seq(Lt(),s,"addresses")]).decode(e.slice(KS));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Ue(n.authority[0]):void 0,addresses:o.map(c=>new Ue(c))}}}const fU={index:1,layout:re.struct([re.u32("typeIndex"),Qc("deactivationSlot"),re.nu64("lastExtendedSlot"),re.u8("lastExtendedStartIndex"),re.u8(),re.seq(Lt(),re.offset(re.u8(),-1),"authority")])},pU=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function mU(r){const e=r.match(pU);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);const[n,i,s,o]=e,c=r.startsWith("https:")?"wss:":"ws:",u=s==null?null:parseInt(s.slice(1),10),h=u==null?"":`:${u+1}`;return`${c}//${i}${h}${o}`}const Ln=rh(xv(Ue),Be(),r=>new Ue(r)),_x=Rv([Be(),Mn("base64")]),Fv=rh(xv(ft.Buffer),_x,r=>ft.Buffer.from(r[0],"base64")),Ex=30*1e3;function gU(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function _n(r){let e,n;if(typeof r=="string")e=r;else if(r){const{commitment:i,...s}=r;e=i,n=s}return{commitment:e,config:n}}function HS(r){return r.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function bx(r){return Qr([Me({jsonrpc:Mn("2.0"),id:Be(),result:r}),Me({jsonrpc:Mn("2.0"),id:Be(),error:Me({code:cu(),message:Be(),data:at(BB())})})])}const yU=bx(cu());function Tt(r){return rh(bx(r),yU,e=>"error"in e?e:{...e,result:We(e.result,r)})}function zn(r){return Tt(Me({context:Me({slot:we()}),value:r}))}function cm(r){return Me({context:Me({slot:we()}),value:r})}function Oy(r,e){return r===0?new vl({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new Ue(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Sr.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new fs(e)}const wU=Me({foundation:we(),foundationTerm:we(),initial:we(),taper:we(),terminal:we()}),vU=Tt(ze(qe(Me({epoch:we(),effectiveSlot:we(),amount:we(),postBalance:we(),commission:at(qe(we()))})))),_U=ze(Me({slot:we(),prioritizationFee:we()})),EU=Me({total:we(),validator:we(),foundation:we(),epoch:we()}),bU=Me({epoch:we(),slotIndex:we(),slotsInEpoch:we(),absoluteSlot:we(),blockHeight:at(we()),transactionCount:at(we())}),SU=Me({slotsPerEpoch:we(),leaderScheduleSlotOffset:we(),warmup:Ks(),firstNormalEpoch:we(),firstNormalSlot:we()}),AU=Y2(Be(),ze(we())),kl=qe(Qr([Me({}),Be()])),IU=Me({err:kl}),TU=Mn("receivedSignature"),kU=Me({"solana-core":Be(),"feature-set":at(we())}),xU=Me({program:Be(),programId:Ln,parsed:cu()}),RU=Me({programId:Ln,accounts:ze(Ln),data:Be()}),GS=zn(Me({err:qe(Qr([Me({}),Be()])),logs:qe(ze(Be())),accounts:at(qe(ze(qe(Me({executable:Ks(),owner:Be(),lamports:we(),data:ze(Be()),rentEpoch:at(we())}))))),unitsConsumed:at(we()),returnData:at(qe(Me({programId:Be(),data:Rv([Be(),Mn("base64")])}))),innerInstructions:at(qe(ze(Me({index:we(),instructions:ze(Qr([xU,RU]))}))))})),CU=zn(Me({byIdentity:Y2(Be(),ze(we())),range:Me({firstSlot:we(),lastSlot:we()})}));function PU(r,e,n,i,s,o){const c=n||uU;let u;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let h;return i&&(h=async(m,v)=>{const S=await new Promise((A,N)=>{try{i(m,v,(P,O)=>A([P,O]))}catch(P){N(P)}});return await c(...S)}),new a8(async(m,v)=>{const S={method:"POST",body:m,agent:u,headers:Object.assign({"Content-Type":"application/json"},e||{},PV)};try{let A=5,N,P=500;for(;h?N=await h(r,S):N=await c(r,S),!(N.status!==429||s===!0||(A-=1,A===0));)console.error(`Server responded with ${N.status} ${N.statusText}.  Retrying after ${P}ms delay...`),await tl(P),P*=2;const O=await N.text();N.ok?v(null,O):v(new Error(`${N.status} ${N.statusText}: ${O}`))}catch(A){A instanceof Error&&v(A)}},{})}function MU(r){return(e,n)=>new Promise((i,s)=>{r.request(e,n,(o,c)=>{if(o){s(o);return}i(c)})})}function NU(r){return e=>new Promise((n,i)=>{e.length===0&&n([]);const s=e.map(o=>r.request(o.methodName,o.args));r.request(s,(o,c)=>{if(o){i(o);return}n(c)})})}const OU=Tt(wU),LU=Tt(EU),DU=Tt(_U),BU=Tt(bU),UU=Tt(SU),VU=Tt(AU),FU=Tt(we()),WU=zn(Me({total:we(),circulating:we(),nonCirculating:we(),nonCirculatingAccounts:ze(Ln)})),rw=Me({amount:Be(),uiAmount:qe(we()),decimals:we(),uiAmountString:at(Be())}),zU=zn(ze(Me({address:Ln,amount:Be(),uiAmount:qe(we()),decimals:we(),uiAmountString:at(Be())}))),jU=zn(ze(Me({pubkey:Ln,account:Me({executable:Ks(),owner:Ln,lamports:we(),data:Fv,rentEpoch:we()})}))),iw=Me({program:Be(),parsed:cu(),space:we()}),qU=zn(ze(Me({pubkey:Ln,account:Me({executable:Ks(),owner:Ln,lamports:we(),data:iw,rentEpoch:we()})}))),$U=zn(ze(Me({lamports:we(),address:Ln}))),Bd=Me({executable:Ks(),owner:Ln,lamports:we(),data:Fv,rentEpoch:we()}),KU=Me({pubkey:Ln,account:Bd}),HU=rh(Qr([xv(ft.Buffer),iw]),Qr([_x,iw]),r=>Array.isArray(r)?We(r,Fv):r),sw=Me({executable:Ks(),owner:Ln,lamports:we(),data:HU,rentEpoch:we()}),GU=Me({pubkey:Ln,account:sw}),QU=Me({state:Qr([Mn("active"),Mn("inactive"),Mn("activating"),Mn("deactivating")]),active:we(),inactive:we()}),YU=Tt(ze(Me({signature:Be(),slot:we(),err:kl,memo:qe(Be()),blockTime:at(qe(we()))}))),XU=Tt(ze(Me({signature:Be(),slot:we(),err:kl,memo:qe(Be()),blockTime:at(qe(we()))}))),JU=Me({subscription:we(),result:cm(Bd)}),ZU=Me({pubkey:Ln,account:Bd}),eV=Me({subscription:we(),result:cm(ZU)}),tV=Me({parent:we(),slot:we(),root:we()}),nV=Me({subscription:we(),result:tV}),rV=Qr([Me({type:Qr([Mn("firstShredReceived"),Mn("completed"),Mn("optimisticConfirmation"),Mn("root")]),slot:we(),timestamp:we()}),Me({type:Mn("createdBank"),parent:we(),slot:we(),timestamp:we()}),Me({type:Mn("frozen"),slot:we(),timestamp:we(),stats:Me({numTransactionEntries:we(),numSuccessfulTransactions:we(),numFailedTransactions:we(),maxTransactionsPerEntry:we()})}),Me({type:Mn("dead"),slot:we(),timestamp:we(),err:Be()})]),iV=Me({subscription:we(),result:rV}),sV=Me({subscription:we(),result:cm(Qr([IU,TU]))}),oV=Me({subscription:we(),result:we()}),aV=Me({pubkey:Be(),gossip:qe(Be()),tpu:qe(Be()),rpc:qe(Be()),version:qe(Be())}),QS=Me({votePubkey:Be(),nodePubkey:Be(),activatedStake:we(),epochVoteAccount:Ks(),epochCredits:ze(Rv([we(),we(),we()])),commission:we(),lastVote:we(),rootSlot:qe(we())}),lV=Tt(Me({current:ze(QS),delinquent:ze(QS)})),cV=Qr([Mn("processed"),Mn("confirmed"),Mn("finalized")]),uV=Me({slot:we(),confirmations:qe(we()),err:kl,confirmationStatus:at(cV)}),dV=zn(ze(qe(uV))),hV=Tt(we()),Sx=Me({accountKey:Ln,writableIndexes:ze(we()),readonlyIndexes:ze(we())}),Wv=Me({signatures:ze(Be()),message:Me({accountKeys:ze(Be()),header:Me({numRequiredSignatures:we(),numReadonlySignedAccounts:we(),numReadonlyUnsignedAccounts:we()}),instructions:ze(Me({accounts:ze(we()),data:Be(),programIdIndex:we()})),recentBlockhash:Be(),addressTableLookups:at(ze(Sx))})}),Ax=Me({pubkey:Ln,signer:Ks(),writable:Ks(),source:at(Qr([Mn("transaction"),Mn("lookupTable")]))}),Ix=Me({accountKeys:ze(Ax),signatures:ze(Be())}),Tx=Me({parsed:cu(),program:Be(),programId:Ln}),kx=Me({accounts:ze(Ln),data:Be(),programId:Ln}),fV=Qr([kx,Tx]),pV=Qr([Me({parsed:cu(),program:Be(),programId:Be()}),Me({accounts:ze(Be()),data:Be(),programId:Be()})]),xx=rh(fV,pV,r=>"accounts"in r?We(r,kx):We(r,Tx)),Rx=Me({signatures:ze(Be()),message:Me({accountKeys:ze(Ax),instructions:ze(xx),recentBlockhash:Be(),addressTableLookups:at(qe(ze(Sx)))})}),Ip=Me({accountIndex:we(),mint:Be(),owner:at(Be()),programId:at(Be()),uiTokenAmount:rw}),Cx=Me({writable:ze(Ln),readonly:ze(Ln)}),um=Me({err:kl,fee:we(),innerInstructions:at(qe(ze(Me({index:we(),instructions:ze(Me({accounts:ze(we()),data:Be(),programIdIndex:we()}))})))),preBalances:ze(we()),postBalances:ze(we()),logMessages:at(qe(ze(Be()))),preTokenBalances:at(qe(ze(Ip))),postTokenBalances:at(qe(ze(Ip))),loadedAddresses:at(Cx),computeUnitsConsumed:at(we()),costUnits:at(we())}),zv=Me({err:kl,fee:we(),innerInstructions:at(qe(ze(Me({index:we(),instructions:ze(xx)})))),preBalances:ze(we()),postBalances:ze(we()),logMessages:at(qe(ze(Be()))),preTokenBalances:at(qe(ze(Ip))),postTokenBalances:at(qe(ze(Ip))),loadedAddresses:at(Cx),computeUnitsConsumed:at(we()),costUnits:at(we())}),uu=Qr([Mn(0),Mn("legacy")]),xl=Me({pubkey:Be(),lamports:we(),postBalance:qe(we()),rewardType:qe(Be()),commission:at(qe(we()))}),mV=Tt(qe(Me({blockhash:Be(),previousBlockhash:Be(),parentSlot:we(),transactions:ze(Me({transaction:Wv,meta:qe(um),version:at(uu)})),rewards:at(ze(xl)),blockTime:qe(we()),blockHeight:qe(we())}))),gV=Tt(qe(Me({blockhash:Be(),previousBlockhash:Be(),parentSlot:we(),rewards:at(ze(xl)),blockTime:qe(we()),blockHeight:qe(we())}))),yV=Tt(qe(Me({blockhash:Be(),previousBlockhash:Be(),parentSlot:we(),transactions:ze(Me({transaction:Ix,meta:qe(um),version:at(uu)})),rewards:at(ze(xl)),blockTime:qe(we()),blockHeight:qe(we())}))),wV=Tt(qe(Me({blockhash:Be(),previousBlockhash:Be(),parentSlot:we(),transactions:ze(Me({transaction:Rx,meta:qe(zv),version:at(uu)})),rewards:at(ze(xl)),blockTime:qe(we()),blockHeight:qe(we())}))),vV=Tt(qe(Me({blockhash:Be(),previousBlockhash:Be(),parentSlot:we(),transactions:ze(Me({transaction:Ix,meta:qe(zv),version:at(uu)})),rewards:at(ze(xl)),blockTime:qe(we()),blockHeight:qe(we())}))),_V=Tt(qe(Me({blockhash:Be(),previousBlockhash:Be(),parentSlot:we(),rewards:at(ze(xl)),blockTime:qe(we()),blockHeight:qe(we())}))),EV=Tt(qe(Me({blockhash:Be(),previousBlockhash:Be(),parentSlot:we(),transactions:ze(Me({transaction:Wv,meta:qe(um)})),rewards:at(ze(xl)),blockTime:qe(we())}))),YS=Tt(qe(Me({blockhash:Be(),previousBlockhash:Be(),parentSlot:we(),signatures:ze(Be()),blockTime:qe(we())}))),Ly=Tt(qe(Me({slot:we(),meta:qe(um),blockTime:at(qe(we())),transaction:Wv,version:at(uu)}))),xf=Tt(qe(Me({slot:we(),transaction:Rx,meta:qe(zv),blockTime:at(qe(we())),version:at(uu)}))),bV=zn(Me({blockhash:Be(),lastValidBlockHeight:we()})),SV=zn(Ks()),AV=Me({slot:we(),numTransactions:we(),numSlots:we(),samplePeriodSecs:we()}),IV=Tt(ze(AV)),TV=zn(qe(Me({feeCalculator:Me({lamportsPerSignature:we()})}))),kV=Tt(Be()),xV=Tt(Be()),RV=Me({err:kl,logs:ze(Be()),signature:Be()}),CV=Me({result:cm(RV),subscription:we()}),PV={"solana-client":"js/1.0.0-maintenance"};class Px{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const p={};return async m=>{const{commitment:v,config:S}=_n(m),A=this._buildArgs([],v,void 0,S),N=$S(A);return p[N]=p[N]??(async()=>{try{const P=await this._rpcRequest("getBlockHeight",A),O=We(P,Tt(we()));if("error"in O)throw new st(O.error,"failed to get block height information");return O.result}finally{delete p[N]}})(),await p[N]}})();let i,s,o,c,u,h;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,i=n.wsEndpoint,s=n.httpHeaders,o=n.fetch,c=n.fetchMiddleware,u=n.disableRetryOnRateLimit,h=n.httpAgent),this._rpcEndpoint=gU(e),this._rpcWsEndpoint=i||mU(e),this._rpcClient=PU(e,s,o,c,u,h),this._rpcRequest=MU(this._rpcClient),this._rpcBatchRequest=NU(this._rpcClient),this._rpcWebSocket=new dU(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:i,config:s}=_n(n),o=this._buildArgs([e.toBase58()],i,void 0,s),c=await this._rpcRequest("getBalance",o),u=We(c,zn(we()));if("error"in u)throw new st(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(i=>i.value).catch(i=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+i)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),i=We(n,Tt(qe(we())));if("error"in i)throw new st(i.error,`failed to get block time for slot ${e}`);return i.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=We(e,Tt(we()));if("error"in n)throw new st(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=We(e,FU);if("error"in n)throw new st(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const i=await this._rpcRequest("getSupply",[n]),s=We(i,WU);if("error"in s)throw new st(s.error,"failed to get supply");return s.result}async getTokenSupply(e,n){const i=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenSupply",i),o=We(s,zn(rw));if("error"in o)throw new st(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,n){const i=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",i),o=We(s,zn(rw));if("error"in o)throw new st(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,n,i){const{commitment:s,config:o}=_n(i);let c=[e.toBase58()];"mint"in n?c.push({mint:n.mint.toBase58()}):c.push({programId:n.programId.toBase58()});const u=this._buildArgs(c,s,"base64",o),h=await this._rpcRequest("getTokenAccountsByOwner",u),p=We(h,jU);if("error"in p)throw new st(p.error,`failed to get token accounts owned by account ${e.toBase58()}`);return p.result}async getParsedTokenAccountsByOwner(e,n,i){let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const o=this._buildArgs(s,i,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",o),u=We(c,qU);if("error"in u)throw new st(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},i=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",i),o=We(s,$U);if("error"in o)throw new st(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,n){const i=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",i),o=We(s,zU);if("error"in o)throw new st(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,n){const{commitment:i,config:s}=_n(n),o=this._buildArgs([e.toBase58()],i,"base64",s),c=await this._rpcRequest("getAccountInfo",o),u=We(c,zn(qe(Bd)));if("error"in u)throw new st(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,n){const{commitment:i,config:s}=_n(n),o=this._buildArgs([e.toBase58()],i,"jsonParsed",s),c=await this._rpcRequest("getAccountInfo",o),u=We(c,zn(qe(sw)));if("error"in u)throw new st(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(i){throw new Error("failed to get info about account "+e.toBase58()+": "+i)}}async getMultipleParsedAccounts(e,n){const{commitment:i,config:s}=_n(n),o=e.map(p=>p.toBase58()),c=this._buildArgs([o],i,"jsonParsed",s),u=await this._rpcRequest("getMultipleAccounts",c),h=We(u,zn(ze(qe(sw))));if("error"in h)throw new st(h.error,`failed to get info for accounts ${o}`);return h.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:i,config:s}=_n(n),o=e.map(p=>p.toBase58()),c=this._buildArgs([o],i,"base64",s),u=await this._rpcRequest("getMultipleAccounts",c),h=We(u,zn(ze(qe(Bd))));if("error"in h)throw new st(h.error,`failed to get info for accounts ${o}`);return h.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,i){const{commitment:s,config:o}=_n(n),c=this._buildArgs([e.toBase58()],s,void 0,{...o,epoch:i??o?.epoch}),u=await this._rpcRequest("getStakeActivation",c),h=We(u,Tt(QU));if("error"in h)throw new st(h.error,`failed to get Stake Activation ${e.toBase58()}`);return h.result}async getProgramAccounts(e,n){const{commitment:i,config:s}=_n(n),{encoding:o,...c}=s||{},u=this._buildArgs([e.toBase58()],i,o||"base64",{...c,...c.filters?{filters:HS(c.filters)}:null}),h=await this._rpcRequest("getProgramAccounts",u),p=ze(KU),m=c.withContext===!0?We(h,zn(p)):We(h,Tt(p));if("error"in m)throw new st(m.error,`failed to get accounts owned by program ${e.toBase58()}`);return m.result}async getParsedProgramAccounts(e,n){const{commitment:i,config:s}=_n(n),o=this._buildArgs([e.toBase58()],i,"jsonParsed",s),c=await this._rpcRequest("getProgramAccounts",o),u=We(c,Tt(ze(GU)));if("error"in u)throw new st(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,n){let i;if(typeof e=="string")i=e;else{const o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);i=o.signature}let s;try{s=Sr.decode(i)}catch{throw new Error("signature must be base58 encoded: "+i)}return on(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:i}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,i)=>{e!=null&&(e.aborted?i(e.reason):e.addEventListener("abort",()=>{i(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let i,s,o=!1;const c=new Promise((h,p)=>{try{i=this.onSignature(n,(v,S)=>{i=void 0;const A={context:S,value:v};h({__type:uo.PROCESSED,response:A})},e);const m=new Promise(v=>{i==null?v():s=this._onSubscriptionStateChange(i,S=>{S==="subscribed"&&v()})});(async()=>{if(await m,o)return;const v=await this.getSignatureStatus(n);if(o||v==null)return;const{context:S,value:A}=v;if(A!=null)if(A?.err)p(A.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(A.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(A.confirmationStatus==="processed"||A.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,h({__type:uo.PROCESSED,response:{context:S,value:A}})}})()}catch(m){p(m)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),i!=null&&(this.removeSignatureListener(i),i=void 0)},confirmationPromise:c}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:i,signature:s}}){let o=!1;const c=new Promise(v=>{const S=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let A=await S();if(!o){for(;A<=i;)if(await tl(1e3),o||(A=await S(),o))return;v({__type:uo.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),p=this.getCancellationPromise(n);let m;try{const v=await Promise.race([p,h,c]);if(v.__type===uo.PROCESSED)m=v.response;else throw new Dv(s)}finally{o=!0,u()}return m}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:i,nonceAccountPubkey:s,nonceValue:o,signature:c}}){let u=!1;const h=new Promise(A=>{let N=o,P=null;const O=async()=>{try{const{context:z,value:j}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:i});return P=z.slot,j?.nonce}catch{return N}};(async()=>{if(N=await O(),!u)for(;;){if(o!==N){A({__type:uo.NONCE_INVALID,slotInWhichNonceDidAdvance:P});return}if(await tl(2e3),u||(N=await O(),u))return}})()}),{abortConfirmation:p,confirmationPromise:m}=this.getTransactionConfirmationPromise({commitment:e,signature:c}),v=this.getCancellationPromise(n);let S;try{const A=await Promise.race([v,m,h]);if(A.__type===uo.PROCESSED)S=A.response;else{let N;for(;;){const P=await this.getSignatureStatus(c);if(P==null)break;if(P.context.slot<(A.slotInWhichNonceDidAdvance??i)){await tl(400);continue}N=P;break}if(N?.value){const P=e||"finalized",{confirmationStatus:O}=N.value;switch(P){case"processed":case"recent":if(O!=="processed"&&O!=="confirmed"&&O!=="finalized")throw new Ec(c);break;case"confirmed":case"single":case"singleGossip":if(O!=="confirmed"&&O!=="finalized")throw new Ec(c);break;case"finalized":case"max":case"root":if(O!=="finalized")throw new Ec(c);break;default:}S={context:N.context,value:{err:N.value.err}}}else throw new Ec(c)}}finally{u=!0,p()}return S}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let i;const s=new Promise(h=>{let p=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{p=this._confirmTransactionInitialTimeout||3e4;break}}i=setTimeout(()=>h({__type:uo.TIMED_OUT,timeoutMs:p}),p)}),{abortConfirmation:o,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let u;try{const h=await Promise.race([c,s]);if(h.__type===uo.PROCESSED)u=h.response;else throw new Bv(n,h.timeoutMs/1e3)}finally{clearTimeout(i),o()}return u}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=We(e,Tt(ze(aV)));if("error"in n)throw new st(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),i=await this._rpcRequest("getVoteAccounts",n),s=We(i,lV);if("error"in s)throw new st(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:n,config:i}=_n(e),s=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getSlot",s),c=We(o,Tt(we()));if("error"in c)throw new st(c.error,"failed to get slot");return c.result}async getSlotLeader(e){const{commitment:n,config:i}=_n(e),s=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getSlotLeader",s),c=We(o,Tt(Be()));if("error"in c)throw new st(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(e,n){const i=[e,n],s=await this._rpcRequest("getSlotLeaders",i),o=We(s,Tt(ze(Ln)));if("error"in o)throw new st(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,n){const{context:i,value:s}=await this.getSignatureStatuses([e],n);on(s.length===1);const o=s[0];return{context:i,value:o}}async getSignatureStatuses(e,n){const i=[e];n&&i.push(n);const s=await this._rpcRequest("getSignatureStatuses",i),o=We(s,dV);if("error"in o)throw new st(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:n,config:i}=_n(e),s=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getTransactionCount",s),c=We(o,Tt(we()));if("error"in c)throw new st(c.error,"failed to get transaction count");return c.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),i=await this._rpcRequest("getInflationGovernor",n),s=We(i,OU);if("error"in s)throw new st(s.error,"failed to get inflation");return s.result}async getInflationReward(e,n,i){const{commitment:s,config:o}=_n(i),c=this._buildArgs([e.map(p=>p.toBase58())],s,void 0,{...o,epoch:n??o?.epoch}),u=await this._rpcRequest("getInflationReward",c),h=We(u,vU);if("error"in h)throw new st(h.error,"failed to get inflation reward");return h.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=We(e,LU);if("error"in n)throw new st(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:i}=_n(e),s=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getEpochInfo",s),c=We(o,BU);if("error"in c)throw new st(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=We(e,UU);if("error"in n)throw new st(n.error,"failed to get epoch schedule");const i=n.result;return new vx(i.slotsPerEpoch,i.leaderScheduleSlotOffset,i.warmup,i.firstNormalEpoch,i.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=We(e,VU);if("error"in n)throw new st(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const i=this._buildArgs([e],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",i),o=We(s,hV);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:i}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:i,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),i=We(n,IV);if("error"in i)throw new st(i.error,"failed to get recent performance samples");return i.result}async getFeeCalculatorForBlockhash(e,n){const i=this._buildArgs([e],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",i),o=We(s,TV);if("error"in o)throw new st(o.error,"failed to get fee calculator");const{context:c,value:u}=o.result;return{context:c,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,n){const i=kt(e.serialize()).toString("base64"),s=this._buildArgs([i],n),o=await this._rpcRequest("getFeeForMessage",s),c=We(o,zn(qe(we())));if("error"in c)throw new st(c.error,"failed to get fee for message");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentPrioritizationFees(e){const n=e?.lockedWritableAccounts?.map(c=>c.toBase58()),i=n?.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",i),o=We(s,DU);if("error"in o)throw new st(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:i}=_n(e),s=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getLatestBlockhash",s),c=We(o,bV);if("error"in c)throw new st(c.error,"failed to get latest blockhash");return c.result}async isBlockhashValid(e,n){const{commitment:i,config:s}=_n(n),o=this._buildArgs([e],i,void 0,s),c=await this._rpcRequest("isBlockhashValid",o),u=We(c,SV);if("error"in u)throw new st(u.error,"failed to determine if the blockhash `"+e+"`is valid");return u.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=We(e,Tt(kU));if("error"in n)throw new st(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=We(e,Tt(Be()));if("error"in n)throw new st(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:i,config:s}=_n(n),o=this._buildArgsAtLeastConfirmed([e],i,void 0,s),c=await this._rpcRequest("getBlock",o);try{switch(s?.transactionDetails){case"accounts":{const u=We(c,yV);if("error"in u)throw u.error;return u.result}case"none":{const u=We(c,gV);if("error"in u)throw u.error;return u.result}default:{const u=We(c,mV);if("error"in u)throw u.error;const{result:h}=u;return h?{...h,transactions:h.transactions.map(({transaction:p,meta:m,version:v})=>({meta:m,transaction:{...p,message:Oy(v,p.message)},version:v}))}:null}}}catch(u){throw new st(u,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:i,config:s}=_n(n),o=this._buildArgsAtLeastConfirmed([e],i,"jsonParsed",s),c=await this._rpcRequest("getBlock",o);try{switch(s?.transactionDetails){case"accounts":{const u=We(c,vV);if("error"in u)throw u.error;return u.result}case"none":{const u=We(c,_V);if("error"in u)throw u.error;return u.result}default:{const u=We(c,wV);if("error"in u)throw u.error;return u.result}}}catch(u){throw new st(u,"failed to get block")}}async getBlockProduction(e){let n,i;if(typeof e=="string")i=e;else if(e){const{commitment:u,...h}=e;i=u,n=h}const s=this._buildArgs([],i,"base64",n),o=await this._rpcRequest("getBlockProduction",s),c=We(o,CU);if("error"in c)throw new st(c.error,"failed to get block production information");return c.result}async getTransaction(e,n){const{commitment:i,config:s}=_n(n),o=this._buildArgsAtLeastConfirmed([e],i,void 0,s),c=await this._rpcRequest("getTransaction",o),u=We(c,Ly);if("error"in u)throw new st(u.error,"failed to get transaction");const h=u.result;return h&&{...h,transaction:{...h.transaction,message:Oy(h.version,h.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:i,config:s}=_n(n),o=this._buildArgsAtLeastConfirmed([e],i,"jsonParsed",s),c=await this._rpcRequest("getTransaction",o),u=We(c,xf);if("error"in u)throw new st(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,n){const{commitment:i,config:s}=_n(n),o=e.map(h=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([h],i,"jsonParsed",s)}));return(await this._rpcBatchRequest(o)).map(h=>{const p=We(h,xf);if("error"in p)throw new st(p.error,"failed to get transactions");return p.result})}async getTransactions(e,n){const{commitment:i,config:s}=_n(n),o=e.map(h=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([h],i,void 0,s)}));return(await this._rpcBatchRequest(o)).map(h=>{const p=We(h,Ly);if("error"in p)throw new st(p.error,"failed to get transactions");const m=p.result;return m&&{...m,transaction:{...m.transaction,message:Oy(m.version,m.transaction.message)}}})}async getConfirmedBlock(e,n){const i=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getBlock",i),o=We(s,EV);if("error"in o)throw new st(o.error,"failed to get confirmed block");const c=o.result;if(!c)throw new Error("Confirmed block "+e+" not found");const u={...c,transactions:c.transactions.map(({transaction:h,meta:p})=>{const m=new fs(h.message);return{meta:p,transaction:{...h,message:m}}})};return{...u,transactions:u.transactions.map(({transaction:h,meta:p})=>({meta:p,transaction:en.populate(h.message,h.signatures)}))}}async getBlocks(e,n,i){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],i),o=await this._rpcRequest("getBlocks",s),c=We(o,Tt(ze(we())));if("error"in c)throw new st(c.error,"failed to get blocks");return c.result}async getBlockSignatures(e,n){const i=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",i),o=We(s,YS);if("error"in o)throw new st(o.error,"failed to get block");const c=o.result;if(!c)throw new Error("Block "+e+" not found");return c}async getConfirmedBlockSignatures(e,n){const i=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",i),o=We(s,YS);if("error"in o)throw new st(o.error,"failed to get confirmed block");const c=o.result;if(!c)throw new Error("Confirmed block "+e+" not found");return c}async getConfirmedTransaction(e,n){const i=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getTransaction",i),o=We(s,Ly);if("error"in o)throw new st(o.error,"failed to get transaction");const c=o.result;if(!c)return c;const u=new fs(c.transaction.message),h=c.transaction.signatures;return{...c,transaction:en.populate(u,h)}}async getParsedConfirmedTransaction(e,n){const i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",i),o=We(s,xf);if("error"in o)throw new st(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,n){const i=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed")}));return(await this._rpcBatchRequest(i)).map(c=>{const u=We(c,xf);if("error"in u)throw new st(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,n,i){let s={},o=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<o));)try{const h=await this.getConfirmedBlockSignatures(n,"finalized");h.signatures.length>0&&(s.until=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}let c=await this.getSlot("finalized");for(;!("before"in s)&&(i++,!(i>c));)try{const h=await this.getConfirmedBlockSignatures(i);h.signatures.length>0&&(s.before=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(h=>h.signature)}async getConfirmedSignaturesForAddress2(e,n,i){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],i,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),c=We(o,YU);if("error"in c)throw new st(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(e,n,i){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],i,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",s),c=We(o,XU);if("error"in c)throw new st(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(e,n){const{context:i,value:s}=await this.getAccountInfoAndContext(e,n);let o=null;return s!==null&&(o=new nw({key:e,state:nw.deserialize(s.data)})),{context:i,value:o}}async getNonceAndContext(e,n){const{context:i,value:s}=await this.getAccountInfoAndContext(e,n);let o=null;return s!==null&&(o=lm.fromAccountData(s.data)),{context:i,value:o}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(i=>i.value).catch(i=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+i)})}async requestAirdrop(e,n){const i=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),s=We(i,kV);if("error"in s)throw new st(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await tl(100);const i=Date.now()-this._blockhashInfo.lastFetch>=Ex;if(this._blockhashInfo.latestBlockhash!==null&&!i)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,i=n?n.blockhash:null;for(let s=0;s<50;s++){const o=await this.getLatestBlockhash("finalized");if(i!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await tl(gx/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:i}=_n(e),s=this._buildArgs([],n,"base64",i),o=await this._rpcRequest("getStakeMinimumDelegation",s),c=We(o,zn(we()));if("error"in c)throw new st(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(e,n,i){if("message"in e){const P=e.serialize(),O=ft.Buffer.from(P).toString("base64");if(Array.isArray(n)||i!==void 0)throw new Error("Invalid arguments");const z=n||{};z.encoding="base64","commitment"in z||(z.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(z.innerInstructions=n.innerInstructions);const j=[O,z],G=await this._rpcRequest("simulateTransaction",j),te=We(G,GS);if("error"in te)throw new Error("failed to simulate transaction: "+te.error.message);return te.result}let s;if(e instanceof en){let N=e;s=new en,s.feePayer=N.feePayer,s.instructions=e.instructions,s.nonceInfo=N.nonceInfo,s.signatures=N.signatures}else s=en.populate(e),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(s.nonceInfo&&o)s.sign(...o);else{let N=this._disableBlockhashCaching;for(;;){const P=await this._blockhashWithExpiryBlockHeight(N);if(s.lastValidBlockHeight=P.lastValidBlockHeight,s.recentBlockhash=P.blockhash,!o)break;if(s.sign(...o),!s.signature)throw new Error("!signature");const O=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(O)&&!this._blockhashInfo.transactionSignatures.includes(O)){this._blockhashInfo.simulatedSignatures.push(O);break}else N=!0}}const c=s._compile(),u=c.serialize(),p=s._serialize(u).toString("base64"),m={encoding:"base64",commitment:this.commitment};if(i){const N=(Array.isArray(i)?i:c.nonProgramIds()).map(P=>P.toBase58());m.accounts={encoding:"base64",addresses:N}}o&&(m.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(m.innerInstructions=n.innerInstructions);const v=[p,m],S=await this._rpcRequest("simulateTransaction",v),A=We(S,GS);if("error"in A){let N;if("data"in A.error&&(N=A.error.data.logs,N&&Array.isArray(N))){const P=`
    `,O=P+N.join(P);console.error(A.error.message,O)}throw new Dd({action:"simulate",signature:"",transactionMessage:A.error.message,logs:N})}return A.result}async sendTransaction(e,n,i){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const c=e.serialize();return await this.sendRawTransaction(c,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(e.nonceInfo)e.sign(...s);else{let c=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(c);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const h=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(h))c=!0;else{this._blockhashInfo.transactionSignatures.push(h);break}}}const o=e.serialize();return await this.sendRawTransaction(o,i)}async sendRawTransaction(e,n){const i=kt(e).toString("base64");return await this.sendEncodedTransaction(i,n)}async sendEncodedTransaction(e,n){const i={encoding:"base64"},s=n&&n.skipPreflight,o=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(i.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(i.minContextSlot=n.minContextSlot),s&&(i.skipPreflight=s),o&&(i.preflightCommitment=o);const c=[e,i],u=await this._rpcRequest("sendTransaction",c),h=We(u,xV);if("error"in h){let p;throw"data"in h.error&&(p=h.error.data.logs),new Dd({action:s?"send":"simulate",signature:"",transactionMessage:h.error.message,logs:p})}return h.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,i])=>{this._setSubscription(n,{...i,state:"pending"})})}_setSubscription(e,n){const i=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=n,i!==n.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){const i=this._subscriptionHashByClientSubscriptionId[e];if(i==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[i]||=new Set;return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(i){i instanceof Error&&console.log(`Error when closing socket connection: ${i.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async i=>{const s=this._subscriptionsByHash[i];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[i],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:c}=s;try{this._setSubscription(i,{...s,state:"subscribing"});const u=await this._rpcWebSocket.call(c,o);this._setSubscription(i,{...s,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=s.callbacks,await this._updateSubscriptions()}catch(u){if(console.error(`Received ${u instanceof Error?"":"JSON-RPC "}error calling \`${c}\``,{args:o,error:u}),!n())return;this._setSubscription(i,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:c}=s;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(i,{...s,state:"unsubscribing"}),this._setSubscription(i,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(c,[o])}catch(u){if(u instanceof Error&&console.error(`${c} error:`,u.message),!n())return;this._setSubscription(i,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(i,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const i=this._subscriptionCallbacksByServerSubscriptionId[e];i!==void 0&&i.forEach(s=>{try{s(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:n,subscription:i}=We(e,JU);this._handleServerNotification(i,[n.value,n.context])}_makeSubscription(e,n){const i=this._nextClientSubscriptionId++,s=$S([e.method,n]),o=this._subscriptionsByHash[s];return o===void 0?this._subscriptionsByHash[s]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[i]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[i]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[i],delete this._subscriptionHashByClientSubscriptionId[i];const c=this._subscriptionsByHash[s];on(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${i}`),c.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),i}onAccountChange(e,n,i){const{commitment:s,config:o}=_n(i),c=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},c)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:i}=We(e,eV);this._handleServerNotification(i,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,i,s){const{commitment:o,config:c}=_n(i),u=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",c||(s?{filters:HS(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},u)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,i){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],i||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:i}=We(e,CV);this._handleServerNotification(i,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:i}=We(e,nV);this._handleServerNotification(i,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:i}=We(e,iV);this._handleServerNotification(i,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const i=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];i?await i():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,i,s){const o=n||this._commitment;if(o||i||s){let c={};i&&(c.encoding=i),o&&(c.commitment=o),s&&(c=Object.assign(c,s)),e.push(c)}return e}_buildArgsAtLeastConfirmed(e,n,i,s){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,i,s)}_wsOnSignatureNotification(e){const{result:n,subscription:i}=We(e,sV);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(i),this._handleServerNotification(i,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,i){const s=this._buildArgs([e],i||this._commitment||"finalized"),o=this._makeSubscription({callback:(c,u)=>{if(c.type==="status"){n(c.result,u);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}onSignatureWithOptions(e,n,i){const{commitment:s,...o}={...i,commitment:i&&i.commitment||this._commitment||"finalized"},c=this._buildArgs([e],s,void 0,o),u=this._makeSubscription({callback:(h,p)=>{n(h,p);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:i}=We(e,oV);this._handleServerNotification(i,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Mc{constructor(e){this._keypair=void 0,this._keypair=e??WS()}static generate(){return new Mc(WS())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const i=e.slice(32,64);if(!n||!n.skipValidation){const s=e.slice(0,32),o=Ap(s);for(let c=0;c<32;c++)if(i[c]!==o[c])throw new Error("provided secretKey is invalid")}return new Mc({publicKey:i,secretKey:e})}static fromSeed(e){const n=Ap(e),i=new Uint8Array(64);return i.set(e),i.set(n,32),new Mc({publicKey:n,secretKey:i})}get publicKey(){return new Ue(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const po=Object.freeze({CreateLookupTable:{index:0,layout:re.struct([re.u32("instruction"),Qc("recentSlot"),re.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:re.struct([re.u32("instruction")])},ExtendLookupTable:{index:2,layout:re.struct([re.u32("instruction"),Qc(),re.seq(Lt(),re.offset(re.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:re.struct([re.u32("instruction")])},CloseLookupTable:{index:4,layout:re.struct([re.u32("instruction")])}});class MV{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=re.u32("instruction").decode(e.data);let s;for(const[o,c]of Object.entries(po))if(c.index==i){s=o;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=dn(po.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=dn(po.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(i=>new Ue(i))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(jv.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class jv{constructor(){}static createLookupTable(e){const[n,i]=Ue.findProgramAddressSync([e.authority.toBuffer(),H2().encode(e.recentSlot)],this.programId),s=po.CreateLookupTable,o=Xt(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:i}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:fr.programId,isSigner:!1,isWritable:!1}];return[new yn({programId:this.programId,keys:c,data:o}),n]}static freezeLookupTable(e){const n=po.FreezeLookupTable,i=Xt(n),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new yn({programId:this.programId,keys:s,data:i})}static extendLookupTable(e){const n=po.ExtendLookupTable,i=Xt(n,{addresses:e.addresses.map(o=>o.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:fr.programId,isSigner:!1,isWritable:!1}),new yn({programId:this.programId,keys:s,data:i})}static deactivateLookupTable(e){const n=po.DeactivateLookupTable,i=Xt(n),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new yn({programId:this.programId,keys:s,data:i})}static closeLookupTable(e){const n=po.CloseLookupTable,i=Xt(n),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new yn({programId:this.programId,keys:s,data:i})}}jv.programId=new Ue("AddressLookupTab1e1111111111111111111111111");class NV{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=re.u8("instruction").decode(e.data);let s;for(const[o,c]of Object.entries(Ls))if(c.index==i){s=o;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:i}=dn(Ls.RequestUnits,e.data);return{units:n,additionalFee:i}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=dn(Ls.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=dn(Ls.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=dn(Ls.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(qv.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Ls=Object.freeze({RequestUnits:{index:0,layout:re.struct([re.u8("instruction"),re.u32("units"),re.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:re.struct([re.u8("instruction"),re.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:re.struct([re.u8("instruction"),re.u32("units")])},SetComputeUnitPrice:{index:3,layout:re.struct([re.u8("instruction"),Qc("microLamports")])}});class qv{constructor(){}static requestUnits(e){const n=Ls.RequestUnits,i=Xt(n,e);return new yn({keys:[],programId:this.programId,data:i})}static requestHeapFrame(e){const n=Ls.RequestHeapFrame,i=Xt(n,e);return new yn({keys:[],programId:this.programId,data:i})}static setComputeUnitLimit(e){const n=Ls.SetComputeUnitLimit,i=Xt(n,e);return new yn({keys:[],programId:this.programId,data:i})}static setComputeUnitPrice(e){const n=Ls.SetComputeUnitPrice,i=Xt(n,{microLamports:BigInt(e.microLamports)});return new yn({keys:[],programId:this.programId,data:i})}}qv.programId=new Ue("ComputeBudget111111111111111111111111111111");const XS=64,JS=32,ZS=64,eA=re.struct([re.u8("numSignatures"),re.u8("padding"),re.u16("signatureOffset"),re.u16("signatureInstructionIndex"),re.u16("publicKeyOffset"),re.u16("publicKeyInstructionIndex"),re.u16("messageDataOffset"),re.u16("messageDataSize"),re.u16("messageInstructionIndex")]);class dm{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:i,signature:s,instructionIndex:o}=e;on(n.length===JS,`Public Key must be ${JS} bytes but received ${n.length} bytes`),on(s.length===ZS,`Signature must be ${ZS} bytes but received ${s.length} bytes`);const c=eA.span,u=c+n.length,h=u+s.length,p=1,m=ft.Buffer.alloc(h+i.length),v=o??65535;return eA.encode({numSignatures:p,padding:0,signatureOffset:u,signatureInstructionIndex:v,publicKeyOffset:c,publicKeyInstructionIndex:v,messageDataOffset:h,messageDataSize:i.length,messageInstructionIndex:v},m),m.fill(n,c),m.fill(s,u),m.fill(i,h),new yn({keys:[],programId:dm.programId,data:m})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:i,instructionIndex:s}=e;on(n.length===XS,`Private key must be ${XS} bytes but received ${n.length} bytes`);try{const o=Mc.fromSecretKey(n),c=o.publicKey.toBytes(),u=Ov(i,o.secretKey);return this.createInstructionWithPublicKey({publicKey:c,message:i,signature:u,instructionIndex:s})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}dm.programId=new Ue("Ed25519SigVerify111111111111111111111111111");const OV=(r,e)=>{const n=Nv.sign(r,e);return[n.toCompactRawBytes(),n.recovery]};Nv.utils.isValidPrivateKey;const LV=Nv.getPublicKey,tA=32,Dy=20,nA=64,DV=11,By=re.struct([re.u8("numSignatures"),re.u16("signatureOffset"),re.u8("signatureInstructionIndex"),re.u16("ethAddressOffset"),re.u8("ethAddressInstructionIndex"),re.u16("messageDataOffset"),re.u16("messageDataSize"),re.u8("messageInstructionIndex"),re.blob(20,"ethAddress"),re.blob(64,"signature"),re.u8("recoveryId")]);class Nc{constructor(){}static publicKeyToEthAddress(e){on(e.length===nA,`Public key must be ${nA} bytes but received ${e.length} bytes`);try{return ft.Buffer.from(US(kt(e))).slice(-Dy)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:i,signature:s,recoveryId:o,instructionIndex:c}=e;return Nc.createInstructionWithEthAddress({ethAddress:Nc.publicKeyToEthAddress(n),message:i,signature:s,recoveryId:o,instructionIndex:c})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:i,signature:s,recoveryId:o,instructionIndex:c=0}=e;let u;typeof n=="string"?n.startsWith("0x")?u=ft.Buffer.from(n.substr(2),"hex"):u=ft.Buffer.from(n,"hex"):u=n,on(u.length===Dy,`Address must be ${Dy} bytes but received ${u.length} bytes`);const h=1+DV,p=h,m=h+u.length,v=m+s.length+1,S=1,A=ft.Buffer.alloc(By.span+i.length);return By.encode({numSignatures:S,signatureOffset:m,signatureInstructionIndex:c,ethAddressOffset:p,ethAddressInstructionIndex:c,messageDataOffset:v,messageDataSize:i.length,messageInstructionIndex:c,signature:kt(s),ethAddress:kt(u),recoveryId:o},A),A.fill(kt(i),By.span),new yn({keys:[],programId:Nc.programId,data:A})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:i,instructionIndex:s}=e;on(n.length===tA,`Private key must be ${tA} bytes but received ${n.length} bytes`);try{const o=kt(n),c=LV(o,!1).slice(1),u=ft.Buffer.from(US(kt(i))),[h,p]=OV(u,o);return this.createInstructionWithPublicKey({publicKey:c,message:i,signature:h,recoveryId:p,instructionIndex:s})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Nc.programId=new Ue("KeccakSecp256k11111111111111111111111111111");var Mx;const Nx=new Ue("StakeConfig11111111111111111111111111111111");class Ox{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class ih{constructor(e,n,i){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=i}}Mx=ih;ih.default=new Mx(0,0,Ue.default);class BV{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=re.u32("instruction").decode(e.data);let s;for(const[o,c]of Object.entries(hr))if(c.index==i){s=o;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:i}=dn(hr.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Ox(new Ue(n.staker),new Ue(n.withdrawer)),lockup:new ih(i.unixTimestamp,i.epoch,new Ue(i.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),dn(hr.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:i}=dn(hr.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ue(n),stakeAuthorizationType:{index:i}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:i,authoritySeed:s,authorityOwner:o}=dn(hr.AuthorizeWithSeed,e.data),c={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new Ue(o),newAuthorizedPubkey:new Ue(n),stakeAuthorizationType:{index:i}};return e.keys.length>3&&(c.custodianPubkey=e.keys[3].pubkey),c}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=dn(hr.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),dn(hr.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=dn(hr.Withdraw,e.data),i={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(i.custodianPubkey=e.keys[5].pubkey),i}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),dn(hr.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(hm.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const hr=Object.freeze({Initialize:{index:0,layout:re.struct([re.u32("instruction"),z8(),j8()])},Authorize:{index:1,layout:re.struct([re.u32("instruction"),Lt("newAuthorized"),re.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:re.struct([re.u32("instruction")])},Split:{index:3,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},Withdraw:{index:4,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},Deactivate:{index:5,layout:re.struct([re.u32("instruction")])},Merge:{index:7,layout:re.struct([re.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:re.struct([re.u32("instruction"),Lt("newAuthorized"),re.u32("stakeAuthorizationType"),ol("authoritySeed"),Lt("authorityOwner")])}}),UV=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class hm{constructor(){}static initialize(e){const{stakePubkey:n,authorized:i,lockup:s}=e,o=s||ih.default,c=hr.Initialize,u=Xt(c,{authorized:{staker:kt(i.staker.toBuffer()),withdrawer:kt(i.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:kt(o.custodian.toBuffer())}}),h={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Gc,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new yn(h)}static createAccountWithSeed(e){const n=new en;n.add(fr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:s,lockup:o}=e;return n.add(this.initialize({stakePubkey:i,authorized:s,lockup:o}))}static createAccount(e){const n=new en;n.add(fr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:s,lockup:o}=e;return n.add(this.initialize({stakePubkey:i,authorized:s,lockup:o}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:i,votePubkey:s}=e,o=hr.Delegate,c=Xt(o);return new en().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Ps,isSigner:!1,isWritable:!1},{pubkey:Hf,isSigner:!1,isWritable:!1},{pubkey:Nx,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static authorize(e){const{stakePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:c}=e,u=hr.Authorize,h=Xt(u,{newAuthorized:kt(s.toBuffer()),stakeAuthorizationType:o.index}),p=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Ps,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!0,isWritable:!1}),new en().add({keys:p,programId:this.programId,data:h})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:i,authoritySeed:s,authorityOwner:o,newAuthorizedPubkey:c,stakeAuthorizationType:u,custodianPubkey:h}=e,p=hr.AuthorizeWithSeed,m=Xt(p,{newAuthorized:kt(c.toBuffer()),stakeAuthorizationType:u.index,authoritySeed:s,authorityOwner:kt(o.toBuffer())}),v=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:Ps,isSigner:!1,isWritable:!1}];return h&&v.push({pubkey:h,isSigner:!0,isWritable:!1}),new en().add({keys:v,programId:this.programId,data:m})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:o}=e,c=hr.Split,u=Xt(c,{lamports:o});return new yn({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static split(e,n){const i=new en;return i.add(fr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),i.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:i,authorizedPubkey:s,splitStakePubkey:o,basePubkey:c,seed:u,lamports:h}=e,p=new en;return p.add(fr.allocate({accountPubkey:o,basePubkey:c,seed:u,space:this.space,programId:this.programId})),n&&n>0&&p.add(fr.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:n})),p.add(this.splitInstruction({stakePubkey:i,authorizedPubkey:s,splitStakePubkey:o,lamports:h}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:i,authorizedPubkey:s}=e,o=hr.Merge,c=Xt(o);return new en().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Ps,isSigner:!1,isWritable:!1},{pubkey:Hf,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:i,toPubkey:s,lamports:o,custodianPubkey:c}=e,u=hr.Withdraw,h=Xt(u,{lamports:o}),p=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Ps,isSigner:!1,isWritable:!1},{pubkey:Hf,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!0,isWritable:!1}),new en().add({keys:p,programId:this.programId,data:h})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:i}=e,s=hr.Deactivate,o=Xt(s);return new en().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Ps,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}hm.programId=new Ue("Stake11111111111111111111111111111111111111");hm.space=200;class Lx{constructor(e,n,i,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=i,this.commission=s}}class VV{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=re.u32("instruction").decode(e.data);let s;for(const[o,c]of Object.entries(Ds))if(c.index==i){s=o;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=dn(Ds.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Lx(new Ue(n.nodePubkey),new Ue(n.authorizedVoter),new Ue(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:i}=dn(Ds.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ue(n),voteAuthorizationType:{index:i}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorized:s,voteAuthorizationType:o}}=dn(Ds.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Ue(n),currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:new Ue(s),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=dn(Ds.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(du.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const Ds=Object.freeze({InitializeAccount:{index:0,layout:re.struct([re.u32("instruction"),q8()])},Authorize:{index:1,layout:re.struct([re.u32("instruction"),Lt("newAuthorized"),re.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:re.struct([re.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:re.struct([re.u32("instruction"),$8()])}}),FV=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class du{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:i,voteInit:s}=e,o=Ds.InitializeAccount,c=Xt(o,{voteInit:{nodePubkey:kt(s.nodePubkey.toBuffer()),authorizedVoter:kt(s.authorizedVoter.toBuffer()),authorizedWithdrawer:kt(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),u={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Gc,isSigner:!1,isWritable:!1},{pubkey:Ps,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:c};return new yn(u)}static createAccount(e){const n=new en;return n.add(fr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:s,voteAuthorizationType:o}=e,c=Ds.Authorize,u=Xt(c,{newAuthorized:kt(s.toBuffer()),voteAuthorizationType:o.index}),h=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Ps,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new en().add({keys:h,programId:this.programId,data:u})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:i,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:o,voteAuthorizationType:c,votePubkey:u}=e,h=Ds.AuthorizeWithSeed,p=Xt(h,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:kt(i.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:kt(o.toBuffer()),voteAuthorizationType:c.index}}),m=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:Ps,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new en().add({keys:m,programId:this.programId,data:p})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:i,lamports:s,toPubkey:o}=e,c=Ds.Withdraw,u=Xt(c,{lamports:s}),h=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new en().add({keys:h,programId:this.programId,data:u})}static safeWithdraw(e,n,i){if(e.lamports>n-i)throw new Error("Withdraw will leave vote account with insufficient funds.");return du.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:i,nodePubkey:s}=e,o=Ds.UpdateValidatorIdentity,c=Xt(o),u=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new en().add({keys:u,programId:this.programId,data:c})}}du.programId=new Ue("Vote111111111111111111111111111111111111111");du.space=3762;const Dx=new Ue("Va1idator1nfo111111111111111111111111111111"),WV=Me({name:Be(),website:at(Be()),details:at(Be()),iconUrl:at(Be()),keybaseUsername:at(Be())});class $v{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(ui(n)!==2)return null;const s=[];for(let o=0;o<2;o++){const c=new Ue(di(n,0,js)),u=Os(n)===1;s.push({publicKey:c,isSigner:u})}if(s[0].publicKey.equals(Dx)&&s[1].isSigner){const o=ol().decode(ft.Buffer.from(n)),c=JSON.parse(o);return G2(c,WV),new $v(s[1].publicKey,c)}return null}}const zV=new Ue("Vote111111111111111111111111111111111111111"),jV=re.struct([Lt("nodePubkey"),Lt("authorizedWithdrawer"),re.u8("commission"),re.nu64(),re.seq(re.struct([re.nu64("slot"),re.u32("confirmationCount")]),re.offset(re.u32(),-8),"votes"),re.u8("rootSlotValid"),re.nu64("rootSlot"),re.nu64(),re.seq(re.struct([re.nu64("epoch"),Lt("authorizedVoter")]),re.offset(re.u32(),-8),"authorizedVoters"),re.struct([re.seq(re.struct([Lt("authorizedPubkey"),re.nu64("epochOfLastAuthorizedSwitch"),re.nu64("targetEpoch")]),32,"buf"),re.nu64("idx"),re.u8("isEmpty")],"priorVoters"),re.nu64(),re.seq(re.struct([re.nu64("epoch"),re.nu64("credits"),re.nu64("prevCredits")]),re.offset(re.u32(),-8),"epochCredits"),re.struct([re.nu64("slot"),re.nu64("timestamp")],"lastTimestamp")]);class Kv{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const i=jV.decode(kt(e),4);let s=i.rootSlot;return i.rootSlotValid||(s=null),new Kv({nodePubkey:new Ue(i.nodePubkey),authorizedWithdrawer:new Ue(i.authorizedWithdrawer),commission:i.commission,votes:i.votes,rootSlot:s,authorizedVoters:i.authorizedVoters.map(qV),priorVoters:$V(i.priorVoters),epochCredits:i.epochCredits,lastTimestamp:i.lastTimestamp})}}function qV({authorizedVoter:r,epoch:e}){return{epoch:e,authorizedVoter:new Ue(r)}}function rA({authorizedPubkey:r,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new Ue(r),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function $V({buf:r,idx:e,isEmpty:n}){return n?[]:[...r.slice(e+1).map(rA),...r.slice(0,e).map(rA)]}const iA={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function KV(r,e){const n=e===!1?"http":"https";if(!r)return iA[n].devnet;const i=iA[n][r];if(!i)throw new Error(`Unknown ${n} cluster: ${r}`);return i}async function HV(r,e,n,i){let s,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(s=n,o=i):o=n;const c=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},u=await r.sendRawTransaction(e,c),h=o&&o.commitment,m=(await(s?r.confirmTransaction(s,h):r.confirmTransaction(u,h))).value;if(m.err)throw u!=null?new Dd({action:c?.skipPreflight?"send":"simulate",signature:u,transactionMessage:`Status: (${JSON.stringify(m)})`}):new Error(`Raw transaction ${u} failed (${JSON.stringify(m)})`);return u}const GV=1e9,QV=Object.freeze(Object.defineProperty({__proto__:null,Account:V8,AddressLookupTableAccount:nw,AddressLookupTableInstruction:MV,AddressLookupTableProgram:jv,Authorized:Ox,BLOCKHASH_CACHE_TIMEOUT_MS:Ex,BPF_LOADER_DEPRECATED_PROGRAM_ID:F8,BPF_LOADER_PROGRAM_ID:iU,BpfLoader:sU,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Ls,ComputeBudgetInstruction:NV,ComputeBudgetProgram:qv,Connection:Px,Ed25519Program:dm,Enum:B8,EpochSchedule:vx,FeeCalculatorLayout:yx,Keypair:Mc,LAMPORTS_PER_SOL:GV,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:po,Loader:_l,Lockup:ih,MAX_SEED_LENGTH:fx,Message:fs,MessageAccountKeys:Od,MessageV0:vl,NONCE_ACCOUNT_LENGTH:tw,NonceAccount:lm,PACKET_DATA_SIZE:ba,PUBLIC_KEY_LENGTH:js,PublicKey:Ue,SIGNATURE_LENGTH_IN_BYTES:Nd,SOLANA_SCHEMA:yd,STAKE_CONFIG_ID:Nx,STAKE_INSTRUCTION_LAYOUTS:hr,SYSTEM_INSTRUCTION_LAYOUTS:En,SYSVAR_CLOCK_PUBKEY:Ps,SYSVAR_EPOCH_SCHEDULE_PUBKEY:Y8,SYSVAR_INSTRUCTIONS_PUBKEY:X8,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:Kf,SYSVAR_RENT_PUBKEY:Gc,SYSVAR_REWARDS_PUBKEY:J8,SYSVAR_SLOT_HASHES_PUBKEY:Z8,SYSVAR_SLOT_HISTORY_PUBKEY:eU,SYSVAR_STAKE_HISTORY_PUBKEY:Hf,Secp256k1Program:Nc,SendTransactionError:Dd,SolanaJSONRPCError:st,SolanaJSONRPCErrorCode:tU,StakeAuthorizationLayout:UV,StakeInstruction:BV,StakeProgram:hm,Struct:Lv,SystemInstruction:nU,SystemProgram:fr,Transaction:en,TransactionExpiredBlockheightExceededError:Dv,TransactionExpiredNonceInvalidError:Ec,TransactionExpiredTimeoutError:Bv,TransactionInstruction:yn,TransactionMessage:Vv,TransactionStatus:uo,VALIDATOR_INFO_KEY:Dx,VERSION_PREFIX_MASK:om,VOTE_PROGRAM_ID:zV,ValidatorInfo:$v,VersionedMessage:Uv,VersionedTransaction:Ld,VoteAccount:Kv,VoteAuthorizationLayout:FV,VoteInit:Lx,VoteInstruction:VV,VoteProgram:du,clusterApiUrl:KV,sendAndConfirmRawTransaction:HV,sendAndConfirmTransaction:ew},Symbol.toStringTag,{value:"Module"})),Bx=ce.createContext({});function YV(){return ce.useContext(Bx)}const XV=({children:r,endpoint:e,config:n={commitment:"confirmed"}})=>{const i=ce.useMemo(()=>new Px(e,n),[e,n]);return Oe.createElement(Bx.Provider,{value:{connection:i}},r)};class Wr extends Error{constructor(e,n){super(e),this.error=n}}class Tp extends Wr{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class ld extends Wr{constructor(){super(...arguments),this.name="WalletConfigError"}}class Ux extends Wr{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Vx extends Wr{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Fx extends Wr{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class al extends Wr{constructor(){super(...arguments),this.name="WalletAccountError"}}class ow extends Wr{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class xi extends Wr{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class ll extends Wr{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class ma extends Wr{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Wx extends Wr{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class sA extends Wr{constructor(){super(...arguments),this.name="WalletSignInError"}}var Pn;(function(r){r.Installed="Installed",r.NotDetected="NotDetected",r.Loadable="Loadable",r.Unsupported="Unsupported"})(Pn||(Pn={}));class zx extends Cv{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,i={}){const s=this.publicKey;if(!s)throw new xi;return e.feePayer=e.feePayer||s,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:i.preflightCommitment,minContextSlot:i.minContextSlot})).blockhash,e}}function JV(r){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(r())for(const o of e)o()}const i=setInterval(n,1e3);e.push(()=>clearInterval(i)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function ZV(){if(!navigator)return!1;const r=navigator.userAgent.toLowerCase(),e=r.includes("iphone")||r.includes("ipad"),n=r.includes("safari");return e&&n}function ga(r){return"version"in r}class eF extends zx{async sendTransaction(e,n,i={}){let s=!0;try{if(ga(e)){if(!this.supportedTransactionVersions)throw new ll("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new ll(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const o=e.serialize();return await n.sendRawTransaction(o,i)}catch(o){throw o instanceof ma?(s=!1,o):new ll(o?.message,o)}}else try{const{signers:o,...c}=i;e=await this.prepareTransaction(e,n,c),o?.length&&e.partialSign(...o),e=await this.signTransaction(e);const u=e.serialize();return await n.sendRawTransaction(u,c)}catch(o){throw o instanceof ma?(s=!1,o):new ll(o?.message,o)}}catch(o){throw s&&this.emit("error",o),o}}async signAllTransactions(e){for(const i of e)if(ga(i)){if(!this.supportedTransactionVersions)throw new ma("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(i.version))throw new ma(`Signing transaction version ${i.version} isn't supported by this wallet`)}const n=[];for(const i of e)n.push(await this.signTransaction(i));return n}}class tF extends eF{}const da="solana:signAndSendTransaction",Uy="solana:signIn",Qu="solana:signMessage",_r="solana:signTransaction",jx="standard:connect",oA="standard:disconnect",qx="standard:events";function nF(r){return jx in r.features&&qx in r.features&&(da in r.features||_r in r.features)}class aA extends Wr{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const rF=[],fm={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){ss("call","select")},connect(){return Promise.reject(ss("call","connect"))},disconnect(){return Promise.reject(ss("call","disconnect"))},sendTransaction(){return Promise.reject(ss("call","sendTransaction"))},signTransaction(){return Promise.reject(ss("call","signTransaction"))},signAllTransactions(){return Promise.reject(ss("call","signAllTransactions"))},signMessage(){return Promise.reject(ss("call","signMessage"))},signIn(){return Promise.reject(ss("call","signIn"))}};Object.defineProperty(fm,"wallets",{get(){return ss("read","wallets"),rF}});Object.defineProperty(fm,"wallet",{get(){return ss("read","wallet"),null}});Object.defineProperty(fm,"publicKey",{get(){return ss("read","publicKey"),null}});function ss(r,e){const n=new Error(`You have tried to ${r} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const $x=ce.createContext(fm);function iF(){return ce.useContext($x)}function sF(r,e){const n=ce.useState(()=>{try{const o=localStorage.getItem(r);if(o)return JSON.parse(o)}catch(o){typeof window<"u"&&console.error(o)}return e}),i=n[0],s=ce.useRef(!0);return ce.useEffect(()=>{if(s.current){s.current=!1;return}try{i===null?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(i))}catch(o){typeof window<"u"&&console.error(o)}},[i,r]),n}var xs={},Ya={},Hr={},Ct={},lA;function Hv(){if(lA)return Ct;lA=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.WalletWindowClosedError=Ct.WalletWindowBlockedError=Ct.WalletTimeoutError=Ct.WalletSignInError=Ct.WalletSignMessageError=Ct.WalletSignTransactionError=Ct.WalletSendTransactionError=Ct.WalletNotConnectedError=Ct.WalletKeypairError=Ct.WalletPublicKeyError=Ct.WalletAccountError=Ct.WalletDisconnectionError=Ct.WalletDisconnectedError=Ct.WalletConnectionError=Ct.WalletConfigError=Ct.WalletLoadError=Ct.WalletNotReadyError=Ct.WalletError=void 0;class r extends Error{constructor(G,te){super(G),this.error=te}}Ct.WalletError=r;class e extends r{constructor(){super(...arguments),this.name="WalletNotReadyError"}}Ct.WalletNotReadyError=e;class n extends r{constructor(){super(...arguments),this.name="WalletLoadError"}}Ct.WalletLoadError=n;class i extends r{constructor(){super(...arguments),this.name="WalletConfigError"}}Ct.WalletConfigError=i;class s extends r{constructor(){super(...arguments),this.name="WalletConnectionError"}}Ct.WalletConnectionError=s;class o extends r{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}Ct.WalletDisconnectedError=o;class c extends r{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}Ct.WalletDisconnectionError=c;class u extends r{constructor(){super(...arguments),this.name="WalletAccountError"}}Ct.WalletAccountError=u;class h extends r{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}Ct.WalletPublicKeyError=h;class p extends r{constructor(){super(...arguments),this.name="WalletKeypairError"}}Ct.WalletKeypairError=p;class m extends r{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}Ct.WalletNotConnectedError=m;class v extends r{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}Ct.WalletSendTransactionError=v;class S extends r{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}Ct.WalletSignTransactionError=S;class A extends r{constructor(){super(...arguments),this.name="WalletSignMessageError"}}Ct.WalletSignMessageError=A;class N extends r{constructor(){super(...arguments),this.name="WalletSignInError"}}Ct.WalletSignInError=N;class P extends r{constructor(){super(...arguments),this.name="WalletTimeoutError"}}Ct.WalletTimeoutError=P;class O extends r{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}Ct.WalletWindowBlockedError=O;class z extends r{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}return Ct.WalletWindowClosedError=z,Ct}var cA;function Kx(){if(cA)return Hr;cA=1;var r=Hr&&Hr.__awaiter||function(h,p,m,v){function S(A){return A instanceof m?A:new m(function(N){N(A)})}return new(m||(m=Promise))(function(A,N){function P(j){try{z(v.next(j))}catch(G){N(G)}}function O(j){try{z(v.throw(j))}catch(G){N(G)}}function z(j){j.done?A(j.value):S(j.value).then(P,O)}z((v=v.apply(h,p||[])).next())})},e=Hr&&Hr.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.BaseWalletAdapter=Hr.WalletReadyState=Hr.EventEmitter=void 0,Hr.scopePollingDetectionStrategy=c,Hr.isIosAndRedirectable=u;const n=e(nx());Hr.EventEmitter=n.default;const i=Hv();var s;(function(h){h.Installed="Installed",h.NotDetected="NotDetected",h.Loadable="Loadable",h.Unsupported="Unsupported"})(s||(Hr.WalletReadyState=s={}));class o extends n.default{get connected(){return!!this.publicKey}autoConnect(){return r(this,void 0,void 0,function*(){yield this.connect()})}prepareTransaction(p,m){return r(this,arguments,void 0,function*(v,S,A={}){const N=this.publicKey;if(!N)throw new i.WalletNotConnectedError;return v.feePayer=v.feePayer||N,v.recentBlockhash=v.recentBlockhash||(yield S.getLatestBlockhash({commitment:A.preflightCommitment,minContextSlot:A.minContextSlot})).blockhash,v})}}Hr.BaseWalletAdapter=o;function c(h){if(typeof window>"u"||typeof document>"u")return;const p=[];function m(){if(h())for(const A of p)A()}const v=setInterval(m,1e3);p.push(()=>clearInterval(v)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",m,{once:!0}),p.push(()=>document.removeEventListener("DOMContentLoaded",m))),document.readyState!=="complete"&&(window.addEventListener("load",m,{once:!0}),p.push(()=>window.removeEventListener("load",m))),m()}function u(){if(!navigator)return!1;const h=navigator.userAgent.toLowerCase(),p=h.includes("iphone")||h.includes("ipad"),m=h.includes("safari");return p&&m}return Hr}var Ai={},Rf={},uA;function Hx(){if(uA)return Rf;uA=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.isVersionedTransaction=r;function r(e){return"version"in e}return Rf}var dA;function oF(){if(dA)return Ai;dA=1;var r=Ai&&Ai.__awaiter||function(h,p,m,v){function S(A){return A instanceof m?A:new m(function(N){N(A)})}return new(m||(m=Promise))(function(A,N){function P(j){try{z(v.next(j))}catch(G){N(G)}}function O(j){try{z(v.throw(j))}catch(G){N(G)}}function z(j){j.done?A(j.value):S(j.value).then(P,O)}z((v=v.apply(h,p||[])).next())})},e=Ai&&Ai.__rest||function(h,p){var m={};for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&p.indexOf(v)<0&&(m[v]=h[v]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,v=Object.getOwnPropertySymbols(h);S<v.length;S++)p.indexOf(v[S])<0&&Object.prototype.propertyIsEnumerable.call(h,v[S])&&(m[v[S]]=h[v[S]]);return m};Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.BaseSignInMessageSignerWalletAdapter=Ai.BaseMessageSignerWalletAdapter=Ai.BaseSignerWalletAdapter=void 0;const n=Kx(),i=Hv(),s=Hx();class o extends n.BaseWalletAdapter{sendTransaction(p,m){return r(this,arguments,void 0,function*(v,S,A={}){let N=!0;try{if((0,s.isVersionedTransaction)(v)){if(!this.supportedTransactionVersions)throw new i.WalletSendTransactionError("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(v.version))throw new i.WalletSendTransactionError(`Sending transaction version ${v.version} isn't supported by this wallet`);try{v=yield this.signTransaction(v);const P=v.serialize();return yield S.sendRawTransaction(P,A)}catch(P){throw P instanceof i.WalletSignTransactionError?(N=!1,P):new i.WalletSendTransactionError(P?.message,P)}}else try{const{signers:P}=A,O=e(A,["signers"]);v=yield this.prepareTransaction(v,S,O),P?.length&&v.partialSign(...P),v=yield this.signTransaction(v);const z=v.serialize();return yield S.sendRawTransaction(z,O)}catch(P){throw P instanceof i.WalletSignTransactionError?(N=!1,P):new i.WalletSendTransactionError(P?.message,P)}}catch(P){throw N&&this.emit("error",P),P}})}signAllTransactions(p){return r(this,void 0,void 0,function*(){for(const v of p)if((0,s.isVersionedTransaction)(v)){if(!this.supportedTransactionVersions)throw new i.WalletSignTransactionError("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(v.version))throw new i.WalletSignTransactionError(`Signing transaction version ${v.version} isn't supported by this wallet`)}const m=[];for(const v of p)m.push(yield this.signTransaction(v));return m})}}Ai.BaseSignerWalletAdapter=o;class c extends o{}Ai.BaseMessageSignerWalletAdapter=c;class u extends c{}return Ai.BaseSignInMessageSignerWalletAdapter=u,Ai}var Cf={},Xa={},Yu={},hA;function aF(){return hA||(hA=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.SolanaSignAndSendTransaction=void 0,Yu.SolanaSignAndSendTransaction="solana:signAndSendTransaction"),Yu}var Xu={},fA;function lF(){return fA||(fA=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.SolanaSignIn=void 0,Xu.SolanaSignIn="solana:signIn"),Xu}var Ju={},pA;function cF(){return pA||(pA=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.SolanaSignMessage=void 0,Ju.SolanaSignMessage="solana:signMessage"),Ju}var Zu={},mA;function uF(){return mA||(mA=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.SolanaSignTransaction=void 0,Zu.SolanaSignTransaction="solana:signTransaction"),Zu}var ed={},gA;function dF(){return gA||(gA=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.SignAndSendAllTransactions=void 0,ed.SignAndSendAllTransactions="solana:signAndSendAllTransactions"),ed}var yA;function Gv(){return yA||(yA=1,(function(r){var e=Xa&&Xa.__createBinding||(Object.create?(function(i,s,o,c){c===void 0&&(c=o);var u=Object.getOwnPropertyDescriptor(s,o);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,c,u)}):(function(i,s,o,c){c===void 0&&(c=o),i[c]=s[o]})),n=Xa&&Xa.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(r,"__esModule",{value:!0}),n(aF(),r),n(lF(),r),n(cF(),r),n(uF(),r),n(dF(),r)})(Xa)),Xa}var Ja={},Vy={},wA;function hF(){return wA||(wA=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Connect=r.StandardConnect=void 0,r.StandardConnect="standard:connect",r.Connect=r.StandardConnect})(Vy)),Vy}var Fy={},vA;function fF(){return vA||(vA=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Disconnect=r.StandardDisconnect=void 0,r.StandardDisconnect="standard:disconnect",r.Disconnect=r.StandardDisconnect})(Fy)),Fy}var Wy={},_A;function pF(){return _A||(_A=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Events=r.StandardEvents=void 0,r.StandardEvents="standard:events",r.Events=r.StandardEvents})(Wy)),Wy}var EA;function Gx(){return EA||(EA=1,(function(r){var e=Ja&&Ja.__createBinding||(Object.create?(function(i,s,o,c){c===void 0&&(c=o);var u=Object.getOwnPropertyDescriptor(s,o);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,c,u)}):(function(i,s,o,c){c===void 0&&(c=o),i[c]=s[o]})),n=Ja&&Ja.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(r,"__esModule",{value:!0}),n(hF(),r),n(fF(),r),n(pF(),r)})(Ja)),Ja}var bA;function mF(){if(bA)return Cf;bA=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.isWalletAdapterCompatibleStandardWallet=n;const r=Gv(),e=Gx();function n(i){return e.StandardConnect in i.features&&e.StandardEvents in i.features&&(r.SolanaSignAndSendTransaction in i.features||r.SolanaSignTransaction in i.features)}return Cf}var td={},SA;function gF(){if(SA)return td;SA=1,Object.defineProperty(td,"__esModule",{value:!0}),td.WalletAdapterNetwork=void 0;var r;return(function(e){e.Mainnet="mainnet-beta",e.Testnet="testnet",e.Devnet="devnet"})(r||(td.WalletAdapterNetwork=r={})),td}var AA;function yF(){return AA||(AA=1,(function(r){var e=Ya&&Ya.__createBinding||(Object.create?(function(i,s,o,c){c===void 0&&(c=o);var u=Object.getOwnPropertyDescriptor(s,o);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,c,u)}):(function(i,s,o,c){c===void 0&&(c=o),i[c]=s[o]})),n=Ya&&Ya.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(r,"__esModule",{value:!0}),n(Kx(),r),n(Hv(),r),n(oF(),r),n(mF(),r),n(Hx(),r),n(gF(),r)})(Ya)),Ya}const wF=Ud(QV);var is={},pc={},zy,IA;function vF(){return IA||(IA=1,zy=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),zy}var jy={},ia={},TA;function Rl(){if(TA)return ia;TA=1;let r;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return ia.getSymbolSize=function(i){if(!i)throw new Error('"version" cannot be null or undefined');if(i<1||i>40)throw new Error('"version" should be in range from 1 to 40');return i*4+17},ia.getSymbolTotalCodewords=function(i){return e[i]},ia.getBCHDigit=function(n){let i=0;for(;n!==0;)i++,n>>>=1;return i},ia.setToSJISFunction=function(i){if(typeof i!="function")throw new Error('"toSJISFunc" is not a valid function.');r=i},ia.isKanjiModeEnabled=function(){return typeof r<"u"},ia.toSJIS=function(i){return r(i)},ia}var qy={},kA;function Qv(){return kA||(kA=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}r.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},r.from=function(i,s){if(r.isValid(i))return i;try{return e(i)}catch{return s}}})(qy)),qy}var $y,xA;function _F(){if(xA)return $y;xA=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let i=0;i<n;i++)this.putBit((e>>>n-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},$y=r,$y}var Ky,RA;function EF(){if(RA)return Ky;RA=1;function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return r.prototype.set=function(e,n,i,s){const o=e*this.size+n;this.data[o]=i,s&&(this.reservedBit[o]=!0)},r.prototype.get=function(e,n){return this.data[e*this.size+n]},r.prototype.xor=function(e,n,i){this.data[e*this.size+n]^=i},r.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},Ky=r,Ky}var Hy={},CA;function bF(){return CA||(CA=1,(function(r){const e=Rl().getSymbolSize;r.getRowColCoords=function(i){if(i===1)return[];const s=Math.floor(i/7)+2,o=e(i),c=o===145?26:Math.ceil((o-13)/(2*s-2))*2,u=[o-7];for(let h=1;h<s-1;h++)u[h]=u[h-1]-c;return u.push(6),u.reverse()},r.getPositions=function(i){const s=[],o=r.getRowColCoords(i),c=o.length;for(let u=0;u<c;u++)for(let h=0;h<c;h++)u===0&&h===0||u===0&&h===c-1||u===c-1&&h===0||s.push([o[u],o[h]]);return s}})(Hy)),Hy}var Gy={},PA;function SF(){if(PA)return Gy;PA=1;const r=Rl().getSymbolSize,e=7;return Gy.getPositions=function(i){const s=r(i);return[[0,0],[s-e,0],[0,s-e]]},Gy}var Qy={},MA;function AF(){return MA||(MA=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},r.from=function(s){return r.isValid(s)?parseInt(s,10):void 0},r.getPenaltyN1=function(s){const o=s.size;let c=0,u=0,h=0,p=null,m=null;for(let v=0;v<o;v++){u=h=0,p=m=null;for(let S=0;S<o;S++){let A=s.get(v,S);A===p?u++:(u>=5&&(c+=e.N1+(u-5)),p=A,u=1),A=s.get(S,v),A===m?h++:(h>=5&&(c+=e.N1+(h-5)),m=A,h=1)}u>=5&&(c+=e.N1+(u-5)),h>=5&&(c+=e.N1+(h-5))}return c},r.getPenaltyN2=function(s){const o=s.size;let c=0;for(let u=0;u<o-1;u++)for(let h=0;h<o-1;h++){const p=s.get(u,h)+s.get(u,h+1)+s.get(u+1,h)+s.get(u+1,h+1);(p===4||p===0)&&c++}return c*e.N2},r.getPenaltyN3=function(s){const o=s.size;let c=0,u=0,h=0;for(let p=0;p<o;p++){u=h=0;for(let m=0;m<o;m++)u=u<<1&2047|s.get(p,m),m>=10&&(u===1488||u===93)&&c++,h=h<<1&2047|s.get(m,p),m>=10&&(h===1488||h===93)&&c++}return c*e.N3},r.getPenaltyN4=function(s){let o=0;const c=s.data.length;for(let h=0;h<c;h++)o+=s.data[h];return Math.abs(Math.ceil(o*100/c/5)-10)*e.N4};function n(i,s,o){switch(i){case r.Patterns.PATTERN000:return(s+o)%2===0;case r.Patterns.PATTERN001:return s%2===0;case r.Patterns.PATTERN010:return o%3===0;case r.Patterns.PATTERN011:return(s+o)%3===0;case r.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(o/3))%2===0;case r.Patterns.PATTERN101:return s*o%2+s*o%3===0;case r.Patterns.PATTERN110:return(s*o%2+s*o%3)%2===0;case r.Patterns.PATTERN111:return(s*o%3+(s+o)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}r.applyMask=function(s,o){const c=o.size;for(let u=0;u<c;u++)for(let h=0;h<c;h++)o.isReserved(h,u)||o.xor(h,u,n(s,h,u))},r.getBestMask=function(s,o){const c=Object.keys(r.Patterns).length;let u=0,h=1/0;for(let p=0;p<c;p++){o(p),r.applyMask(p,s);const m=r.getPenaltyN1(s)+r.getPenaltyN2(s)+r.getPenaltyN3(s)+r.getPenaltyN4(s);r.applyMask(p,s),m<h&&(h=m,u=p)}return u}})(Qy)),Qy}var Pf={},NA;function Qx(){if(NA)return Pf;NA=1;const r=Qv(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Pf.getBlocksCount=function(s,o){switch(o){case r.L:return e[(s-1)*4+0];case r.M:return e[(s-1)*4+1];case r.Q:return e[(s-1)*4+2];case r.H:return e[(s-1)*4+3];default:return}},Pf.getTotalCodewordsCount=function(s,o){switch(o){case r.L:return n[(s-1)*4+0];case r.M:return n[(s-1)*4+1];case r.Q:return n[(s-1)*4+2];case r.H:return n[(s-1)*4+3];default:return}},Pf}var Yy={},nd={},OA;function IF(){if(OA)return nd;OA=1;const r=new Uint8Array(512),e=new Uint8Array(256);return(function(){let i=1;for(let s=0;s<255;s++)r[s]=i,e[i]=s,i<<=1,i&256&&(i^=285);for(let s=255;s<512;s++)r[s]=r[s-255]})(),nd.log=function(i){if(i<1)throw new Error("log("+i+")");return e[i]},nd.exp=function(i){return r[i]},nd.mul=function(i,s){return i===0||s===0?0:r[e[i]+e[s]]},nd}var LA;function TF(){return LA||(LA=1,(function(r){const e=IF();r.mul=function(i,s){const o=new Uint8Array(i.length+s.length-1);for(let c=0;c<i.length;c++)for(let u=0;u<s.length;u++)o[c+u]^=e.mul(i[c],s[u]);return o},r.mod=function(i,s){let o=new Uint8Array(i);for(;o.length-s.length>=0;){const c=o[0];for(let h=0;h<s.length;h++)o[h]^=e.mul(s[h],c);let u=0;for(;u<o.length&&o[u]===0;)u++;o=o.slice(u)}return o},r.generateECPolynomial=function(i){let s=new Uint8Array([1]);for(let o=0;o<i;o++)s=r.mul(s,new Uint8Array([1,e.exp(o)]));return s}})(Yy)),Yy}var Xy,DA;function kF(){if(DA)return Xy;DA=1;const r=TF();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(i){this.degree=i,this.genPoly=r.generateECPolynomial(this.degree)},e.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(i.length+this.degree);s.set(i);const o=r.mod(s,this.genPoly),c=this.degree-o.length;if(c>0){const u=new Uint8Array(this.degree);return u.set(o,c),u}return o},Xy=e,Xy}var Jy={},Zy={},e0={},BA;function Yx(){return BA||(BA=1,e0.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),e0}var Rs={},UA;function Xx(){if(UA)return Rs;UA=1;const r="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Rs.KANJI=new RegExp(n,"g"),Rs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Rs.BYTE=new RegExp(i,"g"),Rs.NUMERIC=new RegExp(r,"g"),Rs.ALPHANUMERIC=new RegExp(e,"g");const s=new RegExp("^"+n+"$"),o=new RegExp("^"+r+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Rs.testKanji=function(h){return s.test(h)},Rs.testNumeric=function(h){return o.test(h)},Rs.testAlphanumeric=function(h){return c.test(h)},Rs}var VA;function Cl(){return VA||(VA=1,(function(r){const e=Yx(),n=Xx();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(o,c){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?o.ccBits[0]:c<27?o.ccBits[1]:o.ccBits[2]},r.getBestModeForData=function(o){return n.testNumeric(o)?r.NUMERIC:n.testAlphanumeric(o)?r.ALPHANUMERIC:n.testKanji(o)?r.KANJI:r.BYTE},r.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},r.isValid=function(o){return o&&o.bit&&o.ccBits};function i(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+s)}}r.from=function(o,c){if(r.isValid(o))return o;try{return i(o)}catch{return c}}})(Zy)),Zy}var FA;function xF(){return FA||(FA=1,(function(r){const e=Rl(),n=Qx(),i=Qv(),s=Cl(),o=Yx(),c=7973,u=e.getBCHDigit(c);function h(S,A,N){for(let P=1;P<=40;P++)if(A<=r.getCapacity(P,N,S))return P}function p(S,A){return s.getCharCountIndicator(S,A)+4}function m(S,A){let N=0;return S.forEach(function(P){const O=p(P.mode,A);N+=O+P.getBitsLength()}),N}function v(S,A){for(let N=1;N<=40;N++)if(m(S,N)<=r.getCapacity(N,A,s.MIXED))return N}r.from=function(A,N){return o.isValid(A)?parseInt(A,10):N},r.getCapacity=function(A,N,P){if(!o.isValid(A))throw new Error("Invalid QR Code version");typeof P>"u"&&(P=s.BYTE);const O=e.getSymbolTotalCodewords(A),z=n.getTotalCodewordsCount(A,N),j=(O-z)*8;if(P===s.MIXED)return j;const G=j-p(P,A);switch(P){case s.NUMERIC:return Math.floor(G/10*3);case s.ALPHANUMERIC:return Math.floor(G/11*2);case s.KANJI:return Math.floor(G/13);case s.BYTE:default:return Math.floor(G/8)}},r.getBestVersionForData=function(A,N){let P;const O=i.from(N,i.M);if(Array.isArray(A)){if(A.length>1)return v(A,O);if(A.length===0)return 1;P=A[0]}else P=A;return h(P.mode,P.getLength(),O)},r.getEncodedBits=function(A){if(!o.isValid(A)||A<7)throw new Error("Invalid QR Code version");let N=A<<12;for(;e.getBCHDigit(N)-u>=0;)N^=c<<e.getBCHDigit(N)-u;return A<<12|N}})(Jy)),Jy}var t0={},WA;function RF(){if(WA)return t0;WA=1;const r=Rl(),e=1335,n=21522,i=r.getBCHDigit(e);return t0.getEncodedBits=function(o,c){const u=o.bit<<3|c;let h=u<<10;for(;r.getBCHDigit(h)-i>=0;)h^=e<<r.getBCHDigit(h)-i;return(u<<10|h)^n},t0}var n0={},r0,zA;function CF(){if(zA)return r0;zA=1;const r=Cl();function e(n){this.mode=r.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(i){let s,o,c;for(s=0;s+3<=this.data.length;s+=3)o=this.data.substr(s,3),c=parseInt(o,10),i.put(c,10);const u=this.data.length-s;u>0&&(o=this.data.substr(s),c=parseInt(o,10),i.put(c,u*3+1))},r0=e,r0}var i0,jA;function PF(){if(jA)return i0;jA=1;const r=Cl(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(i){this.mode=r.ALPHANUMERIC,this.data=i}return n.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let o;for(o=0;o+2<=this.data.length;o+=2){let c=e.indexOf(this.data[o])*45;c+=e.indexOf(this.data[o+1]),s.put(c,11)}this.data.length%2&&s.put(e.indexOf(this.data[o]),6)},i0=n,i0}var s0,qA;function MF(){if(qA)return s0;qA=1;const r=Cl();function e(n){this.mode=r.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(i){return i*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let i=0,s=this.data.length;i<s;i++)n.put(this.data[i],8)},s0=e,s0}var o0,$A;function NF(){if($A)return o0;$A=1;const r=Cl(),e=Rl();function n(i){this.mode=r.KANJI,this.data=i}return n.getBitsLength=function(s){return s*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s<this.data.length;s++){let o=e.toSJIS(this.data[s]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),i.put(o,13)}},o0=n,o0}var a0={exports:{}},KA;function OF(){return KA||(KA=1,(function(r){var e={single_source_shortest_paths:function(n,i,s){var o={},c={};c[i]=0;var u=e.PriorityQueue.make();u.push(i,0);for(var h,p,m,v,S,A,N,P,O;!u.empty();){h=u.pop(),p=h.value,v=h.cost,S=n[p]||{};for(m in S)S.hasOwnProperty(m)&&(A=S[m],N=v+A,P=c[m],O=typeof c[m]>"u",(O||P>N)&&(c[m]=N,u.push(m,N),o[m]=p))}if(typeof s<"u"&&typeof c[s]>"u"){var z=["Could not find a path from ",i," to ",s,"."].join("");throw new Error(z)}return o},extract_shortest_path_from_predecessor_list:function(n,i){for(var s=[],o=i;o;)s.push(o),n[o],o=n[o];return s.reverse(),s},find_path:function(n,i,s){var o=e.single_source_shortest_paths(n,i,s);return e.extract_shortest_path_from_predecessor_list(o,s)},PriorityQueue:{make:function(n){var i=e.PriorityQueue,s={},o;n=n||{};for(o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);return s.queue=[],s.sorter=n.sorter||i.default_sorter,s},default_sorter:function(n,i){return n.cost-i.cost},push:function(n,i){var s={value:n,cost:i};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(a0)),a0.exports}var HA;function LF(){return HA||(HA=1,(function(r){const e=Cl(),n=CF(),i=PF(),s=MF(),o=NF(),c=Xx(),u=Rl(),h=OF();function p(z){return unescape(encodeURIComponent(z)).length}function m(z,j,G){const te=[];let ae;for(;(ae=z.exec(G))!==null;)te.push({data:ae[0],index:ae.index,mode:j,length:ae[0].length});return te}function v(z){const j=m(c.NUMERIC,e.NUMERIC,z),G=m(c.ALPHANUMERIC,e.ALPHANUMERIC,z);let te,ae;return u.isKanjiModeEnabled()?(te=m(c.BYTE,e.BYTE,z),ae=m(c.KANJI,e.KANJI,z)):(te=m(c.BYTE_KANJI,e.BYTE,z),ae=[]),j.concat(G,te,ae).sort(function(Q,V){return Q.index-V.index}).map(function(Q){return{data:Q.data,mode:Q.mode,length:Q.length}})}function S(z,j){switch(j){case e.NUMERIC:return n.getBitsLength(z);case e.ALPHANUMERIC:return i.getBitsLength(z);case e.KANJI:return o.getBitsLength(z);case e.BYTE:return s.getBitsLength(z)}}function A(z){return z.reduce(function(j,G){const te=j.length-1>=0?j[j.length-1]:null;return te&&te.mode===G.mode?(j[j.length-1].data+=G.data,j):(j.push(G),j)},[])}function N(z){const j=[];for(let G=0;G<z.length;G++){const te=z[G];switch(te.mode){case e.NUMERIC:j.push([te,{data:te.data,mode:e.ALPHANUMERIC,length:te.length},{data:te.data,mode:e.BYTE,length:te.length}]);break;case e.ALPHANUMERIC:j.push([te,{data:te.data,mode:e.BYTE,length:te.length}]);break;case e.KANJI:j.push([te,{data:te.data,mode:e.BYTE,length:p(te.data)}]);break;case e.BYTE:j.push([{data:te.data,mode:e.BYTE,length:p(te.data)}])}}return j}function P(z,j){const G={},te={start:{}};let ae=["start"];for(let se=0;se<z.length;se++){const Q=z[se],V=[];for(let M=0;M<Q.length;M++){const D=Q[M],F=""+se+M;V.push(F),G[F]={node:D,lastCount:0},te[F]={};for(let W=0;W<ae.length;W++){const b=ae[W];G[b]&&G[b].node.mode===D.mode?(te[b][F]=S(G[b].lastCount+D.length,D.mode)-S(G[b].lastCount,D.mode),G[b].lastCount+=D.length):(G[b]&&(G[b].lastCount=D.length),te[b][F]=S(D.length,D.mode)+4+e.getCharCountIndicator(D.mode,j))}}ae=V}for(let se=0;se<ae.length;se++)te[ae[se]].end=0;return{map:te,table:G}}function O(z,j){let G;const te=e.getBestModeForData(z);if(G=e.from(j,te),G!==e.BYTE&&G.bit<te.bit)throw new Error('"'+z+'" cannot be encoded with mode '+e.toString(G)+`.
 Suggested mode is: `+e.toString(te));switch(G===e.KANJI&&!u.isKanjiModeEnabled()&&(G=e.BYTE),G){case e.NUMERIC:return new n(z);case e.ALPHANUMERIC:return new i(z);case e.KANJI:return new o(z);case e.BYTE:return new s(z)}}r.fromArray=function(j){return j.reduce(function(G,te){return typeof te=="string"?G.push(O(te,null)):te.data&&G.push(O(te.data,te.mode)),G},[])},r.fromString=function(j,G){const te=v(j,u.isKanjiModeEnabled()),ae=N(te),se=P(ae,G),Q=h.find_path(se.map,"start","end"),V=[];for(let M=1;M<Q.length-1;M++)V.push(se.table[Q[M]].node);return r.fromArray(A(V))},r.rawSplit=function(j){return r.fromArray(v(j,u.isKanjiModeEnabled()))}})(n0)),n0}var GA;function DF(){if(GA)return jy;GA=1;const r=Rl(),e=Qv(),n=_F(),i=EF(),s=bF(),o=SF(),c=AF(),u=Qx(),h=kF(),p=xF(),m=RF(),v=Cl(),S=LF();function A(se,Q){const V=se.size,M=o.getPositions(Q);for(let D=0;D<M.length;D++){const F=M[D][0],W=M[D][1];for(let b=-1;b<=7;b++)if(!(F+b<=-1||V<=F+b))for(let y=-1;y<=7;y++)W+y<=-1||V<=W+y||(b>=0&&b<=6&&(y===0||y===6)||y>=0&&y<=6&&(b===0||b===6)||b>=2&&b<=4&&y>=2&&y<=4?se.set(F+b,W+y,!0,!0):se.set(F+b,W+y,!1,!0))}}function N(se){const Q=se.size;for(let V=8;V<Q-8;V++){const M=V%2===0;se.set(V,6,M,!0),se.set(6,V,M,!0)}}function P(se,Q){const V=s.getPositions(Q);for(let M=0;M<V.length;M++){const D=V[M][0],F=V[M][1];for(let W=-2;W<=2;W++)for(let b=-2;b<=2;b++)W===-2||W===2||b===-2||b===2||W===0&&b===0?se.set(D+W,F+b,!0,!0):se.set(D+W,F+b,!1,!0)}}function O(se,Q){const V=se.size,M=p.getEncodedBits(Q);let D,F,W;for(let b=0;b<18;b++)D=Math.floor(b/3),F=b%3+V-8-3,W=(M>>b&1)===1,se.set(D,F,W,!0),se.set(F,D,W,!0)}function z(se,Q,V){const M=se.size,D=m.getEncodedBits(Q,V);let F,W;for(F=0;F<15;F++)W=(D>>F&1)===1,F<6?se.set(F,8,W,!0):F<8?se.set(F+1,8,W,!0):se.set(M-15+F,8,W,!0),F<8?se.set(8,M-F-1,W,!0):F<9?se.set(8,15-F-1+1,W,!0):se.set(8,15-F-1,W,!0);se.set(M-8,8,1,!0)}function j(se,Q){const V=se.size;let M=-1,D=V-1,F=7,W=0;for(let b=V-1;b>0;b-=2)for(b===6&&b--;;){for(let y=0;y<2;y++)if(!se.isReserved(D,b-y)){let I=!1;W<Q.length&&(I=(Q[W]>>>F&1)===1),se.set(D,b-y,I),F--,F===-1&&(W++,F=7)}if(D+=M,D<0||V<=D){D-=M,M=-M;break}}}function G(se,Q,V){const M=new n;V.forEach(function(y){M.put(y.mode.bit,4),M.put(y.getLength(),v.getCharCountIndicator(y.mode,se)),y.write(M)});const D=r.getSymbolTotalCodewords(se),F=u.getTotalCodewordsCount(se,Q),W=(D-F)*8;for(M.getLengthInBits()+4<=W&&M.put(0,4);M.getLengthInBits()%8!==0;)M.putBit(0);const b=(W-M.getLengthInBits())/8;for(let y=0;y<b;y++)M.put(y%2?17:236,8);return te(M,se,Q)}function te(se,Q,V){const M=r.getSymbolTotalCodewords(Q),D=u.getTotalCodewordsCount(Q,V),F=M-D,W=u.getBlocksCount(Q,V),b=M%W,y=W-b,I=Math.floor(M/W),B=Math.floor(F/W),H=B+1,q=I-B,X=new h(q);let ee=0;const C=new Array(W),w=new Array(W);let _=0;const U=new Uint8Array(se.buffer);for(let Te=0;Te<W;Te++){const Je=Te<y?B:H;C[Te]=U.slice(ee,ee+Je),w[Te]=X.encode(C[Te]),ee+=Je,_=Math.max(_,Je)}const Y=new Uint8Array(M);let ie=0,ue,Se;for(ue=0;ue<_;ue++)for(Se=0;Se<W;Se++)ue<C[Se].length&&(Y[ie++]=C[Se][ue]);for(ue=0;ue<q;ue++)for(Se=0;Se<W;Se++)Y[ie++]=w[Se][ue];return Y}function ae(se,Q,V,M){let D;if(Array.isArray(se))D=S.fromArray(se);else if(typeof se=="string"){let I=Q;if(!I){const B=S.rawSplit(se);I=p.getBestVersionForData(B,V)}D=S.fromString(se,I||40)}else throw new Error("Invalid data");const F=p.getBestVersionForData(D,V);if(!F)throw new Error("The amount of data is too big to be stored in a QR Code");if(!Q)Q=F;else if(Q<F)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+F+`.
`);const W=G(Q,V,D),b=r.getSymbolSize(Q),y=new i(b);return A(y,Q),N(y),P(y,Q),z(y,V,0),Q>=7&&O(y,Q),j(y,W),isNaN(M)&&(M=c.getBestMask(y,z.bind(null,y,V))),c.applyMask(M,y),z(y,V,M),{modules:y,version:Q,errorCorrectionLevel:V,maskPattern:M,segments:D}}return jy.create=function(Q,V){if(typeof Q>"u"||Q==="")throw new Error("No input text");let M=e.M,D,F;return typeof V<"u"&&(M=e.from(V.errorCorrectionLevel,e.M),D=p.from(V.version),F=c.from(V.maskPattern),V.toSJISFunc&&r.setToSJISFunction(V.toSJISFunc)),ae(Q,D,M,F)},jy}var l0={},c0={},QA;function Jx(){return QA||(QA=1,(function(r){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let i=n.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+n);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(o){return[o,o]}))),i.length===6&&i.push("F","F");const s=parseInt(i.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+i.slice(0,6).join("")}}r.getOptions=function(i){i||(i={}),i.color||(i.color={});const s=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,o=i.width&&i.width>=21?i.width:void 0,c=i.scale||4;return{width:o,scale:o?4:c,margin:s,color:{dark:e(i.color.dark||"#000000ff"),light:e(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},r.getScale=function(i,s){return s.width&&s.width>=i+s.margin*2?s.width/(i+s.margin*2):s.scale},r.getImageWidth=function(i,s){const o=r.getScale(i,s);return Math.floor((i+s.margin*2)*o)},r.qrToImageData=function(i,s,o){const c=s.modules.size,u=s.modules.data,h=r.getScale(c,o),p=Math.floor((c+o.margin*2)*h),m=o.margin*h,v=[o.color.light,o.color.dark];for(let S=0;S<p;S++)for(let A=0;A<p;A++){let N=(S*p+A)*4,P=o.color.light;if(S>=m&&A>=m&&S<p-m&&A<p-m){const O=Math.floor((S-m)/h),z=Math.floor((A-m)/h);P=v[u[O*c+z]?1:0]}i[N++]=P.r,i[N++]=P.g,i[N++]=P.b,i[N]=P.a}}})(c0)),c0}var YA;function BF(){return YA||(YA=1,(function(r){const e=Jx();function n(s,o,c){s.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=c,o.width=c,o.style.height=c+"px",o.style.width=c+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(o,c,u){let h=u,p=c;typeof h>"u"&&(!c||!c.getContext)&&(h=c,c=void 0),c||(p=i()),h=e.getOptions(h);const m=e.getImageWidth(o.modules.size,h),v=p.getContext("2d"),S=v.createImageData(m,m);return e.qrToImageData(S.data,o,h),n(v,p,m),v.putImageData(S,0,0),p},r.renderToDataURL=function(o,c,u){let h=u;typeof h>"u"&&(!c||!c.getContext)&&(h=c,c=void 0),h||(h={});const p=r.render(o,c,h),m=h.type||"image/png",v=h.rendererOpts||{};return p.toDataURL(m,v.quality)}})(l0)),l0}var u0={},XA;function UF(){if(XA)return u0;XA=1;const r=Jx();function e(s,o){const c=s.a/255,u=o+'="'+s.hex+'"';return c<1?u+" "+o+'-opacity="'+c.toFixed(2).slice(1)+'"':u}function n(s,o,c){let u=s+o;return typeof c<"u"&&(u+=" "+c),u}function i(s,o,c){let u="",h=0,p=!1,m=0;for(let v=0;v<s.length;v++){const S=Math.floor(v%o),A=Math.floor(v/o);!S&&!p&&(p=!0),s[v]?(m++,v>0&&S>0&&s[v-1]||(u+=p?n("M",S+c,.5+A+c):n("m",h,0),h=0,p=!1),S+1<o&&s[v+1]||(u+=n("h",m),m=0)):h++}return u}return u0.render=function(o,c,u){const h=r.getOptions(c),p=o.modules.size,m=o.modules.data,v=p+h.margin*2,S=h.color.light.a?"<path "+e(h.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",A="<path "+e(h.color.dark,"stroke")+' d="'+i(m,p,h.margin)+'"/>',N='viewBox="0 0 '+v+" "+v+'"',O='<svg xmlns="http://www.w3.org/2000/svg" '+(h.width?'width="'+h.width+'" height="'+h.width+'" ':"")+N+' shape-rendering="crispEdges">'+S+A+`</svg>
`;return typeof u=="function"&&u(null,O),O},u0}var JA;function VF(){if(JA)return pc;JA=1;const r=vF(),e=DF(),n=BF(),i=UF();function s(o,c,u,h,p){const m=[].slice.call(arguments,1),v=m.length,S=typeof m[v-1]=="function";if(!S&&!r())throw new Error("Callback required as last argument");if(S){if(v<2)throw new Error("Too few arguments provided");v===2?(p=u,u=c,c=h=void 0):v===3&&(c.getContext&&typeof p>"u"?(p=h,h=void 0):(p=h,h=u,u=c,c=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(u=c,c=h=void 0):v===2&&!c.getContext&&(h=u,u=c,c=void 0),new Promise(function(A,N){try{const P=e.create(u,h);A(o(P,c,h))}catch(P){N(P)}})}try{const A=e.create(u,h);p(null,o(A,c,h))}catch(A){p(A)}}return pc.create=e.create,pc.toCanvas=s.bind(null,n.render),pc.toDataURL=s.bind(null,n.renderToDataURL),pc.toString=s.bind(null,function(o,c,u){return i.render(o,u)}),pc}function d0(r){switch(r){case"processed":case"confirmed":case"finalized":case void 0:return r;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const ZA="solana:mainnet",FF="solana:devnet",WF="solana:testnet",zF="solana:localnet",jF="https://api.mainnet-beta.solana.com";function qF(r){return r.includes(jF)?ZA:/\bdevnet\b/i.test(r)?FF:/\btestnet\b/i.test(r)?WF:/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?zF:ZA}function $F(r){let e=`${r.domain} wants you to sign in with your Solana account:
`;e+=`${r.address}`,r.statement&&(e+=`

${r.statement}`);const n=[];if(r.uri&&n.push(`URI: ${r.uri}`),r.version&&n.push(`Version: ${r.version}`),r.chainId&&n.push(`Chain ID: ${r.chainId}`),r.nonce&&n.push(`Nonce: ${r.nonce}`),r.issuedAt&&n.push(`Issued At: ${r.issuedAt}`),r.expirationTime&&n.push(`Expiration Time: ${r.expirationTime}`),r.notBefore&&n.push(`Not Before: ${r.notBefore}`),r.requestId&&n.push(`Request ID: ${r.requestId}`),r.resources){n.push("Resources:");for(const i of r.resources)n.push(`- ${i}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const Ri={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class Ci extends Error{constructor(...e){const[n,i,s]=e;super(i),this.code=n,this.data=s,this.name="SolanaMobileWalletAdapterError"}}const KF={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class pm extends Error{constructor(...e){const[n,i,s,o]=e;super(s),this.code=i,this.data=o,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function gn(r,e,n,i){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function u(m){try{p(i.next(m))}catch(v){c(v)}}function h(m){try{p(i.throw(m))}catch(v){c(v)}}function p(m){m.done?o(m.value):s(m.value).then(u,h)}p((i=i.apply(r,[])).next())})}function HF(r){return window.btoa(r)}function aw(r,e){const n=window.btoa(String.fromCharCode.call(null,...r));return e?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):n}function GF(r){return new Uint8Array(window.atob(r).split("").map(e=>e.charCodeAt(0)))}function Gf(r,e){return gn(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",r),i=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),s=new Uint8Array(n.byteLength+i.byteLength);return s.set(new Uint8Array(n),0),s.set(new Uint8Array(i),n.byteLength),s})}function QF(r){return $F(r)}function YF(r){return HF(QF(r))}const Zx="solana:signTransactions",lw="solana:cloneAuthorization",XF="solana:signInWithSolana";function eR(r,e){return new Proxy({},{get(n,i){return i==="then"?null:(n[i]==null&&(n[i]=function(s){return gn(this,void 0,void 0,function*(){const{method:o,params:c}=JF(i,s,r),u=yield e(o,c);return o==="authorize"&&c.sign_in_payload&&!u.sign_in_result&&(u.sign_in_result=yield e9(c.sign_in_payload,u,e)),ZF(i,u,r)})}),n[i])},defineProperty(){return!1},deleteProperty(){return!1}})}function JF(r,e,n){let i=e,s=r.toString().replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`).toLowerCase();switch(r){case"authorize":{let{chain:o}=i;if(n==="legacy"){switch(o){case"solana:testnet":{o="testnet";break}case"solana:devnet":{o="devnet";break}case"solana:mainnet":{o="mainnet-beta";break}default:o=i.cluster}i.cluster=o}else{switch(o){case"testnet":case"devnet":{o=`solana:${o}`;break}case"mainnet-beta":{o="solana:mainnet";break}}i.chain=o}}case"reauthorize":{const{auth_token:o,identity:c}=i;if(o)switch(n){case"legacy":{s="reauthorize",i={auth_token:o,identity:c};break}default:{s="authorize";break}}break}}return{method:s,params:i}}function ZF(r,e,n){switch(r){case"getCapabilities":{const i=e;switch(n){case"legacy":{const s=[Zx];return i.supports_clone_authorization===!0&&s.push(lw),Object.assign(Object.assign({},i),{features:s})}case"v1":return Object.assign(Object.assign({},i),{supports_sign_and_send_transactions:!0,supports_clone_authorization:i.features.includes(lw)})}}}return e}function e9(r,e,n){var i;return gn(this,void 0,void 0,function*(){const s=(i=r.domain)!==null&&i!==void 0?i:window.location.host,o=e.accounts[0].address,c=YF(Object.assign(Object.assign({},r),{domain:s,address:o})),u=yield n("sign_messages",{addresses:[o],payloads:[c]});return{address:o,signed_message:c,signature:u.signed_payloads[0].slice(c.length)}})}const wo=4;function t9(r){if(r>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(wo);return new DataView(e).setUint32(0,r,!1),new Uint8Array(e)}const cw=12,Yv=65;function n9(r,e,n){return gn(this,void 0,void 0,function*(){const i=t9(e),s=new Uint8Array(cw);crypto.getRandomValues(s);const o=yield crypto.subtle.encrypt(nR(i,s),n,new TextEncoder().encode(r)),c=new Uint8Array(i.byteLength+s.byteLength+o.byteLength);return c.set(new Uint8Array(i),0),c.set(new Uint8Array(s),i.byteLength),c.set(new Uint8Array(o),i.byteLength+s.byteLength),c})}function tR(r,e){return gn(this,void 0,void 0,function*(){const n=r.slice(0,wo),i=r.slice(wo,wo+cw),s=r.slice(wo+cw),o=yield crypto.subtle.decrypt(nR(n,i),e,s);return r9().decode(o)})}function nR(r,e){return{additionalData:r,iv:e,name:"AES-GCM",tagLength:128}}let h0;function r9(){return h0===void 0&&(h0=new TextDecoder("utf-8")),h0}function rR(){return gn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Qf(){return gn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function iR(r){let e="";const n=new Uint8Array(r),i=n.byteLength;for(let s=0;s<i;s++)e+=String.fromCharCode(n[s]);return window.btoa(e)}function i9(){return sR(49152+Math.floor(Math.random()*16384))}function sR(r){if(r<49152||r>65535)throw new Ci(Ri.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${r} given.`,{port:r});return r}function oR(r){return r.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const s9="solana-wallet";function eI(r){return r.replace(/(^\/+|\/+$)/g,"").split("/")}function aR(r,e){let n=null;if(e){try{n=new URL(e)}catch{}if(n?.protocol!=="https:")throw new Ci(Ri.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${s9}:/`));const i=r.startsWith("/")?r:[...eI(n.pathname),...eI(r)].join("/");return new URL(i,n)}function o9(r,e,n,i=["v1"]){return gn(this,void 0,void 0,function*(){const s=sR(e),o=yield crypto.subtle.exportKey("raw",r),c=iR(o),u=aR("v1/associate/local",n);return u.searchParams.set("association",oR(c)),u.searchParams.set("port",`${s}`),i.forEach(h=>{u.searchParams.set("v",h)}),u})}function a9(r,e,n,i,s=["v1"]){return gn(this,void 0,void 0,function*(){const o=yield crypto.subtle.exportKey("raw",r),c=iR(o),u=aR("v1/associate/remote",i);return u.searchParams.set("association",oR(c)),u.searchParams.set("reflector",`${e}`),u.searchParams.set("id",`${aw(n,!0)}`),s.forEach(h=>{u.searchParams.set("v",h)}),u})}function lR(r,e){return gn(this,void 0,void 0,function*(){const n=JSON.stringify(r),i=r.id;return n9(n,i,e)})}function cR(r,e){return gn(this,void 0,void 0,function*(){const n=yield tR(r,e),i=JSON.parse(n);if(Object.hasOwnProperty.call(i,"error"))throw new pm(i.id,i.error.code,i.error.message);return i})}function uR(r,e,n){return gn(this,void 0,void 0,function*(){const[i,s]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",r.slice(0,Yv),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:s},n,256),c=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(i),info:new Uint8Array},c,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function dR(r,e){return gn(this,void 0,void 0,function*(){const n=yield tR(r,e),i=JSON.parse(n);let s="legacy";if(Object.hasOwnProperty.call(i,"v"))switch(i.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new Ci(Ri.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${i.v}`)}return{protocol_version:s}})}const kp={Firefox:0,Other:1};function l9(){return navigator.userAgent.indexOf("Firefox/")!==-1?kp.Firefox:kp.Other}function c9(){return new Promise((r,e)=>{function n(){clearTimeout(s),window.removeEventListener("blur",i)}function i(){n(),r()}window.addEventListener("blur",i);const s=setTimeout(()=>{n(),e()},3e3)})}let rd=null;function u9(r){rd==null&&(rd=document.createElement("iframe"),rd.style.display="none",document.body.appendChild(rd)),rd.contentWindow.location.href=r.toString()}function d9(r){return gn(this,void 0,void 0,function*(){if(r.protocol==="https:")window.location.assign(r);else try{const e=l9();switch(e){case kp.Firefox:u9(r);break;case kp.Other:{const n=c9();window.location.assign(r),yield n;break}default:}}catch{throw new Ci(Ri.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function h9(r,e){return gn(this,void 0,void 0,function*(){const n=i9(),i=yield o9(r,n,e);return yield d9(i),n})}const xp={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},hR="com.solana.mobilewalletadapter.v1",tI="com.solana.mobilewalletadapter.v1.base64";function fR(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Ci(Ri.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function pR(r){let e;try{e=new URL(r)}catch{throw new Ci(Ri.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new Ci(Ri.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Rp(r){return new DataView(r).getUint32(0,!1)}function f9(r){var e=new Uint8Array(r),n=r.byteLength,i=10,s=0,o=0,c;do{if(o>=n||o>i)throw new RangeError("Failed to decode varint");c=e[o++],s|=(c&127)<<7*o}while(c>=128);return{value:s,offset:o}}function p9(r){let{value:e,offset:n}=f9(r);return new Uint8Array(r.slice(n,n+e))}function m9(r,e){return gn(this,void 0,void 0,function*(){fR();const n=yield rR(),s=`ws://localhost:${yield h9(n.publicKey,e?.baseUri)}/solana-wallet`;let o;const c=(()=>{const m=[...xp.retryDelayScheduleMs];return()=>m.length>1?m.shift():m[0]})();let u=1,h=0,p={__type:"disconnected"};return new Promise((m,v)=>{let S;const A={},N=()=>gn(this,void 0,void 0,function*(){if(p.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${p.__type}\`.`);return}S.removeEventListener("open",N);const{associationKeypair:ae}=p,se=yield Qf();S.send(yield Gf(se.publicKey,ae.privateKey)),p={__type:"hello_req_sent",associationPublicKey:ae.publicKey,ecdhPrivateKey:se.privateKey}}),P=ae=>{ae.wasClean?p={__type:"disconnected"}:v(new Ci(Ri.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${ae.code}: ${ae.reason}).`,{closeEvent:ae})),j()},O=ae=>gn(this,void 0,void 0,function*(){j(),Date.now()-o>=xp.timeoutMs?v(new Ci(Ri.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(se=>{const Q=c();G=window.setTimeout(se,Q)}),te())}),z=ae=>gn(this,void 0,void 0,function*(){const se=yield ae.data.arrayBuffer();switch(p.__type){case"connecting":if(se.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const Q=yield Qf();S.send(yield Gf(Q.publicKey,n.privateKey)),p={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:Q.privateKey};break;case"connected":try{const V=se.slice(0,wo),M=Rp(V);if(M!==h+1)throw new Error("Encrypted message has invalid sequence number");h=M;const D=yield cR(se,p.sharedSecret),F=A[D.id];delete A[D.id],F.resolve(D.result)}catch(V){if(V instanceof pm){const M=A[V.jsonRpcMessageId];delete A[V.jsonRpcMessageId],M.reject(V)}else throw V}break;case"hello_req_sent":{if(se.byteLength===0){const W=yield Qf();S.send(yield Gf(W.publicKey,n.privateKey)),p={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:W.privateKey};break}const V=yield uR(se,p.associationPublicKey,p.ecdhPrivateKey),M=se.slice(Yv),D=M.byteLength!==0?yield gn(this,void 0,void 0,function*(){const W=M.slice(0,wo),b=Rp(W);if(b!==h+1)throw new Error("Encrypted message has invalid sequence number");return h=b,dR(M,V)}):{protocol_version:"legacy"};p={__type:"connected",sharedSecret:V,sessionProperties:D};const F=eR(D.protocol_version,(W,b)=>gn(this,void 0,void 0,function*(){const y=u++;return S.send(yield lR({id:y,jsonrpc:"2.0",method:W,params:b??{}},V)),new Promise((I,B)=>{A[y]={resolve(H){switch(W){case"authorize":case"reauthorize":{const{wallet_uri_base:q}=H;if(q!=null)try{pR(q)}catch(X){B(X);return}break}}I(H)},reject:B}})}));try{m(yield r(F))}catch(W){v(W)}finally{j(),S.close()}break}}});let j,G;const te=()=>{j&&j(),p={__type:"connecting",associationKeypair:n},o===void 0&&(o=Date.now()),S=new WebSocket(s,[hR]),S.addEventListener("open",N),S.addEventListener("close",P),S.addEventListener("error",O),S.addEventListener("message",z),j=()=>{window.clearTimeout(G),S.removeEventListener("open",N),S.removeEventListener("close",P),S.removeEventListener("error",O),S.removeEventListener("message",z)}};te()})})}function g9(r){return gn(this,void 0,void 0,function*(){fR();const e=yield rR(),n=`wss://${r?.remoteHostAuthority}/reflect`;let i;const s=(()=>{const P=[...xp.retryDelayScheduleMs];return()=>P.length>1?P.shift():P[0]})();let o=1,c=0,u,h={__type:"disconnected"},p,m,v=P=>gn(this,void 0,void 0,function*(){if(u=="base64"){const O=yield P.data;return GF(O).buffer}else return yield P.data.arrayBuffer()});const S=yield new Promise((P,O)=>{const z=()=>gn(this,void 0,void 0,function*(){if(h.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${h.__type}\`.`);return}p.protocol.includes(tI)?u="base64":u="binary",p.removeEventListener("open",z)}),j=Q=>{Q.wasClean?h={__type:"disconnected"}:O(new Ci(Ri.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${Q.code}: ${Q.reason}).`,{closeEvent:Q})),m()},G=Q=>gn(this,void 0,void 0,function*(){m(),Date.now()-i>=xp.timeoutMs?O(new Ci(Ri.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${n}.`)):(yield new Promise(V=>{const M=s();ae=window.setTimeout(V,M)}),se())}),te=Q=>gn(this,void 0,void 0,function*(){const V=yield v(Q);if(h.__type==="connecting"){if(V.byteLength==0)throw new Error("Encountered unexpected message while connecting");const M=p9(V);h={__type:"reflector_id_received",reflectorId:M};const D=yield a9(e.publicKey,r.remoteHostAuthority,M,r?.baseUri);p.removeEventListener("message",te),P(D)}});let ae;const se=()=>{m&&m(),h={__type:"connecting",associationKeypair:e},i===void 0&&(i=Date.now()),p=new WebSocket(n,[hR,tI]),p.addEventListener("open",z),p.addEventListener("close",j),p.addEventListener("error",G),p.addEventListener("message",te),m=()=>{window.clearTimeout(ae),p.removeEventListener("open",z),p.removeEventListener("close",j),p.removeEventListener("error",G),p.removeEventListener("message",te)}};se()});let A=!1,N;return{associationUrl:S,close:()=>{p.close(),N()},wallet:new Promise((P,O)=>{const z={},j=G=>gn(this,void 0,void 0,function*(){const te=yield v(G);switch(h.__type){case"reflector_id_received":if(te.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const ae=yield Qf(),se=yield Gf(ae.publicKey,e.privateKey);u=="base64"?p.send(aw(se)):p.send(se),h={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:ae.privateKey};break;case"connected":try{const Q=te.slice(0,wo),V=Rp(Q);if(V!==c+1)throw new Error("Encrypted message has invalid sequence number");c=V;const M=yield cR(te,h.sharedSecret),D=z[M.id];delete z[M.id],D.resolve(M.result)}catch(Q){if(Q instanceof pm){const V=z[Q.jsonRpcMessageId];delete z[Q.jsonRpcMessageId],V.reject(Q)}else throw Q}break;case"hello_req_sent":{const Q=yield uR(te,h.associationPublicKey,h.ecdhPrivateKey),V=te.slice(Yv),M=V.byteLength!==0?yield gn(this,void 0,void 0,function*(){const F=V.slice(0,wo),W=Rp(F);if(W!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=W,dR(V,Q)}):{protocol_version:"legacy"};h={__type:"connected",sharedSecret:Q,sessionProperties:M};const D=eR(M.protocol_version,(F,W)=>gn(this,void 0,void 0,function*(){const b=o++,y=yield lR({id:b,jsonrpc:"2.0",method:F,params:W??{}},Q);return u=="base64"?p.send(aw(y)):p.send(y),new Promise((I,B)=>{z[b]={resolve(H){switch(F){case"authorize":case"reauthorize":{const{wallet_uri_base:q}=H;if(q!=null)try{pR(q)}catch(X){B(X);return}break}}I(H)},reject:B}})}));A=!0;try{P(D)}catch(F){O(F)}break}}});p.addEventListener("message",j),N=()=>{p.removeEventListener("message",j),m(),A||O(new Ci(Ri.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}const y9=Object.freeze(Object.defineProperty({__proto__:null,SolanaCloneAuthorization:lw,SolanaMobileWalletAdapterError:Ci,SolanaMobileWalletAdapterErrorCode:Ri,SolanaMobileWalletAdapterProtocolError:pm,SolanaMobileWalletAdapterProtocolErrorCode:KF,SolanaSignInWithSolana:XF,SolanaSignTransactions:Zx,startRemoteScenario:g9,transact:m9},Symbol.toStringTag,{value:"Module"})),w9=Ud(y9);var f0,nI;function v9(){if(nI)return f0;nI=1;function r(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),c=o.charCodeAt(0);if(n[c]!==255)throw new TypeError(o+" is ambiguous");n[c]=s}var u=e.length,h=e.charAt(0),p=Math.log(u)/Math.log(256),m=Math.log(256)/Math.log(u);function v(N){if(N instanceof Uint8Array||(ArrayBuffer.isView(N)?N=new Uint8Array(N.buffer,N.byteOffset,N.byteLength):Array.isArray(N)&&(N=Uint8Array.from(N))),!(N instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(N.length===0)return"";for(var P=0,O=0,z=0,j=N.length;z!==j&&N[z]===0;)z++,P++;for(var G=(j-z)*m+1>>>0,te=new Uint8Array(G);z!==j;){for(var ae=N[z],se=0,Q=G-1;(ae!==0||se<O)&&Q!==-1;Q--,se++)ae+=256*te[Q]>>>0,te[Q]=ae%u>>>0,ae=ae/u>>>0;if(ae!==0)throw new Error("Non-zero carry");O=se,z++}for(var V=G-O;V!==G&&te[V]===0;)V++;for(var M=h.repeat(P);V<G;++V)M+=e.charAt(te[V]);return M}function S(N){if(typeof N!="string")throw new TypeError("Expected String");if(N.length===0)return new Uint8Array;for(var P=0,O=0,z=0;N[P]===h;)O++,P++;for(var j=(N.length-P)*p+1>>>0,G=new Uint8Array(j);N[P];){var te=N.charCodeAt(P);if(te>255)return;var ae=n[te];if(ae===255)return;for(var se=0,Q=j-1;(ae!==0||se<z)&&Q!==-1;Q--,se++)ae+=u*G[Q]>>>0,G[Q]=ae%256>>>0,ae=ae/256>>>0;if(ae!==0)throw new Error("Non-zero carry");z=se,P++}for(var V=j-z;V!==j&&G[V]===0;)V++;for(var M=new Uint8Array(O+(j-V)),D=O;V!==j;)M[D++]=G[V++];return M}function A(N){var P=S(N);if(P)return P;throw new Error("Non-base"+u+" character")}return{encode:v,decodeUnsafe:S,decode:A}}return f0=r,f0}var p0,rI;function _9(){return rI||(rI=1,p0=v9()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),p0}var m0={},iI;function E9(){return iI||(iI=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.SOLANA_CHAINS=r.SOLANA_LOCALNET_CHAIN=r.SOLANA_TESTNET_CHAIN=r.SOLANA_DEVNET_CHAIN=r.SOLANA_MAINNET_CHAIN=void 0,r.isSolanaChain=e,r.SOLANA_MAINNET_CHAIN="solana:mainnet",r.SOLANA_DEVNET_CHAIN="solana:devnet",r.SOLANA_TESTNET_CHAIN="solana:testnet",r.SOLANA_LOCALNET_CHAIN="solana:localnet",r.SOLANA_CHAINS=[r.SOLANA_MAINNET_CHAIN,r.SOLANA_DEVNET_CHAIN,r.SOLANA_TESTNET_CHAIN,r.SOLANA_LOCALNET_CHAIN];function e(n){return r.SOLANA_CHAINS.includes(n)}})(m0)),m0}var sI;function b9(){if(sI)return is;sI=1,Object.defineProperty(is,"__esModule",{value:!0});var r=Gv(),e=VF(),n=w9,i=Gx(),s=_9(),o=E9();function c(je){return je&&typeof je=="object"&&"default"in je?je:{default:je}}var u=c(e),h=c(s);function p(je,Re,pe,he){function ke(Fe){return Fe instanceof pe?Fe:new pe(function(De){De(Fe)})}return new(pe||(pe=Promise))(function(Fe,De){function Ye(lt){try{_t(he.next(lt))}catch(Zr){De(Zr)}}function He(lt){try{_t(he.throw(lt))}catch(Zr){De(Zr)}}function _t(lt){lt.done?Fe(lt.value):ke(lt.value).then(Ye,He)}_t((he=he.apply(je,[])).next())})}function m(je,Re,pe,he){if(pe==="a"&&!he)throw new TypeError("Private accessor was defined without a getter");if(typeof Re=="function"?je!==Re||!he:!Re.has(je))throw new TypeError("Cannot read private member from an object whose class did not declare it");return pe==="m"?he:pe==="a"?he.call(je):he?he.value:Re.get(je)}function v(je,Re,pe,he,ke){if(typeof Re=="function"?je!==Re||!0:!Re.has(je))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Re.set(je,pe),pe}var S,A,N,P,O,z,j,G;const te=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,ae=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,se=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class Q{constructor(){S.add(this),A.set(this,null),N.set(this,{}),P.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),m(this,S,"m",z).call(this),m(this,A,"f")&&(m(this,A,"f").style.display="flex")},this.close=(Re=void 0)=>{var pe;console.debug("Modal close"),m(this,S,"m",j).call(this),m(this,A,"f")&&(m(this,A,"f").style.display="none"),(pe=m(this,N,"f").close)===null||pe===void 0||pe.forEach(he=>he(Re))},G.set(this,Re=>{Re.key==="Escape"&&this.close(Re)}),this.init=this.init.bind(this),v(this,A,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return p(this,void 0,void 0,function*(){console.log("Injecting modal"),m(this,S,"m",O).call(this)})}addEventListener(Re,pe){var he;return!((he=m(this,N,"f")[Re])===null||he===void 0)&&he.push(pe)||(m(this,N,"f")[Re]=[pe]),()=>this.removeEventListener(Re,pe)}removeEventListener(Re,pe){var he;m(this,N,"f")[Re]=(he=m(this,N,"f")[Re])===null||he===void 0?void 0:he.filter(ke=>pe!==ke)}}A=new WeakMap,N=new WeakMap,P=new WeakMap,G=new WeakMap,S=new WeakSet,O=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){m(this,A,"f")||v(this,A,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}v(this,A,document.createElement("div")),m(this,A,"f").id="mobile-wallet-adapter-embedded-root-ui",m(this,A,"f").innerHTML=te,m(this,A,"f").style.display="none";const Re=m(this,A,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");Re&&(Re.innerHTML=this.contentHtml);const pe=document.createElement("style");pe.id="mobile-wallet-adapter-embedded-modal-styles",pe.textContent=ae+this.contentStyles;const he=document.createElement("div");he.innerHTML=se,this.dom=he.attachShadow({mode:"closed"}),this.dom.appendChild(pe),this.dom.appendChild(m(this,A,"f")),document.body.appendChild(he)},z=function(){if(!m(this,A,"f")||m(this,P,"f"))return;[...m(this,A,"f").querySelectorAll("[data-modal-close]")].forEach(pe=>pe?.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",m(this,G,"f")),v(this,P,!0)},j=function(){if(!m(this,P,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",m(this,G,"f")),!m(this,A,"f")))return;[...m(this,A,"f").querySelectorAll("[data-modal-close]")].forEach(pe=>pe?.removeEventListener("click",this.close)),v(this,P,!1)};class V extends Q{constructor(){super(...arguments),this.contentStyles=D,this.contentHtml=M}initWithQR(Re){const pe=Object.create(null,{init:{get:()=>super.init}});return p(this,void 0,void 0,function*(){pe.init.call(this),this.populateQRCode(Re)})}populateQRCode(Re){var pe;return p(this,void 0,void 0,function*(){const he=(pe=this.dom)===null||pe===void 0?void 0:pe.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(he){const ke=yield u.default.toCanvas(Re,{width:200,margin:0});he.firstElementChild!==null?he.replaceChild(ke,he.firstElementChild):he.appendChild(ke)}else console.error("QRCode Container not found")})}}const M=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,D=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,F="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function W(je){return window.btoa(String.fromCharCode.call(null,...je))}function b(je){return new Uint8Array(window.atob(je).split("").map(Re=>Re.charCodeAt(0)))}var y,I,B,H,q,X,ee,C,w,_,U,Y,ie,ue,Se,Te,Je,ht,St,wn,At,$t,kr,Wt,Kt,pr,Pt,xt,xn,Dt,Ht,Vn,wt,$,k,R,Z,de,me,be,ct,Qe,nt,It,et,zt,Yr,Rt,Bt,Xr,bt,ln,zr,fn,Gt,pi,mt,an,$n,Jt,jt,jr,Nt,cn,ps,tn,un,ir,nn,Ot;const Pi="Mobile Wallet Adapter",Mi=64,mi=[r.SolanaSignAndSendTransaction,r.SolanaSignTransaction,r.SolanaSignMessage,r.SolanaSignIn];class gi{constructor(Re){y.add(this),I.set(this,{}),B.set(this,"1.0.0"),H.set(this,Pi),q.set(this,"https://solanamobile.com/wallets"),X.set(this,F),ee.set(this,void 0),C.set(this,void 0),w.set(this,void 0),_.set(this,!1),U.set(this,0),Y.set(this,[]),ie.set(this,void 0),ue.set(this,void 0),Se.set(this,void 0),Te.set(this,(pe,he)=>{var ke;return!((ke=m(this,I,"f")[pe])===null||ke===void 0)&&ke.push(he)||(m(this,I,"f")[pe]=[he]),()=>m(this,y,"m",ht).call(this,pe,he)}),St.set(this,({silent:pe}={})=>p(this,void 0,void 0,function*(){if(m(this,_,"f")||this.connected)return{accounts:this.accounts};v(this,_,!0);try{if(pe){const he=yield m(this,w,"f").get();if(he)yield m(this,$t,"f").call(this,he.capabilities),yield m(this,At,"f").call(this,he);else return{accounts:this.accounts}}else yield m(this,wn,"f").call(this)}catch(he){throw new Error(he instanceof Error&&he.message||"Unknown error")}finally{v(this,_,!1)}return{accounts:this.accounts}})),wn.set(this,pe=>p(this,void 0,void 0,function*(){try{const he=yield m(this,w,"f").get();if(he)return m(this,At,"f").call(this,he),he;const ke=yield m(this,ie,"f").select(m(this,Y,"f"));return yield m(this,Kt,"f").call(this,Fe=>p(this,void 0,void 0,function*(){const[De,Ye]=yield Promise.all([Fe.getCapabilities(),Fe.authorize({chain:ke,identity:m(this,ee,"f"),sign_in_payload:pe})]),He=m(this,Pt,"f").call(this,Ye.accounts),_t=Object.assign(Object.assign({},Ye),{accounts:He,chain:ke,capabilities:De});return Promise.all([m(this,$t,"f").call(this,De),m(this,w,"f").set(_t),m(this,At,"f").call(this,_t)]),_t}))}catch(he){throw new Error(he instanceof Error&&he.message||"Unknown error")}})),At.set(this,pe=>p(this,void 0,void 0,function*(){var he;const ke=m(this,C,"f")==null||((he=m(this,C,"f"))===null||he===void 0?void 0:he.accounts.length)!==pe.accounts.length||m(this,C,"f").accounts.some((Fe,De)=>Fe.address!==pe.accounts[De].address);v(this,C,pe),ke&&m(this,y,"m",Je).call(this,"change",{accounts:this.accounts})})),$t.set(this,pe=>p(this,void 0,void 0,function*(){const he=pe.features.includes("solana:signTransactions"),ke=pe.supports_sign_and_send_transactions,Fe=r.SolanaSignAndSendTransaction in this.features!==ke||r.SolanaSignTransaction in this.features!==he;v(this,ue,Object.assign(Object.assign({},(ke||!ke&&!he)&&{[r.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:m(this,Dt,"f")}}),he&&{[r.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:m(this,Ht,"f")}})),Fe&&m(this,y,"m",Je).call(this,"change",{features:this.features})})),kr.set(this,(pe,he,ke)=>p(this,void 0,void 0,function*(){var Fe,De;try{const[Ye,He]=yield Promise.all([(De=(Fe=m(this,C,"f"))===null||Fe===void 0?void 0:Fe.capabilities)!==null&&De!==void 0?De:yield pe.getCapabilities(),pe.authorize({auth_token:he,identity:m(this,ee,"f"),chain:ke})]),_t=m(this,Pt,"f").call(this,He.accounts),lt=Object.assign(Object.assign({},He),{accounts:_t,chain:ke,capabilities:Ye});Promise.all([m(this,w,"f").set(lt),m(this,At,"f").call(this,lt)])}catch(Ye){throw m(this,Wt,"f").call(this),new Error(Ye instanceof Error&&Ye.message||"Unknown error")}})),Wt.set(this,()=>p(this,void 0,void 0,function*(){var pe;m(this,w,"f").clear(),v(this,_,!1),v(this,U,(pe=m(this,U,"f"),pe++,pe)),v(this,C,void 0),m(this,y,"m",Je).call(this,"change",{accounts:this.accounts})})),Kt.set(this,pe=>p(this,void 0,void 0,function*(){var he;const ke=(he=m(this,C,"f"))===null||he===void 0?void 0:he.wallet_uri_base,Fe=ke?{baseUri:ke}:void 0,De=m(this,U,"f");try{return yield n.transact(pe,Fe)}catch(Ye){throw m(this,U,"f")!==De&&(yield new Promise(()=>{})),Ye instanceof Error&&Ye.name==="SolanaMobileWalletAdapterError"&&Ye.code==="ERROR_WALLET_NOT_FOUND"&&(yield m(this,Se,"f").call(this,this)),Ye}})),pr.set(this,()=>{if(!m(this,C,"f"))throw new Error("Wallet not connected");return{authToken:m(this,C,"f").auth_token,chain:m(this,C,"f").chain}}),Pt.set(this,pe=>pe.map(he=>{var ke,Fe;const De=b(he.address);return{address:h.default.encode(De),publicKey:De,label:he.label,icon:he.icon,chains:(ke=he.chains)!==null&&ke!==void 0?ke:m(this,Y,"f"),features:(Fe=he.features)!==null&&Fe!==void 0?Fe:mi}})),xt.set(this,pe=>p(this,void 0,void 0,function*(){const{authToken:he,chain:ke}=m(this,pr,"f").call(this);try{const Fe=pe.map(De=>W(De));return yield m(this,Kt,"f").call(this,De=>p(this,void 0,void 0,function*(){return yield m(this,kr,"f").call(this,De,he,ke),(yield De.signTransactions({payloads:Fe})).signed_payloads.map(b)}))}catch(Fe){throw new Error(Fe instanceof Error&&Fe.message||"Unknown error")}})),xn.set(this,(pe,he)=>p(this,void 0,void 0,function*(){const{authToken:ke,chain:Fe}=m(this,pr,"f").call(this);try{return yield m(this,Kt,"f").call(this,De=>p(this,void 0,void 0,function*(){const[Ye,He]=yield Promise.all([De.getCapabilities(),m(this,kr,"f").call(this,De,ke,Fe)]);if(Ye.supports_sign_and_send_transactions){const _t=W(pe);return(yield De.signAndSendTransactions(Object.assign(Object.assign({},he),{payloads:[_t]}))).signatures.map(b)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(De){throw new Error(De instanceof Error&&De.message||"Unknown error")}})),Dt.set(this,(...pe)=>p(this,void 0,void 0,function*(){const he=[];for(const ke of pe){const Fe=yield m(this,xn,"f").call(this,ke.transaction,ke.options);he.push({signature:Fe})}return he})),Ht.set(this,(...pe)=>p(this,void 0,void 0,function*(){return(yield m(this,xt,"f").call(this,pe.map(({transaction:he})=>he))).map(he=>({signedTransaction:he}))})),Vn.set(this,(...pe)=>p(this,void 0,void 0,function*(){const{authToken:he,chain:ke}=m(this,pr,"f").call(this),Fe=pe.map(({account:Ye})=>W(Ye.publicKey)),De=pe.map(({message:Ye})=>W(Ye));try{return yield m(this,Kt,"f").call(this,Ye=>p(this,void 0,void 0,function*(){return yield m(this,kr,"f").call(this,Ye,he,ke),(yield Ye.signMessages({addresses:Fe,payloads:De})).signed_payloads.map(b).map(_t=>({signedMessage:_t,signature:_t.slice(-Mi)}))}))}catch(Ye){throw new Error(Ye instanceof Error&&Ye.message||"Unknown error")}})),wt.set(this,(...pe)=>p(this,void 0,void 0,function*(){const he=[];if(pe.length>1)for(const ke of pe)he.push(yield m(this,$,"f").call(this,ke));else return[yield m(this,$,"f").call(this,pe[0])];return he})),$.set(this,pe=>p(this,void 0,void 0,function*(){var he,ke,Fe;v(this,_,!0);try{const De=yield m(this,wn,"f").call(this,Object.assign(Object.assign({},pe),{domain:(he=pe?.domain)!==null&&he!==void 0?he:window.location.host}));if(!De.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const Ye=De.sign_in_result.address,He=De.accounts.find(_t=>_t.address==Ye);return{account:Object.assign(Object.assign({},He??{address:h.default.encode(b(Ye))}),{publicKey:b(Ye),chains:(ke=He?.chains)!==null&&ke!==void 0?ke:m(this,Y,"f"),features:(Fe=He?.features)!==null&&Fe!==void 0?Fe:De.capabilities.features}),signedMessage:b(De.sign_in_result.signed_message),signature:b(De.sign_in_result.signature)}}catch(De){throw new Error(De instanceof Error&&De.message||"Unknown error")}finally{v(this,_,!1)}})),v(this,w,Re.authorizationCache),v(this,ee,Re.appIdentity),v(this,Y,Re.chains),v(this,ie,Re.chainSelector),v(this,Se,Re.onWalletNotFound),v(this,ue,{[r.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:m(this,Dt,"f")},[r.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:m(this,Ht,"f")}})}get version(){return m(this,B,"f")}get name(){return m(this,H,"f")}get url(){return m(this,q,"f")}get icon(){return m(this,X,"f")}get chains(){return m(this,Y,"f")}get features(){return Object.assign({[i.StandardConnect]:{version:"1.0.0",connect:m(this,St,"f")},[i.StandardDisconnect]:{version:"1.0.0",disconnect:m(this,Wt,"f")},[i.StandardEvents]:{version:"1.0.0",on:m(this,Te,"f")},[r.SolanaSignMessage]:{version:"1.0.0",signMessage:m(this,Vn,"f")},[r.SolanaSignIn]:{version:"1.0.0",signIn:m(this,wt,"f")}},m(this,ue,"f"))}get accounts(){var Re,pe;return(pe=(Re=m(this,C,"f"))===null||Re===void 0?void 0:Re.accounts)!==null&&pe!==void 0?pe:[]}get connected(){return!!m(this,C,"f")}get isAuthorized(){return!!m(this,C,"f")}get currentAuthorization(){return m(this,C,"f")}get cachedAuthorizationResult(){return m(this,w,"f").get()}}I=new WeakMap,B=new WeakMap,H=new WeakMap,q=new WeakMap,X=new WeakMap,ee=new WeakMap,C=new WeakMap,w=new WeakMap,_=new WeakMap,U=new WeakMap,Y=new WeakMap,ie=new WeakMap,ue=new WeakMap,Se=new WeakMap,Te=new WeakMap,St=new WeakMap,wn=new WeakMap,At=new WeakMap,$t=new WeakMap,kr=new WeakMap,Wt=new WeakMap,Kt=new WeakMap,pr=new WeakMap,Pt=new WeakMap,xt=new WeakMap,xn=new WeakMap,Dt=new WeakMap,Ht=new WeakMap,Vn=new WeakMap,wt=new WeakMap,$=new WeakMap,y=new WeakSet,Je=function(Re,...pe){var he;(he=m(this,I,"f")[Re])===null||he===void 0||he.forEach(ke=>ke.apply(null,pe))},ht=function(Re,pe){var he;m(this,I,"f")[Re]=(he=m(this,I,"f")[Re])===null||he===void 0?void 0:he.filter(ke=>pe!==ke)};class Ni{constructor(Re){k.add(this),R.set(this,{}),Z.set(this,"1.0.0"),de.set(this,Pi),me.set(this,"https://solanamobile.com/wallets"),be.set(this,F),ct.set(this,void 0),Qe.set(this,void 0),nt.set(this,void 0),It.set(this,!1),et.set(this,0),zt.set(this,[]),Yr.set(this,void 0),Rt.set(this,void 0),Bt.set(this,void 0),Xr.set(this,void 0),bt.set(this,void 0),ln.set(this,(pe,he)=>{var ke;return!((ke=m(this,R,"f")[pe])===null||ke===void 0)&&ke.push(he)||(m(this,R,"f")[pe]=[he]),()=>m(this,k,"m",fn).call(this,pe,he)}),Gt.set(this,({silent:pe}={})=>p(this,void 0,void 0,function*(){if(m(this,It,"f")||this.connected)return{accounts:this.accounts};v(this,It,!0);try{yield m(this,pi,"f").call(this)}catch(he){throw new Error(he instanceof Error&&he.message||"Unknown error")}finally{v(this,It,!1)}return{accounts:this.accounts}})),pi.set(this,pe=>p(this,void 0,void 0,function*(){try{const he=yield m(this,nt,"f").get();if(he)return m(this,mt,"f").call(this,he),he;m(this,bt,"f")&&v(this,bt,void 0,"f");const ke=yield m(this,Yr,"f").select(m(this,zt,"f"));return yield m(this,jt,"f").call(this,Fe=>p(this,void 0,void 0,function*(){const[De,Ye]=yield Promise.all([Fe.getCapabilities(),Fe.authorize({chain:ke,identity:m(this,ct,"f"),sign_in_payload:pe})]),He=m(this,Nt,"f").call(this,Ye.accounts),_t=Object.assign(Object.assign({},Ye),{accounts:He,chain:ke,capabilities:De});return Promise.all([m(this,an,"f").call(this,De),m(this,nt,"f").set(_t),m(this,mt,"f").call(this,_t)]),_t}))}catch(he){throw new Error(he instanceof Error&&he.message||"Unknown error")}})),mt.set(this,pe=>p(this,void 0,void 0,function*(){var he;const ke=m(this,Qe,"f")==null||((he=m(this,Qe,"f"))===null||he===void 0?void 0:he.accounts.length)!==pe.accounts.length||m(this,Qe,"f").accounts.some((Fe,De)=>Fe.address!==pe.accounts[De].address);v(this,Qe,pe),ke&&m(this,k,"m",zr).call(this,"change",{accounts:this.accounts})})),an.set(this,pe=>p(this,void 0,void 0,function*(){const he=pe.features.includes("solana:signTransactions"),ke=pe.supports_sign_and_send_transactions||pe.features.includes("solana:signAndSendTransaction"),Fe=r.SolanaSignAndSendTransaction in this.features!==ke||r.SolanaSignTransaction in this.features!==he;v(this,Rt,Object.assign(Object.assign({},ke&&{[r.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:pe.supported_transaction_versions,signAndSendTransaction:m(this,tn,"f")}}),he&&{[r.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:pe.supported_transaction_versions,signTransaction:m(this,un,"f")}})),Fe&&m(this,k,"m",zr).call(this,"change",{features:this.features})})),$n.set(this,(pe,he,ke)=>p(this,void 0,void 0,function*(){var Fe,De;try{const[Ye,He]=yield Promise.all([(De=(Fe=m(this,Qe,"f"))===null||Fe===void 0?void 0:Fe.capabilities)!==null&&De!==void 0?De:yield pe.getCapabilities(),pe.authorize({auth_token:he,identity:m(this,ct,"f"),chain:ke})]),_t=m(this,Nt,"f").call(this,He.accounts),lt=Object.assign(Object.assign({},He),{accounts:_t,chain:ke,capabilities:Ye});Promise.all([m(this,nt,"f").set(lt),m(this,mt,"f").call(this,lt)])}catch(Ye){throw m(this,Jt,"f").call(this),new Error(Ye instanceof Error&&Ye.message||"Unknown error")}})),Jt.set(this,()=>p(this,void 0,void 0,function*(){var pe,he;(pe=m(this,bt,"f"))===null||pe===void 0||pe.close(),m(this,nt,"f").clear(),v(this,It,!1),v(this,et,(he=m(this,et,"f"),he++,he)),v(this,Qe,void 0),v(this,bt,void 0),m(this,k,"m",zr).call(this,"change",{accounts:this.accounts})})),jt.set(this,pe=>p(this,void 0,void 0,function*(){var he;const ke=(he=m(this,Qe,"f"))===null||he===void 0?void 0:he.wallet_uri_base,De=Object.assign(Object.assign({},ke?{baseUri:ke}:void 0),{remoteHostAuthority:m(this,Xr,"f")}),Ye=m(this,et,"f"),He=new V;if(m(this,bt,"f"))return pe(m(this,bt,"f").wallet);try{const{associationUrl:_t,close:lt,wallet:Zr}=yield n.startRemoteScenario(De),Ml=He.addEventListener("close",Oo=>{Oo&&lt()});return He.initWithQR(_t.toString()),He.open(),v(this,bt,{close:lt,wallet:yield Zr},"f"),Ml(),He.close(),yield pe(m(this,bt,"f").wallet)}catch(_t){throw He.close(),m(this,et,"f")!==Ye&&(yield new Promise(()=>{})),_t instanceof Error&&_t.name==="SolanaMobileWalletAdapterError"&&_t.code==="ERROR_WALLET_NOT_FOUND"&&(yield m(this,Bt,"f").call(this,this)),_t}})),jr.set(this,()=>{if(!m(this,Qe,"f"))throw new Error("Wallet not connected");return{authToken:m(this,Qe,"f").auth_token,chain:m(this,Qe,"f").chain}}),Nt.set(this,pe=>pe.map(he=>{var ke,Fe;const De=b(he.address);return{address:h.default.encode(De),publicKey:De,label:he.label,icon:he.icon,chains:(ke=he.chains)!==null&&ke!==void 0?ke:m(this,zt,"f"),features:(Fe=he.features)!==null&&Fe!==void 0?Fe:mi}})),cn.set(this,pe=>p(this,void 0,void 0,function*(){const{authToken:he,chain:ke}=m(this,jr,"f").call(this);try{return yield m(this,jt,"f").call(this,Fe=>p(this,void 0,void 0,function*(){return yield m(this,$n,"f").call(this,Fe,he,ke),(yield Fe.signTransactions({payloads:pe.map(W)})).signed_payloads.map(b)}))}catch(Fe){throw new Error(Fe instanceof Error&&Fe.message||"Unknown error")}})),ps.set(this,(pe,he)=>p(this,void 0,void 0,function*(){const{authToken:ke,chain:Fe}=m(this,jr,"f").call(this);try{return yield m(this,jt,"f").call(this,De=>p(this,void 0,void 0,function*(){const[Ye,He]=yield Promise.all([De.getCapabilities(),m(this,$n,"f").call(this,De,ke,Fe)]);if(Ye.supports_sign_and_send_transactions)return(yield De.signAndSendTransactions(Object.assign(Object.assign({},he),{payloads:[W(pe)]}))).signatures.map(b)[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(De){throw new Error(De instanceof Error&&De.message||"Unknown error")}})),tn.set(this,(...pe)=>p(this,void 0,void 0,function*(){const he=[];for(const ke of pe){const Fe=yield m(this,ps,"f").call(this,ke.transaction,ke.options);he.push({signature:Fe})}return he})),un.set(this,(...pe)=>p(this,void 0,void 0,function*(){return(yield m(this,cn,"f").call(this,pe.map(({transaction:he})=>he))).map(he=>({signedTransaction:he}))})),ir.set(this,(...pe)=>p(this,void 0,void 0,function*(){const{authToken:he,chain:ke}=m(this,jr,"f").call(this),Fe=pe.map(({account:Ye})=>W(Ye.publicKey)),De=pe.map(({message:Ye})=>W(Ye));try{return yield m(this,jt,"f").call(this,Ye=>p(this,void 0,void 0,function*(){return yield m(this,$n,"f").call(this,Ye,he,ke),(yield Ye.signMessages({addresses:Fe,payloads:De})).signed_payloads.map(b).map(_t=>({signedMessage:_t,signature:_t.slice(-Mi)}))}))}catch(Ye){throw new Error(Ye instanceof Error&&Ye.message||"Unknown error")}})),nn.set(this,(...pe)=>p(this,void 0,void 0,function*(){const he=[];if(pe.length>1)for(const ke of pe)he.push(yield m(this,Ot,"f").call(this,ke));else return[yield m(this,Ot,"f").call(this,pe[0])];return he})),Ot.set(this,pe=>p(this,void 0,void 0,function*(){var he,ke,Fe;v(this,It,!0);try{const De=yield m(this,pi,"f").call(this,Object.assign(Object.assign({},pe),{domain:(he=pe?.domain)!==null&&he!==void 0?he:window.location.host}));if(!De.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const Ye=De.sign_in_result.address,He=De.accounts.find(_t=>_t.address==Ye);return{account:Object.assign(Object.assign({},He??{address:h.default.encode(b(Ye))}),{publicKey:b(Ye),chains:(ke=He?.chains)!==null&&ke!==void 0?ke:m(this,zt,"f"),features:(Fe=He?.features)!==null&&Fe!==void 0?Fe:De.capabilities.features}),signedMessage:b(De.sign_in_result.signed_message),signature:b(De.sign_in_result.signature)}}catch(De){throw new Error(De instanceof Error&&De.message||"Unknown error")}finally{v(this,It,!1)}})),v(this,nt,Re.authorizationCache),v(this,ct,Re.appIdentity),v(this,zt,Re.chains),v(this,Yr,Re.chainSelector),v(this,Xr,Re.remoteHostAuthority),v(this,Bt,Re.onWalletNotFound),v(this,Rt,{[r.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:m(this,tn,"f")},[r.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:m(this,un,"f")}})}get version(){return m(this,Z,"f")}get name(){return m(this,de,"f")}get url(){return m(this,me,"f")}get icon(){return m(this,be,"f")}get chains(){return m(this,zt,"f")}get features(){return Object.assign({[i.StandardConnect]:{version:"1.0.0",connect:m(this,Gt,"f")},[i.StandardDisconnect]:{version:"1.0.0",disconnect:m(this,Jt,"f")},[i.StandardEvents]:{version:"1.0.0",on:m(this,ln,"f")},[r.SolanaSignMessage]:{version:"1.0.0",signMessage:m(this,ir,"f")},[r.SolanaSignIn]:{version:"1.0.0",signIn:m(this,nn,"f")}},m(this,Rt,"f"))}get accounts(){var Re,pe;return(pe=(Re=m(this,Qe,"f"))===null||Re===void 0?void 0:Re.accounts)!==null&&pe!==void 0?pe:[]}get connected(){return!!m(this,bt,"f")&&!!m(this,Qe,"f")}get isAuthorized(){return!!m(this,Qe,"f")}get currentAuthorization(){return m(this,Qe,"f")}get cachedAuthorizationResult(){return m(this,nt,"f").get()}}R=new WeakMap,Z=new WeakMap,de=new WeakMap,me=new WeakMap,be=new WeakMap,ct=new WeakMap,Qe=new WeakMap,nt=new WeakMap,It=new WeakMap,et=new WeakMap,zt=new WeakMap,Yr=new WeakMap,Rt=new WeakMap,Bt=new WeakMap,Xr=new WeakMap,bt=new WeakMap,ln=new WeakMap,Gt=new WeakMap,pi=new WeakMap,mt=new WeakMap,an=new WeakMap,$n=new WeakMap,Jt=new WeakMap,jt=new WeakMap,jr=new WeakMap,Nt=new WeakMap,cn=new WeakMap,ps=new WeakMap,tn=new WeakMap,un=new WeakMap,ir=new WeakMap,nn=new WeakMap,Ot=new WeakMap,k=new WeakSet,zr=function(Re,...pe){var he;(he=m(this,R,"f")[Re])===null||he===void 0||he.forEach(ke=>ke.apply(null,pe))},fn=function(Re,pe){var he;m(this,R,"f")[Re]=(he=m(this,R,"f")[Re])===null||he===void 0?void 0:he.filter(ke=>pe!==ke)};var ms=function(je,Re,pe,he,ke){if(he==="m")throw new TypeError("Private method is not writable");if(he==="a"&&!ke)throw new TypeError("Private accessor was defined without a setter");if(typeof Re=="function"?je!==Re||!ke:!Re.has(je))throw new TypeError("Cannot write private member to an object whose class did not declare it");return he==="a"?ke.call(je,pe):ke?ke.value=pe:Re.set(je,pe),pe},Qs=function(je,Re,pe,he){if(pe==="a"&&!he)throw new TypeError("Private accessor was defined without a getter");if(typeof Re=="function"?je!==Re||!he:!Re.has(je))throw new TypeError("Cannot read private member from an object whose class did not declare it");return pe==="m"?he:pe==="a"?he.call(je):he?he.value:Re.get(je)},qt;function $i(je){const Re=({register:pe})=>pe(je);try{window.dispatchEvent(new yi(Re))}catch(pe){console.error(`wallet-standard:register-wallet event could not be dispatched
`,pe)}try{window.addEventListener("wallet-standard:app-ready",({detail:pe})=>Re(pe))}catch(pe){console.error(`wallet-standard:app-ready event listener could not be added
`,pe)}}class yi extends Event{constructor(Re){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),qt.set(this,void 0),ms(this,qt,Re,"f")}get detail(){return Qs(this,qt,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}qt=new WeakMap;function Jr(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function sr(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function Ki(je){Jr()?$i(new gi(je)):sr()&&je.remoteHostAuthority!==void 0&&$i(new Ni(Object.assign(Object.assign({},je),{remoteHostAuthority:je.remoteHostAuthority})))}const gs="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",wi="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class Zn extends Q{constructor(){super(...arguments),this.contentStyles=Fn,this.contentHtml=ys}initWithError(Re){super.init(),this.populateError(Re)}populateError(Re){var pe,he;const ke=(pe=this.dom)===null||pe===void 0?void 0:pe.getElementById("mobile-wallet-adapter-error-message"),Fe=(he=this.dom)===null||he===void 0?void 0:he.getElementById("mobile-wallet-adapter-error-action");if(ke){if(Re.name==="SolanaMobileWalletAdapterError")switch(Re.code){case"ERROR_WALLET_NOT_FOUND":ke.innerHTML=gs,Fe&&Fe.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":ke.innerHTML=wi,Fe&&(Fe.style.display="none");return}ke.innerHTML=`An unexpected error occurred: ${Re.message}`}else console.log("Failed to locate error dialog element")}}const ys=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,Fn=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function Oi(){return p(this,void 0,void 0,function*(){if(typeof window<"u"){const je=window.navigator.userAgent.toLowerCase(),Re=new Zn;je.includes("wv")?Re.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):Re.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),Re.open()}})}function Pl(){return()=>p(this,void 0,void 0,function*(){Oi()})}const Po="SolanaMobileWalletAdapterDefaultAuthorizationCache";function Mo(){let je;try{je=window.localStorage}catch{}return{clear(){return p(this,void 0,void 0,function*(){if(je)try{je.removeItem(Po)}catch{}})},get(){return p(this,void 0,void 0,function*(){if(je)try{const Re=JSON.parse(je.getItem(Po));if(Re&&Re.accounts){const pe=Re.accounts.map(he=>Object.assign(Object.assign({},he),{publicKey:"publicKey"in he?new Uint8Array(Object.values(he.publicKey)):h.default.decode(he.address)}));return Object.assign(Object.assign({},Re),{accounts:pe})}else return Re||void 0}catch{}})},set(Re){return p(this,void 0,void 0,function*(){if(je)try{je.setItem(Po,JSON.stringify(Re))}catch{}})}}}function No(){return{select(je){return p(this,void 0,void 0,function*(){return je.length===1?je[0]:je.includes(o.SOLANA_MAINNET_CHAIN)?o.SOLANA_MAINNET_CHAIN:je[0]})}}}return is.LocalSolanaMobileWalletAdapterWallet=gi,is.RemoteSolanaMobileWalletAdapterWallet=Ni,is.SolanaMobileWalletAdapterWalletName=Pi,is.createDefaultAuthorizationCache=Mo,is.createDefaultChainSelector=No,is.createDefaultWalletNotFoundHandler=Pl,is.defaultErrorModalWalletNotFoundHandler=Oi,is.registerMwa=Ki,is}var oI;function S9(){if(oI)return xs;oI=1,Object.defineProperty(xs,"__esModule",{value:!0});var r=yF(),e=wF,n=Gv(),i=b9();function s(C,w,_,U){function Y(ie){return ie instanceof _?ie:new _(function(ue){ue(ie)})}return new(_||(_=Promise))(function(ie,ue){function Se(ht){try{Je(U.next(ht))}catch(St){ue(St)}}function Te(ht){try{Je(U.throw(ht))}catch(St){ue(St)}}function Je(ht){ht.done?ie(ht.value):Y(ht.value).then(Se,Te)}Je((U=U.apply(C,[])).next())})}function o(C,w,_,U){if(_==="a"&&!U)throw new TypeError("Private accessor was defined without a getter");if(typeof w=="function"?C!==w||!U:!w.has(C))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _==="m"?U:_==="a"?U.call(C):U?U.value:w.get(C)}function c(C,w,_,U,Y){if(typeof w=="function"?C!==w||!0:!w.has(C))throw new TypeError("Cannot write private member to an object whose class did not declare it");return w.set(C,_),_}const u="standard:connect",h="standard:disconnect",p="standard:events";function m(C){return window.btoa(String.fromCharCode.call(null,...C))}function v(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var S,A,N,P,O,z,j,G,te,ae,se,Q,V;const M="Mobile Wallet Adapter",D=64;function F(C){return"version"in C}function W(C){switch(C){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return C}}class b extends r.BaseSignInMessageSignerWalletAdapter{constructor(w,_){super(),S.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),A.set(this,void 0),N.set(this,!1),P.set(this,v()?r.WalletReadyState.Loadable:r.WalletReadyState.Unsupported),O.set(this,void 0),z.set(this,void 0),j.set(this,void 0),G.set(this,U=>s(this,void 0,void 0,function*(){if(U.accounts&&U.accounts.length>0){o(this,S,"m",ae).call(this);const Y=yield o(this,O,"f").call(this,U.accounts);Y!==o(this,z,"f")&&(c(this,z,Y),c(this,j,void 0),this.emit("connect",this.publicKey))}})),c(this,O,U=>s(this,void 0,void 0,function*(){var Y;const ie=yield _.addressSelector.select(U.map(({publicKey:ue})=>m(ue)));return(Y=U.find(({publicKey:ue})=>m(ue)===ie))!==null&&Y!==void 0?Y:U[0]})),c(this,A,w),o(this,A,"f").features[p].on("change",o(this,G,"f")),this.name=o(this,A,"f").name,this.icon=o(this,A,"f").icon,this.url=o(this,A,"f").url}get publicKey(){var w;if(!o(this,j,"f")&&o(this,z,"f"))try{c(this,j,new e.PublicKey(o(this,z,"f").publicKey),"f")}catch(_){throw new r.WalletPublicKeyError(_ instanceof Error&&_?.message||"Unknown error",_)}return(w=o(this,j,"f"))!==null&&w!==void 0?w:null}get connected(){return o(this,A,"f").connected}get connecting(){return o(this,N,"f")}get readyState(){return o(this,P,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return s(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return s(this,void 0,void 0,function*(){o(this,S,"m",te).call(this,!0)})}connect(){return s(this,void 0,void 0,function*(){o(this,S,"m",te).call(this)})}performAuthorization(w){return s(this,void 0,void 0,function*(){try{const _=yield o(this,A,"f").cachedAuthorizationResult;return _?(yield o(this,A,"f").features[u].connect({silent:!0}),_):(w?yield o(this,A,"f").features[n.SolanaSignIn].signIn(w):yield o(this,A,"f").features[u].connect(),yield yield o(this,A,"f").cachedAuthorizationResult)}catch(_){throw new r.WalletConnectionError(_ instanceof Error&&_.message||"Unknown error",_)}})}disconnect(){return s(this,void 0,void 0,function*(){return yield o(this,S,"m",V).call(this,()=>s(this,void 0,void 0,function*(){c(this,N,!1),c(this,j,void 0),c(this,z,void 0),yield o(this,A,"f").features[h].disconnect(),this.emit("disconnect")}))})}signIn(w){return s(this,void 0,void 0,function*(){return o(this,S,"m",V).call(this,()=>s(this,void 0,void 0,function*(){var _;if(o(this,P,"f")!==r.WalletReadyState.Installed&&o(this,P,"f")!==r.WalletReadyState.Loadable)throw new r.WalletNotReadyError;c(this,N,!0);try{const U=yield o(this,A,"f").features[n.SolanaSignIn].signIn(Object.assign(Object.assign({},w),{domain:(_=w?.domain)!==null&&_!==void 0?_:window.location.host}));if(U.length>0)return U[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(U){throw new r.WalletConnectionError(U instanceof Error&&U.message||"Unknown error",U)}finally{c(this,N,!1)}}))})}signMessage(w){return s(this,void 0,void 0,function*(){return yield o(this,S,"m",V).call(this,()=>s(this,void 0,void 0,function*(){const _=o(this,S,"m",se).call(this);try{return(yield o(this,A,"f").features[n.SolanaSignMessage].signMessage({account:_,message:w}))[0].signature}catch(U){throw new r.WalletSignMessageError(U?.message,U)}}))})}sendTransaction(w,_,U){return s(this,void 0,void 0,function*(){return yield o(this,S,"m",V).call(this,()=>s(this,void 0,void 0,function*(){const Y=o(this,S,"m",se).call(this);try{let ie=function(){let ue;switch(_.commitment){case"confirmed":case"finalized":case"processed":ue=_.commitment;break;default:ue="finalized"}let Se;switch(U?.preflightCommitment){case"confirmed":case"finalized":case"processed":Se=U.preflightCommitment;break;case void 0:Se=ue;break;default:Se="finalized"}return(Se==="finalized"?2:Se==="confirmed"?1:0)<(ue==="finalized"?2:ue==="confirmed"?1:0)?Se:ue};if(n.SolanaSignAndSendTransaction in o(this,A,"f").features){const ue=W(o(this,A,"f").currentAuthorization.chain),[Se]=(yield o(this,A,"f").features[n.SolanaSignAndSendTransaction].signAndSendTransaction({account:Y,transaction:w.serialize(),chain:ue,options:U?{skipPreflight:U.skipPreflight,maxRetries:U.maxRetries}:void 0})).map((Te=>m(Te.signature)));return Se}else{const[ue]=yield o(this,S,"m",Q).call(this,[w]);if(F(ue))return yield _.sendTransaction(ue);{const Se=ue.serialize();return yield _.sendRawTransaction(Se,Object.assign(Object.assign({},U),{preflightCommitment:ie()}))}}}catch(ie){throw new r.WalletSendTransactionError(ie?.message,ie)}}))})}signTransaction(w){return s(this,void 0,void 0,function*(){return yield o(this,S,"m",V).call(this,()=>s(this,void 0,void 0,function*(){const[_]=yield o(this,S,"m",Q).call(this,[w]);return _}))})}signAllTransactions(w){return s(this,void 0,void 0,function*(){return yield o(this,S,"m",V).call(this,()=>s(this,void 0,void 0,function*(){return yield o(this,S,"m",Q).call(this,w)}))})}}A=new WeakMap,N=new WeakMap,P=new WeakMap,O=new WeakMap,z=new WeakMap,j=new WeakMap,G=new WeakMap,S=new WeakSet,te=function(w=!1){return s(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield o(this,S,"m",V).call(this,()=>s(this,void 0,void 0,function*(){if(o(this,P,"f")!==r.WalletReadyState.Installed&&o(this,P,"f")!==r.WalletReadyState.Loadable)throw new r.WalletNotReadyError;c(this,N,!0);try{yield o(this,A,"f").features[u].connect({silent:w})}catch(_){throw new r.WalletConnectionError(_ instanceof Error&&_.message||"Unknown error",_)}finally{c(this,N,!1)}}))})},ae=function(){o(this,P,"f")!==r.WalletReadyState.Installed&&this.emit("readyStateChange",c(this,P,r.WalletReadyState.Installed))},se=function(){if(!o(this,A,"f").isAuthorized||!o(this,z,"f"))throw new r.WalletNotConnectedError;return o(this,z,"f")},Q=function(w){return s(this,void 0,void 0,function*(){const _=o(this,S,"m",se).call(this);try{if(n.SolanaSignTransaction in o(this,A,"f").features)return o(this,A,"f").features[n.SolanaSignTransaction].signTransaction(...w.map(U=>({account:_,transaction:U.serialize()}))).then(U=>U.map(Y=>{const ie=Y.signedTransaction,Se=ie[0]*D+1;return e.VersionedMessage.deserializeMessageVersion(ie.slice(Se,ie.length))==="legacy"?e.Transaction.from(ie):e.VersionedTransaction.deserialize(ie)}));throw new Error("Connected wallet does not support signing transactions")}catch(U){throw new r.WalletSignTransactionError(U?.message,U)}})},V=function(w){return s(this,void 0,void 0,function*(){try{return yield w()}catch(_){throw this.emit("error",_),_}})};class y extends b{constructor(w){var _;const U=W((_=w.chain)!==null&&_!==void 0?_:w.cluster);super(new i.LocalSolanaMobileWalletAdapterWallet({appIdentity:w.appIdentity,authorizationCache:{set:w.authorizationResultCache.set,get:()=>s(this,void 0,void 0,function*(){return yield w.authorizationResultCache.get()}),clear:w.authorizationResultCache.clear},chains:[U],chainSelector:i.createDefaultChainSelector(),onWalletNotFound:()=>s(this,void 0,void 0,function*(){w.onWalletNotFound(this)})}),{addressSelector:w.addressSelector,chain:U})}}class I extends b{constructor(w){const _=W(w.chain);super(new i.RemoteSolanaMobileWalletAdapterWallet({appIdentity:w.appIdentity,authorizationCache:{set:w.authorizationResultCache.set,get:()=>s(this,void 0,void 0,function*(){return yield w.authorizationResultCache.get()}),clear:w.authorizationResultCache.clear},chains:[_],chainSelector:i.createDefaultChainSelector(),remoteHostAuthority:w.remoteHostAuthority,onWalletNotFound:()=>s(this,void 0,void 0,function*(){w.onWalletNotFound(this)})}),{addressSelector:w.addressSelector,chain:_})}}class B extends y{}function H(){return{select(C){return s(this,void 0,void 0,function*(){return C[0]})}}}function q(){return i.createDefaultAuthorizationCache()}function X(C){return s(this,void 0,void 0,function*(){return i.defaultErrorModalWalletNotFoundHandler()})}function ee(){return X}return xs.LocalSolanaMobileWalletAdapter=y,xs.RemoteSolanaMobileWalletAdapter=I,xs.SolanaMobileWalletAdapter=B,xs.SolanaMobileWalletAdapterWalletName=M,xs.createDefaultAddressSelector=H,xs.createDefaultAuthorizationResultCache=q,xs.createDefaultWalletNotFoundHandler=ee,xs}var oa=S9();function A9(r,e){if(r===e)return!0;const n=r.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(r[i]!==e[i])return!1;return!0}function I9(r){if(r.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let p=0;p<e.length;p++)e[p]=255;for(let p=0;p<r.length;p++){const m=r.charAt(p),v=m.charCodeAt(0);if(e[v]!==255)throw new TypeError(m+" is ambiguous");e[v]=p}const n=r.length,i=r.charAt(0),s=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function c(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";let m=0,v=0,S=0;const A=p.length;for(;S!==A&&p[S]===0;)S++,m++;const N=(A-S)*o+1>>>0,P=new Uint8Array(N);for(;S!==A;){let j=p[S],G=0;for(let te=N-1;(j!==0||G<v)&&te!==-1;te--,G++)j+=256*P[te]>>>0,P[te]=j%n>>>0,j=j/n>>>0;if(j!==0)throw new Error("Non-zero carry");v=G,S++}let O=N-v;for(;O!==N&&P[O]===0;)O++;let z=i.repeat(m);for(;O<N;++O)z+=r.charAt(P[O]);return z}function u(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;let m=0,v=0,S=0;for(;p[m]===i;)v++,m++;const A=(p.length-m)*s+1>>>0,N=new Uint8Array(A);for(;m<p.length;){const j=p.charCodeAt(m);if(j>255)return;let G=e[j];if(G===255)return;let te=0;for(let ae=A-1;(G!==0||te<S)&&ae!==-1;ae--,te++)G+=n*N[ae]>>>0,N[ae]=G%256>>>0,G=G/256>>>0;if(G!==0)throw new Error("Non-zero carry");S=te,m++}let P=A-S;for(;P!==A&&N[P]===0;)P++;const O=new Uint8Array(v+(A-P));let z=v;for(;P!==A;)O[z++]=N[P++];return O}function h(p){const m=u(p);if(m)return m;throw new Error("Non-base"+n+" character")}return{encode:c,decodeUnsafe:u,decode:h}}var T9="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const k9=I9(T9);var it=function(r,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(r):i?i.value:e.get(r)},Qn=function(r,e,n,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(r,n):s?s.value=n:e.set(r,n),n},Er,ci,cl,ul,el,cd,Cp,sn,Pp,uw,Yf,dw,wd,hw,aI,lI,cI,uI;class x9 extends zx{get name(){return it(this,sn,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return it(this,sn,"f").icon}get readyState(){return it(this,Pp,"f")}get publicKey(){return it(this,cl,"f")}get connecting(){return it(this,ul,"f")}get supportedTransactionVersions(){return it(this,Cp,"f")}get wallet(){return it(this,sn,"f")}get standard(){return!0}constructor({wallet:e}){super(),Er.add(this),ci.set(this,void 0),cl.set(this,void 0),ul.set(this,void 0),el.set(this,void 0),cd.set(this,void 0),Cp.set(this,void 0),sn.set(this,void 0),Pp.set(this,typeof window>"u"||typeof document>"u"?Pn.Unsupported:Pn.Installed),hw.set(this,n=>{if("accounts"in n){const i=it(this,sn,"f").accounts[0];it(this,ci,"f")&&!it(this,el,"f")&&i!==it(this,ci,"f")&&(i?it(this,Er,"m",Yf).call(this,i):(this.emit("error",new Vx),it(this,Er,"m",dw).call(this)))}"features"in n&&it(this,Er,"m",wd).call(this)}),Qn(this,sn,e,"f"),Qn(this,ci,null,"f"),Qn(this,cl,null,"f"),Qn(this,ul,!1,"f"),Qn(this,el,!1,"f"),Qn(this,cd,it(this,sn,"f").features[qx].on("change",it(this,hw,"f")),"f"),it(this,Er,"m",wd).call(this)}destroy(){Qn(this,ci,null,"f"),Qn(this,cl,null,"f"),Qn(this,ul,!1,"f"),Qn(this,el,!1,"f");const e=it(this,cd,"f");e&&(Qn(this,cd,null,"f"),e())}async autoConnect(){return it(this,Er,"m",uw).call(this,{silent:!0})}async connect(){return it(this,Er,"m",uw).call(this)}async disconnect(){if(oA in it(this,sn,"f").features)try{Qn(this,el,!0,"f"),await it(this,sn,"f").features[oA].disconnect()}catch(e){this.emit("error",new Fx(e?.message,e))}finally{Qn(this,el,!1,"f")}it(this,Er,"m",dw).call(this)}async sendTransaction(e,n,i={}){try{const s=it(this,ci,"f");if(!s)throw new xi;let o;if(da in it(this,sn,"f").features)if(s.features.includes(da))o=da;else if(_r in it(this,sn,"f").features&&s.features.includes(_r))o=_r;else throw new al;else if(_r in it(this,sn,"f").features){if(!s.features.includes(_r))throw new al;o=_r}else throw new ld;const c=qF(n.rpcEndpoint);if(!s.chains.includes(c))throw new ll;try{const{signers:u,...h}=i;let p;if(ga(e)?(u?.length&&e.sign(u),p=e.serialize()):(e=await this.prepareTransaction(e,n,h),u?.length&&e.partialSign(...u),p=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===da){const[m]=await it(this,sn,"f").features[da].signAndSendTransaction({account:s,chain:c,transaction:p,options:{preflightCommitment:d0(h.preflightCommitment||n.commitment),skipPreflight:h.skipPreflight,maxRetries:h.maxRetries,minContextSlot:h.minContextSlot}});return k9.encode(m.signature)}else{const[m]=await it(this,sn,"f").features[_r].signTransaction({account:s,chain:c,transaction:p,options:{preflightCommitment:d0(h.preflightCommitment||n.commitment),minContextSlot:h.minContextSlot}});return await n.sendRawTransaction(m.signedTransaction,{...h,preflightCommitment:d0(h.preflightCommitment||n.commitment)})}}catch(u){throw u instanceof Wr?u:new ll(u?.message,u)}}catch(s){throw this.emit("error",s),s}}}ci=new WeakMap,cl=new WeakMap,ul=new WeakMap,el=new WeakMap,cd=new WeakMap,Cp=new WeakMap,sn=new WeakMap,Pp=new WeakMap,hw=new WeakMap,Er=new WeakSet,uw=async function(e){try{if(this.connected||this.connecting)return;if(it(this,Pp,"f")!==Pn.Installed)throw new Tp;if(Qn(this,ul,!0,"f"),!it(this,sn,"f").accounts.length)try{await it(this,sn,"f").features[jx].connect(e)}catch(i){throw new Ux(i?.message,i)}const n=it(this,sn,"f").accounts[0];if(!n)throw new al;it(this,Er,"m",Yf).call(this,n)}catch(n){throw this.emit("error",n),n}finally{Qn(this,ul,!1,"f")}},Yf=function(e){let n;try{n=new Ue(e.address)}catch(i){throw new ow(i?.message,i)}Qn(this,ci,e,"f"),Qn(this,cl,n,"f"),it(this,Er,"m",wd).call(this),this.emit("connect",n)},dw=function(){Qn(this,ci,null,"f"),Qn(this,cl,null,"f"),it(this,Er,"m",wd).call(this),this.emit("disconnect")},wd=function(){const e=da in it(this,sn,"f").features?it(this,sn,"f").features[da].supportedTransactionVersions:it(this,sn,"f").features[_r].supportedTransactionVersions;Qn(this,Cp,A9(e,["legacy"])?null:new Set(e),"f"),_r in it(this,sn,"f").features&&it(this,ci,"f")?.features.includes(_r)?(this.signTransaction=it(this,Er,"m",aI),this.signAllTransactions=it(this,Er,"m",lI)):(delete this.signTransaction,delete this.signAllTransactions),Qu in it(this,sn,"f").features&&it(this,ci,"f")?.features.includes(Qu)?this.signMessage=it(this,Er,"m",cI):delete this.signMessage,Uy in it(this,sn,"f").features?this.signIn=it(this,Er,"m",uI):delete this.signIn},aI=async function(e){try{const n=it(this,ci,"f");if(!n)throw new xi;if(!(_r in it(this,sn,"f").features))throw new ld;if(!n.features.includes(_r))throw new al;try{const s=(await it(this,sn,"f").features[_r].signTransaction({account:n,transaction:ga(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return ga(e)?Ld.deserialize(s):en.from(s)}catch(i){throw i instanceof Wr?i:new ma(i?.message,i)}}catch(n){throw this.emit("error",n),n}},lI=async function(e){try{const n=it(this,ci,"f");if(!n)throw new xi;if(!(_r in it(this,sn,"f").features))throw new ld;if(!n.features.includes(_r))throw new al;try{const i=await it(this,sn,"f").features[_r].signTransaction(...e.map(s=>({account:n,transaction:ga(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((s,o)=>{const c=i[o].signedTransaction;return ga(s)?Ld.deserialize(c):en.from(c)})}catch(i){throw new ma(i?.message,i)}}catch(n){throw this.emit("error",n),n}},cI=async function(e){try{const n=it(this,ci,"f");if(!n)throw new xi;if(!(Qu in it(this,sn,"f").features))throw new ld;if(!n.features.includes(Qu))throw new al;try{return(await it(this,sn,"f").features[Qu].signMessage({account:n,message:e}))[0].signature}catch(i){throw new Wx(i?.message,i)}}catch(n){throw this.emit("error",n),n}},uI=async function(e={}){try{if(!(Uy in it(this,sn,"f").features))throw new ld;let n;try{[n]=await it(this,sn,"f").features[Uy].signIn(e)}catch(i){throw new sA(i?.message,i)}if(!n)throw new sA;return it(this,Er,"m",Yf).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const R9=nF;var C9=function(r,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(r):i?i.value:e.get(r)},P9=function(r,e,n,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(r,n):s?s.value=n:e.set(r,n),n},Xf;let Ii;const mm=new Set;function M9(r){vd=void 0,mm.add(r)}function N9(r){vd=void 0,mm.delete(r)}const bc={};function O9(){if(Ii||(Ii=Object.freeze({register:dI,get:L9,on:D9}),typeof window>"u"))return Ii;const r=Object.freeze({register:dI});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(r))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new B9(r))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Ii}function dI(...r){return r=r.filter(e=>!mm.has(e)),r.length?(r.forEach(e=>M9(e)),bc.register?.forEach(e=>fw(()=>e(...r))),function(){r.forEach(n=>N9(n)),bc.unregister?.forEach(n=>fw(()=>n(...r)))}):()=>{}}let vd;function L9(){return vd||(vd=[...mm]),vd}function D9(r,e){return bc[r]?.push(e)||(bc[r]=[e]),function(){bc[r]=bc[r]?.filter(i=>e!==i)}}function fw(r){try{r()}catch(e){console.error(e)}}class B9 extends Event{get detail(){return C9(this,Xf,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Xf.set(this,void 0),P9(this,Xf,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Xf=new WeakMap;function U9(){if(Ii||(Ii=O9(),typeof window>"u"))return Ii;const r=window.navigator.wallets||[];if(!Array.isArray(r))return console.error("window.navigator.wallets is not an array"),Ii;const{register:e}=Ii,n=(...i)=>i.forEach(s=>fw(()=>s({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),Ii}return n(...r),Ii}function V9(r){const e=hI(()=>new Set),{get:n,on:i}=hI(()=>U9()),[s,o]=ce.useState(()=>fI(n()));ce.useEffect(()=>{const u=[i("register",(...h)=>o(p=>[...p,...fI(h)])),i("unregister",(...h)=>o(p=>p.filter(m=>h.some(v=>v===m.wallet))))];return()=>u.forEach(h=>h())},[i]);const c=F9(s);return ce.useEffect(()=>{if(!c)return;const u=new Set(s);new Set(c.filter(p=>!u.has(p))).forEach(p=>p.destroy())},[c,s]),ce.useEffect(()=>()=>s.forEach(u=>u.destroy()),[]),ce.useMemo(()=>[...s,...r.filter(({name:u})=>s.some(h=>h.name===u)?(e.has(u)||(e.add(u),console.warn(`${u} was registered as a Standard Wallet. The Wallet Adapter for ${u} can be removed from your app.`)),!1):!0)],[s,r,e])}function hI(r){const e=ce.useRef(void 0);return e.current===void 0&&(e.current={value:r()}),e.current.value}function F9(r){const e=ce.useRef(void 0);return ce.useEffect(()=>{e.current=r}),e.current}function fI(r){return r.filter(R9).map(e=>new x9({wallet:e}))}var Oc;(function(r){r[r.DESKTOP_WEB=0]="DESKTOP_WEB",r[r.MOBILE_WEB=1]="MOBILE_WEB"})(Oc||(Oc={}));function W9(r){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(r)}function z9({adapters:r,userAgentString:e}){return r.some(n=>n.name!==oa.SolanaMobileWalletAdapterWalletName&&n.readyState===Pn.Installed)?Oc.DESKTOP_WEB:e&&/android/i.test(e)&&!W9(e)?Oc.MOBILE_WEB:Oc.DESKTOP_WEB}function j9(r){return r?/devnet/i.test(r)?"devnet":/testnet/i.test(r)?"testnet":"mainnet-beta":"mainnet-beta"}function q9({children:r,wallets:e,adapter:n,isUnloadingRef:i,onAutoConnectRequest:s,onConnectError:o,onError:c,onSelectWallet:u}){const h=ce.useRef(!1),[p,m]=ce.useState(!1),v=ce.useRef(!1),[S,A]=ce.useState(!1),[N,P]=ce.useState(()=>n?.publicKey??null),[O,z]=ce.useState(()=>n?.connected??!1),j=ce.useRef(c);ce.useEffect(()=>(j.current=c,()=>{j.current=void 0}),[c]);const G=ce.useRef((I,B)=>(i.current||(j.current?j.current(I,B):(console.error(I,B),I instanceof Tp&&typeof window<"u"&&B&&window.open(B.url,"_blank"))),I)),[te,ae]=ce.useState(()=>e.map(I=>({adapter:I,readyState:I.readyState})).filter(({readyState:I})=>I!==Pn.Unsupported));ce.useEffect(()=>{ae(B=>e.map((H,q)=>{const X=B[q];return X&&X.adapter===H&&X.readyState===H.readyState?X:{adapter:H,readyState:H.readyState}}).filter(({readyState:H})=>H!==Pn.Unsupported));function I(B){ae(H=>{const q=H.findIndex(({adapter:ee})=>ee===this);if(q===-1)return H;const{adapter:X}=H[q];return[...H.slice(0,q),{adapter:X,readyState:B},...H.slice(q+1)].filter(({readyState:ee})=>ee!==Pn.Unsupported)})}return e.forEach(B=>B.on("readyStateChange",I,B)),()=>{e.forEach(B=>B.off("readyStateChange",I,B))}},[n,e]);const se=ce.useMemo(()=>te.find(I=>I.adapter===n)??null,[n,te]);ce.useEffect(()=>{if(!n)return;const I=q=>{P(q),h.current=!1,m(!1),z(!0),v.current=!1,A(!1)},B=()=>{i.current||(P(null),h.current=!1,m(!1),z(!1),v.current=!1,A(!1))},H=q=>{G.current(q,n)};return n.on("connect",I),n.on("disconnect",B),n.on("error",H),()=>{n.off("connect",I),n.off("disconnect",B),n.off("error",H),B()}},[n,i]);const Q=ce.useRef(!1);ce.useEffect(()=>()=>{Q.current=!1},[n]),ce.useEffect(()=>{Q.current||h.current||O||!s||!(se?.readyState===Pn.Installed||se?.readyState===Pn.Loadable)||(h.current=!0,m(!0),Q.current=!0,(async function(){try{await s()}catch{o()}finally{m(!1),h.current=!1}})())},[O,s,o,se]);const V=ce.useCallback(async(I,B,H)=>{if(!n)throw G.current(new aA);if(!O)throw G.current(new xi,n);return await n.sendTransaction(I,B,H)},[n,O]),M=ce.useMemo(()=>n&&"signTransaction"in n?async I=>{if(!O)throw G.current(new xi,n);return await n.signTransaction(I)}:void 0,[n,O]),D=ce.useMemo(()=>n&&"signAllTransactions"in n?async I=>{if(!O)throw G.current(new xi,n);return await n.signAllTransactions(I)}:void 0,[n,O]),F=ce.useMemo(()=>n&&"signMessage"in n?async I=>{if(!O)throw G.current(new xi,n);return await n.signMessage(I)}:void 0,[n,O]),W=ce.useMemo(()=>n&&"signIn"in n?async I=>await n.signIn(I):void 0,[n]),b=ce.useCallback(async()=>{if(h.current||v.current||se?.adapter.connected)return;if(!se)throw G.current(new aA);const{adapter:I,readyState:B}=se;if(!(B===Pn.Installed||B===Pn.Loadable))throw G.current(new Tp,I);h.current=!0,m(!0);try{await I.connect()}catch(H){throw o(),H}finally{m(!1),h.current=!1}},[o,se]),y=ce.useCallback(async()=>{if(!v.current&&n){v.current=!0,A(!0);try{await n.disconnect()}finally{A(!1),v.current=!1}}},[n]);return Oe.createElement($x.Provider,{value:{autoConnect:!!s,wallets:te,wallet:se,publicKey:N,connected:O,connecting:p,disconnecting:S,select:u,connect:b,disconnect:y,sendTransaction:V,signTransaction:M,signAllTransactions:D,signMessage:F,signIn:W}},r)}let g0;function $9(){return g0===void 0&&(g0=globalThis.navigator?.userAgent??null),g0}function pI(r){const e=$9();return z9({adapters:r,userAgentString:e})===Oc.MOBILE_WEB}function K9(){const r=globalThis.location;if(r)return`${r.protocol}//${r.host}`}function H9({children:r,wallets:e,autoConnect:n,localStorageKey:i="walletName",onError:s}){const{connection:o}=YV(),c=V9(e),u=ce.useMemo(()=>{if(!pI(c))return null;const j=c.find(G=>G.name===oa.SolanaMobileWalletAdapterWalletName);return j||new oa.SolanaMobileWalletAdapter({addressSelector:oa.createDefaultAddressSelector(),appIdentity:{uri:K9()},authorizationResultCache:oa.createDefaultAuthorizationResultCache(),cluster:j9(o?.rpcEndpoint),onWalletNotFound:oa.createDefaultWalletNotFoundHandler()})},[c,o?.rpcEndpoint]),h=ce.useMemo(()=>u==null||c.indexOf(u)!==-1?c:[u,...c],[c,u]),[p,m]=sF(i,null),v=ce.useMemo(()=>h.find(j=>j.name===p)??null,[h,p]),S=ce.useCallback(j=>{p!==j&&(v&&v.name!==oa.SolanaMobileWalletAdapterWalletName&&v.disconnect(),m(j))},[v,m,p]);ce.useEffect(()=>{if(!v)return;function j(){P.current||m(null)}return v.on("disconnect",j),()=>{v.off("disconnect",j)}},[v,c,m,p]);const A=ce.useRef(!1),N=ce.useMemo(()=>{if(!(!n||!v))return async()=>{(n===!0||await n(v))&&(A.current?await v.connect():await v.autoConnect())}},[n,v]),P=ce.useRef(!1);ce.useEffect(()=>{if(p===oa.SolanaMobileWalletAdapterWalletName&&pI(c)){P.current=!1;return}function j(){P.current=!0}return window.addEventListener("beforeunload",j),()=>{window.removeEventListener("beforeunload",j)}},[c,p]);const O=ce.useCallback(()=>{v&&S(null)},[v,S]),z=ce.useCallback(j=>{A.current=!0,S(j)},[S]);return Oe.createElement(q9,{wallets:h,adapter:v,isUnloadingRef:P,onAutoConnectRequest:N,onConnectError:O,onError:s,onSelectWallet:z},r)}const mR={setVisible(r){console.error(gR("call","setVisible"))},visible:!1};Object.defineProperty(mR,"visible",{get(){return console.error(gR("read","visible")),!1}});function gR(r,e){return`You have tried to  ${r} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const yR=ce.createContext(mR);function G9(){return ce.useContext(yR)}const Q9=r=>Oe.createElement("button",{className:`wallet-adapter-button ${r.className||""}`,disabled:r.disabled,style:r.style,onClick:r.onClick,tabIndex:r.tabIndex||0,type:"button"},r.startIcon&&Oe.createElement("i",{className:"wallet-adapter-button-start-icon"},r.startIcon),r.children,r.endIcon&&Oe.createElement("i",{className:"wallet-adapter-button-end-icon"},r.endIcon)),Y9=({wallet:r,...e})=>r&&Oe.createElement("img",{src:r.adapter.icon,alt:`${r.adapter.name} icon`,...e}),mI=({id:r,children:e,expanded:n=!1})=>{const i=ce.useRef(null),s=ce.useRef(!0),o="height 250ms ease-out",c=()=>{const h=i.current;h&&requestAnimationFrame(()=>{h.style.height=h.scrollHeight+"px"})},u=()=>{const h=i.current;h&&requestAnimationFrame(()=>{h.style.height=h.offsetHeight+"px",h.style.overflow="hidden",requestAnimationFrame(()=>{h.style.height="0"})})};return ce.useLayoutEffect(()=>{n?c():u()},[n]),ce.useLayoutEffect(()=>{const h=i.current;if(!h)return;function p(){h&&(h.style.overflow=n?"initial":"hidden",n&&(h.style.height="auto"))}function m(v){h&&v.target===h&&v.propertyName==="height"&&p()}return s.current&&(p(),s.current=!1),h.addEventListener("transitionend",m),()=>h.removeEventListener("transitionend",m)},[n]),Oe.createElement("div",{className:"wallet-adapter-collapse",id:r,ref:i,role:"region",style:{height:0,transition:s.current?void 0:o}},e)},y0=({handleClick:r,tabIndex:e,wallet:n})=>Oe.createElement("li",null,Oe.createElement(Q9,{onClick:r,startIcon:Oe.createElement(Y9,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===Pn.Installed&&Oe.createElement("span",null,"Detected"))),X9=()=>Oe.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Oe.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),Oe.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),Oe.createElement("g",{clipPath:"url(#clip0_880_5115)"},Oe.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),Oe.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),Oe.createElement("defs",null,Oe.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Oe.createElement("stop",{stopColor:"#9945FF"}),Oe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Oe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Oe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Oe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Oe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Oe.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Oe.createElement("stop",{stopColor:"#9945FF"}),Oe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Oe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Oe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Oe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Oe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Oe.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},Oe.createElement("stop",{stopColor:"#9945FF"}),Oe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Oe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Oe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Oe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Oe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Oe.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},Oe.createElement("stop",{stopColor:"#9945FF"}),Oe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Oe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Oe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Oe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Oe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Oe.createElement("clipPath",{id:"clip0_880_5115"},Oe.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),J9=({className:r="",container:e="body"})=>{const n=ce.useRef(null),{wallets:i,select:s}=iF(),{setVisible:o}=G9(),[c,u]=ce.useState(!1),[h,p]=ce.useState(!1),[m,v]=ce.useState(null),[S,A]=ce.useMemo(()=>{const G=[],te=[];for(const ae of i)ae.readyState===Pn.Installed?G.push(ae):te.push(ae);return G.length?[G,te]:[te,[]]},[i]),N=ce.useCallback(()=>{p(!1),setTimeout(()=>o(!1),150)},[o]),P=ce.useCallback(G=>{G.preventDefault(),N()},[N]),O=ce.useCallback((G,te)=>{s(te),P(G)},[s,P]),z=ce.useCallback(()=>u(!c),[c]),j=ce.useCallback(G=>{const te=n.current;if(!te)return;const ae=te.querySelectorAll("button"),se=ae[0],Q=ae[ae.length-1];G.shiftKey?document.activeElement===se&&(Q.focus(),G.preventDefault()):document.activeElement===Q&&(se.focus(),G.preventDefault())},[n]);return ce.useLayoutEffect(()=>{const G=ae=>{ae.key==="Escape"?N():ae.key==="Tab"&&j(ae)},{overflow:te}=window.getComputedStyle(document.body);return setTimeout(()=>p(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",G,!1),()=>{document.body.style.overflow=te,window.removeEventListener("keydown",G,!1)}},[N,j]),ce.useLayoutEffect(()=>v(document.querySelector(e)),[e]),m&&XP.createPortal(Oe.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${h&&"wallet-adapter-modal-fade-in"} ${r}`,ref:n,role:"dialog"},Oe.createElement("div",{className:"wallet-adapter-modal-container"},Oe.createElement("div",{className:"wallet-adapter-modal-wrapper"},Oe.createElement("button",{onClick:P,className:"wallet-adapter-modal-button-close"},Oe.createElement("svg",{width:"14",height:"14"},Oe.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),S.length?Oe.createElement(Oe.Fragment,null,Oe.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),Oe.createElement("ul",{className:"wallet-adapter-modal-list"},S.map(G=>Oe.createElement(y0,{key:G.adapter.name,handleClick:te=>O(te,G.adapter.name),wallet:G})),A.length?Oe.createElement(mI,{expanded:c,id:"wallet-adapter-modal-collapse"},A.map(G=>Oe.createElement(y0,{key:G.adapter.name,handleClick:te=>O(te,G.adapter.name),tabIndex:c?0:-1,wallet:G}))):null),A.length?Oe.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:z,tabIndex:0},Oe.createElement("span",null,c?"Less ":"More ","options"),Oe.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},Oe.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):Oe.createElement(Oe.Fragment,null,Oe.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),Oe.createElement("div",{className:"wallet-adapter-modal-middle"},Oe.createElement(X9,null)),A.length?Oe.createElement(Oe.Fragment,null,Oe.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:z,tabIndex:0},Oe.createElement("span",null,c?"Hide ":"Already have a wallet? View ","options"),Oe.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},Oe.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),Oe.createElement(mI,{expanded:c,id:"wallet-adapter-modal-collapse"},Oe.createElement("ul",{className:"wallet-adapter-modal-list"},A.map(G=>Oe.createElement(y0,{key:G.adapter.name,handleClick:te=>O(te,G.adapter.name),tabIndex:c?0:-1,wallet:G}))))):null))),Oe.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:P})),m)},Z9=({children:r,...e})=>{const[n,i]=ce.useState(!1);return Oe.createElement(yR.Provider,{value:{visible:n,setVisible:i}},r,n&&Oe.createElement(J9,{...e}))},eW="Phantom";class tW extends tF{constructor(e={}){super(),this.name=eW,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Pn.Unsupported:Pn.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Vx),this.emit("disconnect"))},this._accountChanged=n=>{const i=this._publicKey;if(i){try{n=new Ue(n.toBytes())}catch(s){this.emit("error",new ow(s?.message,s));return}i.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Pn.Unsupported&&(ZV()?(this._readyState=Pn.Loadable,this.emit("readyStateChange",this._readyState)):JV(()=>window.phantom?.solana?.isPhantom||window.solana?.isPhantom?(this._readyState=Pn.Installed,this.emit("readyStateChange",this._readyState),!0):!1))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Pn.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===Pn.Loadable){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${s}`;return}if(this.readyState!==Pn.Installed)throw new Tp;this._connecting=!0;const e=window.phantom?.solana||window.solana;if(!e.isConnected)try{await e.connect()}catch(i){throw new Ux(i?.message,i)}if(!e.publicKey)throw new al;let n;try{n=new Ue(e.publicKey.toBytes())}catch(i){throw new ow(i?.message,i)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new Fx(n?.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,i={}){try{const s=this._wallet;if(!s)throw new xi;try{const{signers:o,...c}=i;ga(e)?o?.length&&e.sign(o):(e=await this.prepareTransaction(e,n,c),o?.length&&e.partialSign(...o)),c.preflightCommitment=c.preflightCommitment||n.commitment;const{signature:u}=await s.signAndSendTransaction(e,c);return u}catch(o){throw o instanceof Wr?o:new ll(o?.message,o)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new xi;try{return await n.signTransaction(e)||e}catch(i){throw new ma(i?.message,i)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new xi;try{return await n.signAllTransactions(e)||e}catch(i){throw new ma(i?.message,i)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new xi;try{const{signature:i}=await n.signMessage(e);return i}catch(i){throw new Wx(i?.message,i)}}catch(n){throw this.emit("error",n),n}}}const nW=[new tW],rW="https://api.mainnet-beta.solana.com";function iW({children:r}){return oe.jsx(XV,{endpoint:rW,children:oe.jsx(H9,{wallets:nW,autoConnect:!0,children:oe.jsx(Z9,{children:r})})})}xC.createRoot(document.getElementById("root")).render(oe.jsx(ce.StrictMode,{children:oe.jsx(FI,{children:oe.jsx(WP,{children:oe.jsx(iW,{children:oe.jsx(z5,{})})})})}));export{o5 as $,_5 as A,iS as B,Px as C,qn as D,Lw as E,Yp as F,Ws as G,Tr as H,Id as I,ot as J,uO as K,Ar as L,qs as M,Bc as N,_O as O,Ue as P,Al as Q,uW as R,fr as S,en as T,i5 as U,zs as V,s5 as W,ov as X,yv as Y,oW as Z,ha as _,QD as a,dW as a0,aW as a1,lW as a2,QV as a3,_9 as b,Gb as c,eS as d,S5 as e,qi as f,b5 as g,Ea as h,hl as i,oe as j,ou as k,su as l,$e as m,mv as n,v5 as o,d2 as p,w5 as q,ce as r,cW as s,qc as t,qf as u,pv as v,gv as w,Rc as x,ad as y,In as z};
